import{r as e,j as t}from"./index-Bo3zL1WM.js";import{u as r}from"./RobotFace-CiYJWiri.js";import{ak as s,al as o,am as n,q as a,an as i,ao as l,ab as c,ac as u,ap as p,a5 as h,D as y,aq as m}from"./three.module-8WwGMnVN.js";import"./index-tD8QjzRz.js";import"./utils-Gh3qGYQG.js";import"./tslib.es6-DpJxav_f.js";import"./x--hRO7kj3.js";import"./createLucideIcon-CRCYjKU4.js";import"./extends-DPdBf6DS.js";import"./proxy-Bd5B6Cej.js";const d={head:{lerp:.08,idleAmp:.05,idleSpeed:.8,bounceAmp:.03},eyes:{lerp:.15,blinkInterval:[1800,4e3],blinkDuration:100,xRange:.18,yRange:.15,lookAroundInterval:3e3},antenna:{wobbleAmp:.2,wobbleSpeed:2.8},emotions:{neutral:{eyeColor:"#00ffff",secondaryColor:"#0088ff",mouthIntensity:1.5,headTilt:0,eyeScale:1,mouthCurve:0,pulseSpeed:1,eyebrowAngle:0,energyLevel:.5,particleCount:20},happy:{eyeColor:"#00ffcc",secondaryColor:"#00ff88",mouthIntensity:3.5,headTilt:.15,eyeScale:1.3,mouthCurve:.2,pulseSpeed:1.8,eyebrowAngle:.25,energyLevel:.8,particleCount:40},excited:{eyeColor:"#ff00ff",secondaryColor:"#ff0088",mouthIntensity:4.5,headTilt:-.1,eyeScale:1.5,mouthCurve:.3,pulseSpeed:3,eyebrowAngle:.35,energyLevel:1,particleCount:60},thinking:{eyeColor:"#ffaa00",secondaryColor:"#ff8800",mouthIntensity:1.2,headTilt:.35,eyeScale:.75,mouthCurve:-.05,pulseSpeed:.6,eyebrowAngle:.2,energyLevel:.4,particleCount:15},confused:{eyeColor:"#ff6600",secondaryColor:"#ff9900",mouthIntensity:2,headTilt:-.28,eyeScale:.95,mouthCurve:-.12,pulseSpeed:1.3,eyebrowAngle:-.25,energyLevel:.6,particleCount:25},surprised:{eyeColor:"#ffff00",secondaryColor:"#ffcc00",mouthIntensity:4,headTilt:0,eyeScale:1.7,mouthCurve:.35,pulseSpeed:3.5,eyebrowAngle:.45,energyLevel:.9,particleCount:50},sad:{eyeColor:"#0099ff",secondaryColor:"#0066cc",mouthIntensity:.7,headTilt:-.25,eyeScale:.65,mouthCurve:-.25,pulseSpeed:.4,eyebrowAngle:-.35,energyLevel:.2,particleCount:10},angry:{eyeColor:"#ff0000",secondaryColor:"#cc0000",mouthIntensity:3,headTilt:.12,eyeScale:1.15,mouthCurve:-.18,pulseSpeed:2.2,eyebrowAngle:-.45,energyLevel:.85,particleCount:35},love:{eyeColor:"#ff69b4",secondaryColor:"#ff1493",mouthIntensity:3.3,headTilt:.22,eyeScale:1.35,mouthCurve:.22,pulseSpeed:2,eyebrowAngle:.28,energyLevel:.75,particleCount:45},sleepy:{eyeColor:"#8866ff",secondaryColor:"#6644cc",mouthIntensity:.8,headTilt:-.15,eyeScale:.5,mouthCurve:.05,pulseSpeed:.3,eyebrowAngle:-.2,energyLevel:.1,particleCount:5},focused:{eyeColor:"#00ff00",secondaryColor:"#00cc00",mouthIntensity:1.8,headTilt:.05,eyeScale:1.1,mouthCurve:0,pulseSpeed:1.2,eyebrowAngle:.1,energyLevel:.7,particleCount:30}}};function f({cursor:f,isHovered:x}){const M=e.useRef(),g=e.useRef(),j=e.useRef(),C=e.useRef(),S=e.useRef(),v=e.useRef(),b=e.useRef(),w=e.useRef(),I=e.useRef(),A=e.useRef(),R=e.useRef([]),T=e.useRef(),L=e.useRef(),z=e.useRef(),G=e.useRef(),[k,B]=e.useState(1),[E,P]=e.useState("neutral"),[D,F]=e.useState(!1),[q,H]=e.useState(!1),[K,N]=e.useState(!1),[O,U]=e.useState(1),[W,J]=e.useState(!1),[Q,V]=e.useState(!1),[X,Y]=e.useState({x:0,y:0}),[Z,$]=e.useState(0),[_,ee]=e.useState(0);e.useEffect(()=>{let e=!0;const t=()=>{if(!e)return;B("sleepy"===E?.3:"surprised"===E?.5:.1),setTimeout(()=>B(1),d.eyes.blinkDuration);const r=Math.random()*(d.eyes.blinkInterval[1]-d.eyes.blinkInterval[0])+d.eyes.blinkInterval[0];setTimeout(t,r*("sleepy"===E?.5:1))};return t(),()=>{e=!1}},[E]),e.useEffect(()=>{let e=!0;const t=()=>{e&&(Math.random()>.4&&(V(!0),Y({x:1.5*(Math.random()-.5),y:1*(Math.random()-.5)}),setTimeout(()=>V(!1),1500+1e3*Math.random())),setTimeout(t,d.eyes.lookAroundInterval+2e3*Math.random()))};return t(),()=>{e=!1}},[]),e.useEffect(()=>{const e=Object.keys(d.emotions);let t=0;const r=setInterval(()=>{P(e[t]),t=(t+1)%e.length;const r=e[t];"happy"!==r&&"excited"!==r&&"love"!==r||(F(!0),N(!0),setTimeout(()=>{F(!1),N(!1)},1800)),"confused"!==r&&"thinking"!==r||(H(!0),setTimeout(()=>H(!1),1500)),"surprised"===r&&($(1),setTimeout(()=>$(0),800)),"angry"===r&&(ee(1),setTimeout(()=>ee(0),1e3)),Math.random()>.5&&(J(!0),setTimeout(()=>J(!1),1500+1e3*Math.random()))},4e3);return()=>clearInterval(r)},[]);const te=e.useMemo(()=>({head:new i(1.5,1.2,1.2,4,4,4),face:new a(1.2,.8),eye:new o(.12,32,32),antenna:new n(.04,.06,.6,16),antennaTip:new o(.09,32,32),energyRing:new s(.15,.02,16,32)}),[]),re=e.useMemo(()=>({head:new l({color:"#0a0a0a",metalness:.98,roughness:.12,emissive:"#001a1a",emissiveIntensity:.4}),face:new l({color:"#0a1a1a",metalness:.85,roughness:.25}),side:new l({color:"#00ffff",emissive:"#00ffff",emissiveIntensity:1.2})}),[]),se=e.useMemo(()=>{const e=new Float32Array(240),t=new Float32Array(240);for(let r=0;r<80;r++){const s=.8+.5*Math.random(),o=Math.random()*Math.PI*2,n=Math.random()*Math.PI;e[3*r]=s*Math.sin(n)*Math.cos(o),e[3*r+1]=s*Math.sin(n)*Math.sin(o),e[3*r+2]=s*Math.cos(n),t[3*r]=.02*(Math.random()-.5),t[3*r+1]=.02*(Math.random()-.5),t[3*r+2]=.02*(Math.random()-.5)}return{positions:e,velocities:t,count:80}},[]);e.useEffect(()=>{if(!I.current)return;const e=new c;e.setAttribute("position",new u(se.positions,3)),I.current.geometry=e,I.current.material=new p({size:.02,transparent:!0,opacity:.8,depthWrite:!1})},[]),r(e=>{const t=e.clock.getElapsedTime();if(!M.current)return;const r=d.emotions[E],s=x?1.3:1,o=d.head.idleAmp*r.energyLevel*s,n=d.head.idleSpeed*r.pulseSpeed,a=Math.sin(t*n)*o,i=Math.sin(t*n*.5)*o*.3;M.current.position.y=a+i,K&&(M.current.position.y+=Math.abs(Math.sin(6*t))*d.head.bounceAmp);const l=r.headTilt*(x?1.2:1);M.current.rotation.z=m.lerp(M.current.rotation.z,l,.06),D&&(M.current.rotation.x+=.35*Math.sin(7*t)*Math.cos(3*t)*.5),q&&(M.current.rotation.y+=.18*Math.sin(12*t)*Math.cos(5*t)*.3),D||q||(M.current.position.x=.02*Math.sin(.4*t)+.015*Math.cos(.7*t),M.current.position.z=.015*Math.cos(.5*t),M.current.rotation.z+=.008*Math.sin(.25*t));const c=Q?X:f.current,u=r.energyLevel*(x?1.2:.8),p=c.x*u*.7,h=-c.y*u*.5;if(!D&&!q){const e="sleepy"===E?.03:d.head.lerp;M.current.rotation.y=m.lerp(M.current.rotation.y,p,e),M.current.rotation.x=m.lerp(M.current.rotation.x,h,e)}[{mesh:g.current,pupil:z.current},{mesh:j.current,pupil:G.current}].forEach(({mesh:e,pupil:s},o)=>{if(!e)return;const n=0===o?-.4:.4,a=m.clamp(.25*c.x,-.18,d.eyes.xRange),i=m.clamp(.18*-c.y,-.15,d.eyes.yRange);e.position.x=m.lerp(e.position.x,n+a,d.eyes.lerp),e.position.y=m.lerp(e.position.y,.2+i,d.eyes.lerp);const l=m.lerp(e.scale.y,k,.25);e.scale.y=l,e.scale.x=m.lerp(e.scale.x,1+.1*(1-l),.2);const u=r.eyeScale*(x?1.1:1);if(e.scale.x=m.lerp(e.scale.x,u,.06),e.scale.z=m.lerp(e.scale.z,u,.06),s){const e="surprised"===E?1.3:"angry"===E?.6:"love"===E?1.2:1;s.scale.setScalar(m.lerp(s.scale.x,e,.05))}"angry"===E&&(e.position.y+=.015*Math.sin(4*t)),"excited"===E&&(e.position.x+=.015*Math.sin(6*t+o*Math.PI),e.position.y+=.01*Math.cos(5*t+o*Math.PI)),"sleepy"===E&&(e.position.y-=.03)});if([S.current,v.current].forEach((e,s)=>{if(!e)return;const o=0===s?-1:1,n=r.eyebrowAngle*o*(x?1.2:1);e.rotation.z=m.lerp(e.rotation.z,n,.1),"surprised"===E?e.position.y=.42+.08*Math.abs(Math.sin(5*t)):"confused"===E?e.position.x+=.02*Math.sin(3*t+s*Math.PI):e.position.y="angry"===E?m.lerp(e.position.y,.38,.05):m.lerp(e.position.y,.42,.05)}),L.current){const e=r.mouthCurve*(x?1.15:1);L.current.rotation.z=m.lerp(L.current.rotation.z,.6*e,.08),W?(L.current.scale.x=1+.15*Math.sin(15*t),L.current.scale.y=1+.2*Math.abs(Math.sin(15*t))):(L.current.scale.x=m.lerp(L.current.scale.x,1,.1),L.current.scale.y=m.lerp(L.current.scale.y,1,.1)),L.current.scale.x+=.05*Math.sin(t*r.pulseSpeed*2)}if(C.current){const e=r.energyLevel*(x?1.4:1);C.current.rotation.z=Math.sin(t*d.antenna.wobbleSpeed)*d.antenna.wobbleAmp*e+.08*Math.cos(t*d.antenna.wobbleSpeed*.6)*e,C.current.rotation.x=.12*Math.sin(1.8*t)*e+.06*Math.cos(2.3*t)*e,"thinking"===E?(C.current.position.x=.15*Math.sin(2.5*t),C.current.position.z=.15*Math.cos(2.5*t)):"excited"===E?C.current.position.y=.9+.05*Math.abs(Math.sin(4*t)):(C.current.position.x=m.lerp(C.current.position.x,0,.1),C.current.position.z=m.lerp(C.current.position.z,0,.1),C.current.position.y=m.lerp(C.current.position.y,.9,.1))}if(b.current){const e=.09+.06*Math.sin(t*r.pulseSpeed*2.5)*r.energyLevel;b.current.material.opacity=e*s,b.current.scale.setScalar(1.03+.015*Math.sin(t*r.pulseSpeed*1.5))}if(w.current&&(w.current.material.opacity=.04+.03*Math.sin(t*r.pulseSpeed),w.current.scale.setScalar(1.08+.02*Math.cos(t*r.pulseSpeed*.8))),R.current.forEach((e,s)=>{e&&(e.rotation.x=t*(.5+.3*s)*r.pulseSpeed,e.rotation.y=t*(.3+.2*s)*r.pulseSpeed,e.scale.setScalar(1+.1*Math.sin(2*t+s)*r.energyLevel),e.material.opacity=(.3+.2*Math.sin(3*t+s))*r.energyLevel)}),A.current&&(A.current.position.y=.8*t%1.5-.5,A.current.material.opacity=.6-.3*Math.abs(A.current.position.y)),T.current&&(T.current.rotation.y=.5*t,T.current.material.opacity=.15+.1*Math.sin(2*t)),I.current&&I.current.geometry){I.current.rotation.y=.3*t*r.pulseSpeed;const e=I.current.geometry.attributes.position,s=e?.array,o=se.velocities;if(s)for(let n=0;n<s.length;n+=3){s[n]+=o[n]*r.energyLevel,s[n+1]+=o[n+1]*r.energyLevel+.005*Math.sin(t+n),s[n+2]+=o[n+2]*r.energyLevel;if(Math.sqrt(s[n]**2+s[n+1]**2+s[n+2]**2)>2){const e=.8,t=Math.random()*Math.PI*2,r=Math.random()*Math.PI;s[n]=e*Math.sin(r)*Math.cos(t),s[n+1]=e*Math.sin(r)*Math.sin(t),s[n+2]=e*Math.cos(r)}}I.current.geometry.attributes.position&&(I.current.geometry.attributes.position.needsUpdate=!0),I.current.material&&(I.current.material.opacity=.25+.75*r.energyLevel,I.current.material.color.set(r.eyeColor))}const y=1+.35*Math.sin(t*r.pulseSpeed*3)*r.energyLevel;U(y*s)});const oe=d.emotions[E];return t.jsxs("group",{ref:M,children:[t.jsx("mesh",{geometry:te.head,material:re.head,castShadow:!0,receiveShadow:!0}),t.jsxs("mesh",{ref:b,scale:1.03,children:[t.jsx("boxGeometry",{args:[1.5,1.2,1.2]}),t.jsx("meshBasicMaterial",{color:oe.eyeColor,transparent:!0,opacity:.12,side:h})]}),t.jsxs("mesh",{ref:w,scale:1.08,children:[t.jsx("boxGeometry",{args:[1.5,1.2,1.2]}),t.jsx("meshBasicMaterial",{color:oe.secondaryColor,transparent:!0,opacity:.06,side:h})]}),t.jsx("mesh",{geometry:te.face,position:[0,0,.61],material:re.face}),t.jsxs("mesh",{ref:T,position:[0,0,.63],children:[t.jsx("planeGeometry",{args:[1.1,.7]}),t.jsx("meshBasicMaterial",{color:oe.eyeColor,transparent:!0,opacity:.15,side:y})]}),t.jsxs("mesh",{ref:A,position:[0,0,.62],children:[t.jsx("planeGeometry",{args:[1.2,.02]}),t.jsx("meshBasicMaterial",{color:oe.eyeColor,transparent:!0,opacity:.6})]}),[{ref:g,pupilRef:z,x:-.4},{ref:j,pupilRef:G,x:.4}].map(({ref:e,pupilRef:r,x:s},o)=>t.jsxs("group",{children:[t.jsxs("mesh",{ref:e,position:[s,.2,.65],children:[t.jsx("sphereGeometry",{args:[.12,32,32]}),t.jsx("meshStandardMaterial",{emissive:oe.eyeColor,emissiveIntensity:(x?4.2:3)*O,color:oe.eyeColor,metalness:.7,roughness:.2})]}),t.jsxs("mesh",{position:[s,.2,.65],scale:1.6,children:[t.jsx("sphereGeometry",{args:[.12,16,16]}),t.jsx("meshBasicMaterial",{color:oe.eyeColor,transparent:!0,opacity:.4*O,side:h})]}),t.jsxs("mesh",{position:[s,.2,.65],scale:2,children:[t.jsx("sphereGeometry",{args:[.12,16,16]}),t.jsx("meshBasicMaterial",{color:oe.secondaryColor,transparent:!0,opacity:.2*O,side:h})]}),t.jsxs("mesh",{position:[s+.04,.24,.72],scale:.35,children:[t.jsx("sphereGeometry",{args:[.06,8,8]}),t.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.85})]}),t.jsxs("mesh",{ref:r,position:[s,.2,.78],children:[t.jsx("sphereGeometry",{args:[.035,16,16]}),t.jsx("meshStandardMaterial",{color:"#000000",metalness:.1,roughness:.6})]}),t.jsxs("mesh",{position:[s,.16,.74],children:[t.jsx("ringGeometry",{args:[.12,.14,32]}),t.jsx("meshBasicMaterial",{color:"#000000",transparent:!0,opacity:.15})]})]},o)),t.jsxs("mesh",{ref:S,position:[-.45,.42,.72],rotation:[0,0,0],children:[t.jsx("boxGeometry",{args:[.35,.06,.02]}),t.jsx("meshStandardMaterial",{color:oe.secondaryColor,metalness:.2,roughness:.6})]}),t.jsxs("mesh",{ref:v,position:[.45,.42,.72],rotation:[0,0,0],children:[t.jsx("boxGeometry",{args:[.35,.06,.02]}),t.jsx("meshStandardMaterial",{color:oe.secondaryColor,metalness:.2,roughness:.6})]}),t.jsxs("group",{ref:C,position:[0,.7,.15],children:[t.jsx("mesh",{geometry:te.antenna,position:[0,0,0],children:t.jsx("meshStandardMaterial",{color:"#222222",metalness:.9,roughness:.25})}),t.jsx("mesh",{geometry:te.antennaTip,position:[0,.33,0],children:t.jsx("meshStandardMaterial",{emissive:oe.eyeColor,emissiveIntensity:1.6,color:oe.eyeColor})}),t.jsxs("mesh",{position:[0,.46,0],scale:.9,children:[t.jsx("sphereGeometry",{args:[.12,12,12]}),t.jsx("meshBasicMaterial",{color:oe.secondaryColor,transparent:!0,opacity:.25})]})]}),t.jsx("group",{ref:L,position:[0,-.18,.73],children:t.jsxs("mesh",{children:[t.jsx("planeGeometry",{args:[.45,.14,8,1]}),t.jsx("meshStandardMaterial",{color:oe.secondaryColor,emissive:oe.eyeColor,emissiveIntensity:.6,transparent:!0,opacity:.95})]})}),[0,1,2].map(e=>t.jsxs("mesh",{ref:t=>R.current[e]=t,position:[0,0,.6-.02*e],rotation:[Math.PI/2,0,0],scale:1+.08*e,children:[t.jsx("torusGeometry",{args:[.24+.06*e,.01+.005*e,8,64]}),t.jsx("meshBasicMaterial",{color:oe.eyeColor,transparent:!0,opacity:.25,side:y})]},e)),t.jsx("points",{ref:I,position:[0,0,.6],children:t.jsx("bufferGeometry",{})})]})}export{f as default};
