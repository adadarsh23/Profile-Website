import{r as e,ab as t,j as r,m as a}from"./vendor-PzU6vavf.js";import{c as s}from"./utils-D0xFQwpD.js";const Vortex=i=>{const n=e.useRef(null),l=e.useRef(null),o=i.particleCount||700,c=9*o,h=i.rangeY||100,d=i.baseSpeed||0,u=i.rangeSpeed||1.5,g=i.baseRadius||1,f=i.rangeRadius||2,m=i.baseHue||220,w=i.backgroundColor||"#000000";let p=0;const v=t();let b=new Float32Array(c),x=[0,0];const C=2*Math.PI,rand=e=>e*Math.random(),lerp=(e,t,r)=>(1-r)*e+r*t,initParticles=()=>{p=0,b=new Float32Array(c);for(let e=0;e<c;e+=9)initParticle(e)},initParticle=e=>{const t=n.current;if(!t)return;let r,a,s,i,l,o,c,w,p;var v;r=rand(t.width),a=x[1]+((v=h)-rand(2*v)),s=0,i=0,l=0,o=50+rand(150),c=d+rand(u),w=g+rand(f),p=m+rand(100),b.set([r,a,0,0,0,o,c,w,p],e)},draw=(e,t)=>{p++,t.clearRect(0,0,e.width,e.height),t.fillStyle=w,t.fillRect(0,0,e.width,e.height),drawParticles(t),renderGlow(e,t),renderToScreen(e,t),window.requestAnimationFrame(()=>draw(e,t))},drawParticles=e=>{for(let t=0;t<c;t+=9)updateParticle(t,e)},updateParticle=(e,t)=>{const r=n.current;if(!r)return;let a,s,i,l,o,c,h,d,u,g,f,m,w=1+e,x=2+e,j=3+e,y=4+e,R=5+e,M=6+e,N=7+e,z=8+e;s=b[e],i=b[w],a=3*v(.00125*s,.00125*i,5e-4*p)*C,l=lerp(b[x],Math.cos(a),.5),o=lerp(b[j],Math.sin(a),.5),c=b[y],h=b[R],d=b[M],u=s+l*d,g=i+o*d,f=b[N],m=b[z],drawParticle(s,i,u,g,c,h,f,m,t),c++,b[e]=u,b[w]=g,b[x]=l,b[j]=o,b[y]=c,(checkBounds(s,i,r)||c>h)&&initParticle(e)},drawParticle=(e,t,r,a,s,i,n,l,o)=>{o.save(),o.lineCap="round",o.lineWidth=n,o.strokeStyle=`hsla(${l},100%,60%,${((e,t)=>{let r=.5*t;return Math.abs((e+r)%t-r)/r})(s,i)})`,o.beginPath(),o.moveTo(e,t),o.lineTo(r,a),o.stroke(),o.closePath(),o.restore()},checkBounds=(e,t,r)=>e>r.width||e<0||t>r.height||t<0,resize=(e,t)=>{const{innerWidth:r,innerHeight:a}=window;e.width=r,e.height=a,x[0]=.5*e.width,x[1]=.5*e.height},renderGlow=(e,t)=>{t.save(),t.filter="blur(8px) brightness(200%)",t.globalCompositeOperation="lighter",t.drawImage(e,0,0),t.restore(),t.save(),t.filter="blur(4px) brightness(200%)",t.globalCompositeOperation="lighter",t.drawImage(e,0,0),t.restore()},renderToScreen=(e,t)=>{t.save(),t.globalCompositeOperation="lighter",t.drawImage(e,0,0),t.restore()};return e.useEffect(()=>{(()=>{const e=n.current,t=l.current;if(e&&t){const t=e.getContext("2d");t&&(resize(e),initParticles(),draw(e,t))}})();const handleResize=()=>{const e=n.current,t=e?.getContext("2d");e&&t&&resize(e)};return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[]),r.jsxs("div",{className:s("relative h-full w-full",i.containerClassName),children:[r.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},ref:l,className:"absolute h-full w-full inset-0 z-0 bg-transparent flex items-center justify-center",children:r.jsx("canvas",{ref:n})}),r.jsx("div",{className:s("relative z-10",i.className),children:i.children})]})};export{Vortex as default};
