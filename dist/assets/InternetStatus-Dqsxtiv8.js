import{r as o,j as e,X as f}from"./vendor_react-Ds5Dw94k.js";import"./vendor-CthcAJlN.js";import"./vendor_react-dom-BnmT66wm.js";const w=()=>{const[r,i]=o.useState(navigator.onLine),[a,l]=o.useState(!1),[c,s]=o.useState(!navigator.onLine),t=o.useCallback(()=>{const n=navigator.onLine;i(n),s(!n)},[]);o.useEffect(()=>(window.addEventListener("online",t),window.addEventListener("offline",t),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}),[t]);const d=async()=>{l(!0);try{const n=new AbortController,m=setTimeout(()=>n.abort(),4e3),u=await fetch("https://www.google.com/favicon.ico",{method:"HEAD",cache:"no-store",signal:n.signal});if(clearTimeout(m),u.ok)i(!0),setTimeout(()=>s(!1),300);else throw new Error("No network")}catch{i(!1),s(!0)}finally{l(!1)}};return c?e.jsxs("div",{role:"alert","aria-live":"assertive",className:`fixed bottom-6 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-md bg-gradient-to-r from-red-600 to-red-500 text-white px-5 py-3 rounded-xl shadow-lg font-medium z-[9999] flex items-center gap-3 transition-all duration-300 ${c?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:[e.jsx("span",{className:"text-lg animate-pulse select-none",children:"⚠️"}),e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsx("span",{className:"font-semibold",children:r?"Reconnected":"You’re offline"}),e.jsx("span",{className:"opacity-90",children:r?"Connection restored.":"Check your connection or retry."})]}),!r&&e.jsx("button",{onClick:d,disabled:a,className:`ml-auto px-3 py-1.5 rounded-md text-sm font-semibold transition-colors ${a?"bg-gray-500 cursor-not-allowed":"bg-white text-red-600 hover:bg-red-100"}`,children:a?"Checking...":"Retry"}),e.jsx("button",{onClick:()=>s(!1),"aria-label":"Close notification",className:"p-1 -mr-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(f,{size:18})})]}):null};export{w as default};
//# sourceMappingURL=InternetStatus-Dqsxtiv8.js.map
