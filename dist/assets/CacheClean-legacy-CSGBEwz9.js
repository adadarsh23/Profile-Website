!function(){function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _slicedToArray(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,s,c,l=[],u=!0,p=!1;try{if(s=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=s.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){p=!0,a=e}finally{try{if(!u&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw a}}return l}}(e,r)||_unsupportedIterableToArray(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function i(t,n,a,c){var l=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(l.prototype);return _regeneratorDefine2(u,"_invoke",function(t,n,a){var c,l,u,p=0,g=a||[],h=!1,y={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(r,t){return c=r,l=0,u=e,y.n=t,s}};function d(t,n){for(l=t,u=n,r=0;!h&&p&&!a&&r<g.length;r++){var a,c=g[r],m=y.p,v=c[2];t>3?(a=v===n)&&(u=c[(l=c[4])?5:(l=3,3)],c[4]=c[5]=e):c[0]<=m&&((a=t<2&&m<c[1])?(l=0,y.v=n,y.n=c[1]):m<v&&(a=t<3||c[0]>n||n>v)&&(c[4]=t,c[5]=n,y.n=v,l=0))}if(a||t>1)return s;throw h=!0,n}return function(a,g,m){if(p>1)throw TypeError("Generator is already running");for(h&&1===g&&d(g,m),l=g,u=m;(r=l<2?e:u)||!h;){c||(l?l<3?(l>1&&(y.n=-1),d(l,u)):y.n=u:y.v=u);try{if(p=2,c){if(l||(a="next"),r=c[a]){if(!(r=r.call(c,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,l<2&&(l=0)}else 1===l&&(r=c.return)&&r.call(c),l<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),l=1);c=e}else if((r=(h=y.n<0)?u:t.call(n,y))!==s)break}catch(r){c=e,l=1,u=r}finally{p=1}}return{value:r,done:h}}}(t,a,c),!0),u}var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}r=Object.getPrototypeOf;var c=[][n]?r(r([][n]())):(_regeneratorDefine2(r={},n,function(){return this}),r),l=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,a,"GeneratorFunction")),e.prototype=Object.create(l),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(l,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,a,"GeneratorFunction"),_regeneratorDefine2(l),_regeneratorDefine2(l,a,"Generator"),_regeneratorDefine2(l,n,function(){return this}),_regeneratorDefine2(l,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:i,m:f}})()}function _regeneratorDefine2(e,r,t,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}_regeneratorDefine2=function(e,r,t,n){function o(r,t){_regeneratorDefine2(e,r,function(e){return this._invoke(r,t,e)})}r?a?a(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,r,t,n)}function asyncGeneratorStep(e,r,t,n,a,s,c){try{var l=e[s](c),u=l.value}catch(e){return void t(e)}l.done?r(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var s=e.apply(r,t);function _next(e){asyncGeneratorStep(s,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(s,n,a,_next,_throw,"throw",e)}_next(void 0)})}}function _toConsumableArray(e){return function(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var r=function(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==_typeof(r)?r:r+""}System.register(["./vendor_react-legacy-CLfW4jtq.js","./vendor_react-dom-legacy-C9cBAljE.js","./vendor-legacy-kNyh-mIs.js"],function(e,r){"use strict";var t,n;return{setters:[function(e){t=e.a,n=e.j},null,null],execute:function(){e("default",function(){return n.jsx("div",{children:n.jsx(EnhancedCacheCleaner,{autoReload:!1,silent:!1,debug:!0,progressUI:!0,statusIndicator:!0,ttlHours:12,manual:!1,preserveKeys:["auth","token","user","theme","session","visitor","statsig","logrocket","sentry","ga","framer","settings","config","state","redux","recoil"],retries:3,taskTimeoutMS:2e4,enableHealthCheck:!0,enableAnalytics:!1,gracefulDegradation:!0,onComplete:function(e){},onError:function(e,r){},onProgress:function(e){}})})});var r={IDLE:"idle",INITIALIZING:"initializing",RUNNING:"running",SUCCESS:"success",ERROR:"error",CANCELLED:"cancelled"},a={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"},s={autoReload:!1,silent:!0,preserveKeys:["auth","token","user","theme","session"],runDelay:1e3,debug:!1,manual:!1,ttlHours:24,progressUI:!1,statusIndicator:!0,retries:3,retryDelayMS:500,taskTimeoutMS:2e4,enableHealthCheck:!0,enableAnalytics:!1,gracefulDegradation:!0},c=function(){return _createClass(function Logger(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,Logger),this.silent=e,this.debug=r,this.logs=[],this.maxLogs=1e3},[{key:"log",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.INFO,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={timestamp:(new Date).toISOString(),level:r,message:e,meta:t};this.logs.push(n),this.logs.length>this.maxLogs&&this.logs.shift(),this.silent&&r!==a.ERROR||r!==a.DEBUG||this.debug}},{key:"getLogs",value:function(){return _toConsumableArray(this.logs)}},{key:"exportLogs",value:function(){return JSON.stringify(this.logs,null,2)}}])}(),l=function(){return _createClass(function RetryManager(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;_classCallCheck(this,RetryManager),this.maxRetries=e,this.baseDelay=r},[{key:"execute",value:(e=_asyncToGenerator(_regenerator().m(function _callee(e){var r,t,n,a,s,c=arguments;return _regenerator().w(function(l){for(;;)switch(l.p=l.n){case 0:r=c.length>1&&void 0!==c[1]?c[1]:"Task",n=0;case 1:if(!(n<=this.maxRetries)){l.n=6;break}return l.p=2,l.n=3,e();case 3:return l.a(2,l.v);case 4:if(l.p=4,s=l.v,t=s,!(n<this.maxRetries)){l.n=5;break}return a=this.baseDelay*Math.pow(2,n),l.n=5,this.sleep(a);case 5:n++,l.n=1;break;case 6:throw new Error("".concat(r," failed after ").concat(this.maxRetries+1," attempts: ").concat(t.message));case 7:return l.a(2)}},_callee,this,[[2,4]])})),function(r){return e.apply(this,arguments)})},{key:"sleep",value:function(e){return new Promise(function(r){return setTimeout(r,e)})}}]);var e}(),u=function(){return _createClass(function TaskTimeout(){_classCallCheck(this,TaskTimeout)},null,[{key:"race",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Task";return Promise.race([e,new Promise(function(e,n){return setTimeout(function(){return n(new Error("".concat(t," timeout after ").concat(r,"ms")))},r)})])}}])}(),p=function(){return _createClass(function StorageCleaner(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,StorageCleaner),this.logger=e,this.preserveKeys=r},[{key:"shouldPreserve",value:function(e){return this.preserveKeys.some(function(r){return e.toLowerCase().includes(r.toLowerCase())})}},{key:"clearWebStorage",value:function(e,r){var t=this;try{var n=Object.keys(e),s=[],c=[];return n.forEach(function(n){if(t.shouldPreserve(n))s.push(n);else try{e.removeItem(n),c.push(n)}catch(l){t.logger.log("Failed to remove ".concat(r," key: ").concat(n),a.WARN,{error:l.message})}}),this.logger.log("".concat(r,": removed ").concat(c.length,", preserved ").concat(s.length),a.INFO),{success:!0,removed:c.length,preserved:s.length,keys:{removed:c,preserved:s}}}catch(l){return this.logger.log("".concat(r," cleanup failed"),a.ERROR,{error:l.message}),{success:!1,error:l.message}}}},{key:"clearCookies",value:function(){var e=this;try{var r=document.cookie.split(";").filter(Boolean),t=0,n=0;return r.forEach(function(r){var s=r.split("=")[0].trim();if(e.shouldPreserve(s))n++;else try{document.cookie="".concat(s,"=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;"),document.cookie="".concat(s,"=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain=").concat(window.location.hostname),t++}catch(c){e.logger.log("Failed to delete cookie: ".concat(s),a.WARN)}}),this.logger.log("Cookies: deleted ".concat(t,", preserved ").concat(n),a.INFO),{success:!0,deleted:t,preserved:n}}catch(s){return this.logger.log("Cookie cleanup failed",a.ERROR,{error:s.message}),{success:!1,error:s.message}}}},{key:"clearCacheStorage",value:(t=_asyncToGenerator(_regenerator().m(function _callee2(e,r){var t,n,s,c,l,p,g,h=this;return _regenerator().w(function(y){for(;;)switch(y.p=y.n){case 0:if(y.p=0,"caches"in window){y.n=1;break}return this.logger.log("CacheStorage API not supported",a.WARN),y.a(2,{success:!0,deleted:0,skipped:!0});case 1:return y.n=2,u.race(caches.keys(),r,"CacheStorage.keys()");case 2:return t=y.v,n=t.filter(function(e){return!h.shouldPreserve(e)}),s=t.length-n.length,y.n=3,Promise.allSettled(n.map(function(t){return e.execute(function(){return u.race(caches.delete(t),r,"Delete cache: ".concat(t))},"CacheStorage.delete(".concat(t,")"))}));case 3:return c=y.v,l=c.filter(function(e){return"fulfilled"===e.status}).length,p=c.filter(function(e){return"rejected"===e.status}).length,this.logger.log("CacheStorage: deleted ".concat(l,", preserved ").concat(s,", failed ").concat(p),a.INFO),y.a(2,{success:!0,deleted:l,preserved:s,failed:p});case 4:return y.p=4,g=y.v,this.logger.log("CacheStorage cleanup failed",a.ERROR,{error:g.message}),y.a(2,{success:!1,error:g.message})}},_callee2,this,[[0,4]])})),function(e,r){return t.apply(this,arguments)})},{key:"clearIndexedDB",value:(r=_asyncToGenerator(_regenerator().m(function _callee3(e){var r,t,n,s,c,l,p,g,h=this;return _regenerator().w(function(y){for(;;)switch(y.p=y.n){case 0:if(y.p=0,"indexedDB"in window){y.n=1;break}return this.logger.log("IndexedDB API not supported",a.WARN),y.a(2,{success:!0,deleted:0,skipped:!0});case 1:if(r=[],"function"!=typeof indexedDB.databases){y.n=7;break}return y.p=2,y.n=3,u.race(indexedDB.databases(),e,"IndexedDB.databases()");case 3:if(p=y.v){y.n=4;break}p=[];case 4:r=p,y.n=6;break;case 5:return y.p=5,y.v,this.logger.log("IndexedDB.databases() not available, skipping",a.WARN),y.a(2,{success:!0,deleted:0,skipped:!0});case 6:y.n=8;break;case 7:return this.logger.log("IndexedDB.databases() not supported in this browser",a.WARN),y.a(2,{success:!0,deleted:0,skipped:!0});case 8:return t=r.filter(function(e){return e.name&&!h.shouldPreserve(e.name)}),n=r.length-t.length,y.n=9,Promise.allSettled(t.map(function(e){return new Promise(function(r,t){var n=indexedDB.deleteDatabase(e.name);n.onsuccess=function(){return r(e.name)},n.onerror=function(){return t(new Error("Failed to delete ".concat(e.name)))},n.onblocked=function(){return h.logger.log("IndexedDB delete blocked: ".concat(e.name),a.WARN)}})}));case 9:return s=y.v,c=s.filter(function(e){return"fulfilled"===e.status}).length,l=s.filter(function(e){return"rejected"===e.status}).length,this.logger.log("IndexedDB: deleted ".concat(c,", preserved ").concat(n,", failed ").concat(l),a.INFO),y.a(2,{success:!0,deleted:c,preserved:n,failed:l});case 10:return y.p=10,g=y.v,this.logger.log("IndexedDB cleanup failed",a.ERROR,{error:g.message}),y.a(2,{success:!1,error:g.message})}},_callee3,this,[[2,5],[0,10]])})),function(e){return r.apply(this,arguments)})},{key:"unregisterServiceWorkers",value:(e=_asyncToGenerator(_regenerator().m(function _callee4(e,r){var t,n,s,c,l;return _regenerator().w(function(p){for(;;)switch(p.p=p.n){case 0:if(p.p=0,"serviceWorker"in navigator){p.n=1;break}return this.logger.log("Service Workers not supported",a.WARN),p.a(2,{success:!0,unregistered:0,skipped:!0});case 1:return p.n=2,u.race(navigator.serviceWorker.getRegistrations(),r,"ServiceWorker.getRegistrations()");case 2:return t=p.v,p.n=3,Promise.allSettled(t.map(function(t){return e.execute(function(){return u.race(t.unregister(),r,"SW.unregister()")},"ServiceWorker.unregister()")}));case 3:return n=p.v,s=n.filter(function(e){return"fulfilled"===e.status}).length,c=n.filter(function(e){return"rejected"===e.status}).length,this.logger.log("Service Workers: unregistered ".concat(s,", failed ").concat(c),a.INFO),p.a(2,{success:!0,unregistered:s,failed:c});case 4:return p.p=4,l=p.v,this.logger.log("Service Worker cleanup failed",a.ERROR,{error:l.message}),p.a(2,{success:!1,error:l.message})}},_callee4,this,[[0,4]])})),function(r,t){return e.apply(this,arguments)})}]);var e,r,t}();function EnhancedCacheCleaner(e){var u=t.useMemo(function(){return _objectSpread(_objectSpread({},s),e)},[e]),g=u.autoReload,h=u.silent,y=u.preserveKeys,m=u.runDelay,v=u.debug,b=u.manual,x=u.ttlHours,_=(u.progressUI,u.statusIndicator),S=u.retries,w=u.retryDelayMS,k=u.taskTimeoutMS,C=u.enableHealthCheck,R=u.enableAnalytics,I=u.gracefulDegradation,O=u.onComplete,D=u.onError,j=u.onProgress,N=_slicedToArray(t.useState(r.IDLE),2),E=N[0],T=N[1],P=_slicedToArray(t.useState(0),2),A=P[0],G=P[1],F=_slicedToArray(t.useState(!0),2),W=F[0],L=F[1],B=_slicedToArray(t.useState(!1),2),M=B[0],U=B[1],H=_slicedToArray(t.useState(null),2),z=H[0],K=H[1],J=t.useRef(!1),Y=t.useRef(null),q=t.useRef(null),Z=t.useRef(!1);Y.current||(Y.current=new c(h,v));var X=Y.current,$=t.useCallback(function(e){G(function(r){var t=Math.min(100,Math.max(0,r+e));return null==j||j(t),t})},[j]),Q=t.useCallback(function(){var e={timestamp:(new Date).toISOString(),browserAPIs:{localStorage:"localStorage"in window,sessionStorage:"sessionStorage"in window,indexedDB:"indexedDB"in window,cacheStorage:"caches"in window,serviceWorker:"serviceWorker"in navigator,cookies:!!document.cookie},lastCleanup:localStorage.getItem("__cleanup_last_run__"),status:"healthy"};return K(e),X.log("Health check completed",a.INFO,e),e},[X]),V=t.useCallback(_asyncToGenerator(_regenerator().m(function _callee5(){var e,t,n,s,c,u,h,m,v,b,_,C,j,N,E,P=arguments;return _regenerator().w(function(A){for(;;)switch(A.p=A.n){case 0:if(e=P.length>0&&void 0!==P[0]&&P[0],!J.current){A.n=1;break}return X.log("Cleanup already in progress",a.WARN),A.a(2);case 1:if(e){A.n=2;break}if(t=Number(localStorage.getItem("__cleanup_last_run__")||0),!((n=(Date.now()-t)/36e5)<x)){A.n=2;break}return X.log("Cleanup not needed (".concat(n.toFixed(1),"h < ").concat(x,"h)"),a.INFO),A.a(2);case 2:if(J.current=!0,Z.current=!1,T(r.INITIALIZING),$(5),s=performance.now(),c={startedAt:(new Date).toISOString(),forced:e,config:{ttlHours:x,preserveKeys:y,retries:S,taskTimeoutMS:k},results:{}},A.p=3,X.log("Starting cleanup process",a.INFO),T(r.RUNNING),$(10),v=new p(X,y),b=new l(S,w),!Z.current){A.n=4;break}throw new Error("Cleanup cancelled by user");case 4:return _=[v.clearCacheStorage(b,k),v.clearIndexedDB(k),v.unregisterServiceWorkers(b,k)],A.n=5,Promise.allSettled(_);case 5:if(C=A.v,c.results.cacheStorage=C[0].value||{error:null===(u=C[0].reason)||void 0===u?void 0:u.message},c.results.indexedDB=C[1].value||{error:null===(h=C[1].reason)||void 0===h?void 0:h.message},c.results.serviceWorkers=C[2].value||{error:null===(m=C[2].reason)||void 0===m?void 0:m.message},$(50),!Z.current){A.n=6;break}throw new Error("Cleanup cancelled by user");case 6:c.results.localStorage=v.clearWebStorage(localStorage,"LocalStorage"),$(20),c.results.sessionStorage=v.clearWebStorage(sessionStorage,"SessionStorage"),$(15),c.results.cookies=v.clearCookies(),$(5),j=Math.round(performance.now()-s),c.completedAt=(new Date).toISOString(),c.durationMS=j,c.status="success",localStorage.setItem("__cleanup_last_run__",Date.now().toString()),localStorage.setItem("__cleanup_last_report__",JSON.stringify(c)),X.log("Cleanup completed in ".concat(j,"ms"),a.INFO,c),T(r.SUCCESS),$(100),null==O||O(c),R&&window.dispatchEvent(new CustomEvent("cache-cleanup-complete",{detail:c})),g&&(X.log("Auto-reload in 2 seconds",a.INFO),setTimeout(function(){return window.location.reload()},2e3)),setTimeout(function(){return L(!1)},15e3),A.n=8;break;case 7:if(A.p=7,E=A.v,N=Math.round(performance.now()-s),c.completedAt=(new Date).toISOString(),c.durationMS=N,c.status="error",c.error=E.message,X.log("Cleanup failed: ".concat(E.message),a.ERROR,c),T(r.ERROR),null==D||D(E,c),localStorage.setItem("__cleanup_last_error__",JSON.stringify(c)),I){A.n=8;break}throw E;case 8:return A.p=8,J.current=!1,A.f(8);case 9:return A.a(2)}},_callee5,null,[[3,7,8,9]])})),[X,x,y,S,w,k,$,g,R,I,O,D]);return t.useEffect(function(){if(X.log("CacheCleaner initialized",a.INFO,u),window.cacheCleaner={trigger:function(){return V(!0)},cancel:function(){Z.current=!0,X.log("Cleanup cancellation requested",a.WARN)},getHealth:Q,getLogs:function(){return X.getLogs()},exportLogs:function(){return X.exportLogs()},getLastReport:function(){return JSON.parse(localStorage.getItem("__cleanup_last_report__")||"null")}},C&&Q(),!b){var e=setTimeout(function(){return V(!1)},m);return function(){return clearTimeout(e)}}},[u,V,X,b,m,Q,C]),t.useEffect(function(){if(M){var e=setTimeout(function(){return U(!1)},1e4),handleClickOutside=function(e){q.current&&!q.current.contains(e.target)&&U(!1)};return document.addEventListener("mousedown",handleClickOutside),function(){clearTimeout(e),document.removeEventListener("mousedown",handleClickOutside)}}},[M]),t.useEffect(function(){return document.body.style.overflow=M?"hidden":"auto",function(){return document.body.style.overflow="auto"}},[M]),W&&"undefined"!=typeof window?n.jsxs(n.Fragment,{children:[_&&n.jsxs("button",{onClick:function(){return v&&U(function(e){return!e})},"aria-label":"Cache cleaner status: ".concat(E),style:{position:"fixed",bottom:"clamp(10px, 2vw, 20px)",left:"clamp(10px, 2vw, 20px)",display:"flex",alignItems:"center",gap:"clamp(6px, 1.5vw, 10px)",padding:"clamp(6px, 1.5vw, 8px) clamp(10px, 3vw, 14px)",borderRadius:"20px",backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",cursor:v?"pointer":"default",zIndex:48,transition:"all 0.3s ease",userSelect:"none"},onMouseEnter:function(e){v&&(e.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:function(e){e.currentTarget.style.transform="translateY(0)"},children:[n.jsx("div",{style:{width:"clamp(10px, 2vw, 12px)",height:"clamp(10px, 2vw, 12px)",borderRadius:"50%",backgroundColor:E===r.RUNNING?"#3b82f6":E===r.SUCCESS?"#22c55e":E===r.ERROR?"#ef4444":"#6b7280",boxShadow:"0 0 8px ".concat(E===r.RUNNING?"#3b82f6":E===r.SUCCESS?"#22c55e":E===r.ERROR?"#ef4444":"transparent"),animation:E===r.RUNNING?"pulse 2s infinite":"none"}}),n.jsx("span",{style:{color:"#fff",fontSize:"clamp(11px, 2vw, 13px)",fontWeight:600,letterSpacing:"0.3px"},children:E===r.RUNNING?"Cleaning ".concat(A,"%"):E===r.SUCCESS?"✓ Clean":E===r.ERROR?"✗ Error":"Ready"})]}),v&&M&&n.jsxs("div",{ref:q,role:"dialog","aria-label":"Debug logs",style:{position:"fixed",bottom:"clamp(60px, 10vh, 80px)",left:"clamp(10px, 2vw, 20px)",width:"clamp(260px, 80vw, 400px)",maxHeight:"min(70vh, 400px)",backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",zIndex:49,display:"flex",flexDirection:"column",fontFamily:"monospace",overflow:"hidden",pointerEvents:"auto"},children:[n.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#0a0a0a",flexShrink:0},children:[n.jsx("span",{style:{color:"#fff",fontSize:"14px",fontWeight:600},children:"Debug Logs"}),n.jsx("button",{onClick:function(){return U(!1)},style:{background:"none",border:"none",color:"#888",cursor:"pointer",fontSize:"18px"},"aria-label":"Close debug panel",children:"×"})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"12px",fontSize:"clamp(10px, 2vw, 12px)",lineHeight:1.6,scrollbarWidth:"thin",scrollbarColor:"#444 #1a1a1a"},children:[z&&n.jsxs("div",{style:{marginBottom:"16px",paddingBottom:"16px",borderBottom:"1px solid #444"},children:[n.jsx("div",{style:{color:"#fff",fontSize:"13px",fontWeight:600,marginBottom:"8px"},children:"Health Status"}),n.jsx("pre",{style:{backgroundColor:"#2a2a2a",padding:"10px",borderRadius:"8px",overflowX:"auto",color:"#eee",fontSize:"clamp(9px, 1.8vw, 11px)",lineHeight:1.4,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(z,null,2)})]}),0===X.getLogs().length?n.jsx("div",{style:{color:"#666",textAlign:"center",padding:"20px"},children:"No logs yet"}):X.getLogs().map(function(e,r){return n.jsxs("div",{style:{marginBottom:"8px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[n.jsx("div",{style:{color:"#666",fontSize:"10px"},children:new Date(e.timestamp).toLocaleTimeString()}),n.jsx("div",{style:{color:e.level===a.ERROR?"#ef4444":e.level===a.WARN?"#f59e0b":e.level===a.INFO?"#3b82f6":"#8b5cf6"},children:e.message})]},r)})]})]}),n.jsx("style",{children:'\n      @keyframes pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.5; }\n      }\n\n      @media (max-width: 480px) {\n        /* Status Indicator on very small screens */\n        button[aria-label^="Cache cleaner status"] {\n          bottom: 10px;\n          left: 10px;\n          padding: 8px; /* Make it a square button */\n          min-width: 40px; /* Ensure it\'s clickable */\n          justify-content: center;\n        }\n        button[aria-label^="Cache cleaner status"] span { /* Hide text */\n          display: none;\n        }\n        button[aria-label^="Cache cleaner status"] div { /* Adjust dot size */\n          width: 10px;\n          height: 10px;\n        }\n\n        /* Debug Panel on very small screens */\n        div[aria-label="Debug logs"] {\n          bottom: 60px;\n          left: 10px;\n          right: 10px; /* Make it span almost full width */\n          width: auto; /* Override clamp width */\n          max-height: 60vh; /* Allow more vertical space */\n        }\n        div[aria-label="Debug logs"] .debug-panel-header span {\n          font-size: 13px; /* Slightly smaller header font */\n        }\n      }\n    '})]}):null}}}})}();
