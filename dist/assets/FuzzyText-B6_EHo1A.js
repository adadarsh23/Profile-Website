import{r as G,j as V,x as Z}from"./vendor_react-Dy7FbJ6m.js";import"./vendor-CR2JlbqS.js";const et=({children:E,fontSize:c="clamp(2rem, 10vw, 10rem)",fontWeight:v=900,fontFamily:x="inherit",color:L="#fff",enableHover:a=!0,baseIntensity:C=.18,hoverIntensity:F=.5})=>{const R=G.useRef(null);return G.useEffect(()=>{let p,g=!1;const t=R.current;return t?((async()=>{if(document.fonts?.ready&&await document.fonts.ready,g)return;const f=t.getContext("2d");if(!f)return;const z=x==="inherit"?window.getComputedStyle(t).fontFamily||"sans-serif":x,M=typeof c=="number"?`${c}px`:c;let m;if(typeof c=="number")m=c;else{const e=document.createElement("span");e.style.fontSize=c,document.body.appendChild(e);const n=window.getComputedStyle(e).fontSize;m=parseFloat(n),document.body.removeChild(e)}const T=Z.Children.toArray(E).join(""),h=document.createElement("canvas"),o=h.getContext("2d");if(!o)return;o.font=`${v} ${M} ${z}`,o.textBaseline="alphabetic";const i=o.measureText(T),A=i.actualBoundingBoxLeft??0,J=i.actualBoundingBoxRight??i.width,$=i.actualBoundingBoxAscent??m,K=i.actualBoundingBoxDescent??m*.2,j=Math.ceil(A+J),r=Math.ceil($+K),D=10,u=j+D;h.width=u,h.height=r;const S=D/2;o.font=`${v} ${M} ${z}`,o.textBaseline="alphabetic",o.fillStyle=L,o.fillText(T,S-A,$);const w=50,y=0;t.width=u+w*2,t.height=r+y*2,f.translate(w,y);const X=w+S,Y=y,N=X+j,P=Y+r;let l=!1;const d=30,b=()=>{if(g)return;f.clearRect(-d,-d,u+2*d,r+2*d);const e=l?F:C;for(let n=0;n<r;n++){const s=Math.floor(e*(Math.random()-.5)*d);f.drawImage(h,0,n,u,1,s,n,u,1)}p=window.requestAnimationFrame(b)};b();const q=(e,n)=>e>=X&&e<=N&&n>=Y&&n<=P,I=e=>{if(!a)return;const n=t.getBoundingClientRect(),s=e.clientX-n.left,B=e.clientY-n.top;l=q(s,B)},O=()=>{l=!1},W=e=>{if(!a)return;e.preventDefault();const n=t.getBoundingClientRect(),s=e.touches[0],B=s.clientX-n.left,U=s.clientY-n.top;l=q(B,U)},k=()=>{l=!1};a&&(t.addEventListener("mousemove",I),t.addEventListener("mouseleave",O),t.addEventListener("touchmove",W,{passive:!1}),t.addEventListener("touchend",k));const Q=()=>{window.cancelAnimationFrame(p),a&&(t.removeEventListener("mousemove",I),t.removeEventListener("mouseleave",O),t.removeEventListener("touchmove",W),t.removeEventListener("touchend",k))};t.cleanupFuzzyText=Q})(),()=>{g=!0,window.cancelAnimationFrame(p),t&&t.cleanupFuzzyText&&t.cleanupFuzzyText()}):void 0},[E,c,v,x,L,a,C,F]),V.jsx("canvas",{ref:R})};export{et as default};
