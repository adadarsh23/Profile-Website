import{r as e,j as o}from"./index-Diha6eJ9.js";const r=.25,t=2,n=2,l=(...e)=>e.filter(Boolean).join(" "),a=e.memo(({logos:a,speed:i=120,direction:s="left",width:c="100%",logoHeight:u=28,gap:d=32,pauseOnHover:f=!0,fadeOut:g=!1,fadeOutColor:m,scaleOnHover:p=!1,ariaLabel:h="Partner logos",className:v,style:b})=>{const x=e.useRef(null),w=e.useRef(null),y=e.useRef(null),[M,j]=e.useState(0),[C,E]=e.useState(t),[z,L]=e.useState(!1),N=e.useMemo(()=>Math.abs(i)*("left"===s?1:-1)*(i<0?-1:1),[i,s]),k=e.useCallback(()=>{const e=x.current?.clientWidth??0,o=y.current?.getBoundingClientRect?.()?.width??0;if(o>0){j(Math.ceil(o));const r=Math.ceil(e/o)+n;E(Math.max(t,r))}},[]);var R,A,H;R=k,A=[x,y],H=[a,d,u],e.useEffect(()=>{if(!window.ResizeObserver){const e=()=>R();return window.addEventListener("resize",e),R(),()=>window.removeEventListener("resize",e)}const e=A.map(e=>{if(!e.current)return null;const o=new ResizeObserver(R);return o.observe(e.current),o});return R(),()=>{e.forEach(e=>e?.disconnect())}},H),((o,r,t)=>{e.useEffect(()=>{const e=o.current?.querySelectorAll("img")??[];if(0===e.length)return void r();let t=e.length;const n=()=>{t-=1,0===t&&r()};return e.forEach(e=>{const o=e;o.complete?n():(o.addEventListener("load",n,{once:!0}),o.addEventListener("error",n,{once:!0}))}),()=>{e.forEach(e=>{e.removeEventListener("load",n),e.removeEventListener("error",n)})}},t)})(y,k,[a,d,u]),((o,t,n,l,a)=>{const i=e.useRef(null),s=e.useRef(null),c=e.useRef(0),u=e.useRef(0);e.useEffect(()=>{const e=o.current;if(!e)return;const d="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(n>0&&(c.current=(c.current%n+n)%n,e.style.transform=`translate3d(${-c.current}px, 0, 0)`),d)return e.style.transform="translate3d(0, 0, 0)",()=>{s.current=null};const f=o=>{null===s.current&&(s.current=o);const d=Math.max(0,o-s.current)/1e3;s.current=o;const g=a&&l?0:t,m=1-Math.exp(-d/r);if(u.current+=(g-u.current)*m,n>0){let o=c.current+u.current*d;o=(o%n+n)%n,c.current=o;const r=-c.current;e.style.transform=`translate3d(${r}px, 0, 0)`}i.current=requestAnimationFrame(f)};return i.current=requestAnimationFrame(f),()=>{null!==i.current&&(cancelAnimationFrame(i.current),i.current=null),s.current=null}},[t,n,l,a,o])})(w,N,M,z,f);const $=e.useMemo(()=>({"--logoloop-gap":`${d}px`,"--logoloop-logoHeight":`${u}px`,...m&&{"--logoloop-fadeColor":m}}),[d,u,m]),_=e.useMemo(()=>l("relative overflow-x-hidden group","[--logoloop-gap:32px]","[--logoloop-logoHeight:28px]","[--logoloop-fadeColorAuto:#ffffff]","dark:[--logoloop-fadeColorAuto:#0b0b0b]",p&&"py-[calc(var(--logoloop-logoHeight)*0.1)]",v),[p,v]),O=e.useCallback(()=>{f&&L(!0)},[f]),S=e.useCallback(()=>{f&&L(!1)},[f]),F=e.useCallback((e,r)=>{const t="node"in e,n=t?o.jsx("span",{className:l("inline-flex items-center","motion-reduce:transition-none",p&&"transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] group-hover/item:scale-120"),"aria-hidden":!!e.href&&!e.ariaLabel,children:e.node}):o.jsx("img",{className:l("h-[var(--logoloop-logoHeight)] w-auto block object-contain","[-webkit-user-drag:none] pointer-events-none","[image-rendering:-webkit-optimize-contrast]","motion-reduce:transition-none",p&&"transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] group-hover/item:scale-120"),src:e.src,srcSet:e.srcSet,sizes:e.sizes,width:e.width,height:e.height,alt:e.alt??"",title:e.title,loading:"lazy",decoding:"async",draggable:!1}),a=t?e.ariaLabel??e.title:e.alt??e.title,i=e.href?o.jsx("a",{className:l("inline-flex items-center no-underline rounded","transition-opacity duration-200 ease-linear","hover:opacity-80","focus-visible:outline focus-visible:outline-current focus-visible:outline-offset-2"),href:e.href,"aria-label":a||"logo link",target:"_blank",rel:"noreferrer noopener",children:n}):n;return o.jsx("li",{className:l("flex-none mr-[var(--logoloop-gap)] text-[length:var(--logoloop-logoHeight)] leading-[1]",p&&"overflow-visible group/item"),role:"listitem",children:i},r)},[p]),q=e.useMemo(()=>Array.from({length:C},(e,r)=>o.jsx("ul",{className:"flex items-center",role:"list","aria-hidden":r>0,ref:0===r?y:void 0,children:a.map((e,o)=>F(e,`${r}-${o}`))},`copy-${r}`)),[C,a,F]),B=e.useMemo(()=>{return{width:(e=c,("number"==typeof e?`${e}px`:e??void 0)??"100%"),...$,...b};var e},[c,$,b]);return o.jsxs("div",{ref:x,className:_,style:B,role:"region","aria-label":h,onMouseEnter:O,onMouseLeave:S,children:[g&&o.jsxs(o.Fragment,{children:[o.jsx("div",{"aria-hidden":!0,className:l("pointer-events-none absolute inset-y-0 left-0 z-[1]","w-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_right,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]")}),o.jsx("div",{"aria-hidden":!0,className:l("pointer-events-none absolute inset-y-0 right-0 z-[1]","w-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_left,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]")})]}),o.jsx("div",{className:l("flex w-max will-change-transform select-none","motion-reduce:transform-none"),ref:w,children:q})]})});a.displayName="LogoLoop";export{a as LogoLoop,a as default};
