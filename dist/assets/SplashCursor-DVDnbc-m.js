import{r as e,j as t}from"./vendor-PzU6vavf.js";function SplashCursor({SIM_RESOLUTION:r=128,DYE_RESOLUTION:n=1440,CAPTURE_RESOLUTION:i=512,DENSITY_DISSIPATION:o=3.5,VELOCITY_DISSIPATION:a=2,PRESSURE:u=.1,PRESSURE_ITERATIONS:l=20,CURL:c=3,SPLAT_RADIUS:f=.2,SPLAT_FORCE:v=6e3,SHADING:s=!0,COLOR_UPDATE_SPEED:m=10,BACK_COLOR:d={r:.5,g:0,b:0},TRANSPARENT:h=!0}){const g=e.useRef(null);return e.useEffect(()=>{const e=g.current;if(!e)return;let t={SIM_RESOLUTION:r,DYE_RESOLUTION:n,DENSITY_DISSIPATION:o,VELOCITY_DISSIPATION:a,PRESSURE:u,PRESSURE_ITERATIONS:l,CURL:c,SPLAT_RADIUS:f,SPLAT_FORCE:v,SHADING:s,COLOR_UPDATE_SPEED:m},i=[new function(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[0,0,0]}];const{gl:d,ext:h}=function(e){const t={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let r=e.getContext("webgl2",t);const n=!!r;n||(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t));let i,o;n?(r.getExtension("EXT_color_buffer_float"),o=r.getExtension("OES_texture_float_linear")):(i=r.getExtension("OES_texture_half_float"),o=r.getExtension("OES_texture_half_float_linear"));r.clearColor(0,0,0,1);const a=n?r.HALF_FLOAT:i&&i.HALF_FLOAT_OES;let u,l,c;n?(u=getSupportedFormat(r,r.RGBA16F,r.RGBA,a),l=getSupportedFormat(r,r.RG16F,r.RG,a),c=getSupportedFormat(r,r.R16F,r.RED,a)):(u=getSupportedFormat(r,r.RGBA,r.RGBA,a),l=getSupportedFormat(r,r.RGBA,r.RGBA,a),c=getSupportedFormat(r,r.RGBA,r.RGBA,a));return{gl:r,ext:{formatRGBA:u,formatRG:l,formatR:c,halfFloatTexType:a,supportLinearFiltering:o}}}(e);function getSupportedFormat(e,t,r,n){if(!function(e,t,r,n){const i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,4,4,0,r,n,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER);return a===e.FRAMEBUFFER_COMPLETE}(e,t,r,n))switch(t){case e.R16F:return getSupportedFormat(e,e.RG16F,e.RG,n);case e.RG16F:return getSupportedFormat(e,e.RGBA16F,e.RGBA,n);default:return null}return{internalFormat:t,format:r}}h.supportLinearFiltering||(t.DYE_RESOLUTION=256,t.SHADING=!1);class Program{constructor(e,t){this.uniforms={},this.program=createProgram(e,t),this.uniforms=getUniforms(this.program)}bind(){d.useProgram(this.program)}}function createProgram(e,t){let r=d.createProgram();return d.attachShader(r,e),d.attachShader(r,t),d.linkProgram(r),d.getProgramParameter(r,d.LINK_STATUS),r}function getUniforms(e){let t=[],r=d.getProgramParameter(e,d.ACTIVE_UNIFORMS);for(let n=0;n<r;n++){let r=d.getActiveUniform(e,n).name;t[r]=d.getUniformLocation(e,r)}return t}function compileShader(e,t,r){t=function(e,t){if(!t)return e;let r="";return t.forEach(e=>{r+="#define "+e+"\n"}),r+e}(t,r);const n=d.createShader(e);return d.shaderSource(n,t),d.compileShader(n),d.getShaderParameter(n,d.COMPILE_STATUS),n}const x=compileShader(d.VERTEX_SHADER,"\n        precision highp float;\n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform vec2 texelSize;\n\n        void main () {\n            vUv = aPosition * 0.5 + 0.5;\n            vL = vUv - vec2(texelSize.x, 0.0);\n            vR = vUv + vec2(texelSize.x, 0.0);\n            vT = vUv + vec2(0.0, texelSize.y);\n            vB = vUv - vec2(0.0, texelSize.y);\n            gl_Position = vec4(aPosition, 0.0, 1.0);\n        }\n      "),T=compileShader(d.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n\n        void main () {\n            gl_FragColor = texture2D(uTexture, vUv);\n        }\n      "),R=compileShader(d.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float value;\n\n        void main () {\n            gl_FragColor = value * texture2D(uTexture, vUv);\n        }\n     "),p=compileShader(d.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTarget;\n        uniform float aspectRatio;\n        uniform vec3 color;\n        uniform vec2 point;\n        uniform float radius;\n\n        void main () {\n            vec2 p = vUv - point.xy;\n            p.x *= aspectRatio;\n            vec3 splat = exp(-dot(p, p) / radius) * color;\n            vec3 base = texture2D(uTarget, vUv).xyz;\n            gl_FragColor = vec4(base + splat, 1.0);\n        }\n      "),E=compileShader(d.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform vec2 dyeTexelSize;\n        uniform float dt;\n        uniform float dissipation;\n\n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n            vec2 st = uv / tsize - 0.5;\n            vec2 iuv = floor(st);\n            vec2 fuv = fract(st);\n\n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n        }\n\n        void main () {\n            #ifdef MANUAL_FILTERING\n                vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n                vec4 result = bilerp(uSource, coord, dyeTexelSize);\n            #else\n                vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n                vec4 result = texture2D(uSource, coord);\n            #endif\n            float decay = 1.0 + dissipation * dt;\n            gl_FragColor = result / decay;\n        }\n      ",h.supportLinearFiltering?null:["MANUAL_FILTERING"]),S=compileShader(d.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uVelocity, vL).x;\n            float R = texture2D(uVelocity, vR).x;\n            float T = texture2D(uVelocity, vT).y;\n            float B = texture2D(uVelocity, vB).y;\n\n            vec2 C = texture2D(uVelocity, vUv).xy;\n            if (vL.x < 0.0) { L = -C.x; }\n            if (vR.x > 1.0) { R = -C.x; }\n            if (vT.y > 1.0) { T = -C.y; }\n            if (vB.y < 0.0) { B = -C.y; }\n\n            float div = 0.5 * (R - L + T - B);\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n        }\n      "),D=compileShader(d.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uVelocity, vL).y;\n            float R = texture2D(uVelocity, vR).y;\n            float T = texture2D(uVelocity, vT).x;\n            float B = texture2D(uVelocity, vB).x;\n            float vorticity = R - L - T + B;\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n        }\n      "),F=compileShader(d.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uCurl;\n        uniform float curl;\n        uniform float dt;\n\n        void main () {\n            float L = texture2D(uCurl, vL).x;\n            float R = texture2D(uCurl, vR).x;\n            float T = texture2D(uCurl, vT).x;\n            float B = texture2D(uCurl, vB).x;\n            float C = texture2D(uCurl, vUv).x;\n\n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n            force /= length(force) + 0.0001;\n            force *= curl * C;\n            force.y *= -1.0;\n\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity += force * dt;\n            velocity = min(max(velocity, -1000.0), 1000.0);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n      "),_=compileShader(d.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uDivergence;\n\n        void main () {\n            float L = texture2D(uPressure, vL).x;\n            float R = texture2D(uPressure, vR).x;\n            float T = texture2D(uPressure, vT).x;\n            float B = texture2D(uPressure, vB).x;\n            float C = texture2D(uPressure, vUv).x;\n            float divergence = texture2D(uDivergence, vUv).x;\n            float pressure = (L + R + B + T - divergence) * 0.25;\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n        }\n      "),A=compileShader(d.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uPressure, vL).x;\n            float R = texture2D(uPressure, vR).x;\n            float T = texture2D(uPressure, vT).x;\n            float B = texture2D(uPressure, vB).x;\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity.xy -= vec2(R - L, T - B);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n      "),y=(d.bindBuffer(d.ARRAY_BUFFER,d.createBuffer()),d.bufferData(d.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,d.createBuffer()),d.bufferData(d.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),d.STATIC_DRAW),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,0),d.enableVertexAttribArray(0),(e,t=!1)=>{null==e?(d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),d.bindFramebuffer(d.FRAMEBUFFER,null)):(d.viewport(0,0,e.width,e.height),d.bindFramebuffer(d.FRAMEBUFFER,e.fbo)),t&&(d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT)),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0)});let P,U,w,B,L;const b=new Program(x,T),O=new Program(x,R),I=new Program(x,p),C=new Program(x,E),N=new Program(x,S),X=new Program(x,D),z=new Program(x,F),M=new Program(x,_),Y=new Program(x,A),G=new class{constructor(e,t){this.vertexShader=e,this.fragmentShaderSource=t,this.programs=[],this.activeProgram=null,this.uniforms=[]}setKeywords(e){let t=0;for(let n=0;n<e.length;n++)t+=hashCode(e[n]);let r=this.programs[t];if(null==r){let n=compileShader(d.FRAGMENT_SHADER,this.fragmentShaderSource,e);r=createProgram(this.vertexShader,n),this.programs[t]=r}r!==this.activeProgram&&(this.uniforms=getUniforms(r),this.activeProgram=r)}bind(){d.useProgram(this.activeProgram)}}(x,"\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      varying vec2 vL;\n      varying vec2 vR;\n      varying vec2 vT;\n      varying vec2 vB;\n      uniform sampler2D uTexture;\n      uniform sampler2D uDithering;\n      uniform vec2 ditherScale;\n      uniform vec2 texelSize;\n\n      vec3 linearToGamma (vec3 color) {\n          color = max(color, vec3(0));\n          return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n      }\n\n      void main () {\n          vec3 c = texture2D(uTexture, vUv).rgb;\n          #ifdef SHADING\n              vec3 lc = texture2D(uTexture, vL).rgb;\n              vec3 rc = texture2D(uTexture, vR).rgb;\n              vec3 tc = texture2D(uTexture, vT).rgb;\n              vec3 bc = texture2D(uTexture, vB).rgb;\n\n              float dx = length(rc) - length(lc);\n              float dy = length(tc) - length(bc);\n\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n              vec3 l = vec3(0.0, 0.0, 1.0);\n\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n              c *= diffuse;\n          #endif\n\n          float a = max(c.r, max(c.g, c.b));\n          gl_FragColor = vec4(c, a);\n      }\n    ");function initFramebuffers(){let e=getResolution(t.SIM_RESOLUTION),r=getResolution(t.DYE_RESOLUTION);const n=h.halfFloatTexType,i=h.formatRGBA,o=h.formatRG,a=h.formatR,u=h.supportLinearFiltering?d.LINEAR:d.NEAREST;d.disable(d.BLEND),P=P?resizeDoubleFBO(P,r.width,r.height,i.internalFormat,i.format,n,u):createDoubleFBO(r.width,r.height,i.internalFormat,i.format,n,u),U=U?resizeDoubleFBO(U,e.width,e.height,o.internalFormat,o.format,n,u):createDoubleFBO(e.width,e.height,o.internalFormat,o.format,n,u),w=createFBO(e.width,e.height,a.internalFormat,a.format,n,d.NEAREST),B=createFBO(e.width,e.height,a.internalFormat,a.format,n,d.NEAREST),L=createDoubleFBO(e.width,e.height,a.internalFormat,a.format,n,d.NEAREST)}function createFBO(e,t,r,n,i,o){d.activeTexture(d.TEXTURE0);let a=d.createTexture();d.bindTexture(d.TEXTURE_2D,a),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,o),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,o),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texImage2D(d.TEXTURE_2D,0,r,e,t,0,n,i,null);let u=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,u),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),d.viewport(0,0,e,t),d.clear(d.COLOR_BUFFER_BIT),{texture:a,fbo:u,width:e,height:t,texelSizeX:1/e,texelSizeY:1/t,attach:e=>(d.activeTexture(d.TEXTURE0+e),d.bindTexture(d.TEXTURE_2D,a),e)}}function createDoubleFBO(e,t,r,n,i,o){let a=createFBO(e,t,r,n,i,o),u=createFBO(e,t,r,n,i,o);return{width:e,height:t,texelSizeX:a.texelSizeX,texelSizeY:a.texelSizeY,get read(){return a},set read(e){a=e},get write(){return u},set write(e){u=e},swap(){let e=a;a=u,u=e}}}function resizeDoubleFBO(e,t,r,n,i,o,a){return e.width===t&&e.height===r||(e.read=function(e,t,r,n,i,o,a){let u=createFBO(t,r,n,i,o,a);return b.bind(),d.uniform1i(b.uniforms.uTexture,e.attach(0)),y(u),u}(e.read,t,r,n,i,o,a),e.write=createFBO(t,r,n,i,o,a),e.width=t,e.height=r,e.texelSizeX=1/t,e.texelSizeY=1/r),e}!function(){let e=[];t.SHADING&&e.push("SHADING"),G.setKeywords(e)}(),initFramebuffers();let V=Date.now(),H=0;function updateFrame(){const r=function(){let e=Date.now(),t=(e-V)/1e3;return t=Math.min(t,.016666),V=e,t}();var n;(function(){let t=scaleByPixelRatio(e.clientWidth),r=scaleByPixelRatio(e.clientHeight);if(e.width!==t||e.height!==r)return e.width=t,e.height=r,!0;return!1})()&&initFramebuffers(),function(e){H+=e*t.COLOR_UPDATE_SPEED,H>=1&&(H=(H-(r=0))%(1-r)+r,i.forEach(e=>{e.color=generateColor()}));var r}(r),i.forEach(e=>{e.moved&&(e.moved=!1,function(e){let r=e.deltaX*t.SPLAT_FORCE,n=e.deltaY*t.SPLAT_FORCE;splat(e.texcoordX,e.texcoordY,r,n,e.color)}(e))}),function(e){d.disable(d.BLEND),X.bind(),d.uniform2f(X.uniforms.texelSize,U.texelSizeX,U.texelSizeY),d.uniform1i(X.uniforms.uVelocity,U.read.attach(0)),y(B),z.bind(),d.uniform2f(z.uniforms.texelSize,U.texelSizeX,U.texelSizeY),d.uniform1i(z.uniforms.uVelocity,U.read.attach(0)),d.uniform1i(z.uniforms.uCurl,B.attach(1)),d.uniform1f(z.uniforms.curl,t.CURL),d.uniform1f(z.uniforms.dt,e),y(U.write),U.swap(),N.bind(),d.uniform2f(N.uniforms.texelSize,U.texelSizeX,U.texelSizeY),d.uniform1i(N.uniforms.uVelocity,U.read.attach(0)),y(w),O.bind(),d.uniform1i(O.uniforms.uTexture,L.read.attach(0)),d.uniform1f(O.uniforms.value,t.PRESSURE),y(L.write),L.swap(),M.bind(),d.uniform2f(M.uniforms.texelSize,U.texelSizeX,U.texelSizeY),d.uniform1i(M.uniforms.uDivergence,w.attach(0));for(let n=0;n<t.PRESSURE_ITERATIONS;n++)d.uniform1i(M.uniforms.uPressure,L.read.attach(1)),y(L.write),L.swap();Y.bind(),d.uniform2f(Y.uniforms.texelSize,U.texelSizeX,U.texelSizeY),d.uniform1i(Y.uniforms.uPressure,L.read.attach(0)),d.uniform1i(Y.uniforms.uVelocity,U.read.attach(1)),y(U.write),U.swap(),C.bind(),d.uniform2f(C.uniforms.texelSize,U.texelSizeX,U.texelSizeY),h.supportLinearFiltering||d.uniform2f(C.uniforms.dyeTexelSize,U.texelSizeX,U.texelSizeY);let r=U.read.attach(0);d.uniform1i(C.uniforms.uVelocity,r),d.uniform1i(C.uniforms.uSource,r),d.uniform1f(C.uniforms.dt,e),d.uniform1f(C.uniforms.dissipation,t.VELOCITY_DISSIPATION),y(U.write),U.swap(),h.supportLinearFiltering||d.uniform2f(C.uniforms.dyeTexelSize,P.texelSizeX,P.texelSizeY);d.uniform1i(C.uniforms.uVelocity,U.read.attach(0)),d.uniform1i(C.uniforms.uSource,P.read.attach(1)),d.uniform1f(C.uniforms.dissipation,t.DENSITY_DISSIPATION),y(P.write),P.swap()}(r),n=null,d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA),d.enable(d.BLEND),function(e){let r=d.drawingBufferWidth,n=d.drawingBufferHeight;G.bind(),t.SHADING&&d.uniform2f(G.uniforms.texelSize,1/r,1/n),d.uniform1i(G.uniforms.uTexture,P.read.attach(0)),y(e)}(n),requestAnimationFrame(updateFrame)}function splat(r,n,i,o,a){I.bind(),d.uniform1i(I.uniforms.uTarget,U.read.attach(0)),d.uniform1f(I.uniforms.aspectRatio,e.width/e.height),d.uniform2f(I.uniforms.point,r,n),d.uniform3f(I.uniforms.color,i,o,0),d.uniform1f(I.uniforms.radius,function(t){let r=e.width/e.height;r>1&&(t*=r);return t}(t.SPLAT_RADIUS/100)),y(U.write),U.swap(),d.uniform1i(I.uniforms.uTarget,P.read.attach(0)),d.uniform3f(I.uniforms.color,a.r,a.g,a.b),y(P.write),P.swap()}function updatePointerDownData(t,r,n,i){t.id=r,t.down=!0,t.moved=!1,t.texcoordX=n/e.width,t.texcoordY=1-i/e.height,t.prevTexcoordX=t.texcoordX,t.prevTexcoordY=t.texcoordY,t.deltaX=0,t.deltaY=0,t.color=generateColor()}function updatePointerMoveData(t,r,n,i){t.prevTexcoordX=t.texcoordX,t.prevTexcoordY=t.texcoordY,t.texcoordX=r/e.width,t.texcoordY=1-n/e.height,t.deltaX=function(t){let r=e.width/e.height;r<1&&(t*=r);return t}(t.texcoordX-t.prevTexcoordX),t.deltaY=function(t){let r=e.width/e.height;r>1&&(t/=r);return t}(t.texcoordY-t.prevTexcoordY),t.moved=Math.abs(t.deltaX)>0||Math.abs(t.deltaY)>0,t.color=i}function updatePointerUpData(e){e.down=!1}function generateColor(){let e=function(e,t,r){let n,i,o,a,u,l,c,f;switch(a=Math.floor(6*e),u=6*e-a,l=r*(1-t),c=r*(1-u*t),f=r*(1-(1-u)*t),a%6){case 0:n=r,i=f,o=l;break;case 1:n=c,i=r,o=l;break;case 2:n=l,i=r,o=f;break;case 3:n=l,i=c,o=r;break;case 4:n=f,i=l,o=r;break;case 5:n=r,i=l,o=c}return{r:n,g:i,b:o}}(Math.random(),1,1);return e.r*=.15,e.g*=.15,e.b*=.15,e}function getResolution(e){let t=d.drawingBufferWidth/d.drawingBufferHeight;t<1&&(t=1/t);const r=Math.round(e),n=Math.round(e*t);return d.drawingBufferWidth>d.drawingBufferHeight?{width:n,height:r}:{width:r,height:n}}function scaleByPixelRatio(e){const t=window.devicePixelRatio||1;return Math.floor(e*t)}function hashCode(e){if(0===e.length)return 0;let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}window.addEventListener("mousedown",e=>{let t=i[0];updatePointerDownData(t,-1,scaleByPixelRatio(e.clientX),scaleByPixelRatio(e.clientY)),function(e){const t=generateColor();t.r*=10,t.g*=10,t.b*=10;let r=10*(Math.random()-.5),n=30*(Math.random()-.5);splat(e.texcoordX,e.texcoordY,r,n,t)}(t)}),document.body.addEventListener("mousemove",function handleFirstMouseMove(e){let t=i[0],r=scaleByPixelRatio(e.clientX),n=scaleByPixelRatio(e.clientY),o=generateColor();updateFrame(),updatePointerMoveData(t,r,n,o),document.body.removeEventListener("mousemove",handleFirstMouseMove)}),window.addEventListener("mousemove",e=>{let t=i[0];updatePointerMoveData(t,scaleByPixelRatio(e.clientX),scaleByPixelRatio(e.clientY),t.color)}),document.body.addEventListener("touchstart",function handleFirstTouchStart(e){const t=e.targetTouches;let r=i[0];for(let n=0;n<t.length;n++){let e=scaleByPixelRatio(t[n].clientX),i=scaleByPixelRatio(t[n].clientY);updateFrame(),updatePointerDownData(r,t[n].identifier,e,i)}document.body.removeEventListener("touchstart",handleFirstTouchStart)}),window.addEventListener("touchstart",e=>{const t=e.targetTouches;let r=i[0];for(let n=0;n<t.length;n++){let e=scaleByPixelRatio(t[n].clientX),i=scaleByPixelRatio(t[n].clientY);updatePointerDownData(r,t[n].identifier,e,i)}}),window.addEventListener("touchmove",e=>{const t=e.targetTouches;let r=i[0];for(let n=0;n<t.length;n++){updatePointerMoveData(r,scaleByPixelRatio(t[n].clientX),scaleByPixelRatio(t[n].clientY),r.color)}},!1),window.addEventListener("touchend",e=>{const t=e.changedTouches;let r=i[0];for(let n=0;n<t.length;n++)updatePointerUpData(r)}),updateFrame()},[r,n,i,o,a,u,l,c,f,v,s,m,d,h]),t.jsx("div",{className:"fixed top-0 left-0 z-50 pointer-events-none w-full h-full",children:t.jsx("canvas",{ref:g,id:"fluid",className:"w-screen h-screen block"})})}export{SplashCursor as default};
