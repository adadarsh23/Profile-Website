{"version":3,"file":"Scroll-Cwh1vWag.js","sources":["../../src/components/InfiniteMenu.jsx","../../src/assets/insta.png","../../src/assets/spotify.png","../../src/assets/git.jpg","../../src/Main/Scroll.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { mat4, quat, vec2, vec3 } from 'gl-matrix';\n\nconst discVertShaderSource = `#version 300 es\n\nuniform mat4 uWorldMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform vec3 uCameraPosition;\nuniform vec4 uRotationAxisVelocity;\n\nin vec3 aModelPosition;\nin vec3 aModelNormal;\nin vec2 aModelUvs;\nin mat4 aInstanceMatrix;\n\nout vec2 vUvs;\nout float vAlpha;\nflat out int vInstanceId;\n\n#define PI 3.141593\n\nvoid main() {\n    vec4 worldPosition = uWorldMatrix * aInstanceMatrix * vec4(aModelPosition, 1.);\n\n    vec3 centerPos = (uWorldMatrix * aInstanceMatrix * vec4(0., 0., 0., 1.)).xyz;\n    float radius = length(centerPos.xyz);\n\n    if (gl_VertexID > 0) {\n        vec3 rotationAxis = uRotationAxisVelocity.xyz;\n        float rotationVelocity = min(.15, uRotationAxisVelocity.w * 15.);\n        vec3 stretchDir = normalize(cross(centerPos, rotationAxis));\n        vec3 relativeVertexPos = normalize(worldPosition.xyz - centerPos);\n        float strength = dot(stretchDir, relativeVertexPos);\n        float invAbsStrength = min(0., abs(strength) - 1.);\n        strength = rotationVelocity * sign(strength) * abs(invAbsStrength * invAbsStrength * invAbsStrength + 1.);\n        worldPosition.xyz += stretchDir * strength;\n    }\n\n    worldPosition.xyz = radius * normalize(worldPosition.xyz);\n\n    gl_Position = uProjectionMatrix * uViewMatrix * worldPosition;\n\n    vAlpha = smoothstep(0.5, 1., normalize(worldPosition.xyz).z) * .9 + .1;\n    vUvs = aModelUvs;\n    vInstanceId = gl_InstanceID;\n}\n`;\n\nconst discFragShaderSource = `#version 300 es\nprecision highp float;\n\nuniform sampler2D uTex;\nuniform int uItemCount;\nuniform int uAtlasSize;\n\nout vec4 outColor;\n\nin vec2 vUvs;\nin float vAlpha;\nflat in int vInstanceId;\n\nvoid main() {\n    int itemIndex = vInstanceId % uItemCount;\n    int cellsPerRow = uAtlasSize;\n    int cellX = itemIndex % cellsPerRow;\n    int cellY = itemIndex / cellsPerRow;\n    vec2 cellSize = vec2(1.0) / vec2(float(cellsPerRow));\n    vec2 cellOffset = vec2(float(cellX), float(cellY)) * cellSize;\n\n    ivec2 texSize = textureSize(uTex, 0);\n    float imageAspect = float(texSize.x) / float(texSize.y);\n    float containerAspect = 1.0;\n    \n    float scale = max(imageAspect / containerAspect, \n                     containerAspect / imageAspect);\n    \n    vec2 st = vec2(vUvs.x, 1.0 - vUvs.y);\n    st = (st - 0.5) * scale + 0.5;\n    \n    st = clamp(st, 0.0, 1.0);\n    \n    st = st * cellSize + cellOffset;\n    \n    outColor = texture(uTex, st);\n    outColor.a *= vAlpha;\n}\n`;\n\nclass Face {\n  constructor(a, b, c) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n  }\n}\n\nclass Vertex {\n  constructor(x, y, z) {\n    this.position = vec3.fromValues(x, y, z);\n    this.normal = vec3.create();\n    this.uv = vec2.create();\n  }\n}\n\nclass Geometry {\n  constructor() {\n    this.vertices = [];\n    this.faces = [];\n  }\n\n  addVertex(...args) {\n    for (let i = 0; i < args.length; i += 3) {\n      this.vertices.push(new Vertex(args[i], args[i + 1], args[i + 2]));\n    }\n    return this;\n  }\n\n  addFace(...args) {\n    for (let i = 0; i < args.length; i += 3) {\n      this.faces.push(new Face(args[i], args[i + 1], args[i + 2]));\n    }\n    return this;\n  }\n\n  get lastVertex() {\n    return this.vertices[this.vertices.length - 1];\n  }\n\n  subdivide(divisions = 1) {\n    const midPointCache = {};\n    let f = this.faces;\n\n    for (let div = 0; div < divisions; ++div) {\n      const newFaces = new Array(f.length * 4);\n\n      f.forEach((face, ndx) => {\n        const mAB = this.getMidPoint(face.a, face.b, midPointCache);\n        const mBC = this.getMidPoint(face.b, face.c, midPointCache);\n        const mCA = this.getMidPoint(face.c, face.a, midPointCache);\n\n        const i = ndx * 4;\n        newFaces[i + 0] = new Face(face.a, mAB, mCA);\n        newFaces[i + 1] = new Face(face.b, mBC, mAB);\n        newFaces[i + 2] = new Face(face.c, mCA, mBC);\n        newFaces[i + 3] = new Face(mAB, mBC, mCA);\n      });\n\n      f = newFaces;\n    }\n\n    this.faces = f;\n    return this;\n  }\n\n  spherize(radius = 1) {\n    this.vertices.forEach((vertex) => {\n      vec3.normalize(vertex.normal, vertex.position);\n      vec3.scale(vertex.position, vertex.normal, radius);\n    });\n    return this;\n  }\n\n  get data() {\n    return {\n      vertices: this.vertexData,\n      indices: this.indexData,\n      normals: this.normalData,\n      uvs: this.uvData,\n    };\n  }\n\n  get vertexData() {\n    return new Float32Array(\n      this.vertices.flatMap((v) => Array.from(v.position))\n    );\n  }\n\n  get normalData() {\n    return new Float32Array(this.vertices.flatMap((v) => Array.from(v.normal)));\n  }\n\n  get uvData() {\n    return new Float32Array(this.vertices.flatMap((v) => Array.from(v.uv)));\n  }\n\n  get indexData() {\n    return new Uint16Array(this.faces.flatMap((f) => [f.a, f.b, f.c]));\n  }\n\n  getMidPoint(ndxA, ndxB, cache) {\n    const cacheKey = ndxA < ndxB ? `k_${ndxB}_${ndxA}` : `k_${ndxA}_${ndxB}`;\n    if (Object.prototype.hasOwnProperty.call(cache, cacheKey)) {\n      return cache[cacheKey];\n    }\n    const a = this.vertices[ndxA].position;\n    const b = this.vertices[ndxB].position;\n    const ndx = this.vertices.length;\n    cache[cacheKey] = ndx;\n    this.addVertex(\n      (a[0] + b[0]) * 0.5,\n      (a[1] + b[1]) * 0.5,\n      (a[2] + b[2]) * 0.5\n    );\n    return ndx;\n  }\n}\n\nclass IcosahedronGeometry extends Geometry {\n  constructor() {\n    super();\n    const t = Math.sqrt(5) * 0.5 + 0.5;\n    this.addVertex(\n      -1,\n      t,\n      0,\n      1,\n      t,\n      0,\n      -1,\n      -t,\n      0,\n      1,\n      -t,\n      0,\n      0,\n      -1,\n      t,\n      0,\n      1,\n      t,\n      0,\n      -1,\n      -t,\n      0,\n      1,\n      -t,\n      t,\n      0,\n      -1,\n      t,\n      0,\n      1,\n      -t,\n      0,\n      -1,\n      -t,\n      0,\n      1\n    ).addFace(\n      0,\n      11,\n      5,\n      0,\n      5,\n      1,\n      0,\n      1,\n      7,\n      0,\n      7,\n      10,\n      0,\n      10,\n      11,\n      1,\n      5,\n      9,\n      5,\n      11,\n      4,\n      11,\n      10,\n      2,\n      10,\n      7,\n      6,\n      7,\n      1,\n      8,\n      3,\n      9,\n      4,\n      3,\n      4,\n      2,\n      3,\n      2,\n      6,\n      3,\n      6,\n      8,\n      3,\n      8,\n      9,\n      4,\n      9,\n      5,\n      2,\n      4,\n      11,\n      6,\n      2,\n      10,\n      8,\n      6,\n      7,\n      9,\n      8,\n      1\n    );\n  }\n}\n\nclass DiscGeometry extends Geometry {\n  constructor(steps = 4, radius = 1) {\n    super();\n    steps = Math.max(4, steps);\n\n    const alpha = (2 * Math.PI) / steps;\n\n    this.addVertex(0, 0, 0);\n    this.lastVertex.uv[0] = 0.5;\n    this.lastVertex.uv[1] = 0.5;\n\n    for (let i = 0; i < steps; ++i) {\n      const x = Math.cos(alpha * i);\n      const y = Math.sin(alpha * i);\n      this.addVertex(radius * x, radius * y, 0);\n      this.lastVertex.uv[0] = x * 0.5 + 0.5;\n      this.lastVertex.uv[1] = y * 0.5 + 0.5;\n\n      if (i > 0) {\n        this.addFace(0, i, i + 1);\n      }\n    }\n    this.addFace(0, steps, 1);\n  }\n}\n\nfunction createShader(gl, type, source) {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n  if (success) {\n    return shader;\n  }\n\n  console.error(gl.getShaderInfoLog(shader));\n  gl.deleteShader(shader);\n  return null;\n}\n\nfunction createProgram(\n  gl,\n  shaderSources,\n  transformFeedbackVaryings,\n  attribLocations\n) {\n  const program = gl.createProgram();\n\n  [gl.VERTEX_SHADER, gl.FRAGMENT_SHADER].forEach((type, ndx) => {\n    const shader = createShader(gl, type, shaderSources[ndx]);\n    if (shader) gl.attachShader(program, shader);\n  });\n\n  if (transformFeedbackVaryings) {\n    gl.transformFeedbackVaryings(\n      program,\n      transformFeedbackVaryings,\n      gl.SEPARATE_ATTRIBS\n    );\n  }\n\n  if (attribLocations) {\n    for (const attrib in attribLocations) {\n      gl.bindAttribLocation(program, attribLocations[attrib], attrib);\n    }\n  }\n\n  gl.linkProgram(program);\n  const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n  if (success) {\n    return program;\n  }\n\n  console.error(gl.getProgramInfoLog(program));\n  gl.deleteProgram(program);\n  return null;\n}\n\nfunction makeVertexArray(gl, bufLocNumElmPairs, indices) {\n  const va = gl.createVertexArray();\n  gl.bindVertexArray(va);\n\n  for (const [buffer, loc, numElem] of bufLocNumElmPairs) {\n    if (loc === -1) continue;\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.enableVertexAttribArray(loc);\n    gl.vertexAttribPointer(loc, numElem, gl.FLOAT, false, 0, 0);\n  }\n\n  if (indices) {\n    const indexBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n    gl.bufferData(\n      gl.ELEMENT_ARRAY_BUFFER,\n      new Uint16Array(indices),\n      gl.STATIC_DRAW\n    );\n  }\n\n  gl.bindVertexArray(null);\n  return va;\n}\n\nfunction resizeCanvasToDisplaySize(canvas) {\n  const dpr = Math.min(2, window.devicePixelRatio);\n  const displayWidth = Math.round(canvas.clientWidth * dpr);\n  const displayHeight = Math.round(canvas.clientHeight * dpr);\n  const needResize =\n    canvas.width !== displayWidth || canvas.height !== displayHeight;\n  if (needResize) {\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n  }\n  return needResize;\n}\n\nfunction makeBuffer(gl, sizeOrData, usage) {\n  const buf = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, buf);\n  gl.bufferData(gl.ARRAY_BUFFER, sizeOrData, usage);\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  return buf;\n}\n\nfunction createAndSetupTexture(gl, minFilter, magFilter, wrapS, wrapT) {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n  return texture;\n}\n\nclass ArcballControl {\n  isPointerDown = false;\n  orientation = quat.create();\n  pointerRotation = quat.create();\n  rotationVelocity = 0;\n  rotationAxis = vec3.fromValues(1, 0, 0);\n  snapDirection = vec3.fromValues(0, 0, -1);\n  snapTargetDirection;\n  EPSILON = 0.1;\n  IDENTITY_QUAT = quat.create();\n\n  constructor(canvas, updateCallback) {\n    this.canvas = canvas;\n    this.updateCallback = updateCallback || (() => null);\n\n    this.pointerPos = vec2.create();\n    this.previousPointerPos = vec2.create();\n    this._rotationVelocity = 0;\n    this._combinedQuat = quat.create();\n\n    canvas.addEventListener('pointerdown', (e) => {\n      vec2.set(this.pointerPos, e.clientX, e.clientY);\n      vec2.copy(this.previousPointerPos, this.pointerPos);\n      this.isPointerDown = true;\n    });\n    canvas.addEventListener('pointerup', () => {\n      this.isPointerDown = false;\n    });\n    canvas.addEventListener('pointerleave', () => {\n      this.isPointerDown = false;\n    });\n    canvas.addEventListener('pointermove', (e) => {\n      if (this.isPointerDown) {\n        vec2.set(this.pointerPos, e.clientX, e.clientY);\n      }\n    });\n\n    canvas.style.touchAction = 'none';\n  }\n\n  update(deltaTime, targetFrameDuration = 16) {\n    const timeScale = deltaTime / targetFrameDuration + 0.00001;\n    let angleFactor = timeScale;\n    let snapRotation = quat.create();\n\n    if (this.isPointerDown) {\n      const INTENSITY = 0.3 * timeScale;\n      const ANGLE_AMPLIFICATION = 5 / timeScale;\n\n      const midPointerPos = vec2.sub(\n        vec2.create(),\n        this.pointerPos,\n        this.previousPointerPos\n      );\n      vec2.scale(midPointerPos, midPointerPos, INTENSITY);\n\n      if (vec2.sqrLen(midPointerPos) > this.EPSILON) {\n        vec2.add(midPointerPos, this.previousPointerPos, midPointerPos);\n\n        const p = this.#project(midPointerPos);\n        const q = this.#project(this.previousPointerPos);\n        const a = vec3.normalize(vec3.create(), p);\n        const b = vec3.normalize(vec3.create(), q);\n\n        vec2.copy(this.previousPointerPos, midPointerPos);\n\n        angleFactor *= ANGLE_AMPLIFICATION;\n\n        this.quatFromVectors(a, b, this.pointerRotation, angleFactor);\n      } else {\n        quat.slerp(\n          this.pointerRotation,\n          this.pointerRotation,\n          this.IDENTITY_QUAT,\n          INTENSITY\n        );\n      }\n    } else {\n      const INTENSITY = 0.1 * timeScale;\n      quat.slerp(\n        this.pointerRotation,\n        this.pointerRotation,\n        this.IDENTITY_QUAT,\n        INTENSITY\n      );\n\n      if (this.snapTargetDirection) {\n        const SNAPPING_INTENSITY = 0.2;\n        const a = this.snapTargetDirection;\n        const b = this.snapDirection;\n        const sqrDist = vec3.squaredDistance(a, b);\n        const distanceFactor = Math.max(0.1, 1 - sqrDist * 10);\n        angleFactor *= SNAPPING_INTENSITY * distanceFactor;\n        this.quatFromVectors(a, b, snapRotation, angleFactor);\n      }\n    }\n\n    const combinedQuat = quat.multiply(\n      quat.create(),\n      snapRotation,\n      this.pointerRotation\n    );\n    this.orientation = quat.multiply(\n      quat.create(),\n      combinedQuat,\n      this.orientation\n    );\n    quat.normalize(this.orientation, this.orientation);\n\n    const RA_INTENSITY = 0.8 * timeScale;\n    quat.slerp(\n      this._combinedQuat,\n      this._combinedQuat,\n      combinedQuat,\n      RA_INTENSITY\n    );\n    quat.normalize(this._combinedQuat, this._combinedQuat);\n\n    const rad = Math.acos(this._combinedQuat[3]) * 2.0;\n    const s = Math.sin(rad / 2.0);\n    let rv = 0;\n    if (s > 0.000001) {\n      rv = rad / (2 * Math.PI);\n      this.rotationAxis[0] = this._combinedQuat[0] / s;\n      this.rotationAxis[1] = this._combinedQuat[1] / s;\n      this.rotationAxis[2] = this._combinedQuat[2] / s;\n    }\n\n    const RV_INTENSITY = 0.5 * timeScale;\n    this._rotationVelocity += (rv - this._rotationVelocity) * RV_INTENSITY;\n    this.rotationVelocity = this._rotationVelocity / timeScale;\n\n    this.updateCallback(deltaTime);\n  }\n\n  quatFromVectors(a, b, out, angleFactor = 1) {\n    const axis = vec3.cross(vec3.create(), a, b);\n    vec3.normalize(axis, axis);\n    const d = Math.max(-1, Math.min(1, vec3.dot(a, b)));\n    const angle = Math.acos(d) * angleFactor;\n    quat.setAxisAngle(out, axis, angle);\n    return { q: out, axis, angle };\n  }\n\n  #project(pos) {\n    const r = 2;\n    const w = this.canvas.clientWidth;\n    const h = this.canvas.clientHeight;\n    const s = Math.max(w, h) - 1;\n\n    const x = (2 * pos[0] - w - 1) / s;\n    const y = (2 * pos[1] - h - 1) / s;\n    let z = 0;\n    const xySq = x * x + y * y;\n    const rSq = r * r;\n\n    if (xySq <= rSq / 2.0) {\n      z = Math.sqrt(rSq - xySq);\n    } else {\n      z = rSq / Math.sqrt(xySq);\n    }\n    return vec3.fromValues(-x, y, z);\n  }\n}\n\nclass InfiniteGridMenu {\n  TARGET_FRAME_DURATION = 1000 / 60;\n  SPHERE_RADIUS = 2;\n\n  #time = 0;\n  #deltaTime = 0;\n  #deltaFrames = 0;\n  #frames = 0;\n\n  camera = {\n    matrix: mat4.create(),\n    near: 0.1,\n    far: 40,\n    fov: Math.PI / 4,\n    aspect: 1,\n    position: vec3.fromValues(0, 0, 3),\n    up: vec3.fromValues(0, 1, 0),\n    matrices: {\n      view: mat4.create(),\n      projection: mat4.create(),\n      inversProjection: mat4.create(),\n    },\n  };\n\n  nearestVertexIndex = null;\n  smoothRotationVelocity = 0;\n  scaleFactor = 1.0;\n  movementActive = false;\n\n  constructor(\n    canvas,\n    items,\n    onActiveItemChange,\n    onMovementChange,\n    onInit = null\n  ) {\n    this.canvas = canvas;\n    this.items = items || [];\n    this.onActiveItemChange = onActiveItemChange || (() => {});\n    this.onMovementChange = onMovementChange || (() => {});\n    this.#init(onInit);\n  }\n\n  resize() {\n    this.viewportSize = vec2.set(\n      this.viewportSize || vec2.create(),\n      this.canvas.clientWidth,\n      this.canvas.clientHeight\n    );\n\n    const gl = this.gl;\n    const needsResize = resizeCanvasToDisplaySize(gl.canvas);\n    if (needsResize) {\n      gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    }\n\n    this.#updateProjectionMatrix(gl);\n  }\n\n  run(time = 0) {\n    this.#deltaTime = Math.min(32, time - this.#time);\n    this.#time = time;\n    this.#deltaFrames = this.#deltaTime / this.TARGET_FRAME_DURATION;\n    this.#frames += this.#deltaFrames;\n\n    this.#animate(this.#deltaTime);\n    this.#render();\n\n    requestAnimationFrame((t) => this.run(t));\n  }\n\n  #init(onInit) {\n    this.gl = this.canvas.getContext('webgl2', {\n      antialias: true,\n      alpha: false,\n    });\n    const gl = this.gl;\n    if (!gl) {\n      throw new Error('No WebGL 2 context!');\n    }\n\n    this.viewportSize = vec2.fromValues(\n      this.canvas.clientWidth,\n      this.canvas.clientHeight\n    );\n    this.drawBufferSize = vec2.clone(this.viewportSize);\n\n    this.discProgram = createProgram(\n      gl,\n      [discVertShaderSource, discFragShaderSource],\n      null,\n      {\n        aModelPosition: 0,\n        aModelNormal: 1,\n        aModelUvs: 2,\n        aInstanceMatrix: 3,\n      }\n    );\n\n    this.discLocations = {\n      aModelPosition: gl.getAttribLocation(this.discProgram, 'aModelPosition'),\n      aModelUvs: gl.getAttribLocation(this.discProgram, 'aModelUvs'),\n      aInstanceMatrix: gl.getAttribLocation(\n        this.discProgram,\n        'aInstanceMatrix'\n      ),\n      uWorldMatrix: gl.getUniformLocation(this.discProgram, 'uWorldMatrix'),\n      uViewMatrix: gl.getUniformLocation(this.discProgram, 'uViewMatrix'),\n      uProjectionMatrix: gl.getUniformLocation(\n        this.discProgram,\n        'uProjectionMatrix'\n      ),\n      uCameraPosition: gl.getUniformLocation(\n        this.discProgram,\n        'uCameraPosition'\n      ),\n      uScaleFactor: gl.getUniformLocation(this.discProgram, 'uScaleFactor'),\n      uRotationAxisVelocity: gl.getUniformLocation(\n        this.discProgram,\n        'uRotationAxisVelocity'\n      ),\n      uTex: gl.getUniformLocation(this.discProgram, 'uTex'),\n      uFrames: gl.getUniformLocation(this.discProgram, 'uFrames'),\n      uItemCount: gl.getUniformLocation(this.discProgram, 'uItemCount'),\n      uAtlasSize: gl.getUniformLocation(this.discProgram, 'uAtlasSize'),\n    };\n\n    this.discGeo = new DiscGeometry(56, 1);\n    this.discBuffers = this.discGeo.data;\n    this.discVAO = makeVertexArray(\n      gl,\n      [\n        [\n          makeBuffer(gl, this.discBuffers.vertices, gl.STATIC_DRAW),\n          this.discLocations.aModelPosition,\n          3,\n        ],\n        [\n          makeBuffer(gl, this.discBuffers.uvs, gl.STATIC_DRAW),\n          this.discLocations.aModelUvs,\n          2,\n        ],\n      ],\n      this.discBuffers.indices\n    );\n\n    this.icoGeo = new IcosahedronGeometry();\n    this.icoGeo.subdivide(1).spherize(this.SPHERE_RADIUS);\n    this.instancePositions = this.icoGeo.vertices.map((v) => v.position);\n    this.DISC_INSTANCE_COUNT = this.icoGeo.vertices.length;\n    this.#initDiscInstances(this.DISC_INSTANCE_COUNT);\n\n    this.worldMatrix = mat4.create();\n    this.#initTexture();\n\n    this.control = new ArcballControl(this.canvas, (deltaTime) =>\n      this.#onControlUpdate(deltaTime)\n    );\n\n    this.#updateCameraMatrix();\n    this.#updateProjectionMatrix(gl);\n    this.resize();\n\n    if (onInit) onInit(this);\n  }\n\n  #initTexture() {\n    const gl = this.gl;\n    this.tex = createAndSetupTexture(\n      gl,\n      gl.LINEAR,\n      gl.LINEAR,\n      gl.CLAMP_TO_EDGE,\n      gl.CLAMP_TO_EDGE\n    );\n\n    const itemCount = Math.max(1, this.items.length);\n    this.atlasSize = Math.ceil(Math.sqrt(itemCount));\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const cellSize = 512;\n\n    canvas.width = this.atlasSize * cellSize;\n    canvas.height = this.atlasSize * cellSize;\n\n    Promise.all(\n      this.items.map(\n        (item) =>\n          new Promise((resolve) => {\n            const img = new Image();\n            img.crossOrigin = 'anonymous';\n            img.onload = () => resolve(img);\n            img.src = item.image;\n          })\n      )\n    ).then((images) => {\n      images.forEach((img, i) => {\n        const x = (i % this.atlasSize) * cellSize;\n        const y = Math.floor(i / this.atlasSize) * cellSize;\n        ctx.drawImage(img, x, y, cellSize, cellSize);\n      });\n\n      gl.bindTexture(gl.TEXTURE_2D, this.tex);\n      gl.texImage2D(\n        gl.TEXTURE_2D,\n        0,\n        gl.RGBA,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        canvas\n      );\n      gl.generateMipmap(gl.TEXTURE_2D);\n    });\n  }\n\n  #initDiscInstances(count) {\n    const gl = this.gl;\n    this.discInstances = {\n      matricesArray: new Float32Array(count * 16),\n      matrices: [],\n      buffer: gl.createBuffer(),\n    };\n    for (let i = 0; i < count; ++i) {\n      const instanceMatrixArray = new Float32Array(\n        this.discInstances.matricesArray.buffer,\n        i * 16 * 4,\n        16\n      );\n      instanceMatrixArray.set(mat4.create());\n      this.discInstances.matrices.push(instanceMatrixArray);\n    }\n    gl.bindVertexArray(this.discVAO);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.discInstances.buffer);\n    gl.bufferData(\n      gl.ARRAY_BUFFER,\n      this.discInstances.matricesArray.byteLength,\n      gl.DYNAMIC_DRAW\n    );\n    const mat4AttribSlotCount = 4;\n    const bytesPerMatrix = 16 * 4;\n    for (let j = 0; j < mat4AttribSlotCount; ++j) {\n      const loc = this.discLocations.aInstanceMatrix + j;\n      gl.enableVertexAttribArray(loc);\n      gl.vertexAttribPointer(\n        loc,\n        4,\n        gl.FLOAT,\n        false,\n        bytesPerMatrix,\n        j * 4 * 4\n      );\n      gl.vertexAttribDivisor(loc, 1);\n    }\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    gl.bindVertexArray(null);\n  }\n\n  #animate(deltaTime) {\n    const gl = this.gl;\n    this.control.update(deltaTime, this.TARGET_FRAME_DURATION);\n\n    let positions = this.instancePositions.map((p) =>\n      vec3.transformQuat(vec3.create(), p, this.control.orientation)\n    );\n    const scale = 0.25;\n    const SCALE_INTENSITY = 0.6;\n    positions.forEach((p, ndx) => {\n      const s =\n        (Math.abs(p[2]) / this.SPHERE_RADIUS) * SCALE_INTENSITY +\n        (1 - SCALE_INTENSITY);\n      const finalScale = s * scale;\n      const matrix = mat4.create();\n      mat4.multiply(\n        matrix,\n        matrix,\n        mat4.fromTranslation(mat4.create(), vec3.negate(vec3.create(), p))\n      );\n      mat4.multiply(\n        matrix,\n        matrix,\n        mat4.targetTo(mat4.create(), [0, 0, 0], p, [0, 1, 0])\n      );\n      mat4.multiply(\n        matrix,\n        matrix,\n        mat4.fromScaling(mat4.create(), [finalScale, finalScale, finalScale])\n      );\n      mat4.multiply(\n        matrix,\n        matrix,\n        mat4.fromTranslation(mat4.create(), [0, 0, -this.SPHERE_RADIUS])\n      );\n\n      mat4.copy(this.discInstances.matrices[ndx], matrix);\n    });\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.discInstances.buffer);\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.discInstances.matricesArray);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n    this.smoothRotationVelocity = this.control.rotationVelocity;\n  }\n\n  #render() {\n    const gl = this.gl;\n    gl.useProgram(this.discProgram);\n\n    gl.enable(gl.CULL_FACE);\n    gl.enable(gl.DEPTH_TEST);\n\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n    gl.uniformMatrix4fv(\n      this.discLocations.uWorldMatrix,\n      false,\n      this.worldMatrix\n    );\n    gl.uniformMatrix4fv(\n      this.discLocations.uViewMatrix,\n      false,\n      this.camera.matrices.view\n    );\n    gl.uniformMatrix4fv(\n      this.discLocations.uProjectionMatrix,\n      false,\n      this.camera.matrices.projection\n    );\n    gl.uniform3f(\n      this.discLocations.uCameraPosition,\n      this.camera.position[0],\n      this.camera.position[1],\n      this.camera.position[2]\n    );\n    gl.uniform4f(\n      this.discLocations.uRotationAxisVelocity,\n      this.control.rotationAxis[0],\n      this.control.rotationAxis[1],\n      this.control.rotationAxis[2],\n      this.smoothRotationVelocity * 1.1\n    );\n\n    gl.uniform1i(this.discLocations.uItemCount, this.items.length);\n    gl.uniform1i(this.discLocations.uAtlasSize, this.atlasSize);\n\n    gl.uniform1f(this.discLocations.uFrames, this.#frames);\n    gl.uniform1f(this.discLocations.uScaleFactor, this.scaleFactor);\n    gl.uniform1i(this.discLocations.uTex, 0);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.tex);\n\n    gl.bindVertexArray(this.discVAO);\n    gl.drawElementsInstanced(\n      gl.TRIANGLES,\n      this.discBuffers.indices.length,\n      gl.UNSIGNED_SHORT,\n      0,\n      this.DISC_INSTANCE_COUNT\n    );\n  }\n\n  #updateCameraMatrix() {\n    mat4.targetTo(\n      this.camera.matrix,\n      this.camera.position,\n      [0, 0, 0],\n      this.camera.up\n    );\n    mat4.invert(this.camera.matrices.view, this.camera.matrix);\n  }\n\n  #updateProjectionMatrix(gl) {\n    this.camera.aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\n    const height = this.SPHERE_RADIUS * 0.35;\n    const distance = this.camera.position[2];\n    if (this.camera.aspect > 1) {\n      this.camera.fov = 2 * Math.atan(height / distance);\n    } else {\n      this.camera.fov = 2 * Math.atan(height / this.camera.aspect / distance);\n    }\n    mat4.perspective(\n      this.camera.matrices.projection,\n      this.camera.fov,\n      this.camera.aspect,\n      this.camera.near,\n      this.camera.far\n    );\n    mat4.invert(\n      this.camera.matrices.inversProjection,\n      this.camera.matrices.projection\n    );\n  }\n\n  #onControlUpdate(deltaTime) {\n    const timeScale = deltaTime / this.TARGET_FRAME_DURATION + 0.0001;\n    let damping = 5 / timeScale;\n    let cameraTargetZ = 3;\n\n    const isMoving =\n      this.control.isPointerDown ||\n      Math.abs(this.smoothRotationVelocity) > 0.01;\n\n    if (isMoving !== this.movementActive) {\n      this.movementActive = isMoving;\n      this.onMovementChange(isMoving);\n    }\n\n    if (!this.control.isPointerDown) {\n      const nearestVertexIndex = this.#findNearestVertexIndex();\n      const itemIndex = nearestVertexIndex % Math.max(1, this.items.length);\n      this.onActiveItemChange(itemIndex);\n      const snapDirection = vec3.normalize(\n        vec3.create(),\n        this.#getVertexWorldPosition(nearestVertexIndex)\n      );\n      this.control.snapTargetDirection = snapDirection;\n    } else {\n      cameraTargetZ += this.control.rotationVelocity * 80 + 2.5;\n      damping = 7 / timeScale;\n    }\n\n    this.camera.position[2] +=\n      (cameraTargetZ - this.camera.position[2]) / damping;\n    this.#updateCameraMatrix();\n  }\n\n  #findNearestVertexIndex() {\n    const n = this.control.snapDirection;\n    const inversOrientation = quat.conjugate(\n      quat.create(),\n      this.control.orientation\n    );\n    const nt = vec3.transformQuat(vec3.create(), n, inversOrientation);\n\n    let maxD = -1;\n    let nearestVertexIndex;\n    for (let i = 0; i < this.instancePositions.length; ++i) {\n      const d = vec3.dot(nt, this.instancePositions[i]);\n      if (d > maxD) {\n        maxD = d;\n        nearestVertexIndex = i;\n      }\n    }\n    return nearestVertexIndex;\n  }\n\n  #getVertexWorldPosition(index) {\n    const nearestVertexPos = this.instancePositions[index];\n    return vec3.transformQuat(\n      vec3.create(),\n      nearestVertexPos,\n      this.control.orientation\n    );\n  }\n}\n\nconst defaultItems = [\n  {\n    image: 'https://picsum.photos/900/900?grayscale',\n    link: 'https://google.com/',\n    title: '',\n    description: '',\n  },\n];\n\nexport default function InfiniteMenu({ items = [] }) {\n  const canvasRef = useRef(null);\n  const [activeItem, setActiveItem] = useState(null);\n  const [isMoving, setIsMoving] = useState(false);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    let sketch;\n\n    const handleActiveItem = (index) => {\n      const itemIndex = index % items.length;\n      setActiveItem(items[itemIndex]);\n    };\n\n    if (canvas) {\n      sketch = new InfiniteGridMenu(\n        canvas,\n        items.length ? items : defaultItems,\n        handleActiveItem,\n        setIsMoving,\n        (sk) => sk.run()\n      );\n    }\n\n    const handleResize = () => {\n      if (sketch) {\n        sketch.resize();\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [items]);\n\n  const handleButtonClick = () => {\n    if (!activeItem?.link) return;\n    if (activeItem.link.startsWith('http')) {\n      window.open(activeItem.link, '_blank');\n    } else {\n      console.log('Internal route:', activeItem.link);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-full\">\n      <canvas\n        id=\"infinite-grid-menu-canvas\"\n        ref={canvasRef}\n        className=\"cursor-grab w-full h-full overflow-hidden relative outline-none active:cursor-grabbing\"\n      />\n\n      {activeItem && (\n        <>\n          {/* Title */}\n          <h2\n            className={`\n          select-none\n          absolute\n          font-black\n          text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl\n          left-3 sm:left-4 md:left-6 lg:left-8 xl:left-10\n          top-[45%] sm:top-1/2\n          transform\n          translate-x-1/4\n          -translate-y-1/2\n          transition-all\n          ease-[cubic-bezier(0.25,0.1,0.25,1.0)]\n          ${\n            isMoving\n              ? 'opacity-0 pointer-events-none duration-[100ms]'\n              : 'opacity-100 pointer-events-auto duration-[500ms]'\n          }\n        `}\n          >\n            {activeItem.title}\n          </h2>\n\n          {/* Description */}\n          <p\n            className={`\n          select-none\n          absolute\n          max-w-[12ch] sm:max-w-[15ch] md:max-w-[18ch] lg:max-w-[22ch] xl:max-w-[28ch]\n          text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl\n          top-[55%]\n          right-1 sm:right-2 md:right-4 lg:right-6 xl:right-8\n          transition-all\n          ease-[cubic-bezier(0.25,0.1,0.25,1.0)]\n          ${\n            isMoving\n              ? 'opacity-0 pointer-events-none duration-[100ms] translate-x-[-50%] -translate-y-1/2'\n              : 'opacity-100 pointer-events-auto duration-[500ms] translate-x-[-90%] -translate-y-1/2'\n          }\n        `}\n          >\n            {activeItem.description}\n          </p>\n\n          {/* Responsive Button */}\n          <div\n            onClick={handleButtonClick}\n            className={`\n          absolute\n          left-1/2\n          z-10\n          w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 xl:w-24 xl:h-24\n          grid place-items-center\n          bg-[#ff0000]\n          border-4 sm:border-5 md:border-6 lg:border-8 xl:border-10 border-black\n          rounded-full\n          cursor-pointer\n          shadow-lg\n          hover:scale-110 active:scale-95\n          transition-transform duration-300 ease-[cubic-bezier(0.25,0.1,0.25,1.0)]\n          ${\n            isMoving\n              ? 'bottom-[-80px] opacity-0 pointer-events-none duration-[100ms] scale-0 -translate-x-1/2'\n              : 'bottom-[4em] sm:bottom-[3.8em] md:bottom-[4em] lg:bottom-[4.5em] xl:bottom-[5em] opacity-100 pointer-events-auto duration-[500ms] scale-100 -translate-x-1/2'\n          }\n        `}\n          >\n            <p className=\"select-none relative text-[#060010] top-[2px] text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl\">\n              &#x2197;\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","export default \"__VITE_ASSET__BzyXejmf__\"","export default \"__VITE_ASSET__DeA8Xku6__\"","export default \"__VITE_ASSET__BXItlkIe__\"","import React from 'react';\nimport InfiniteMenu from '../components/InfiniteMenu';\nimport logo from '../assets/Adarsh.png';\nimport instaImg from '../assets/insta.png';\nimport spotifyImg from '../assets/spotify.png';\nimport githubImg from '../assets/git.jpg';\n\nexport default function Scroll() {\n  const items = [\n    {\n      image: logo,\n      link: 'https://www.youtube.com/@adadarsh23',\n      title: 'YouTube',\n      description: 'Watch videos and explore content.',\n    },\n    {\n      image: instaImg,\n      link: 'https://www.instagram.com/adadarsh23/',\n      title: 'Instagram',\n      description: 'Share photos and stories.',\n    },\n    {\n      image: spotifyImg,\n      link: 'https://open.spotify.com/artist/7nd9x69ZcOpoft6TMDnXCa',\n      title: 'Spotify',\n      description: 'Listen to music and podcasts.',\n    },\n    {\n      image: githubImg,\n      link: 'https://github.com/adadarsh23',\n      title: 'GitHub',\n      description: 'Explore my projects and contributions.',\n    },\n  ];\n  return (\n    <section className=\"bg-black\">\n      <div className=\"pt-10 pb-10\">\n        <InfiniteMenu items={items} />\n      </div>\n    </section>\n  );\n}\n"],"names":["discVertShaderSource","discFragShaderSource","Face","a","b","c","Vertex","x","y","z","vec3.fromValues","vec3.create","vec2.create","Geometry","args","i","divisions","midPointCache","f","div","newFaces","face","ndx","mAB","mBC","mCA","radius","vertex","vec3.normalize","vec3.scale","v","ndxA","ndxB","cache","cacheKey","IcosahedronGeometry","DiscGeometry","steps","alpha","createShader","gl","type","source","shader","createProgram","shaderSources","transformFeedbackVaryings","attribLocations","program","attrib","makeVertexArray","bufLocNumElmPairs","indices","va","buffer","loc","numElem","indexBuffer","resizeCanvasToDisplaySize","canvas","dpr","displayWidth","displayHeight","needResize","makeBuffer","sizeOrData","usage","buf","createAndSetupTexture","minFilter","magFilter","wrapS","wrapT","texture","ArcballControl","quat.create","updateCallback","e","vec2.set","vec2.copy","deltaTime","targetFrameDuration","timeScale","angleFactor","snapRotation","INTENSITY","ANGLE_AMPLIFICATION","midPointerPos","vec2.sub","vec2.scale","vec2.sqrLen","vec2.add","p","#project","q","quat.slerp","sqrDist","vec3.squaredDistance","distanceFactor","combinedQuat","quat.multiply","quat.normalize","RA_INTENSITY","rad","s","rv","RV_INTENSITY","out","axis","vec3.cross","d","vec3.dot","angle","quat.setAxisAngle","pos","w","h","xySq","rSq","InfiniteGridMenu","#time","#deltaTime","#deltaFrames","#frames","mat4.create","items","onActiveItemChange","onMovementChange","onInit","#init","#updateProjectionMatrix","time","#animate","#render","t","vec2.fromValues","vec2.clone","#initDiscInstances","#initTexture","#onControlUpdate","#updateCameraMatrix","itemCount","ctx","cellSize","item","resolve","img","images","count","instanceMatrixArray","mat4AttribSlotCount","bytesPerMatrix","j","positions","vec3.transformQuat","scale","SCALE_INTENSITY","finalScale","matrix","mat4.multiply","mat4.fromTranslation","vec3.negate","mat4.targetTo","mat4.fromScaling","mat4.copy","mat4.invert","height","distance","mat4.perspective","damping","cameraTargetZ","isMoving","nearestVertexIndex","#findNearestVertexIndex","itemIndex","snapDirection","#getVertexWorldPosition","n","inversOrientation","quat.conjugate","nt","maxD","index","nearestVertexPos","defaultItems","InfiniteMenu","canvasRef","useRef","activeItem","setActiveItem","useState","setIsMoving","useEffect","sketch","handleActiveItem","sk","handleResize","handleButtonClick","jsxs","jsx","Fragment","instaImg","spotifyImg","githubImg","Scroll","logo"],"mappings":"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"}