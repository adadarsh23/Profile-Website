var wT=Object.defineProperty;var ST=(t,e,r)=>e in t?wT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var St=(t,e,r)=>ST(t,typeof e!="symbol"?e+"":e,r);var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ET(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CT(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch(o){}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var wc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function TT(){return Zg||(Zg=1,(function(t){function e(N,F){var z=N.length;N.push(F);e:for(;0<z;){var Q=z-1>>>1,ne=N[Q];if(0<i(ne,F))N[Q]=F,N[z]=ne,z=Q;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var F=N[0],z=N.pop();if(z!==F){N[0]=z;e:for(var Q=0,ne=N.length,ce=ne>>>1;Q<ce;){var _e=2*(Q+1)-1,ge=N[_e],Z=_e+1,J=N[Z];if(0>i(ge,z))Z<ne&&0>i(J,ge)?(N[Q]=J,N[Z]=z,Q=Z):(N[Q]=ge,N[_e]=z,Q=_e);else if(Z<ne&&0>i(J,z))N[Q]=J,N[Z]=z,Q=Z;else break e}}return F}function i(N,F){var z=N.sortIndex-F.sortIndex;return z!==0?z:N.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,p=null,y=3,v=!1,b=!1,m=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function k(N){for(var F=r(h);F!==null;){if(F.callback===null)n(h);else if(F.startTime<=N)n(h),F.sortIndex=F.expirationTime,e(c,F);else break;F=r(h)}}function S(N){if(m=!1,k(N),!b)if(r(c)!==null)b=!0,T||(T=!0,W());else{var F=r(h);F!==null&&te(S,F.startTime-N)}}var T=!1,A=-1,I=5,P=-1;function U(){return w?!0:!(t.unstable_now()-P<I)}function j(){if(w=!1,T){var N=t.unstable_now();P=N;var F=!0;try{e:{b=!1,m&&(m=!1,E(A),A=-1),v=!0;var z=y;try{t:{for(k(N),p=r(c);p!==null&&!(p.expirationTime>N&&U());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,y=p.priorityLevel;var ne=Q(p.expirationTime<=N);if(N=t.unstable_now(),typeof ne=="function"){p.callback=ne,k(N),F=!0;break t}p===r(c)&&n(c),k(N)}else n(c);p=r(c)}if(p!==null)F=!0;else{var ce=r(h);ce!==null&&te(S,ce.startTime-N),F=!1}}break e}finally{p=null,y=z,v=!1}F=void 0}}finally{F?W():T=!1}}}var W;if(typeof R=="function")W=function(){R(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=j,W=function(){B.postMessage(null)}}else W=function(){C(j,0)};function te(N,F){A=C(function(){N(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(N){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var z=y;y=F;try{return N()}finally{y=z}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=y;y=N;try{return F()}finally{y=z}},t.unstable_scheduleCallback=function(N,F,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,N){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,N={id:f++,callback:F,priorityLevel:N,startTime:z,expirationTime:ne,sortIndex:-1},z>Q?(N.sortIndex=z,e(h,N),r(c)===null&&N===r(h)&&(m?(E(A),A=-1):m=!0,te(S,z-Q))):(N.sortIndex=ne,e(c,N),b||v||(b=!0,T||(T=!0,W()))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var F=y;return function(){var z=y;y=F;try{return N.apply(this,arguments)}finally{y=z}}}})(Sc)),Sc}var Qg;function KN(){return Qg||(Qg=1,wc.exports=TT()),wc.exports}const OT="modulepreload",RT=function(t){return"/"+t},em={},zo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=c(r.map(h=>{if(h=RT(h),h in em)return;em[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(h,'"]').concat(p)))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":OT,f||(y.as="script"),y.crossOrigin="",y.href=h,l&&y.setAttribute("nonce",l),document.head.appendChild(y),f)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error("Unable to preload CSS for ".concat(h))))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},ni=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kr=globalThis,vo="10.18.0";function Bl(){return Ed(Kr),Kr}function Ed(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||vo,e[vo]=e[vo]||{}}function Cd(t,e,r=Kr){const n=r.__SENTRY__=r.__SENTRY__||{},i=n[vo]=n[vo]||{};return i[t]||(i[t]=e())}const kT="Sentry Logger ",tm={};function Ov(t){if(!("console"in Kr))return t();const e=Kr.console,r={},n=Object.keys(tm);n.forEach(i=>{const o=tm[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function xT(){Od().enabled=!0}function AT(){Od().enabled=!1}function Rv(){return Od().enabled}function IT(...t){Td("log",...t)}function MT(...t){Td("warn",...t)}function PT(...t){Td("error",...t)}function Td(t,...e){ni&&Rv()&&Ov(()=>{Kr.console[t]("".concat(kT,"[").concat(t,"]:"),...e)})}function Od(){return ni?Cd("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Ir={enable:xT,disable:AT,isEnabled:Rv,log:IT,warn:MT,error:PT},kv=Object.prototype.toString;function XN(t){switch(kv.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return UT(t,Error)}}function DT(t,e){return kv.call(t)==="[object ".concat(e,"]")}function LT(t){return DT(t,"Object")}function NT(t){return!!(t!=null&&t.then&&typeof t.then=="function")}function UT(t,e){try{return t instanceof e}catch(r){return!1}}function jT(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:"".concat(t.slice(0,e),"...")}function $T(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch(n){ni&&Ir.log('Failed to add non-enumerable property "'.concat(e,'" to object'),t)}}function FT(){const t=Kr;return t.crypto||t.msCrypto}function bo(t=FT()){let e=()=>Math.random()*16;try{if(t!=null&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t!=null&&t.getRandomValues&&(e=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch(r){}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(e()&15)>>r/4).toString(16))}const xv=1e3;function Av(){return Date.now()/xv}function BT(){const{performance:t}=Kr;if(!(t!=null&&t.now)||!t.timeOrigin)return Av;const e=t.timeOrigin;return()=>(e+t.now())/xv}let Qa;function zT(){return(Qa!=null?Qa:Qa=BT())()}function WT(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||zT(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:bo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did="".concat(e.did)),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Iv(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const n={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Iv(n[i],e[i],r-1));return n}function rm(){return bo()}const Rh="_sentrySpan";function nm(t,e){e?$T(t,Rh,e):delete t[Rh]}function im(t){return t[Rh]}const qT=100;class mn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:rm(),sampleRand:Math.random()}}clone(){const e=new mn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,nm(e,im(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&WT(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,n=r instanceof mn?r.getScopeData():LT(r)?e:void 0,{tags:i,extra:o,user:a,contexts:l,level:c,fingerprint:h=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),h.length&&(this._fingerprint=h),f&&(this._propagationContext=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,nm(this,void 0),this._attachments=[],this.setPropagationContext({traceId:rm(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){var o;const n=typeof r=="number"?r:qT;if(n<=0)return this;const i={timestamp:Av(),...e,message:e.message?jT(e.message,2048):e.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:im(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Iv(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const n=(r==null?void 0:r.event_id)||bo();if(!this._client)return ni&&Ir.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){const i=(n==null?void 0:n.event_id)||bo();if(!this._client)return ni&&Ir.warn("No client configured on scope - will not capture message!"),i;const o=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,r){const n=(r==null?void 0:r.event_id)||bo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(ni&&Ir.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function VT(){return Cd("defaultCurrentScope",()=>new mn)}function GT(){return Cd("defaultIsolationScope",()=>new mn)}class HT{constructor(e,r){let n;e?n=e:n=new mn;let i;r?i=r:i=new mn,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){const r=this._pushScope();let n;try{n=e(r)}catch(i){throw this._popScope(),i}return NT(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function rs(){const t=Bl(),e=Ed(t);return e.stack=e.stack||new HT(VT(),GT())}function KT(t){return rs().withScope(t)}function XT(t,e){const r=rs();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function sm(t){return rs().withScope(()=>t(rs().getIsolationScope()))}function YT(){return{withIsolationScope:sm,withScope:KT,withSetScope:XT,withSetIsolationScope:(t,e)=>sm(e),getCurrentScope:()=>rs().getScope(),getIsolationScope:()=>rs().getIsolationScope()}}function Rd(t){const e=Ed(t);return e.acs?e.acs:YT()}function kd(){const t=Bl();return Rd(t).getCurrentScope()}function JT(){const t=Bl();return Rd(t).getIsolationScope()}function YN(...t){const e=Bl(),r=Rd(e);if(t.length===2){const[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}function ZT(){return kd().getClient()}const QT=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function eO(t){return t==="http"||t==="https"}function tO(t,e=!1){const{host:r,path:n,pass:i,port:o,projectId:a,protocol:l,publicKey:c}=t;return"".concat(l,"://").concat(c).concat(e&&i?":".concat(i):"")+"@".concat(r).concat(o?":".concat(o):"","/").concat(n&&"".concat(n,"/")).concat(a)}function rO(t){const e=QT.exec(t);if(!e){Ov(()=>{console.error("Invalid Sentry Dsn: ".concat(t))});return}const[r,n,i="",o="",a="",l=""]=e.slice(1);let c="",h=l;const f=h.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),h=f.pop()),h){const p=h.match(/^\d+/);p&&(h=p[0])}return Mv({host:o,pass:i,path:c,projectId:h,port:a,protocol:r,publicKey:n})}function Mv(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function nO(t){if(!ni)return!0;const{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Ir.error("Invalid Sentry Dsn: ".concat(a," missing")),!0))?!1:r.match(/^\d+$/)?eO(n)?e&&isNaN(parseInt(e,10))?(Ir.error("Invalid Sentry Dsn: Invalid port ".concat(e)),!1):!0:(Ir.error("Invalid Sentry Dsn: Invalid protocol ".concat(n)),!1):(Ir.error("Invalid Sentry Dsn: Invalid projectId ".concat(r)),!1)}function iO(t){const e=typeof t=="string"?rO(t):Mv(t);if(!(!e||!nO(e)))return e}function sO(t){if(t)return oO(t)?{captureContext:t}:lO(t)?{captureContext:t}:t}function oO(t){return t instanceof mn||typeof t=="function"}const aO=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function lO(t){return Object.keys(t).some(e=>aO.includes(e))}function JN(t,e){return kd().captureException(t,sO(e))}function uO(){return JT().lastEventId()}function cO(t){const e=t.protocol?"".concat(t.protocol,":"):"",r=t.port?":".concat(t.port):"";return"".concat(e,"//").concat(t.host).concat(r).concat(t.path?"/".concat(t.path):"","/api/")}function hO(t,e){const r=iO(t);if(!r)return"";const n="".concat(cO(r),"embed/error-page/");let i="dsn=".concat(tO(r));for(const o in e)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const a=e.user;if(!a)continue;a.name&&(i+="&name=".concat(encodeURIComponent(a.name))),a.email&&(i+="&email=".concat(encodeURIComponent(a.email)))}else i+="&".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o]));return"".concat(n,"?").concat(i)}const el=Kr,om=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ZN(t={}){const e=el.document,r=(e==null?void 0:e.head)||(e==null?void 0:e.body);if(!r){om&&Ir.error("[showReportDialog] Global document not defined");return}const n=kd(),i=ZT(),o=i==null?void 0:i.getDsn();if(!o){om&&Ir.error("[showReportDialog] DSN not configured");return}const a={...t,user:{...n.getUser(),...t.user},eventId:t.eventId||uO()},l=el.document.createElement("script");l.async=!0,l.crossOrigin="anonymous",l.src=hO(o,a);const{onLoad:c,onClose:h}=a;if(c&&(l.onload=c),h){const f=p=>{if(p.data==="__sentry_reportdialog_closed__")try{h()}finally{el.removeEventListener("message",f)}};el.addEventListener("message",f)}r.appendChild(l)}var fl={exports:{}},dO=fl.exports,am;function fO(){return am||(am=1,(function(t,e){(function(n,i){t.exports=i()})(dO,function(){return(function(){var r={"./packages/@logrocket/console/src/index.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=h(c("./packages/@logrocket/console/src/registerConsole.js")),p=f.default;l.default=p}),"./packages/@logrocket/console/src/registerConsole.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=v;var f=h(c("./node_modules/@babel/runtime/helpers/typeof.js")),p=h(c("./packages/@logrocket/utils/src/enhanceFunc.ts")),y=c("./packages/@logrocket/exceptions/src/index.js");function v(b){var m=[],w=["log","warn","info","error","debug"];return w.forEach(function(C){m.push((0,p.default)(console,C,function(){for(var E=arguments.length,R=new Array(E),k=0;k<E;k++)R[k]=arguments[k];b.addEvent("lr.core.LogEvent",function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=S.isEnabled;if((0,f.default)(T)==="object"&&T[C]===!1||T===!1)return null;if(C==="error"&&S.shouldAggregateConsoleErrors)if(R&&R.length>=2&&R[0]==="ERROR"){var A="";try{A=" ".concat(R[1])}catch(I){}y.Capture.captureMessage(b,"".concat(R[0]).concat(A),R,{},!0)}else y.Capture.captureMessage(b,R[0],R,{},!0);return{logLevel:C.toUpperCase(),args:R}})}))}),function(){m.forEach(function(C){return C()})}}}),"./packages/@logrocket/exceptions/src/Capture.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.captureMessage=v,l.captureException=b;var f=c("./packages/@logrocket/utils/src/scrubException.ts"),p=h(c("./packages/@logrocket/utils/src/TraceKit.js")),y=h(c("./packages/@logrocket/exceptions/src/stackTraceFromError.js"));function v(m,w,C){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,k={exceptionType:R?"CONSOLE":"MESSAGE",message:w,messageArgs:C,browserHref:window.location?window.location.href:""};(0,f.scrubException)(k,E),m.addEvent("lr.core.Exception",function(){return k})}function b(m,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"WINDOW",k=E||p.default.computeStackTrace(w),S={exceptionType:R,errorType:k.name,message:k.message,browserHref:window.location?window.location.href:""};(0,f.scrubException)(S,C);var T={_stackTrace:(0,y.default)(k)};m.addEvent("lr.core.Exception",function(){return S},T)}}),"./packages/@logrocket/exceptions/src/index.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=c("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"registerExceptions",{enumerable:!0,get:function(){return p.default}}),l.Capture=void 0;var p=h(c("./packages/@logrocket/exceptions/src/registerExceptions.js")),y=b(c("./packages/@logrocket/exceptions/src/Capture.js"));l.Capture=y;function v(m){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(v=function(R){return R?C:w})(m)}function b(m,w){if(m&&m.__esModule)return m;if(m===null||f(m)!=="object"&&typeof m!="function")return{default:m};var C=v(w);if(C&&C.has(m))return C.get(m);var E={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in m)if(k!=="default"&&Object.prototype.hasOwnProperty.call(m,k)){var S=R?Object.getOwnPropertyDescriptor(m,k):null;S&&(S.get||S.set)?Object.defineProperty(E,k,S):E[k]=m[k]}return E.default=m,C&&C.set(m,E),E}}),"./packages/@logrocket/exceptions/src/raven/raven.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=h(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=h(c("./node_modules/@babel/runtime/helpers/createClass.js")),y=h(c("./packages/@logrocket/utils/src/TraceKit.js")),v=Object.prototype;function b(k){return k===void 0}function m(k){return typeof k=="function"}function w(k,S){return v.hasOwnProperty.call(k,S)}function C(k,S,T,A){var I=k[S];k[S]=T(I),A&&A.push([k,S,I])}var E=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{};E.document;var R=(function(){function k(S){var T=S.captureException;(0,f.default)(this,k),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=T,y.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,p.default)(k,[{key:"uninstall",value:function(){y.default.report.unsubscribe(this._errorHandler);for(var T;this._wrappedBuiltIns.length;){T=this._wrappedBuiltIns.shift();var A=T[0],I=T[1],P=T[2];A[I]=P}}},{key:"_errorHandler",value:function(T){this._ignoreOnError||this.captureException(T)}},{key:"_ignoreNextOnError",value:function(){var T=this;this._ignoreOnError+=1,setTimeout(function(){T._ignoreOnError-=1})}},{key:"context",value:function(T,A,I){return m(T)&&(I=A||[],A=T,T=void 0),this.wrap(T,A).apply(this,I)}},{key:"wrap",value:function(T,A,I){var P=this;if(b(A)&&!m(T))return T;if(m(T)&&(A=T,T=void 0),!m(A))return A;try{if(A.__lr__)return A;if(A.__lr_wrapper__)return A.__lr_wrapper__;if(!Object.isExtensible(A))return A}catch(W){return A}function U(){var W=[],q=arguments.length,B=!T||T&&T.deep!==!1;for(I&&m(I)&&I.apply(this,arguments);q--;)W[q]=B?P.wrap(T,arguments[q]):arguments[q];try{return A.apply(this,W)}catch(te){throw P._ignoreNextOnError(),P.captureException(y.default.computeStackTrace(te),T),te}}for(var j in A)w(A,j)&&(U[j]=A[j]);return U.prototype=A.prototype,A.__lr_wrapper__=U,U.__lr__=!0,U.__inner__=A,U}},{key:"_instrumentTryCatch",value:function(){var T=this,A=T._wrappedBuiltIns;function I(q){return function(B,te){for(var N=new Array(arguments.length),F=0;F<N.length;++F)N[F]=arguments[F];var z=N[0];return m(z)&&(N[0]=T.wrap(z)),q.apply?q.apply(this,N):q(N[0],N[1])}}function P(q){var B=E[q]&&E[q].prototype;B&&B.hasOwnProperty&&B.hasOwnProperty("addEventListener")&&(C(B,"addEventListener",function(te){return function(N,F,z,Q){try{F&&F.handleEvent&&(F.handleEvent=T.wrap(F.handleEvent))}catch(ce){}var ne;return te.call(this,N,T.wrap(F,void 0,ne),z,Q)}},A),C(B,"removeEventListener",function(te){return function(N,F,z,Q){try{var ne=F==null?void 0:F.__lr_wrapper__;ne&&te.call(this,N,ne,z,Q)}catch(ce){}return te.call(this,N,F,z,Q)}},void 0))}C(E,"setTimeout",I,A),C(E,"setInterval",I,A),E.requestAnimationFrame&&C(E,"requestAnimationFrame",function(q){return function(B){return q(T.wrap(B))}},A);for(var U=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],j=0;j<U.length;j++)P(U[j]);var W=E.jQuery||E.$;W&&W.fn&&W.fn.ready&&C(W.fn,"ready",function(q){return function(B){return q.call(this,T.wrap(B))}},A)}}]),k})();l.default=R}),"./packages/@logrocket/exceptions/src/registerExceptions.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=c("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=m;var p=h(c("./packages/@logrocket/exceptions/src/raven/raven.js")),y=b(c("./packages/@logrocket/exceptions/src/Capture.js"));function v(w){if(typeof WeakMap!="function")return null;var C=new WeakMap,E=new WeakMap;return(v=function(k){return k?E:C})(w)}function b(w,C){if(w&&w.__esModule)return w;if(w===null||f(w)!=="object"&&typeof w!="function")return{default:w};var E=v(C);if(E&&E.has(w))return E.get(w);var R={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in w)if(S!=="default"&&Object.prototype.hasOwnProperty.call(w,S)){var T=k?Object.getOwnPropertyDescriptor(w,S):null;T&&(T.get||T.set)?Object.defineProperty(R,S,T):R[S]=w[S]}return R.default=w,E&&E.set(w,R),R}function m(w){var C=new p.default({captureException:function(k){y.captureException(w,null,null,k)}}),E=function(k){k.reason instanceof Error?y.captureException(w,k.reason,null,null,"UNHANDLED_REJECTION"):w.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:k.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",E),function(){window.removeEventListener("unhandledrejection",E),C.uninstall()}}}),"./packages/@logrocket/exceptions/src/stackTraceFromError.js":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=c;function c(h){function f(p){return p===null?void 0:p}return h.stack?h.stack.map(function(p){return{lineNumber:f(p.line),columnNumber:f(p.column),fileName:f(p.url),functionName:f(p.func)}}):void 0}}),"./packages/@logrocket/network/src/fetchIntercept.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var f=h(c("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),p=c("./packages/@logrocket/network/src/registerXHR.js"),y=[];function v(C,E){for(var R=y.reduce(function(I,P){return[P].concat(I)},[]),k=arguments.length,S=new Array(k>2?k-2:0),T=2;T<k;T++)S[T-2]=arguments[T];var A=Promise.resolve(S);return R.forEach(function(I){var P=I.request,U=I.requestError;(P||U)&&(A=A.then(function(j){return P.apply(void 0,[E].concat((0,f.default)(j)))},function(j){return U.apply(void 0,[E].concat((0,f.default)(j)))}))}),A=A.then(function(I){(0,p.setActive)(!1);var P,U;try{P=C.apply(void 0,(0,f.default)(I))}catch(j){U=j}if((0,p.setActive)(!0),U)throw U;return P}),R.forEach(function(I){var P=I.response,U=I.responseError;(P||U)&&(A=A.then(function(j){return P(E,j)},function(j){return U&&U(E,j)}))}),A}function b(C){if(!(!C.fetch||!C.Promise)){var E=C.fetch.polyfill;C.fetch=(function(R){var k=0;return function(){for(var S=arguments.length,T=new Array(S),A=0;A<S;A++)T[A]=arguments[A];return v.apply(void 0,[R,k++].concat(T))}})(C.fetch),E&&(C.fetch.polyfill=E)}}var m=!1,w={register:function(E){return m||(m=!0,b(window)),y.push(E),function(){var R=y.indexOf(E);R>=0&&y.splice(R,1)}},clear:function(){y=[]}};l.default=w}),"./packages/@logrocket/network/src/index.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=R;var f=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=h(c("./node_modules/@babel/runtime/helpers/typeof.js")),y=h(c("./packages/@logrocket/network/src/registerFetch.js")),v=c("./packages/@logrocket/network/src/registerIonic.ts"),b=h(c("./packages/@logrocket/network/src/registerNetworkInformation.js")),m=h(c("./packages/@logrocket/network/src/registerXHR.js")),w=h(c("./packages/@logrocket/utils/src/mapValues.ts"));function C(k,S){var T=Object.keys(k);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(k);S&&(A=A.filter(function(I){return Object.getOwnPropertyDescriptor(k,I).enumerable})),T.push.apply(T,A)}return T}function E(k){for(var S=1;S<arguments.length;S++){var T=arguments[S]!=null?arguments[S]:{};S%2?C(Object(T),!0).forEach(function(A){(0,f.default)(k,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(T)):C(Object(T)).forEach(function(A){Object.defineProperty(k,A,Object.getOwnPropertyDescriptor(T,A))})}return k}function R(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1,isDisabled:!1};if((S==null?void 0:S.isDisabled)===!0)return function(){};var T=S.isReactNative,A=S.shouldAugmentNPS,I=S.shouldParseXHRBlob,P={},U=function(Q){var ne=4096e3,ce=Q;if((0,p.default)(Q)==="object"&&Q!=null){var _e=Object.getPrototypeOf(Q);(_e===Object.prototype||_e===null)&&(ce=JSON.stringify(Q))}if(ce&&ce.length&&ce.length>ne&&typeof ce=="string"){var ge=ce.substring(0,1e3);return"".concat(ge," ... LogRocket truncating to first 1000 characters.\n      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network")}return Q},j=function(Q,ne){var ce=ne.method;k.addEvent("lr.network.RequestEvent",function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ge=_e.isEnabled,Z=ge===void 0?!0:ge,J=_e.requestSanitizer,de=J===void 0?function(H){return H}:J;if(!Z)return null;var Y=null;try{Y=de(E(E({},ne),{},{reqId:Q}))}catch(H){console.error(H)}if(Y){var ae=Y.url;if(typeof document<"u"&&typeof document.createElement=="function"){var le=document.createElement("a");le.href=Y.url,ae=le.href}return{reqId:Q,url:ae,headers:(0,w.default)(Y.headers,function(H){return"".concat(H)}),body:U(Y.body),method:ce,referrer:Y.referrer||void 0,mode:Y.mode||void 0,credentials:Y.credentials||void 0}}return P[Q]=!0,null})},W=function(Q,ne){var ce=ne.method,_e=ne.status,ge=ne.responseType;k.addEvent("lr.network.ResponseEvent",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=Z.isEnabled,de=J===void 0?!0:J,Y=Z.responseSanitizer,ae=Y===void 0?function(H){return H}:Y;if(de){if(P[Q])return delete P[Q],null}else return null;var le=null;try{le=ae(E(E({},ne),{},{reqId:Q}))}catch(H){console.error(H)}return le?{reqId:Q,responseType:ge,status:le.status,headers:(0,w.default)(le.headers,function(H){return"".concat(H)}),body:U(le.body),method:ce}:{reqId:Q,responseType:ge,status:_e,headers:{},body:null,method:ce}})},q=function(Q){return k.isDisabled||P[Q]===!0},B=(0,y.default)({addRequest:j,addResponse:W,isIgnored:q}),te=(0,m.default)({addRequest:j,addResponse:W,isIgnored:q,logger:k,shouldAugmentNPS:A,shouldParseXHRBlob:I}),N=(0,v.registerIonic)({addRequest:j,addResponse:W,isIgnored:q}),F=T?function(){}:(0,b.default)(k);return function(){F(),B(),te(),N()}}}),"./packages/@logrocket/network/src/registerFetch.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=E;var f=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=h(c("./packages/@logrocket/utils/src/mapValues.ts")),y=h(c("./packages/@logrocket/network/src/fetchIntercept.js"));function v(R,k){var S=Object.keys(R);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(R);k&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(R,A).enumerable})),S.push.apply(S,T)}return S}function b(R){for(var k=1;k<arguments.length;k++){var S=arguments[k]!=null?arguments[k]:{};k%2?v(Object(S),!0).forEach(function(T){(0,f.default)(R,T,S[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(S)):v(Object(S)).forEach(function(T){Object.defineProperty(R,T,Object.getOwnPropertyDescriptor(S,T))})}return R}function m(R){if(R==null||typeof R.forEach!="function")return R;var k={};return R.forEach(function(S,T){k[T]?k[T]="".concat(k[T],",").concat(S):k[T]="".concat(S)}),k}var w=function(k){return(0,p.default)(m(k),function(S){return"".concat(S)})};function C(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:R.url,headers:w(R.headers),method:R.method&&R.method.toUpperCase(),referrer:R.referrer||void 0,mode:R.mode||void 0,credentials:R.credentials||void 0}}function E(R){var k=R.addRequest,S=R.addResponse,T=R.isIgnored,A="fetch-",I={},P=y.default.register({request:function(j){for(var W=arguments.length,q=new Array(W>1?W-1:0),B=1;B<W;B++)q[B-1]=arguments[B];var te;if(typeof Request<"u"&&q[0]instanceof Request){var N;try{N=q[0].clone().text()}catch(F){N=Promise.resolve("LogRocket fetch error: ".concat(F.message))}te=N.then(function(F){return b(b({},C(q[0])),{},{body:F})},function(F){return b(b({},C(q[0])),{},{body:"LogRocket fetch error: ".concat(F.message)})})}else te=Promise.resolve(b(b({},C(q[1])),{},{url:"".concat(q[0]),body:(q[1]||{}).body}));return te.then(function(F){return I[j]=F.method,k("".concat(A).concat(j),F),q})},requestError:function(j,W){return Promise.reject(W)},response:function(j,W){var q,B;if(T("".concat(A).concat(j)))return W;if(W.headers.get("content-type")==="text/event-stream")B=Promise.resolve("LogRocket skipped consuming an event-stream body.");else{try{q=W.clone()}catch(Q){var te={url:W.url,responseType:W.type.toUpperCase(),status:W.status,headers:w(W.headers),body:"LogRocket fetch error: ".concat(Q.message),method:I[j]};return delete I[j],S("".concat(A).concat(j),te),W}try{if(window.TextDecoder&&q.body){var N=q.body.getReader(),F=new window.TextDecoder("utf-8"),z="";B=N.read().then(function Q(ne){var ce=ne.done,_e=ne.value;if(ce)return z;var ge=_e?F.decode(_e,{stream:!0}):"";return z+=ge,N.read().then(Q)})}else B=q.text()}catch(Q){B=Promise.resolve("LogRocket error reading body: ".concat(Q.message))}}return B.catch(function(Q){if(!(Q.name==="AbortError"&&Q instanceof DOMException))return"LogRocket error reading body: ".concat(Q.message)}).then(function(Q){var ne={url:W.url,responseType:W.type.toUpperCase(),status:W.status,headers:w(W.headers),body:Q,method:I[j]};delete I[j],S("".concat(A).concat(j),ne)}),W},responseError:function(j,W){var q={url:void 0,status:0,headers:{},body:"".concat(W)};return S("".concat(A).concat(j),q),Promise.reject(W)}});return P}}),"./packages/@logrocket/network/src/registerIonic.ts":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.mergeHeaders=N,l.serializeQueryParams=_e,l.appendQueryParamsString=ge,l.processData=de,l.registerIonic=le;var f=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=h(c("./node_modules/@babel/runtime/helpers/typeof.js")),y=h(c("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),v=h(c("./packages/@logrocket/utils/src/protectFunc.ts"));function b(H,ie){var se=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!se){if(Array.isArray(H)||(se=m(H))||ie){se&&(H=se);var he=0,me=function(){};return{s:me,n:function(){return he>=H.length?{done:!0}:{done:!1,value:H[he++]}},e:function(Vt){throw Vt},f:me}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ae=!0,st=!1,ot;return{s:function(){se=se.call(H)},n:function(){var Vt=se.next();return Ae=Vt.done,Vt},e:function(Vt){st=!0,ot=Vt},f:function(){try{!Ae&&se.return!=null&&se.return()}finally{if(st)throw ot}}}}function m(H,ie){if(H){if(typeof H=="string")return w(H,ie);var se=Object.prototype.toString.call(H).slice(8,-1);if(se==="Object"&&H.constructor&&(se=H.constructor.name),se==="Map"||se==="Set")return Array.from(H);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return w(H,ie)}}function w(H,ie){(ie==null||ie>H.length)&&(ie=H.length);for(var se=0,he=new Array(ie);se<ie;se++)he[se]=H[se];return he}function C(H,ie){var se=Object.keys(H);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(H);ie&&(he=he.filter(function(me){return Object.getOwnPropertyDescriptor(H,me).enumerable})),se.push.apply(se,he)}return se}function E(H){for(var ie=1;ie<arguments.length;ie++){var se=arguments[ie]!=null?arguments[ie]:{};ie%2?C(Object(se),!0).forEach(function(he){(0,f.default)(H,he,se[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(se)):C(Object(se)).forEach(function(he){Object.defineProperty(H,he,Object.getOwnPropertyDescriptor(se,he))})}return H}var R=new Set(["get","put","post","patch","head","delete","options","upload","download"]),k=new Set(["urlencoded","json","utf8"]),S=new Set(["raw","multipart"]),T="ionic-",A=new Set(["desktop","mobileweb","pwa"]),I=new Set(["FormData"]),P=new Set,U=new Set(["string"]),j=new Set(["string","array"]),W={utf8:U,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:P};function q(H,ie,se){if(typeof ie!="string")throw new Error("".concat(se," must be one of: ").concat((0,y.default)(H).join(", ")));if(ie=ie.trim().toLowerCase(),!H.has(ie))throw new Error("".concat(se," must be one of: ").concat((0,y.default)(H).join(", ")));return ie}function B(H,ie,se){if((0,p.default)(H)!=="object")throw new Error(se);for(var he=0,me=Object.keys(H);he<me.length;he++){var Ae=me[he];if(!ie.has((0,p.default)(H[Ae])))throw new Error(se)}return H}function te(H,ie){var se=new URL(H),he=se.host;return ie.getHeaders(he)||null}function N(H,ie){return E(E({},H),ie)}function F(H,ie,se){var he=se.getHeaders("*")||{},me=te(H,se)||{};return N(N(he,me),ie)}function z(H,ie){return ie?encodeURIComponent(H):H}function Q(H,ie,se){return H.length?se?"".concat(encodeURIComponent(H),"[").concat(encodeURIComponent(ie),"]"):"".concat(H,"[").concat(ie,"]"):se?encodeURIComponent(ie):ie}function ne(H,ie,se){var he=[],me=b(ie),Ae;try{for(me.s();!(Ae=me.n()).done;){var st=Ae.value;if(Array.isArray(st)){he.push(ne("".concat(H,"[]"),st,se));continue}else if((0,p.default)(st)==="object"){he.push(ce("".concat(H,"[]").concat(st),se,void 0));continue}he.push("".concat(Q(H,"",se),"=").concat(z(st,se)))}}catch(ot){me.e(ot)}finally{me.f()}return he.join("&")}function ce(H,ie,se){var he=[];for(var me in ie)if(ie.hasOwnProperty(me)){var Ae=H.length?"".concat(H,"[").concat(me,"]"):me;if(Array.isArray(ie[me])){he.push(ne(Ae,ie[me],se));continue}else if((0,p.default)(ie[me])==="object"&&ie[me]!==null){he.push(ce(Ae,ie[me],se));continue}he.push("".concat(Q(H,me,se),"=").concat(z(ie[me],se)))}return he.join("&")}function _e(H,ie){return ce("",H,ie)}function ge(H,ie){if(!H.length||!ie.length)return H;var se=new URL(H),he=se.host,me=se.pathname,Ae=se.search,st=se.hash,ot=se.protocol;return"".concat(ot,"//").concat(he).concat(me).concat(Ae.length?"".concat(Ae,"&").concat(ie):"?".concat(ie)).concat(st)}function Z(H){return W[H]||W.default}function J(H){return H==="multipart"?I:P}function de(H,ie){var se=(0,p.default)(H),he=Z(ie),me=J(ie);if(me.size>0){var Ae=!1;if(me.forEach(function(st){c.g[st]&&H instanceof c.g[st]&&(Ae=!0)}),!Ae)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,y.default)(me).join(", ")))}if(me.size===0&&!he.has(se))throw new Error("TYPE_MISMATCH_DATA ".concat((0,y.default)(he).join(", ")));switch(ie){case"utf8":return H;default:return JSON.stringify(H,void 0,2)}}function Y(H,ie){H=H||{};var se,he=H.data;try{se=q(k,H.serializer||ie.getDataSerializer(),"serializer / data payload type")}catch(me){se=q(S,H.serializer||ie.getDataSerializer(),"serializer / data payload type"),he={}}return{data:he,filePath:H.filePath,followRedirect:H.followRedirect,headers:B(H.headers||{},U,"Invalid header type, must be string"),method:q(R,H.method||R[0],"method"),name:H.name,params:B(H.params||{},j,"Invalid param, must be of type string or array"),responseType:H.responseType,serializer:se,connectTimeout:H.connectTimeout,readTimeout:H.readTimeout,timeout:H.timeout}}var ae=0;function le(H){var ie,se,he,me=H.addRequest,Ae=H.addResponse,st=H.isIgnored,ot=(ie=window.cordova)===null||ie===void 0||(se=ie.plugin)===null||se===void 0?void 0:se.http,mt={},Vt=!1;if(typeof ot>"u")return function(){};var Ss=(he=window.ionic)===null||he===void 0?void 0:he.platforms;if(typeof Ss<"u"&&typeof Ss.some=="function"&&Ss.some(function(nt){return A.has(nt)}))return function(){};var Jr=ot.sendRequest,Es=(0,v.default)(function(nt,er,Sr){if(!st("".concat(T).concat(Sr)))try{var Cs={url:nt.url||"",status:nt.status<600&&nt.status>=100?nt.status:0,headers:nt.headers||{},body:er?nt.data:nt.error,method:mt[Sr].toUpperCase()};Ae("".concat(T).concat(Sr),Cs)}catch(Ts){var lr={url:nt.url||"",status:nt.status<600&&nt.status>=100?nt.status:0,headers:nt.headers||{},body:"LogRocket fetch error: ".concat(Ts.message),method:mt[Sr].toUpperCase()};Ae("".concat(T).concat(Sr),lr)}});return ot.sendRequest=function(nt,er,Sr,Cs){var lr=++ae,Ts=function(Qr){Vt||(Es(Qr,!0,lr),delete mt[lr]),Sr(Qr)},Qo=function(Qr){Vt||(Es(Qr,!1,lr),delete mt[lr]),Cs(Qr)};if(!Vt)try{var tr=Y(er,ot),ru=ge(nt,ce("",tr.params,!0)),Os=F(nt,tr.headers,ot),Rs=tr.method||"get";mt[lr]=Rs;var ea={url:ru,method:Rs.toUpperCase(),headers:Os||{},body:de(tr.data||{},tr.serializer)};me("".concat(T).concat(lr),ea)}catch(Zr){var nu={url:nt,method:(er.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(Zr.message)};me("".concat(T).concat(lr),nu)}return Jr(nt,er,Ts,Qo)},function(){Vt=!0,ot.sendRequest=Jr,mt={}}}}),"./packages/@logrocket/network/src/registerNetworkInformation.js":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=h;var c={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function h(f){var p=void 0;function y(){var v={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(v.effectiveType=c[window.navigator.connection.effectiveType]||"UNKNOWN"):v.effectiveType="NONE",!(p&&v.online===p.online&&v.effectiveType===p.effectiveType)&&(p=v,f.addEvent("lr.network.NetworkStatusEvent",function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=b.isEnabled,w=m===void 0?!0:m;return w?v:null}))}return setTimeout(y),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",y),window.addEventListener("online",y),window.addEventListener("offline",y),function(){window.removeEventListener("offline",y),window.removeEventListener("online",y),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",y)}}}),"./packages/@logrocket/network/src/registerXHR.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.setActive=C,l.default=R;var f=h(c("./packages/@logrocket/utils/src/mapValues.ts")),p=h(c("./packages/@logrocket/utils/src/enhanceFunc.ts")),y=h(c("./packages/@logrocket/utils/src/protectFunc.ts")),v=h(c("./packages/@logrocket/utils/src/startsWith.js")),b=c("./packages/@logrocket/utils/src/constants/nps.js"),m=c("./packages/@logrocket/utils/src/constants/statusCodes.ts"),w=!0;function C(k){w=k}var E=0;function R(k){var S=k.addRequest,T=k.addResponse,A=k.isIgnored,I=k.logger,P=k.shouldAugmentNPS,U=P===void 0?!0:P,j=k.shouldParseXHRBlob,W=j===void 0?!1:j,q=XMLHttpRequest,B=new WeakMap,te=!1,N="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(z,Q){var ne=new q(z,Q);if(!w)return ne;B.set(ne,{xhrId:++E,requestHeaders:{},sent:!1,done:!1});var ce=ne.open;function _e(){for(var Y=arguments.length,ae=new Array(Y),le=0;le<Y;le++)ae[le]=arguments[le];try{var H=ae[1];if(window.URL&&typeof window.URL=="function"&&H.search(b.WOOTRIC_RESPONSES_REGEX)===0){var ie=new window.URL(I.recordingURL);ie.searchParams.set("nps","wootric");var se=new window.URL(H),he=se.searchParams.get("response[text]"),me=he?"".concat(he,"\n\n"):"";se.searchParams.set("response[text]","".concat(me,"<").concat(ie.href,"|View LogRocket session>")),ae[1]=se.href}}catch(Ae){}return ce.apply(this,ae)}var ge=ne.send;function Z(){for(var Y=arguments.length,ae=new Array(Y),le=0;le<Y;le++)ae[le]=arguments[le];try{var H=B.get(ne);if(window.URL&&typeof window.URL=="function"&&H&&H.url&&H.url.search(b.DELIGHTED_RESPONSES_REGEX)===0&&ae.length&&ae[0].indexOf(b.DELIGHTED_FEEDBACK_PREFIX)!==-1){var ie=new window.URL(I.recordingURL);ie.searchParams.set("nps","delighted");var se=encodeURIComponent(ie.href),he=ae[0].split("&").map(function(me){if((0,v.default)(me,b.DELIGHTED_FEEDBACK_PREFIX)){var Ae=me===b.DELIGHTED_FEEDBACK_PREFIX;return"".concat(me).concat(Ae?"":"\n\n","<").concat(se,"|View LogRocket session>")}return me}).join("&");ae[0]=he}}catch(me){}return ge.apply(this,ae)}U&&(ne.open=_e,ne.send=Z);var J=function(){var ae;if(!te){var le=B.get(ne);if(!(!le||A("".concat(N).concat(le.xhrId)))&&!(!le.sent||!le.done)){var H=le.status||m.XHR_CUSTOM_STATUS_CODES.error;H===m.XHR_CUSTOM_STATUS_CODES.error&&((ae=window.navigator)===null||ae===void 0?void 0:ae.onLine)===!1&&(H=m.XHR_CUSTOM_STATUS_CODES.offline);var ie={url:le.url,status:H,headers:le.responseHeaders,body:le.responseBody,method:(le.method||"").toUpperCase()};if(W&&ie.body instanceof Blob){var se=new FileReader;se.readAsText(ie.body),se.onload=function(){try{ie.body=JSON.parse(se.result)}catch(he){}T("".concat(N).concat(le.xhrId),ie)}}else T("".concat(N).concat(le.xhrId),ie)}}};(0,p.default)(ne,"open",(0,y.default)(function(Y,ae){if(!te){var le=B.get(ne);le.method=Y,le.url=ae}})),(0,p.default)(ne,"send",(0,y.default)(function(Y){if(!te){var ae=B.get(ne);if(ae){var le={url:ae.url,method:ae.method&&ae.method.toUpperCase(),headers:(0,f.default)(ae.requestHeaders||{},function(H){return H.join(", ")}),body:Y};S("".concat(N).concat(ae.xhrId),le),ae.sent=!0,J()}}})),(0,p.default)(ne,"setRequestHeader",(0,y.default)(function(Y,ae){if(!te){var le=B.get(ne);le&&(le.requestHeaders=le.requestHeaders||{},le.requestHeaders[Y]=le.requestHeaders[Y]||[],le.requestHeaders[Y].push(ae))}}));var de={readystatechange:(0,y.default)(function(){if(!te&&ne.readyState===4){var Y=B.get(ne);if(!Y||A("".concat(N).concat(Y.xhrId)))return;var ae=ne.getAllResponseHeaders()||"";Y.responseHeaders=ae.split(/[\r\n]+/).reduce(function(H,ie){var se=H,he=ie.split(": ");if(he.length>0){var me=he.shift(),Ae=he.join(": ");H[me]?se[me]+=", ".concat(Ae):se[me]=Ae}return se},{});var le;try{switch(ne.responseType){case"json":le=I._shouldCloneResponse?JSON.parse(JSON.stringify(ne.response)):ne.response;break;case"arraybuffer":case"blob":{le=ne.response;break}case"document":{le=ne.responseXML;break}case"text":case"":{le=ne.responseText;break}default:le=""}}catch(H){le="LogRocket: Error accessing response."}Y.responseBody=le,Y.status=ne.status,Y.done=!0}}),abort:(0,y.default)(function(){var Y=B.get(ne);Y&&(Y.status=m.XHR_CUSTOM_STATUS_CODES.aborted)}),timeout:(0,y.default)(function(){var Y=B.get(ne);Y&&(Y.status=m.XHR_CUSTOM_STATUS_CODES.timeout)}),loadend:(0,y.default)(function(){J()})};return Object.keys(de).forEach(function(Y){ne.addEventListener(Y,de[Y])}),ne},XMLHttpRequest.prototype=q.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(F){XMLHttpRequest[F]=q[F]}),function(){te=!0,XMLHttpRequest=q}}}),"./packages/@logrocket/now/src/index.js":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var c=Date.now.bind(Date),h=c(),f=typeof performance<"u"&&performance.now?performance.now.bind(performance):function(){return c()-h};l.default=f}),"./packages/@logrocket/redux/src/createEnhancer.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=m;var f=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=h(c("./packages/@logrocket/now/src/index.js"));function y(w,C){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);C&&(R=R.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),E.push.apply(E,R)}return E}function v(w){for(var C=1;C<arguments.length;C++){var E=arguments[C]!=null?arguments[C]:{};C%2?y(Object(E),!0).forEach(function(R){(0,f.default)(w,R,E[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):y(Object(E)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(E,R))})}return w}var b=0;function m(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=C.stateSanitizer,R=E===void 0?function(T){return T}:E,k=C.actionSanitizer,S=k===void 0?function(T){return T}:k;return function(T){return function(A,I,P){var U=T(A,I,P),j=U.dispatch,W=b++;w.addEvent("lr.redux.InitialState",function(){var B;try{B=R(U.getState())}catch(te){console.error(te.toString())}return{state:B,storeId:W}});var q=function(te){var N=(0,p.default)(),F,z;try{z=j(te)}catch(ne){F=ne}finally{var Q=(0,p.default)()-N;w.addEvent("lr.redux.ReduxAction",function(){var ne=null,ce=null;try{ne=R(U.getState()),ce=S(te)}catch(_e){console.error(_e.toString())}return ne&&ce?{storeId:W,action:ce,duration:Q,stateDelta:ne}:null})}if(F)throw F;return z};return v(v({},U),{},{dispatch:q})}}}}),"./packages/@logrocket/redux/src/createMiddleware.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=y;var f=h(c("./packages/@logrocket/now/src/index.js")),p=0;function y(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=b.stateSanitizer,w=m===void 0?function(R){return R}:m,C=b.actionSanitizer,E=C===void 0?function(R){return R}:C;return function(R){var k=p++;return v.addEvent("lr.redux.InitialState",function(){var S;try{S=w(R.getState())}catch(T){console.error(T.toString())}return{state:S,storeId:k}}),function(S){return function(T){var A=(0,f.default)(),I,P;try{P=S(T)}catch(j){I=j}finally{var U=(0,f.default)()-A;v.addEvent("lr.redux.ReduxAction",function(){var j=null,W=null;try{j=w(R.getState()),W=E(T)}catch(q){console.error(q.toString())}return j&&W?{storeId:k,action:W,duration:U,stateDelta:j}:null})}if(I)throw I;return P}}}}}),"./packages/@logrocket/redux/src/index.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createEnhancer",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(l,"createMiddleware",{enumerable:!0,get:function(){return p.default}});var f=h(c("./packages/@logrocket/redux/src/createEnhancer.js")),p=h(c("./packages/@logrocket/redux/src/createMiddleware.js"))}),"./packages/@logrocket/utils/src/TraceKit.js":(function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var h={collectWindowErrors:!0,debug:!1},f=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{},p=[].slice,y="?",v=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function b(){return typeof document>"u"||typeof document.location>"u"?"":document.location.href}h.report=(function(){var C=[],E=null,R=null,k=null;function S(N){W(),C.push(N)}function T(N){for(var F=C.length-1;F>=0;--F)C[F]===N&&C.splice(F,1)}function A(){q(),C=[]}function I(N,F){var z=null;if(!(F&&!h.collectWindowErrors)){for(var Q in C)if(C.hasOwnProperty(Q))try{C[Q].apply(null,[N].concat(p.call(arguments,2)))}catch(ne){z=ne}if(z)throw z}}var P,U;function j(N,F,z,Q,ne){var ce=null;if(k)h.computeStackTrace.augmentStackTraceWithInitialElement(k,F,z,N),B();else if(ne)ce=h.computeStackTrace(ne),I(ce,!0);else{var _e={url:F,line:z,column:Q},ge=void 0,Z=N,J;if({}.toString.call(N)==="[object String]"){var J=N.match(v);J&&(ge=J[1],Z=J[2])}_e.func=y,ce={name:ge,message:Z,url:b(),stack:[_e]},I(ce,!0)}return P?P.apply(this,arguments):!1}function W(){U||(P=f.onerror,f.onerror=j,U=!0)}function q(){U&&(f.onerror=P,U=!1,P=void 0)}function B(){var N=k,F=E;E=null,k=null,R=null,I.apply(null,[N,!1].concat(F))}function te(N,F){var z=p.call(arguments,1);if(k){if(R===N)return;B()}var Q=h.computeStackTrace(N);if(k=Q,R=N,E=z,setTimeout(function(){R===N&&B()},Q.incomplete?2e3:0),F!==!1)throw N}return te.subscribe=S,te.unsubscribe=T,te.uninstall=A,te})(),h.computeStackTrace=(function(){function C(S){if(!(typeof S.stack>"u"||!S.stack)){var T=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,A=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,I=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,P=S.stack.split("\n"),U=[],j,W;/^(.*) is undefined$/.exec(S.message);for(var q=0,B=P.length;q<B;++q){if(j=T.exec(P[q])){var te=j[2]&&j[2].indexOf("native")!==-1;W={url:te?null:j[2],func:j[1]||y,args:te?[j[2]]:[],line:j[3]?+j[3]:null,column:j[4]?+j[4]:null}}else if(j=I.exec(P[q]))W={url:j[2],func:j[1]||y,args:[],line:+j[3],column:j[4]?+j[4]:null};else if(j=A.exec(P[q]))W={url:j[3],func:j[1]||y,args:j[2]?j[2].split(","):[],line:j[4]?+j[4]:null,column:j[5]?+j[5]:null};else continue;!W.func&&W.line&&(W.func=y),U.push(W)}return U.length?(!U[0].column&&typeof S.columnNumber<"u"&&(U[0].column=S.columnNumber+1),{name:S.name,message:S.message,url:b(),stack:U}):null}}function E(S,T,A,I){var P={url:T,line:A};if(P.url&&P.line){if(S.incomplete=!1,P.func||(P.func=y),S.stack.length>0&&S.stack[0].url===P.url){if(S.stack[0].line===P.line)return!1;if(!S.stack[0].line&&S.stack[0].func===P.func)return S.stack[0].line=P.line,!1}return S.stack.unshift(P),S.partial=!0,!0}else S.incomplete=!0;return!1}function R(S,T){for(var A=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,I=[],P={},U=!1,j,W,q=R.caller;q&&!U;q=q.caller)if(!(q===k||q===h.report)){if(W={url:null,func:y,line:null,column:null},q.name?W.func=q.name:(j=A.exec(q.toString()))&&(W.func=j[1]),typeof W.func>"u")try{W.func=j.input.substring(0,j.input.indexOf("{"))}catch(te){}P[""+q]?U=!0:P[""+q]=!0,I.push(W)}T&&I.splice(0,T);var B={name:S.name,message:S.message,url:b(),stack:I};return E(B,S.sourceURL||S.fileName,S.line||S.lineNumber,S.message||S.description),B}function k(S,T){var A=null;T=T==null?0:+T;try{if(A=C(S),A)return A}catch(I){if(h.debug)throw I}try{if(A=R(S,T+1),A)return A}catch(I){if(h.debug)throw I}return{name:S.name,message:S.message,url:b()}}return k.augmentStackTraceWithInitialElement=E,k.computeStackTraceFromStackProp=C,k})();var m=h;l.default=m}),"./packages/@logrocket/utils/src/constants/nps.js":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DELIGHTED_FEEDBACK_PREFIX=l.DELIGHTED_RESPONSES_REGEX=l.WOOTRIC_RESPONSES_REGEX=void 0;var c=/^https:\/\/production.wootric.com\/responses/;l.WOOTRIC_RESPONSES_REGEX=c;var h=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;l.DELIGHTED_RESPONSES_REGEX=h;var f="comment=";l.DELIGHTED_FEEDBACK_PREFIX=f}),"./packages/@logrocket/utils/src/constants/statusCodes.ts":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.getStatusText=m,l.XHR_CUSTOM_FAILURE_STATUSES=l.XHR_CUSTOM_STATUS_CODES=l.STATUS_CODES=void 0;var f=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),p,y={0:"",100:"Continue",101:"Switching Protocol",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"unused",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};l.STATUS_CODES=y;var v={error:0,timeout:444,aborted:499,offline:1001};l.XHR_CUSTOM_STATUS_CODES=v;var b=(p={},(0,f.default)(p,v.error,"Error"),(0,f.default)(p,v.timeout,"Timeout"),(0,f.default)(p,v.aborted,"Aborted"),(0,f.default)(p,v.offline,"Offline"),p);l.XHR_CUSTOM_FAILURE_STATUSES=b;function m(w){return y[String(w)]}}),"./packages/@logrocket/utils/src/createUnsubListener.ts":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.createUnsubListener=v,l.Handler=void 0;var f=h(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=h(c("./node_modules/@babel/runtime/helpers/createClass.js")),y=(function(){function b(m){(0,f.default)(this,b),this._value=void 0,this._value=m}return(0,p.default)(b,[{key:"get",value:function(){return this._value}},{key:"clear",value:function(){this._value=void 0}}]),b})();l.Handler=y;function v(b){return function(){b.clear()}}}),"./packages/@logrocket/utils/src/enhanceFunc.ts":(function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=p;var h=c("./packages/@logrocket/utils/src/createUnsubListener.ts"),f=function(){};function p(y,v,b){if(typeof y[v]!="function")return f;try{var m=function(){for(var R,k=arguments.length,S=new Array(k),T=0;T<k;T++)S[T]=arguments[T];var A=w.apply(this,S);return(R=C.get())===null||R===void 0||R.apply(this,S),A},w=y[v],C=new h.Handler(b);return y[v]=m,function(){C.clear(),y[v]===m&&(y[v]=w)}}catch(E){return f}}}),"./packages/@logrocket/utils/src/logError.js":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var c=typeof console<"u"&&console.error&&console.error.bind,h=c?console.error.bind(console):function(){},f=h;l.default=f}),"./packages/@logrocket/utils/src/mapValues.ts":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=c;function c(h,f){if(h==null)return{};var p={};return Object.keys(h).forEach(function(y){p[y]=f(h[y])}),p}}),"./packages/@logrocket/utils/src/protectFunc.ts":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=y;var f=h(c("./packages/@logrocket/utils/src/sendTelemetryData.js")),p=h(c("./packages/@logrocket/utils/src/logError.js"));function y(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};return function(){var m;try{m=v.apply(void 0,arguments)}catch(C){if(typeof window<"u"&&window._lrdebug)throw C;var w=b(C);(0,p.default)("LogRocket",C),(0,f.default)(C,w)}return m}}}),"./packages/@logrocket/utils/src/scrubException.ts":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.scrubException=C;var f=h(c("./node_modules/@babel/runtime/helpers/typeof.js"));function p(E,R){var k=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!k){if(Array.isArray(E)||(k=y(E))||R){k&&(E=k);var S=0,T=function(){};return{s:T,n:function(){return S>=E.length?{done:!0}:{done:!1,value:E[S++]}},e:function(j){throw j},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A=!0,I=!1,P;return{s:function(){k=k.call(E)},n:function(){var j=k.next();return A=j.done,j},e:function(j){I=!0,P=j},f:function(){try{!A&&k.return!=null&&k.return()}finally{if(I)throw P}}}}function y(E,R){if(E){if(typeof E=="string")return v(E,R);var k=Object.prototype.toString.call(E).slice(8,-1);if(k==="Object"&&E.constructor&&(k=E.constructor.name),k==="Map"||k==="Set")return Array.from(E);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return v(E,R)}}function v(E,R){(R==null||R>E.length)&&(R=E.length);for(var k=0,S=new Array(R);k<R;k++)S[k]=E[k];return S}function b(E){return/boolean|number|string/.test((0,f.default)(E))}var m=["level","logger"],w=["tags","extra"];function C(E,R){if(R){var k=p(m),S;try{for(k.s();!(S=k.n()).done;){var T=S.value,A=R[T];b(A)&&(E[T]=A.toString())}}catch(F){k.e(F)}finally{k.f()}var I=p(w),P;try{for(I.s();!(P=I.n()).done;){for(var U=P.value,j=R[U]||{},W={},q=0,B=Object.keys(j);q<B.length;q++){var te=B[q],N=j[te];b(N)&&(W[te.toString()]=N.toString())}E[U]=W}}catch(F){I.e(F)}finally{I.f()}}}}),"./packages/@logrocket/utils/src/sendTelemetryData.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.sendTelemetry=C,l.default=E;var f=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=h(c("./packages/@logrocket/utils/src/logError.js")),y=h(c("./packages/@logrocket/utils/src/TraceKit.js"));function v(R,k){var S=Object.keys(R);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(R);k&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(R,A).enumerable})),S.push.apply(S,T)}return S}function b(R){for(var k=1;k<arguments.length;k++){var S=arguments[k]!=null?arguments[k]:{};k%2?v(Object(S),!0).forEach(function(T){(0,f.default)(R,T,S[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(S)):v(Object(S)).forEach(function(T){Object.defineProperty(R,T,Object.getOwnPropertyDescriptor(S,T))})}return R}var m="8304d923ee86bbba88df4d491ccbc1c75ecfbe70";function w(R){try{var k,S,T=R.message,A="https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793",I=JSON.stringify(b({message:T,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":typeof navigator<"u"&&navigator.userAgent},url:typeof location<"u"&&location.href},release:m,environment:((k=window)===null||k===void 0||(S=k.__SDKCONFIG__)===null||S===void 0?void 0:S.scriptEnv)||"prod"},R));if(typeof window<"u"){var P=window._lrXMLHttpRequest||XMLHttpRequest,U=new P;U.open("POST",A),U.send(I)}else typeof fetch<"u"&&fetch(A,{method:"POST",body:I}).catch(function(j){(0,p.default)("Failed to send via fetch",j)})}catch(j){(0,p.default)("Failed to send",j)}}function C(R,k){if(typeof window<"u"&&window._lrdebug)return void(0,p.default)(R);k&&k.extra&&k.extra.appID&&typeof k.extra.appID.indexOf=="function"&&k.extra.appID.indexOf("au2drp/")===0&&Math.random()>=.25||w(b({message:R},k))}function E(R,k){try{var S=R.message,T;try{T=JSON.stringify(k).slice(0,1e3)}catch(I){try{T="Could not stringify payload: ".concat(Object.prototype.toString.call(k))}catch(P){}}var A;try{A=y.default.computeStackTrace(R).stack.map(function(I){return{filename:I.url,lineno:I.line,colno:I.column,function:I.func||"?"}})}catch(I){}w({message:S,extra:{stringPayload:T},exception:{values:[{type:R.type,value:S,stacktrace:{frames:A}}]}})}catch(I){(0,p.default)("Failed to send",I)}}}),"./packages/@logrocket/utils/src/startsWith.js":(function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=c;function c(h,f){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return h&&f&&h.substring(p,p+f.length)===f}}),"./packages/logrocket/src/LogRocket.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.MAX_QUEUE_SIZE=void 0;var f=h(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=h(c("./node_modules/@babel/runtime/helpers/createClass.js")),y=h(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),v=h(c("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),b=h(c("./packages/@logrocket/network/src/index.js")),m=c("./packages/@logrocket/exceptions/src/index.js"),w=h(c("./packages/@logrocket/console/src/index.js")),C=c("./packages/@logrocket/redux/src/index.js");function E(A,I){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(A);I&&(U=U.filter(function(j){return Object.getOwnPropertyDescriptor(A,j).enumerable})),P.push.apply(P,U)}return P}function R(A){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?E(Object(P),!0).forEach(function(U){(0,y.default)(A,U,P[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):E(Object(P)).forEach(function(U){Object.defineProperty(A,U,Object.getOwnPropertyDescriptor(P,U))})}return A}var k=1e3;l.MAX_QUEUE_SIZE=k;var S=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=I.ingestServer,U=(0,v.default)(I,["ingestServer"]);return P?R({serverURL:"".concat(P,"/i"),statsURL:"".concat(P,"/s")},U):U},T=(function(){function A(){var I=this;(0,f.default)(this,A),this._buffer=[],["log","info","warn","error","debug"].forEach(function(P){I[P]=function(){for(var U=arguments.length,j=new Array(U),W=0;W<U;W++)j[W]=arguments[W];I.addEvent("lr.core.LogEvent",function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return P==="error"&&q.shouldAggregateConsoleErrors&&m.Capture.captureMessage(I,j[0],j,{},!0),{logLevel:P.toUpperCase(),args:j}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,p.default)(A,[{key:"addEvent",value:function(P,U){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=Date.now();this._run(function(q){q.addEvent(P,U,R(R({},j),{},{timeOverride:W}))})}},{key:"onLogger",value:function(P){for(this._logger=P;this._buffer.length>0;){var U=this._buffer.shift();U(this._logger)}}},{key:"_run",value:function(P){if(!this._isDisabled)if(this._logger)P(this._logger);else{if(this._buffer.length>=k){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(P.bind(this))}}},{key:"init",value:function(P){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var j,W=U.shouldAugmentNPS,q=W===void 0?!0:W,B=U.shouldParseXHRBlob,te=B===void 0?!1:B,N=U.shouldDetectExceptions,F=N===void 0?!0:N;F&&this._installed.push((0,m.registerExceptions)(this)),this._installed.push((0,b.default)(this,{shouldAugmentNPS:!!q,shouldParseXHRBlob:!!te,isDisabled:(U==null||(j=U.network)===null||j===void 0?void 0:j.isEnabled)===!1})),this._installed.push((0,w.default)(this)),this._isInitialized=!0,this._run(function(z){z.init(P,S(U))})}}},{key:"start",value:function(){this._run(function(P){P.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(P){return P()}),this._buffer=[],this._run(function(P){P.uninstall()})}},{key:"identify",value:function(P,U){this._run(function(j){j.identify(P,U)})}},{key:"startNewSession",value:function(){this._run(function(P){P.startNewSession()})}},{key:"track",value:function(P,U){this._run(function(j){j.track(P,U)})}},{key:"getSessionURL",value:function(P){if(typeof P!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(U){U.getSessionURL?U.getSessionURL(P):P(U.recordingURL)})}},{key:"trackScrollEvent",value:function(P){this._logger&&this._logger.trackScrollEvent(P)}},{key:"getVersion",value:function(P){this._run(function(U){P(U.version)})}},{key:"captureMessage",value:function(P){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m.Capture.captureMessage(this,P,[P],U)}},{key:"captureException",value:function(P){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m.Capture.captureException(this,P,U)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,C.createEnhancer)(this,P)}},{key:"reduxMiddleware",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,C.createMiddleware)(this,P)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),A})();l.default=T}),"./packages/logrocket/src/makeLogRocket.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=v;var f=h(c("./packages/logrocket/src/LogRocket.js")),p="LogRocket on React Native requires the LogRocket React Native specific SDK. See setup guide here https://docs.logrocket.com/reference/react-native.",y=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(w){return function(){return w.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(w){return function(C){return w(C)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function v(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return new f.default};if(typeof navigator<"u"&&navigator.product==="ReactNative")throw new Error(p);if(typeof window<"u"){if(window._disableLogRocket)return m();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var C=w();return b(C),C}}return y()}}),"./packages/logrocket/src/setup.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.getDomainsAndEnv=b,l.setupBaseSDKCONFIG=m,l.default=w;var f=h(c("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=h(c("./packages/logrocket/src/makeLogRocket.js")),y={"cdn.logrocket.com":"https://r.logrocket.io","cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn.ingest-lr.com":"https://r.ingest-lr.com","cdn.lr-intake.com":"https://r.lr-intake.com","cdn.intake-lr.com":"https://r.intake-lr.com","cdn.logr-ingest.com":"https://r.logr-ingest.com","cdn.lrkt-in.com":"https://r.lrkt-in.com","cdn.lgrckt-in.com":"https://r.lgrckt-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com","cdn-staging.ingest-lr.com":"https://staging-i.ingest-lr.com","cdn-staging.lr-intake.com":"https://staging-i.lr-intake.com","cdn-staging.intake-lr.com":"https://staging-i.intake-lr.com","cdn-staging.logr-ingest.com":"https://staging-i.logr-ingest.com","cdn-staging.lrkt-in.com":"https://staging-i.lrkt-in.com","cdn-staging.lgrckt-in.com":"https://staging-i.lgrckt-in.com"};function v(C){return C.startsWith("cdn-staging")?"staging":C.startsWith("localhost")?"development":"prod"}function b(C){if(C==="script"||C==="shopify-pixel"){try{var E=document.currentScript,R=E.src.match(/^(https?:\/\/([^\\]+))\/.+$/),k=R&&R[2];if(k&&y[k])return{scriptEnv:v(k),scriptOrigin:R&&R[1],scriptIngest:y[k]}}catch(S){}return{scriptEnv:"prod",scriptOrigin:"https://cdn.logrocket.io"}}else return{scriptEnv:void 0,scriptOrigin:"https://cdn.lgrckt-in.com",scriptIngest:"https://r.lgrckt-in.com"}}function m(C){typeof window.__SDKCONFIG__>"u"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(C,"/i"),window.__SDKCONFIG__.statsURL="".concat(C,"/s")}function w(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.enterpriseServer,R=C.sdkVersion,k=R===void 0?"10.1.0":R,S=(0,f.default)(C,["enterpriseServer","sdkVersion"]),T=b(k),A=T.scriptEnv,I=T.scriptOrigin,P=T.scriptIngest,U=S.sdkServer||E,j=S.ingestServer||E||P,W=(0,p.default)(function(){var q=document.createElement("script");j&&(m(j),window.__SDKCONFIG__.scriptEnv=A),U?q.src="".concat(U,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?q.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?q.src=window._lrAsyncScript:q.src="".concat(I,"/logger-1.min.js"),q.async=!0,document.head.appendChild(q),q.onload=function(){typeof window._LRLogger=="function"?setTimeout(function(){W.onLogger(new window._LRLogger({sdkVersion:k}))}):(console.warn("LogRocket: script execution has been blocked by a product or service."),W.uninstall())},q.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),W.uninstall()}});return W}}),"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":(function(a){function l(c,h){(h==null||h>c.length)&&(h=c.length);for(var f=0,p=new Array(h);f<h;f++)p[f]=c[f];return p}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function f(p){if(Array.isArray(p))return h(p)}a.exports=f,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/classCallCheck.js":(function(a){function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/createClass.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function f(y,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,h(m.key),m)}}function p(y,v,b){return v&&f(y.prototype,v),b&&f(y,b),Object.defineProperty(y,"prototype",{writable:!1}),y}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/defineProperty.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function f(p,y,v){return y=h(y),y in p?Object.defineProperty(p,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[y]=v,p}a.exports=f,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":(function(a){function l(c){return c&&c.__esModule?c:{default:c}}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/iterableToArray.js":(function(a){function l(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":(function(a){function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function f(p,y){if(p==null)return{};var v=h(p,y),b,m;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);for(m=0;m<w.length;m++)b=w[m],!(y.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(p,b)&&(v[b]=p[b])}return v}a.exports=f,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":(function(a){function l(c,h){if(c==null)return{};var f={},p=Object.keys(c),y,v;for(v=0;v<p.length;v++)y=p[v],!(h.indexOf(y)>=0)&&(f[y]=c[y]);return f}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/toConsumableArray.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),f=c("./node_modules/@babel/runtime/helpers/iterableToArray.js"),p=c("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),y=c("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function v(b){return h(b)||f(b)||p(b)||y()}a.exports=v,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/toPrimitive.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/typeof.js").default;function f(p,y){if(h(p)!=="object"||p===null)return p;var v=p[Symbol.toPrimitive];if(v!==void 0){var b=v.call(p,y||"default");if(h(b)!=="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}a.exports=f,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/toPropertyKey.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/typeof.js").default,f=c("./node_modules/@babel/runtime/helpers/toPrimitive.js");function p(y){var v=f(y,"string");return h(v)==="symbol"?v:String(v)}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/typeof.js":(function(a){function l(c){"@babel/helpers - typeof";return a.exports=l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},a.exports.__esModule=!0,a.exports.default=a.exports,l(c)}a.exports=l,a.exports.__esModule=!0,a.exports.default=a.exports}),"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":(function(a,l,c){var h=c("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function f(p,y){if(p){if(typeof p=="string")return h(p,y);var v=Object.prototype.toString.call(p).slice(8,-1);if(v==="Object"&&p.constructor&&(v=p.constructor.name),v==="Map"||v==="Set")return Array.from(p);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return h(p,y)}}a.exports=f,a.exports.__esModule=!0,a.exports.default=a.exports})},n={};function i(a){var l=n[a];if(l!==void 0)return l.exports;var c=n[a]={exports:{}};return r[a](c,c.exports,i),c.exports}(function(){i.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}})()})();var o={};return(function(){var a=o;/*!**********************************************!*\
  !*** ./packages/logrocket/src/module-npm.js ***!
  \**********************************************/var l=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(i("./packages/logrocket/src/setup.js")),h=(0,c.default)(),f=h;a.default=f})(),o=o.default,o})()})})(fl)),fl.exports}fO();function Vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Jt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ns={duration:.5,overwrite:!1,delay:0},xd,Ct,Ke,sr=1e8,Fe=1/sr,kh=Math.PI*2,pO=kh/4,gO=0,Dv=Math.sqrt,mO=Math.cos,_O=Math.sin,wt=function(e){return typeof e=="string"},rt=function(e){return typeof e=="function"},Xr=function(e){return typeof e=="number"},Ad=function(e){return typeof e>"u"},Pr=function(e){return typeof e=="object"},jt=function(e){return e!==!1},Id=function(){return typeof window<"u"},tl=function(e){return rt(e)||wt(e)},Lv=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Rt=Array.isArray,xh=/(?:-?\.?\d|\.)+/gi,Nv=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Hi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ec=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Uv=/[+-]=-?[.\d]+/,jv=/[^,'"\[\]\s]+/gi,yO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Xe,xr,Ah,Md,Zt={},Cl={},$v,Fv=function(e){return(Cl=is(e,Zt))&&qt},Pd=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Ao=function(e,r){return!r&&console.warn(e)},Bv=function(e,r){return e&&(Zt[e]=r)&&Cl&&(Cl[e]=r)||Zt},Io=function(){return 0},vO={suppressEvents:!0,isStart:!0,kill:!1},pl={suppressEvents:!0,kill:!1},bO={suppressEvents:!0},Dd={},dn=[],Ih={},zv,Kt={},Cc={},lm=30,gl=[],Ld="",Nd=function(e){var r=e[0],n,i;if(Pr(r)||rt(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=gl.length;i--&&!gl[i].targetTest(r););n=gl[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new d0(e[i],n)))||e.splice(i,1);return e},ii=function(e){return e._gsap||Nd(or(e))[0]._gsap},Wv=function(e,r,n){return(n=e[r])&&rt(n)?e[r]():Ad(n)&&e.getAttribute&&e.getAttribute(r)||n},$t=function(e,r){return(e=e.split(",")).forEach(r)||e},it=function(e){return Math.round(e*1e5)/1e5||0},ht=function(e){return Math.round(e*1e7)/1e7||0},Ji=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},wO=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},Tl=function(){var e=dn.length,r=dn.slice(0),n,i;for(Ih={},dn.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Ud=function(e){return!!(e._initted||e._startAt||e.add)},qv=function(e,r,n,i){dn.length&&!Ct&&Tl(),e.render(r,n,!!(Ct&&r<0&&Ud(e))),dn.length&&!Ct&&Tl()},Vv=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(jv).length<2?r:wt(e)?e.trim():e},Gv=function(e){return e},Qt=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},SO=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},is=function(e,r){for(var n in r)e[n]=r[n];return e},um=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Pr(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Ol=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},wo=function(e){var r=e.parent||Xe,n=e.keyframes?SO(Rt(e.keyframes)):Qt;if(jt(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},EO=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},Hv=function(e,r,n,i,o){var a=e[i],l;if(o)for(l=r[o];a&&a[o]>l;)a=a._prev;return a?(r._next=a._next,a._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=a,r.parent=r._dp=e,r},zl=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var o=r._prev,a=r._next;o?o._next=a:e[n]===r&&(e[n]=a),a?a._prev=o:e[i]===r&&(e[i]=o),r._next=r._prev=r.parent=null},_n=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},si=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},CO=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Mh=function(e,r,n,i){return e._startAt&&(Ct?e._startAt.revert(pl):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},TO=function t(e){return!e||e._ts&&t(e.parent)},cm=function(e){return e._repeat?ss(e._tTime,e=e.duration()+e._rDelay)*e:0},ss=function(e,r){var n=Math.floor(e=ht(e/r));return e&&n===e?n-1:n},Rl=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Wl=function(e){return e._end=ht(e._start+(e._tDur/Math.abs(e._ts||e._rts||Fe)||0))},ql=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ht(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Wl(e),n._dirty||si(n,e)),e},Kv=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=Rl(e.rawTime(),r),(!r._dur||Wo(0,r.totalDuration(),n)-r._tTime>Fe)&&r.render(n,!0)),si(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Fe}},Ar=function(e,r,n,i){return r.parent&&_n(r),r._start=ht((Xr(n)?n:n||e!==Xe?ir(e,n,r):e._time)+r._delay),r._end=ht(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),Hv(e,r,"_first","_last",e._sort?"_start":0),Ph(r)||(e._recent=r),i||Kv(e,r),e._ts<0&&ql(e,e._tTime),e},Xv=function(e,r){return(Zt.ScrollTrigger||Pd("scrollTrigger",r))&&Zt.ScrollTrigger.create(r,e)},Yv=function(e,r,n,i,o){if($d(e,r,o),!e._initted)return 1;if(!n&&e._pt&&!Ct&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&zv!==Xt.frame)return dn.push(e),e._lazy=[o,i],1},OO=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Ph=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},RO=function(e,r,n,i){var o=e.ratio,a=r<0||!r&&(!e._start&&OO(e)&&!(!e._initted&&Ph(e))||(e._ts<0||e._dp._ts<0)&&!Ph(e))?0:1,l=e._rDelay,c=0,h,f,p;if(l&&e._repeat&&(c=Wo(0,e._tDur,r),f=ss(c,l),e._yoyo&&f&1&&(a=1-a),f!==ss(e._tTime,l)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||Ct||i||e._zTime===Fe||!r&&e._zTime){if(!e._initted&&Yv(e,r,i,n,c))return;for(p=e._zTime,e._zTime=r||(n?Fe:0),n||(n=r&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;r<0&&Mh(e,r,n,!0),e._onUpdate&&!n&&Yt(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Yt(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===a&&(a&&_n(e,1),!n&&!Ct&&(Yt(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},kO=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},os=function(e,r,n,i){var o=e._repeat,a=ht(r)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:ht(a*(o+1)+e._rDelay*o):a,l>0&&!i&&ql(e,e._tTime=e._tDur*l),e.parent&&Wl(e),n||si(e.parent,e),e},hm=function(e){return e instanceof Pt?si(e):os(e,e._dur)},xO={_start:0,endTime:Io,totalDuration:Io},ir=function t(e,r,n){var i=e.labels,o=e._recent||xO,a=e.duration()>=sr?o.endTime(!1):e._dur,l,c,h;return wt(r)&&(isNaN(r)||r in i)?(c=r.charAt(0),h=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0)*(h?(l<0?o:n).totalDuration()/100:1)):l<0?(r in i||(i[r]=a),i[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),h&&n&&(c=c/100*(Rt(n)?n[0]:n).totalDuration()),l>1?t(e,r.substr(0,l-1),n)+c:a+c)):r==null?a:+r},So=function(e,r,n){var i=Xr(r[1]),o=(i?2:1)+(e<2?0:1),a=r[o],l,c;if(i&&(a.duration=r[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=jt(c.vars.inherit)&&c.parent;a.immediateRender=jt(l.immediateRender),e<2?a.runBackwards=1:a.startAt=r[o-1]}return new ct(r[0],a,r[o+1])},bn=function(e,r){return e||e===0?r(e):r},Wo=function(e,r,n){return n<e?e:n>r?r:n},Tt=function(e,r){return!wt(e)||!(r=yO.exec(e))?"":r[1]},AO=function(e,r,n){return bn(n,function(i){return Wo(e,r,i)})},Dh=[].slice,Jv=function(e,r){return e&&Pr(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Pr(e[0]))&&!e.nodeType&&e!==xr},IO=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var o;return wt(i)&&!r||Jv(i,1)?(o=n).push.apply(o,or(i)):n.push(i)})||n},or=function(e,r,n){return Ke&&!r&&Ke.selector?Ke.selector(e):wt(e)&&!n&&(Ah||!as())?Dh.call((r||Md).querySelectorAll(e),0):Rt(e)?IO(e,n):Jv(e)?Dh.call(e,0):e?[e]:[]},Lh=function(e){return e=or(e)[0]||Ao("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return or(r,n.querySelectorAll?n:n===e?Ao("Invalid scope")||Md.createElement("div"):e)}},Zv=function(e){return e.sort(function(){return .5-Math.random()})},Qv=function(e){if(rt(e))return e;var r=Pr(e)?e:{each:e},n=oi(r.ease),i=r.from||0,o=parseFloat(r.base)||0,a={},l=i>0&&i<1,c=isNaN(i)||l,h=r.axis,f=i,p=i;return wt(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(f=i[0],p=i[1]),function(y,v,b){var m=(b||r).length,w=a[m],C,E,R,k,S,T,A,I,P;if(!w){if(P=r.grid==="auto"?0:(r.grid||[1,sr])[1],!P){for(A=-sr;A<(A=b[P++].getBoundingClientRect().left)&&P<m;);P<m&&P--}for(w=a[m]=[],C=c?Math.min(P,m)*f-.5:i%P,E=P===sr?0:c?m*p/P-.5:i/P|0,A=0,I=sr,T=0;T<m;T++)R=T%P-C,k=E-(T/P|0),w[T]=S=h?Math.abs(h==="y"?k:R):Dv(R*R+k*k),S>A&&(A=S),S<I&&(I=S);i==="random"&&Zv(w),w.max=A-I,w.min=I,w.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(P>m?m-1:h?h==="y"?m/P:P:Math.max(P,m/P))||0)*(i==="edges"?-1:1),w.b=m<0?o-m:o,w.u=Tt(r.amount||r.each)||0,n=n&&m<0?u0(n):n}return m=(w[y]-w.min)/w.max||0,ht(w.b+(n?n(m):m)*w.v)+w.u}},Nh=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=ht(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Xr(n)?0:Tt(n))}},e0=function(e,r){var n=Rt(e),i,o;return!n&&Pr(e)&&(i=n=e.radius||sr,e.values?(e=or(e.values),(o=!Xr(e[0]))&&(i*=i)):e=Nh(e.increment)),bn(r,n?rt(e)?function(a){return o=e(a),Math.abs(o-a)<=i?o:a}:function(a){for(var l=parseFloat(o?a.x:a),c=parseFloat(o?a.y:0),h=sr,f=0,p=e.length,y,v;p--;)o?(y=e[p].x-l,v=e[p].y-c,y=y*y+v*v):y=Math.abs(e[p]-l),y<h&&(h=y,f=p);return f=!i||h<=i?e[f]:a,o||f===a||Xr(a)?f:f+Tt(a)}:Nh(e))},t0=function(e,r,n,i){return bn(Rt(e)?!r:n===!0?!!(n=0):!i,function(){return Rt(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},MO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(o,a){return a(o)},i)}},PO=function(e,r){return function(n){return e(parseFloat(n))+(r||Tt(n))}},DO=function(e,r,n){return n0(e,r,0,1,n)},r0=function(e,r,n){return bn(n,function(i){return e[~~r(i)]})},LO=function t(e,r,n){var i=r-e;return Rt(e)?r0(e,t(0,e.length),r):bn(n,function(o){return(i+(o-e)%i)%i+e})},NO=function t(e,r,n){var i=r-e,o=i*2;return Rt(e)?r0(e,t(0,e.length-1),r):bn(n,function(a){return a=(o+(a-e)%o)%o||0,e+(a>i?o-a:a)})},Mo=function(e){for(var r=0,n="",i,o,a,l;~(i=e.indexOf("random(",r));)a=e.indexOf(")",i),l=e.charAt(i+7)==="[",o=e.substr(i+7,a-i-7).match(l?jv:xh),n+=e.substr(r,i-r)+t0(l?o:+o[0],l?0:+o[1],+o[2]||1e-5),r=a+1;return n+e.substr(r,e.length-r)},n0=function(e,r,n,i,o){var a=r-e,l=i-n;return bn(o,function(c){return n+((c-e)/a*l||0)})},UO=function t(e,r,n,i){var o=isNaN(e+r)?0:function(v){return(1-v)*e+v*r};if(!o){var a=wt(e),l={},c,h,f,p,y;if(n===!0&&(i=1)&&(n=null),a)e={p:e},r={p:r};else if(Rt(e)&&!Rt(r)){for(f=[],p=e.length,y=p-2,h=1;h<p;h++)f.push(t(e[h-1],e[h]));p--,o=function(b){b*=p;var m=Math.min(y,~~b);return f[m](b-m)},n=r}else i||(e=is(Rt(e)?[]:{},e));if(!f){for(c in r)jd.call(l,e,c,"get",r[c]);o=function(b){return zd(b,l)||(a?e.p:e)}}}return bn(n,o)},dm=function(e,r,n){var i=e.labels,o=sr,a,l,c;for(a in i)l=i[a]-r,l<0==!!n&&l&&o>(l=Math.abs(l))&&(c=a,o=l);return c},Yt=function(e,r,n){var i=e.vars,o=i[r],a=Ke,l=e._ctx,c,h,f;if(o)return c=i[r+"Params"],h=i.callbackScope||e,n&&dn.length&&Tl(),l&&(Ke=l),f=c?o.apply(h,c):o.call(h),Ke=a,f},po=function(e){return _n(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ct),e.progress()<1&&Yt(e,"onInterrupt"),e},Ki,i0=[],s0=function(e){if(e)if(e=!e.name&&e.default||e,Id()||e.headless){var r=e.name,n=rt(e),i=r&&!n&&e.init?function(){this._props=[]}:e,o={init:Io,render:zd,add:jd,kill:QO,modifier:ZO,rawVars:0},a={targetTest:0,get:0,getSetter:Bd,aliases:{},register:0};if(as(),e!==i){if(Kt[r])return;Qt(i,Qt(Ol(e,o),a)),is(i.prototype,is(o,Ol(e,a))),Kt[i.prop=r]=i,e.targetTest&&(gl.push(i),Dd[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Bv(r,i),e.register&&e.register(qt,i,Ft)}else i0.push(e)},$e=255,go={aqua:[0,$e,$e],lime:[0,$e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,$e],navy:[0,0,128],white:[$e,$e,$e],olive:[128,128,0],yellow:[$e,$e,0],orange:[$e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[$e,0,0],pink:[$e,192,203],cyan:[0,$e,$e],transparent:[$e,$e,$e,0]},Tc=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*$e+.5|0},o0=function(e,r,n){var i=e?Xr(e)?[e>>16,e>>8&$e,e&$e]:0:go.black,o,a,l,c,h,f,p,y,v,b;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),go[e])i=go[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+o+o+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&$e,i&$e,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&$e,e&$e]}else if(e.substr(0,3)==="hsl"){if(i=b=e.match(xh),!r)c=+i[0]%360/360,h=+i[1]/100,f=+i[2]/100,a=f<=.5?f*(h+1):f+h-f*h,o=f*2-a,i.length>3&&(i[3]*=1),i[0]=Tc(c+1/3,o,a),i[1]=Tc(c,o,a),i[2]=Tc(c-1/3,o,a);else if(~e.indexOf("="))return i=e.match(Nv),n&&i.length<4&&(i[3]=1),i}else i=e.match(xh)||go.transparent;i=i.map(Number)}return r&&!b&&(o=i[0]/$e,a=i[1]/$e,l=i[2]/$e,p=Math.max(o,a,l),y=Math.min(o,a,l),f=(p+y)/2,p===y?c=h=0:(v=p-y,h=f>.5?v/(2-p-y):v/(p+y),c=p===o?(a-l)/v+(a<l?6:0):p===a?(l-o)/v+2:(o-a)/v+4,c*=60),i[0]=~~(c+.5),i[1]=~~(h*100+.5),i[2]=~~(f*100+.5)),n&&i.length<4&&(i[3]=1),i},a0=function(e){var r=[],n=[],i=-1;return e.split(fn).forEach(function(o){var a=o.match(Hi)||[];r.push.apply(r,a),n.push(i+=a.length+1)}),r.c=n,r},fm=function(e,r,n){var i="",o=(e+i).match(fn),a=r?"hsla(":"rgba(",l=0,c,h,f,p;if(!o)return e;if(o=o.map(function(y){return(y=o0(y,r,1))&&a+(r?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(f=a0(e),c=n.c,c.join(i)!==f.c.join(i)))for(h=e.replace(fn,"1").split(Hi),p=h.length-1;l<p;l++)i+=h[l]+(~c.indexOf(l)?o.shift()||a+"0,0,0,0)":(f.length?f:o.length?o:n).shift());if(!h)for(h=e.split(fn),p=h.length-1;l<p;l++)i+=h[l]+o[l];return i+h[p]},fn=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in go)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),jO=/hsl[a]?\(/,l0=function(e){var r=e.join(" "),n;if(fn.lastIndex=0,fn.test(r))return n=jO.test(r),e[1]=fm(e[1],n),e[0]=fm(e[0],n,a0(e[1])),!0},Po,Xt=(function(){var t=Date.now,e=500,r=33,n=t(),i=n,o=1e3/240,a=o,l=[],c,h,f,p,y,v,b=function m(w){var C=t()-i,E=w===!0,R,k,S,T;if((C>e||C<0)&&(n+=C-r),i+=C,S=i-n,R=S-a,(R>0||E)&&(T=++p.frame,y=S-p.time*1e3,p.time=S=S/1e3,a+=R+(R>=o?4:o-R),k=1),E||(c=h(m)),k)for(v=0;v<l.length;v++)l[v](S,y,T,w)};return p={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(w){return y/(1e3/(w||60))},wake:function(){$v&&(!Ah&&Id()&&(xr=Ah=window,Md=xr.document||{},Zt.gsap=qt,(xr.gsapVersions||(xr.gsapVersions=[])).push(qt.version),Fv(Cl||xr.GreenSockGlobals||!xr.gsap&&xr||{}),i0.forEach(s0)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),h=f||function(w){return setTimeout(w,a-p.time*1e3+1|0)},Po=1,b(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),Po=0,h=Io},lagSmoothing:function(w,C){e=w||1/0,r=Math.min(C||33,e)},fps:function(w){o=1e3/(w||240),a=p.time*1e3+o},add:function(w,C,E){var R=C?function(k,S,T,A){w(k,S,T,A),p.remove(R)}:w;return p.remove(w),l[E?"unshift":"push"](R),as(),R},remove:function(w,C){~(C=l.indexOf(w))&&l.splice(C,1)&&v>=C&&v--},_listeners:l},p})(),as=function(){return!Po&&Xt.wake()},ke={},$O=/^[\d.\-M][\d.\-,\s]/,FO=/["']/g,BO=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],o=1,a=n.length,l,c,h;o<a;o++)c=n[o],l=o!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),r[i]=isNaN(h)?h.replace(FO,"").trim():+h,i=c.substr(l+1).trim();return r},zO=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},WO=function(e){var r=(e+"").split("("),n=ke[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[BO(r[1])]:zO(e).split(",").map(Vv)):ke._CE&&$O.test(e)?ke._CE("",e):n},u0=function(e){return function(r){return 1-e(1-r)}},c0=function t(e,r){for(var n=e._first,i;n;)n instanceof Pt?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},oi=function(e,r){return e&&(rt(e)?e:ke[e]||WO(e))||r},pi=function(e,r,n,i){n===void 0&&(n=function(c){return 1-r(1-c)}),i===void 0&&(i=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var o={easeIn:r,easeOut:n,easeInOut:i},a;return $t(e,function(l){ke[l]=Zt[l]=o,ke[a=l.toLowerCase()]=n;for(var c in o)ke[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ke[l+"."+c]=o[c]}),o},h0=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},Oc=function t(e,r,n){var i=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),a=o/kh*(Math.asin(1/i)||0),l=function(f){return f===1?1:i*Math.pow(2,-10*f)*_O((f-a)*o)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:h0(l);return o=kh/o,c.config=function(h,f){return t(e,h,f)},c},Rc=function t(e,r){r===void 0&&(r=1.70158);var n=function(a){return a?--a*a*((r+1)*a+r)+1:0},i=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:h0(n);return i.config=function(o){return t(e,o)},i};$t("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;pi(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});ke.Linear.easeNone=ke.none=ke.Linear.easeIn;pi("Elastic",Oc("in"),Oc("out"),Oc());(function(t,e){var r=1/e,n=2*r,i=2.5*r,o=function(l){return l<r?t*l*l:l<n?t*Math.pow(l-1.5/e,2)+.75:l<i?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};pi("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);pi("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});pi("Circ",function(t){return-(Dv(1-t*t)-1)});pi("Sine",function(t){return t===1?1:-mO(t*pO)+1});pi("Back",Rc("in"),Rc("out"),Rc());ke.SteppedEase=ke.steps=Zt.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),o=r?1:0,a=1-Fe;return function(l){return((i*Wo(0,a,l)|0)+o)*n}}};ns.ease=ke["quad.out"];$t("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Ld+=t+","+t+"Params,"});var d0=function(e,r){this.id=gO++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:Wv,this.set=r?r.getSetter:Bd},Do=(function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,os(this,+r.duration,1,1),this.data=r.data,Ke&&(this._ctx=Ke,Ke.data.push(this)),Po||Xt.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,os(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(as(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(ql(this,n),!o._dp||o.parent||Kv(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ar(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Fe||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),qv(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+cm(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+cm(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,i):this._repeat?ss(this._tTime,o)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Fe?0:this._rts;if(this._rts===n)return this;var o=this.parent&&this._ts?Rl(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Fe?0:this._rts,this.totalTime(Wo(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),Wl(this),CO(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(as(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Fe&&(this._tTime-=Fe)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Ar(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(jt(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Rl(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=bO);var i=Ct;return Ct=n,Ud(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Ct=i,this},e.globalTime=function(n){for(var i=this,o=arguments.length?n:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,hm(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,hm(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(ir(this,n),jt(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,jt(i)),this._dur||(this._zTime=-Fe),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Fe:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Fe,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=i&&o<this.endTime(!0)-Fe)},e.eventCallback=function(n,i,o){var a=this.vars;return arguments.length>1?(i?(a[n]=i,o&&(a[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=i)):delete a[n],this):a[n]},e.then=function(n){var i=this;return new Promise(function(o){var a=rt(n)?n:Gv,l=function(){var h=i.then;i.then=null,rt(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=h),o(a),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){po(this)},t})();Qt(Do.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Fe,_prom:0,_ps:!1,_rts:1});var Pt=(function(t){Pv(e,t);function e(n,i){var o;return n===void 0&&(n={}),o=t.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=jt(n.sortChildren),Xe&&Ar(n.parent||Xe,Vr(o),i),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&Xv(Vr(o),n.scrollTrigger),o}var r=e.prototype;return r.to=function(i,o,a){return So(0,arguments,this),this},r.from=function(i,o,a){return So(1,arguments,this),this},r.fromTo=function(i,o,a,l){return So(2,arguments,this),this},r.set=function(i,o,a){return o.duration=0,o.parent=this,wo(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new ct(i,o,ir(this,a),1),this},r.call=function(i,o,a){return Ar(this,ct.delayedCall(0,i,o),a)},r.staggerTo=function(i,o,a,l,c,h,f){return a.duration=o,a.stagger=a.stagger||l,a.onComplete=h,a.onCompleteParams=f,a.parent=this,new ct(i,a,ir(this,c)),this},r.staggerFrom=function(i,o,a,l,c,h,f){return a.runBackwards=1,wo(a).immediateRender=jt(a.immediateRender),this.staggerTo(i,o,a,l,c,h,f)},r.staggerFromTo=function(i,o,a,l,c,h,f,p){return l.startAt=a,wo(l).immediateRender=jt(l.immediateRender),this.staggerTo(i,o,l,c,h,f,p)},r.render=function(i,o,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=i<=0?0:ht(i),p=this._zTime<0!=i<0&&(this._initted||!h),y,v,b,m,w,C,E,R,k,S,T,A;if(this!==Xe&&f>c&&i>=0&&(f=c),f!==this._tTime||a||p){if(l!==this._time&&h&&(f+=this._time-l,i+=this._time-l),y=f,k=this._start,R=this._ts,C=!R,p&&(h||(l=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,w=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,o,a);if(y=ht(f%w),f===c?(m=this._repeat,y=h):(S=ht(f/w),m=~~S,m&&m===S&&(y=h,m--),y>h&&(y=h)),S=ss(this._tTime,w),!l&&this._tTime&&S!==m&&this._tTime-S*w-this._dur<=0&&(S=m),T&&m&1&&(y=h-y,A=1),m!==S&&!this._lock){var I=T&&S&1,P=I===(T&&m&1);if(m<S&&(I=!I),l=I?0:f%h?h:f,this._lock=1,this.render(l||(A?0:ht(m*w)),o,!h)._lock=0,this._tTime=f,!o&&this.parent&&Yt(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),l&&l!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,P&&(this._lock=2,l=I?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;c0(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=kO(this,ht(l),ht(y)),E&&(f-=y-(y=E._start))),this._tTime=f,this._time=y,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&f&&!o&&!S&&(Yt(this,"onStart"),this._tTime!==f))return this;if(y>=l&&i>=0)for(v=this._first;v;){if(b=v._next,(v._act||y>=v._start)&&v._ts&&E!==v){if(v.parent!==this)return this.render(i,o,a);if(v.render(v._ts>0?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,o,a),y!==this._time||!this._ts&&!C){E=0,b&&(f+=this._zTime=-Fe);break}}v=b}else{v=this._last;for(var U=i<0?i:y;v;){if(b=v._prev,(v._act||U<=v._end)&&v._ts&&E!==v){if(v.parent!==this)return this.render(i,o,a);if(v.render(v._ts>0?(U-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(U-v._start)*v._ts,o,a||Ct&&Ud(v)),y!==this._time||!this._ts&&!C){E=0,b&&(f+=this._zTime=U?-Fe:Fe);break}}v=b}}if(E&&!o&&(this.pause(),E.render(y>=l?0:-Fe)._zTime=y>=l?1:-1,this._ts))return this._start=k,Wl(this),this.render(i,o,a);this._onUpdate&&!o&&Yt(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&l)&&(k===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(f===c&&this._ts>0||!f&&this._ts<0)&&_n(this,1),!o&&!(i<0&&!l)&&(f||l||!c)&&(Yt(this,f===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,o){var a=this;if(Xr(o)||(o=ir(this,o,i)),!(i instanceof Do)){if(Rt(i))return i.forEach(function(l){return a.add(l,o)}),this;if(wt(i))return this.addLabel(i,o);if(rt(i))i=ct.delayedCall(0,i);else return this}return this!==i?Ar(this,i,o):this},r.getChildren=function(i,o,a,l){i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),l===void 0&&(l=-sr);for(var c=[],h=this._first;h;)h._start>=l&&(h instanceof ct?o&&c.push(h):(a&&c.push(h),i&&c.push.apply(c,h.getChildren(!0,o,a)))),h=h._next;return c},r.getById=function(i){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===i)return o[a]},r.remove=function(i){return wt(i)?this.removeLabel(i):rt(i)?this.killTweensOf(i):(i.parent===this&&zl(this,i),i===this._recent&&(this._recent=this._last),si(this))},r.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ht(Xt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},r.addLabel=function(i,o){return this.labels[i]=ir(this,o),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,o,a){var l=ct.delayedCall(0,o||Io,a);return l.data="isPause",this._hasPause=1,Ar(this,l,ir(this,i))},r.removePause=function(i){var o=this._first;for(i=ir(this,i);o;)o._start===i&&o.data==="isPause"&&_n(o),o=o._next},r.killTweensOf=function(i,o,a){for(var l=this.getTweensOf(i,a),c=l.length;c--;)un!==l[c]&&l[c].kill(i,o);return this},r.getTweensOf=function(i,o){for(var a=[],l=or(i),c=this._first,h=Xr(o),f;c;)c instanceof ct?wO(c._targets,l)&&(h?(!un||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&a.push(c):(f=c.getTweensOf(l,o)).length&&a.push.apply(a,f),c=c._next;return a},r.tweenTo=function(i,o){o=o||{};var a=this,l=ir(a,i),c=o,h=c.startAt,f=c.onStart,p=c.onStartParams,y=c.immediateRender,v,b=ct.to(a,Qt({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:o.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale())||Fe,onStart:function(){if(a.pause(),!v){var w=o.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale());b._dur!==w&&os(b,w,0,1).render(b._time,!0,!0),v=1}f&&f.apply(b,p||[])}},o));return y?b.render(0):b},r.tweenFromTo=function(i,o,a){return this.tweenTo(o,Qt({startAt:{time:ir(this,i)}},a))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),dm(this,ir(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),dm(this,ir(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Fe)},r.shiftChildren=function(i,o,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,h;l;)l._start>=a&&(l._start+=i,l._end+=i),l=l._next;if(o)for(h in c)c[h]>=a&&(c[h]+=i);return si(this)},r.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),si(this)},r.totalDuration=function(i){var o=0,a=this,l=a._last,c=sr,h,f,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(p=a.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,Ar(a,l,f-l._delay,1)._lock=0):c=f,f<0&&l._ts&&(o-=f,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=f/a._ts,a._time-=f,a._tTime-=f),a.shiftChildren(-f,!1,-1/0),c=0),l._end>o&&l._ts&&(o=l._end),l=h;os(a,a===Xe&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(Xe._ts&&(qv(Xe,Rl(i,Xe)),zv=Xt.frame),Xt.frame>=lm){lm+=Jt.autoSleep||120;var o=Xe._first;if((!o||!o._ts)&&Jt.autoSleep&&Xt._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Xt.sleep()}}},e})(Do);Qt(Pt.prototype,{_lock:0,_hasPause:0,_forcing:0});var qO=function(e,r,n,i,o,a,l){var c=new Ft(this._pt,e,r,0,1,y0,null,o),h=0,f=0,p,y,v,b,m,w,C,E;for(c.b=n,c.e=i,n+="",i+="",(C=~i.indexOf("random("))&&(i=Mo(i)),a&&(E=[n,i],a(E,e,r),n=E[0],i=E[1]),y=n.match(Ec)||[];p=Ec.exec(i);)b=p[0],m=i.substring(h,p.index),v?v=(v+1)%5:m.substr(-5)==="rgba("&&(v=1),b!==y[f++]&&(w=parseFloat(y[f-1])||0,c._pt={_next:c._pt,p:m||f===1?m:",",s:w,c:b.charAt(1)==="="?Ji(w,b)-w:parseFloat(b)-w,m:v&&v<4?Math.round:0},h=Ec.lastIndex);return c.c=h<i.length?i.substring(h,i.length):"",c.fp=l,(Uv.test(i)||C)&&(c.e=0),this._pt=c,c},jd=function(e,r,n,i,o,a,l,c,h,f){rt(i)&&(i=i(o||0,e,a));var p=e[r],y=n!=="get"?n:rt(p)?h?e[r.indexOf("set")||!rt(e["get"+r.substr(3)])?r:"get"+r.substr(3)](h):e[r]():p,v=rt(p)?h?XO:m0:Fd,b;if(wt(i)&&(~i.indexOf("random(")&&(i=Mo(i)),i.charAt(1)==="="&&(b=Ji(y,i)+(Tt(y)||0),(b||b===0)&&(i=b))),!f||y!==i||Uh)return!isNaN(y*i)&&i!==""?(b=new Ft(this._pt,e,r,+y||0,i-(y||0),typeof p=="boolean"?JO:_0,0,v),h&&(b.fp=h),l&&b.modifier(l,this,e),this._pt=b):(!p&&!(r in e)&&Pd(r,i),qO.call(this,e,r,y,i,v,c||Jt.stringFilter,h))},VO=function(e,r,n,i,o){if(rt(e)&&(e=Eo(e,o,r,n,i)),!Pr(e)||e.style&&e.nodeType||Rt(e)||Lv(e))return wt(e)?Eo(e,o,r,n,i):e;var a={},l;for(l in e)a[l]=Eo(e[l],o,r,n,i);return a},f0=function(e,r,n,i,o,a){var l,c,h,f;if(Kt[e]&&(l=new Kt[e]).init(o,l.rawVars?r[e]:VO(r[e],i,o,a,n),n,i,a)!==!1&&(n._pt=c=new Ft(n._pt,o,e,0,1,l.render,l,0,l.priority),n!==Ki))for(h=n._ptLookup[n._targets.indexOf(o)],f=l._props.length;f--;)h[l._props[f]]=c;return l},un,Uh,$d=function t(e,r,n){var i=e.vars,o=i.ease,a=i.startAt,l=i.immediateRender,c=i.lazy,h=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,y=i.keyframes,v=i.autoRevert,b=e._dur,m=e._startAt,w=e._targets,C=e.parent,E=C&&C.data==="nested"?C.vars.targets:w,R=e._overwrite==="auto"&&!xd,k=e.timeline,S,T,A,I,P,U,j,W,q,B,te,N,F;if(k&&(!y||!o)&&(o="none"),e._ease=oi(o,ns.ease),e._yEase=p?u0(oi(p===!0?o:p,ns.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!k&&!!i.runBackwards,!k||y&&!i.stagger){if(W=w[0]?ii(w[0]).harness:0,N=W&&i[W.prop],S=Ol(i,Dd),m&&(m._zTime<0&&m.progress(1),r<0&&f&&l&&!v?m.render(-1,!0):m.revert(f&&b?pl:vO),m._lazy=0),a){if(_n(e._startAt=ct.set(w,Qt({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!m&&jt(c),startAt:null,delay:0,onUpdate:h&&function(){return Yt(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Ct||!l&&!v)&&e._startAt.revert(pl),l&&b&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&b&&!m){if(r&&(l=!1),A=Qt({overwrite:!1,data:"isFromStart",lazy:l&&!m&&jt(c),immediateRender:l,stagger:0,parent:C},S),N&&(A[W.prop]=N),_n(e._startAt=ct.set(w,A)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Ct?e._startAt.revert(pl):e._startAt.render(-1,!0)),e._zTime=r,!l)t(e._startAt,Fe,Fe);else if(!r)return}for(e._pt=e._ptCache=0,c=b&&jt(c)||c&&!b,T=0;T<w.length;T++){if(P=w[T],j=P._gsap||Nd(w)[T]._gsap,e._ptLookup[T]=B={},Ih[j.id]&&dn.length&&Tl(),te=E===w?T:E.indexOf(P),W&&(q=new W).init(P,N||S,e,te,E)!==!1&&(e._pt=I=new Ft(e._pt,P,q.name,0,1,q.render,q,0,q.priority),q._props.forEach(function(z){B[z]=I}),q.priority&&(U=1)),!W||N)for(A in S)Kt[A]&&(q=f0(A,S,e,te,P,E))?q.priority&&(U=1):B[A]=I=jd.call(e,P,A,"get",S[A],te,E,0,i.stringFilter);e._op&&e._op[T]&&e.kill(P,e._op[T]),R&&e._pt&&(un=e,Xe.killTweensOf(P,B,e.globalTime(r)),F=!e.parent,un=0),e._pt&&c&&(Ih[j.id]=1)}U&&v0(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!F,y&&r<=0&&k.render(sr,!0,!0)},GO=function(e,r,n,i,o,a,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[r],f,p,y,v;if(!h)for(h=e._ptCache[r]=[],y=e._ptLookup,v=e._targets.length;v--;){if(f=y[v][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return Uh=1,e.vars[r]="+=0",$d(e,l),Uh=0,c?Ao(r+" not eligible for reset"):1;h.push(f)}for(v=h.length;v--;)p=h[v],f=p._pt||p,f.s=(i||i===0)&&!o?i:f.s+(i||0)+a*f.c,f.c=n-f.s,p.e&&(p.e=it(n)+Tt(p.e)),p.b&&(p.b=f.s+Tt(p.b))},HO=function(e,r){var n=e[0]?ii(e[0]).harness:0,i=n&&n.aliases,o,a,l,c;if(!i)return r;o=is({},r);for(a in i)if(a in o)for(c=i[a].split(","),l=c.length;l--;)o[c[l]]=o[a];return o},KO=function(e,r,n,i){var o=r.ease||i||"power1.inOut",a,l;if(Rt(r))l=n[e]||(n[e]=[]),r.forEach(function(c,h){return l.push({t:h/(r.length-1)*100,v:c,e:o})});else for(a in r)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:r[a],e:o})},Eo=function(e,r,n,i,o){return rt(e)?e.call(r,n,i,o):wt(e)&&~e.indexOf("random(")?Mo(e):e},p0=Ld+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",g0={};$t(p0+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return g0[t]=1});var ct=(function(t){Pv(e,t);function e(n,i,o,a){var l;typeof i=="number"&&(o.duration=i,i=o,o=null),l=t.call(this,a?i:wo(i))||this;var c=l.vars,h=c.duration,f=c.delay,p=c.immediateRender,y=c.stagger,v=c.overwrite,b=c.keyframes,m=c.defaults,w=c.scrollTrigger,C=c.yoyoEase,E=i.parent||Xe,R=(Rt(n)||Lv(n)?Xr(n[0]):"length"in i)?[n]:or(n),k,S,T,A,I,P,U,j;if(l._targets=R.length?Nd(R):Ao("GSAP target "+n+" not found. https://gsap.com",!Jt.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=v,b||y||tl(h)||tl(f)){if(i=l.vars,k=l.timeline=new Pt({data:"nested",defaults:m||{},targets:E&&E.data==="nested"?E.vars.targets:R}),k.kill(),k.parent=k._dp=Vr(l),k._start=0,y||tl(h)||tl(f)){if(A=R.length,U=y&&Qv(y),Pr(y))for(I in y)~p0.indexOf(I)&&(j||(j={}),j[I]=y[I]);for(S=0;S<A;S++)T=Ol(i,g0),T.stagger=0,C&&(T.yoyoEase=C),j&&is(T,j),P=R[S],T.duration=+Eo(h,Vr(l),S,P,R),T.delay=(+Eo(f,Vr(l),S,P,R)||0)-l._delay,!y&&A===1&&T.delay&&(l._delay=f=T.delay,l._start+=f,T.delay=0),k.to(P,T,U?U(S,P,R):0),k._ease=ke.none;k.duration()?h=f=0:l.timeline=0}else if(b){wo(Qt(k.vars.defaults,{ease:"none"})),k._ease=oi(b.ease||i.ease||"none");var W=0,q,B,te;if(Rt(b))b.forEach(function(N){return k.to(R,N,">")}),k.duration();else{T={};for(I in b)I==="ease"||I==="easeEach"||KO(I,b[I],T,b.easeEach);for(I in T)for(q=T[I].sort(function(N,F){return N.t-F.t}),W=0,S=0;S<q.length;S++)B=q[S],te={ease:B.e,duration:(B.t-(S?q[S-1].t:0))/100*h},te[I]=B.v,k.to(R,te,W),W+=te.duration;k.duration()<h&&k.to({},{duration:h-k.duration()})}}h||l.duration(h=k.duration())}else l.timeline=0;return v===!0&&!xd&&(un=Vr(l),Xe.killTweensOf(R),un=0),Ar(E,Vr(l),o),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(p||!h&&!b&&l._start===ht(E._time)&&jt(p)&&TO(Vr(l))&&E.data!=="nested")&&(l._tTime=-Fe,l.render(Math.max(0,-f)||0)),w&&Xv(Vr(l),w),l}var r=e.prototype;return r.render=function(i,o,a){var l=this._time,c=this._tDur,h=this._dur,f=i<0,p=i>c-Fe&&!f?c:i<Fe?0:i,y,v,b,m,w,C,E,R,k;if(!h)RO(this,i,o,a);else if(p!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(y=p,R=this.timeline,this._repeat){if(m=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(m*100+i,o,a);if(y=ht(p%m),p===c?(b=this._repeat,y=h):(w=ht(p/m),b=~~w,b&&b===w?(y=h,b--):y>h&&(y=h)),C=this._yoyo&&b&1,C&&(k=this._yEase,y=h-y),w=ss(this._tTime,m),y===l&&!a&&this._initted&&b===w)return this._tTime=p,this;b!==w&&(R&&this._yEase&&c0(R,C),this.vars.repeatRefresh&&!C&&!this._lock&&y!==m&&this._initted&&(this._lock=a=1,this.render(ht(m*b),!0).invalidate()._lock=0))}if(!this._initted){if(Yv(this,f?i:y,a,o,p))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&b!==w))return this;if(h!==this._dur)return this.render(i,o,a)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(k||this._ease)(y/h),this._from&&(this.ratio=E=1-E),!l&&p&&!o&&!w&&(Yt(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(E,v.d),v=v._next;R&&R.render(i<0?i:R._dur*R._ease(y/this._dur),o,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(f&&Mh(this,i,o,a),Yt(this,"onUpdate")),this._repeat&&b!==w&&this.vars.onRepeat&&!o&&this.parent&&Yt(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&Mh(this,i,!0,!0),(i||!h)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&_n(this,1),!o&&!(f&&!l)&&(p||l||C)&&(Yt(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,o,a,l,c){Po||Xt.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||$d(this,h),f=this._ease(h/this._dur),GO(this,i,o,a,l,f,h,c)?this.resetTo(i,o,a,l,1):(ql(this,0),this.parent||Hv(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?po(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ct),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,un&&un.vars.overwrite!==!0)._first||po(this),this.parent&&a!==this.timeline.totalDuration()&&os(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=i?or(i):l,h=this._ptLookup,f=this._pt,p,y,v,b,m,w,C;if((!o||o==="all")&&EO(l,c))return o==="all"&&(this._pt=0),po(this);for(p=this._op=this._op||[],o!=="all"&&(wt(o)&&(m={},$t(o,function(E){return m[E]=1}),o=m),o=HO(l,o)),C=l.length;C--;)if(~c.indexOf(l[C])){y=h[C],o==="all"?(p[C]=o,b=y,v={}):(v=p[C]=p[C]||{},b=o);for(m in b)w=y&&y[m],w&&((!("kill"in w.d)||w.d.kill(m)===!0)&&zl(this,w,"_pt"),delete y[m]),v!=="all"&&(v[m]=1)}return this._initted&&!this._pt&&f&&po(this),this},e.to=function(i,o){return new e(i,o,arguments[2])},e.from=function(i,o){return So(1,arguments)},e.delayedCall=function(i,o,a,l){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(i,o,a){return So(2,arguments)},e.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(i,o)},e.killTweensOf=function(i,o,a){return Xe.killTweensOf(i,o,a)},e})(Do);Qt(ct.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$t("staggerTo,staggerFrom,staggerFromTo",function(t){ct[t]=function(){var e=new Pt,r=Dh.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Fd=function(e,r,n){return e[r]=n},m0=function(e,r,n){return e[r](n)},XO=function(e,r,n,i){return e[r](i.fp,n)},YO=function(e,r,n){return e.setAttribute(r,n)},Bd=function(e,r){return rt(e[r])?m0:Ad(e[r])&&e.setAttribute?YO:Fd},_0=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},JO=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},y0=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},zd=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},ZO=function(e,r,n,i){for(var o=this._pt,a;o;)a=o._next,o.p===i&&o.modifier(e,r,n),o=a},QO=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?zl(this,r,"_pt"):r.dep||(n=1),r=i;return!n},eR=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},v0=function(e){for(var r=e._pt,n,i,o,a;r;){for(n=r._next,i=o;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:a)?r._prev._next=r:o=r,(r._next=i)?i._prev=r:a=r,r=n}e._pt=o},Ft=(function(){function t(r,n,i,o,a,l,c,h,f){this.t=n,this.s=o,this.c=a,this.p=i,this.r=l||_0,this.d=c||this,this.set=h||Fd,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,o){this.mSet=this.mSet||this.set,this.set=eR,this.m=n,this.mt=o,this.tween=i},t})();$t(Ld+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Dd[t]=1});Zt.TweenMax=Zt.TweenLite=ct;Zt.TimelineLite=Zt.TimelineMax=Pt;Xe=new Pt({sortChildren:!1,defaults:ns,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Jt.stringFilter=l0;var ai=[],ml={},tR=[],pm=0,rR=0,kc=function(e){return(ml[e]||tR).map(function(r){return r()})},jh=function(){var e=Date.now(),r=[];e-pm>2&&(kc("matchMediaInit"),ai.forEach(function(n){var i=n.queries,o=n.conditions,a,l,c,h;for(l in i)a=xr.matchMedia(i[l]).matches,a&&(c=1),a!==o[l]&&(o[l]=a,h=1);h&&(n.revert(),c&&r.push(n))}),kc("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),pm=e,kc("matchMedia"))},b0=(function(){function t(r,n){this.selector=n&&Lh(n),this.data=[],this._r=[],this.isReverted=!1,this.id=rR++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,o){rt(n)&&(o=i,i=n,n=rt);var a=this,l=function(){var h=Ke,f=a.selector,p;return h&&h!==a&&h.data.push(a),o&&(a.selector=Lh(o)),Ke=a,p=i.apply(a,arguments),rt(p)&&a._r.push(p),Ke=h,a.selector=f,a.isReverted=!1,p};return a.last=l,n===rt?l(a,function(c){return a.add(null,c)}):n?a[n]=l:l},e.ignore=function(n){var i=Ke;Ke=null,n(this),Ke=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof ct&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var o=this;if(n?(function(){for(var l=o.getTweens(),c=o.data.length,h;c--;)h=o.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),c=o.data.length;c--;)h=o.data[c],h instanceof Pt?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof ct)&&h.revert&&h.revert(n);o._r.forEach(function(f){return f(n,o)}),o.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var a=ai.length;a--;)ai[a].id===this.id&&ai.splice(a,1)},e.revert=function(n){this.kill(n||{})},t})(),nR=(function(){function t(r){this.contexts=[],this.scope=r,Ke&&Ke.data.push(this)}var e=t.prototype;return e.add=function(n,i,o){Pr(n)||(n={matches:n});var a=new b0(0,o||this.scope),l=a.conditions={},c,h,f;Ke&&!a.selector&&(a.selector=Ke.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=n;for(h in n)h==="all"?f=1:(c=xr.matchMedia(n[h]),c&&(ai.indexOf(a)<0&&ai.push(a),(l[h]=c.matches)&&(f=1),c.addListener?c.addListener(jh):c.addEventListener("change",jh)));return f&&i(a,function(p){return a.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t})(),kl={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return s0(i)})},timeline:function(e){return new Pt(e)},getTweensOf:function(e,r){return Xe.getTweensOf(e,r)},getProperty:function(e,r,n,i){wt(e)&&(e=or(e)[0]);var o=ii(e||{}).get,a=n?Gv:Vv;return n==="native"&&(n=""),e&&(r?a((Kt[r]&&Kt[r].get||o)(e,r,n,i)):function(l,c,h){return a((Kt[l]&&Kt[l].get||o)(e,l,c,h))})},quickSetter:function(e,r,n){if(e=or(e),e.length>1){var i=e.map(function(f){return qt.quickSetter(f,r,n)}),o=i.length;return function(f){for(var p=o;p--;)i[p](f)}}e=e[0]||{};var a=Kt[r],l=ii(e),c=l.harness&&(l.harness.aliases||{})[r]||r,h=a?function(f){var p=new a;Ki._pt=0,p.init(e,n?f+n:f,Ki,0,[e]),p.render(1,p),Ki._pt&&zd(1,Ki)}:l.set(e,c);return a?h:function(f){return h(e,c,n?f+n:f,l,1)}},quickTo:function(e,r,n){var i,o=qt.to(e,Qt((i={},i[r]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),a=function(c,h,f){return o.resetTo(r,c,h,f)};return a.tween=o,a},isTweening:function(e){return Xe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=oi(e.ease,ns.ease)),um(ns,e||{})},config:function(e){return um(Jt,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,o=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Kt[l]&&!Zt[l]&&Ao(r+" effect requires "+l+" plugin.")}),Cc[r]=function(l,c,h){return n(or(l),Qt(c||{},o),h)},a&&(Pt.prototype[r]=function(l,c,h){return this.add(Cc[r](l,Pr(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,r){ke[e]=oi(r)},parseEase:function(e,r){return arguments.length?oi(e,r):ke},getById:function(e){return Xe.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Pt(e),i,o;for(n.smoothChildTiming=jt(e.smoothChildTiming),Xe.remove(n),n._dp=0,n._time=n._tTime=Xe._time,i=Xe._first;i;)o=i._next,(r||!(!i._dur&&i instanceof ct&&i.vars.onComplete===i._targets[0]))&&Ar(n,i,i._start-i._delay),i=o;return Ar(Xe,n,0),n},context:function(e,r){return e?new b0(e,r):Ke},matchMedia:function(e){return new nR(e)},matchMediaRefresh:function(){return ai.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||jh()},addEventListener:function(e,r){var n=ml[e]||(ml[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=ml[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:LO,wrapYoyo:NO,distribute:Qv,random:t0,snap:e0,normalize:DO,getUnit:Tt,clamp:AO,splitColor:o0,toArray:or,selector:Lh,mapRange:n0,pipe:MO,unitize:PO,interpolate:UO,shuffle:Zv},install:Fv,effects:Cc,ticker:Xt,updateRoot:Pt.updateRoot,plugins:Kt,globalTimeline:Xe,core:{PropTween:Ft,globals:Bv,Tween:ct,Timeline:Pt,Animation:Do,getCache:ii,_removeLinkedListItem:zl,reverting:function(){return Ct},context:function(e){return e&&Ke&&(Ke.data.push(e),e._ctx=Ke),Ke},suppressOverwrites:function(e){return xd=e}}};$t("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return kl[t]=ct[t]});Xt.add(Pt.updateRoot);Ki=kl.to({},{duration:0});var iR=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},sR=function(e,r){var n=e._targets,i,o,a;for(i in r)for(o=n.length;o--;)a=e._ptLookup[o][i],a&&(a=a.d)&&(a._pt&&(a=iR(a,i)),a&&a.modifier&&a.modifier(r[i],e,n[o],i))},xc=function(e,r){return{name:e,headless:1,rawVars:1,init:function(i,o,a){a._onInit=function(l){var c,h;if(wt(o)&&(c={},$t(o,function(f){return c[f]=1}),o=c),r){c={};for(h in o)c[h]=r(o[h]);o=c}sR(l,o)}}}},qt=kl.registerPlugin({name:"attr",init:function(e,r,n,i,o){var a,l,c;this.tween=n;for(a in r)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",r[a],i,o,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function(e,r){for(var n=r._pt;n;)Ct?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},xc("roundProps",Nh),xc("modifiers"),xc("snap",e0))||kl;ct.version=Pt.version=qt.version="3.13.0";$v=1;Id()&&as();ke.Power0;ke.Power1;ke.Power2;ke.Power3;ke.Power4;ke.Linear;ke.Quad;ke.Cubic;ke.Quart;ke.Quint;ke.Strong;ke.Elastic;ke.Back;ke.SteppedEase;ke.Bounce;ke.Sine;ke.Expo;ke.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var gm,cn,Zi,Wd,Zn,mm,qd,oR=function(){return typeof window<"u"},Yr={},Kn=180/Math.PI,Qi=Math.PI/180,xi=Math.atan2,_m=1e8,Vd=/([A-Z])/g,aR=/(left|right|width|margin|padding|x)/i,lR=/[\s,\(]\S/,Mr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$h=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},uR=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},cR=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},hR=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},w0=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},S0=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},dR=function(e,r,n){return e.style[r]=n},fR=function(e,r,n){return e.style.setProperty(r,n)},pR=function(e,r,n){return e._gsap[r]=n},gR=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},mR=function(e,r,n,i,o){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(o,a)},_R=function(e,r,n,i,o){var a=e._gsap;a[r]=n,a.renderTransform(o,a)},Ye="transform",Bt=Ye+"Origin",yR=function t(e,r){var n=this,i=this.target,o=i.style,a=i._gsap;if(e in Yr&&o){if(this.tfm=this.tfm||{},e!=="transform")e=Mr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=Hr(i,l)}):this.tfm[e]=a.x?a[e]:Hr(i,e),e===Bt&&(this.tfm.zOrigin=a.zOrigin);else return Mr.transform.split(",").forEach(function(l){return t.call(n,l,r)});if(this.props.indexOf(Ye)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Bt,r,"")),e=Ye}(o||r)&&this.props.push(e,r,o[e])},E0=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},vR=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?r[e[o]](e[o+2]):r[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Vd,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),o=qd(),(!o||!o.isStart)&&!n[Ye]&&(E0(n),i.zOrigin&&n[Bt]&&(n[Bt]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},C0=function(e,r){var n={target:e,props:[],revert:vR,save:yR};return e._gsap||qt.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(i){return n.save(i)}),n},T0,Fh=function(e,r){var n=cn.createElementNS?cn.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):cn.createElement(e);return n&&n.style?n:cn.createElement(e)},ar=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(Vd,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,ls(r)||r,1)||""},ym="O,Moz,ms,Ms,Webkit".split(","),ls=function(e,r,n){var i=r||Zn,o=i.style,a=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(ym[a]+e in o););return a<0?null:(a===3?"ms":a>=0?ym[a]:"")+e},Bh=function(){oR()&&window.document&&(gm=window,cn=gm.document,Zi=cn.documentElement,Zn=Fh("div")||{style:{}},Fh("div"),Ye=ls(Ye),Bt=Ye+"Origin",Zn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",T0=!!ls("perspective"),qd=qt.core.reverting,Wd=1)},vm=function(e){var r=e.ownerSVGElement,n=Fh("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),o;i.style.display="block",n.appendChild(i),Zi.appendChild(n);try{o=i.getBBox()}catch(a){}return n.removeChild(i),Zi.removeChild(n),o},bm=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},O0=function(e){var r,n;try{r=e.getBBox()}catch(i){r=vm(e),n=1}return r&&(r.width||r.height)||n||(r=vm(e)),r&&!r.width&&!r.x&&!r.y?{x:+bm(e,["x","cx","x1"])||0,y:+bm(e,["y","cy","y1"])||0,width:0,height:0}:r},R0=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&O0(e))},hi=function(e,r){if(r){var n=e.style,i;r in Yr&&r!==Bt&&(r=Ye),n.removeProperty?(i=r.substr(0,2),(i==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(i==="--"?r:r.replace(Vd,"-$1").toLowerCase())):n.removeAttribute(r)}},hn=function(e,r,n,i,o,a){var l=new Ft(e._pt,r,n,0,1,a?S0:w0);return e._pt=l,l.b=i,l.e=o,e._props.push(n),l},wm={deg:1,rad:1,turn:1},bR={grid:1,flex:1},yn=function t(e,r,n,i){var o=parseFloat(n)||0,a=(n+"").trim().substr((o+"").length)||"px",l=Zn.style,c=aR.test(r),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(c?"Width":"Height"),p=100,y=i==="px",v=i==="%",b,m,w,C;if(i===a||!o||wm[i]||wm[a])return o;if(a!=="px"&&!y&&(o=t(e,r,n,"px")),C=e.getCTM&&R0(e),(v||a==="%")&&(Yr[r]||~r.indexOf("adius")))return b=C?e.getBBox()[c?"width":"height"]:e[f],it(v?o/b*p:o/100*b);if(l[c?"width":"height"]=p+(y?a:i),m=i!=="rem"&&~r.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,C&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===cn||!m.appendChild)&&(m=cn.body),w=m._gsap,w&&v&&w.width&&c&&w.time===Xt.time&&!w.uncache)return it(o/w.width*p);if(v&&(r==="height"||r==="width")){var E=e.style[r];e.style[r]=p+i,b=e[f],E?e.style[r]=E:hi(e,r)}else(v||a==="%")&&!bR[ar(m,"display")]&&(l.position=ar(e,"position")),m===e&&(l.position="static"),m.appendChild(Zn),b=Zn[f],m.removeChild(Zn),l.position="absolute";return c&&v&&(w=ii(m),w.time=Xt.time,w.width=m[f]),it(y?b*o/p:b&&o?p/b*o:0)},Hr=function(e,r,n,i){var o;return Wd||Bh(),r in Mr&&r!=="transform"&&(r=Mr[r],~r.indexOf(",")&&(r=r.split(",")[0])),Yr[r]&&r!=="transform"?(o=No(e,i),o=r!=="transformOrigin"?o[r]:o.svg?o.origin:Al(ar(e,Bt))+" "+o.zOrigin+"px"):(o=e.style[r],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=xl[r]&&xl[r](e,r,n)||ar(e,r)||Wv(e,r)||(r==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?yn(e,r,o,n)+n:o},wR=function(e,r,n,i){if(!n||n==="none"){var o=ls(r,e,1),a=o&&ar(e,o,1);a&&a!==n?(r=o,n=a):r==="borderColor"&&(n=ar(e,"borderTopColor"))}var l=new Ft(this._pt,e.style,r,0,1,y0),c=0,h=0,f,p,y,v,b,m,w,C,E,R,k,S;if(l.b=n,l.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=ar(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[r],e.style[r]=i,i=ar(e,r)||i,m?e.style[r]=m:hi(e,r)),f=[n,i],l0(f),n=f[0],i=f[1],y=n.match(Hi)||[],S=i.match(Hi)||[],S.length){for(;p=Hi.exec(i);)w=p[0],E=i.substring(c,p.index),b?b=(b+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(b=1),w!==(m=y[h++]||"")&&(v=parseFloat(m)||0,k=m.substr((v+"").length),w.charAt(1)==="="&&(w=Ji(v,w)+k),C=parseFloat(w),R=w.substr((C+"").length),c=Hi.lastIndex-R.length,R||(R=R||Jt.units[r]||k,c===i.length&&(i+=R,l.e+=R)),k!==R&&(v=yn(e,r,m,R)||0),l._pt={_next:l._pt,p:E||h===1?E:",",s:v,c:C-v,m:b&&b<4||r==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=r==="display"&&i==="none"?S0:w0;return Uv.test(i)&&(l.e=0),this._pt=l,l},Sm={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},SR=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=Sm[n]||n,r[1]=Sm[i]||i,r.join(" ")},ER=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,o=r.u,a=n._gsap,l,c,h;if(o==="all"||o===!0)i.cssText="",c=1;else for(o=o.split(","),h=o.length;--h>-1;)l=o[h],Yr[l]&&(c=1,l=l==="transformOrigin"?Bt:Ye),hi(n,l);c&&(hi(n,Ye),a&&(a.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",No(n,1),a.uncache=1,E0(i)))}},xl={clearProps:function(e,r,n,i,o){if(o.data!=="isFromStart"){var a=e._pt=new Ft(e._pt,r,n,0,0,ER);return a.u=i,a.pr=-10,a.tween=o,e._props.push(n),1}}},Lo=[1,0,0,1,0,0],k0={},x0=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Em=function(e){var r=ar(e,Ye);return x0(r)?Lo:r.substr(7).match(Nv).map(it)},Gd=function(e,r){var n=e._gsap||ii(e),i=e.style,o=Em(e),a,l,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?Lo:o):(o===Lo&&!e.offsetParent&&e!==Zi&&!n.svg&&(c=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,Zi.appendChild(e)),o=Em(e),c?i.display=c:hi(e,"display"),h&&(l?a.insertBefore(e,l):a?a.appendChild(e):Zi.removeChild(e))),r&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},zh=function(e,r,n,i,o,a){var l=e._gsap,c=o||Gd(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,y=l.yOffset||0,v=c[0],b=c[1],m=c[2],w=c[3],C=c[4],E=c[5],R=r.split(" "),k=parseFloat(R[0])||0,S=parseFloat(R[1])||0,T,A,I,P;n?c!==Lo&&(A=v*w-b*m)&&(I=k*(w/A)+S*(-m/A)+(m*E-w*C)/A,P=k*(-b/A)+S*(v/A)-(v*E-b*C)/A,k=I,S=P):(T=O0(e),k=T.x+(~R[0].indexOf("%")?k/100*T.width:k),S=T.y+(~(R[1]||R[0]).indexOf("%")?S/100*T.height:S)),i||i!==!1&&l.smooth?(C=k-h,E=S-f,l.xOffset=p+(C*v+E*m)-C,l.yOffset=y+(C*b+E*w)-E):l.xOffset=l.yOffset=0,l.xOrigin=k,l.yOrigin=S,l.smooth=!!i,l.origin=r,l.originIsAbsolute=!!n,e.style[Bt]="0px 0px",a&&(hn(a,l,"xOrigin",h,k),hn(a,l,"yOrigin",f,S),hn(a,l,"xOffset",p,l.xOffset),hn(a,l,"yOffset",y,l.yOffset)),e.setAttribute("data-svg-origin",k+" "+S)},No=function(e,r){var n=e._gsap||new d0(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,o=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),h=ar(e,Bt)||"0",f,p,y,v,b,m,w,C,E,R,k,S,T,A,I,P,U,j,W,q,B,te,N,F,z,Q,ne,ce,_e,ge,Z,J;return f=p=y=m=w=C=E=R=k=0,v=b=1,n.svg=!!(e.getCTM&&R0(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Ye]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ye]!=="none"?c[Ye]:"")),i.scale=i.rotate=i.translate="none"),A=Gd(e,n.svg),n.svg&&(n.uncache?(z=e.getBBox(),h=n.xOrigin-z.x+"px "+(n.yOrigin-z.y)+"px",F=""):F=!r&&e.getAttribute("data-svg-origin"),zh(e,F||h,!!F||n.originIsAbsolute,n.smooth!==!1,A)),S=n.xOrigin||0,T=n.yOrigin||0,A!==Lo&&(j=A[0],W=A[1],q=A[2],B=A[3],f=te=A[4],p=N=A[5],A.length===6?(v=Math.sqrt(j*j+W*W),b=Math.sqrt(B*B+q*q),m=j||W?xi(W,j)*Kn:0,E=q||B?xi(q,B)*Kn+m:0,E&&(b*=Math.abs(Math.cos(E*Qi))),n.svg&&(f-=S-(S*j+T*q),p-=T-(S*W+T*B))):(J=A[6],ge=A[7],ne=A[8],ce=A[9],_e=A[10],Z=A[11],f=A[12],p=A[13],y=A[14],I=xi(J,_e),w=I*Kn,I&&(P=Math.cos(-I),U=Math.sin(-I),F=te*P+ne*U,z=N*P+ce*U,Q=J*P+_e*U,ne=te*-U+ne*P,ce=N*-U+ce*P,_e=J*-U+_e*P,Z=ge*-U+Z*P,te=F,N=z,J=Q),I=xi(-q,_e),C=I*Kn,I&&(P=Math.cos(-I),U=Math.sin(-I),F=j*P-ne*U,z=W*P-ce*U,Q=q*P-_e*U,Z=B*U+Z*P,j=F,W=z,q=Q),I=xi(W,j),m=I*Kn,I&&(P=Math.cos(I),U=Math.sin(I),F=j*P+W*U,z=te*P+N*U,W=W*P-j*U,N=N*P-te*U,j=F,te=z),w&&Math.abs(w)+Math.abs(m)>359.9&&(w=m=0,C=180-C),v=it(Math.sqrt(j*j+W*W+q*q)),b=it(Math.sqrt(N*N+J*J)),I=xi(te,N),E=Math.abs(I)>2e-4?I*Kn:0,k=Z?1/(Z<0?-Z:Z):0),n.svg&&(F=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!x0(ar(e,Ye)),F&&e.setAttribute("transform",F))),Math.abs(E)>90&&Math.abs(E)<270&&(o?(v*=-1,E+=m<=0?180:-180,m+=m<=0?180:-180):(b*=-1,E+=E<=0?180:-180)),r=r||n.uncache,n.x=f-((n.xPercent=f&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=p-((n.yPercent=p&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=y+a,n.scaleX=it(v),n.scaleY=it(b),n.rotation=it(m)+l,n.rotationX=it(w)+l,n.rotationY=it(C)+l,n.skewX=E+l,n.skewY=R+l,n.transformPerspective=k+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!r&&n.zOrigin||0)&&(i[Bt]=Al(h)),n.xOffset=n.yOffset=0,n.force3D=Jt.force3D,n.renderTransform=n.svg?TR:T0?A0:CR,n.uncache=0,n},Al=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ac=function(e,r,n){var i=Tt(r);return it(parseFloat(r)+parseFloat(yn(e,"x",n+"px",i)))+i},CR=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,A0(e,r)},kn="0deg",Xs="0px",xn=") ",A0=function(e,r){var n=r||this,i=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.z,h=n.rotation,f=n.rotationY,p=n.rotationX,y=n.skewX,v=n.skewY,b=n.scaleX,m=n.scaleY,w=n.transformPerspective,C=n.force3D,E=n.target,R=n.zOrigin,k="",S=C==="auto"&&e&&e!==1||C===!0;if(R&&(p!==kn||f!==kn)){var T=parseFloat(f)*Qi,A=Math.sin(T),I=Math.cos(T),P;T=parseFloat(p)*Qi,P=Math.cos(T),a=Ac(E,a,A*P*-R),l=Ac(E,l,-Math.sin(T)*-R),c=Ac(E,c,I*P*-R+R)}w!==Xs&&(k+="perspective("+w+xn),(i||o)&&(k+="translate("+i+"%, "+o+"%) "),(S||a!==Xs||l!==Xs||c!==Xs)&&(k+=c!==Xs||S?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+xn),h!==kn&&(k+="rotate("+h+xn),f!==kn&&(k+="rotateY("+f+xn),p!==kn&&(k+="rotateX("+p+xn),(y!==kn||v!==kn)&&(k+="skew("+y+", "+v+xn),(b!==1||m!==1)&&(k+="scale("+b+", "+m+xn),E.style[Ye]=k||"translate(0, 0)"},TR=function(e,r){var n=r||this,i=n.xPercent,o=n.yPercent,a=n.x,l=n.y,c=n.rotation,h=n.skewX,f=n.skewY,p=n.scaleX,y=n.scaleY,v=n.target,b=n.xOrigin,m=n.yOrigin,w=n.xOffset,C=n.yOffset,E=n.forceCSS,R=parseFloat(a),k=parseFloat(l),S,T,A,I,P;c=parseFloat(c),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,c+=f),c||h?(c*=Qi,h*=Qi,S=Math.cos(c)*p,T=Math.sin(c)*p,A=Math.sin(c-h)*-y,I=Math.cos(c-h)*y,h&&(f*=Qi,P=Math.tan(h-f),P=Math.sqrt(1+P*P),A*=P,I*=P,f&&(P=Math.tan(f),P=Math.sqrt(1+P*P),S*=P,T*=P)),S=it(S),T=it(T),A=it(A),I=it(I)):(S=p,I=y,T=A=0),(R&&!~(a+"").indexOf("px")||k&&!~(l+"").indexOf("px"))&&(R=yn(v,"x",a,"px"),k=yn(v,"y",l,"px")),(b||m||w||C)&&(R=it(R+b-(b*S+m*A)+w),k=it(k+m-(b*T+m*I)+C)),(i||o)&&(P=v.getBBox(),R=it(R+i/100*P.width),k=it(k+o/100*P.height)),P="matrix("+S+","+T+","+A+","+I+","+R+","+k+")",v.setAttribute("transform",P),E&&(v.style[Ye]=P)},OR=function(e,r,n,i,o){var a=360,l=wt(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?Kn:1),h=c-i,f=i+h+"deg",p,y;return l&&(p=o.split("_")[1],p==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-a)),p==="cw"&&h<0?h=(h+a*_m)%a-~~(h/a)*a:p==="ccw"&&h>0&&(h=(h-a*_m)%a-~~(h/a)*a)),e._pt=y=new Ft(e._pt,r,n,i,h,uR),y.e=f,y.u="deg",e._props.push(n),y},Cm=function(e,r){for(var n in r)e[n]=r[n];return e},RR=function(e,r,n){var i=Cm({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,h,f,p,y,v,b;i.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[Ye]=r,l=No(n,1),hi(n,Ye),n.setAttribute("transform",h)):(h=getComputedStyle(n)[Ye],a[Ye]=r,l=No(n,1),a[Ye]=h);for(c in Yr)h=i[c],f=l[c],h!==f&&o.indexOf(c)<0&&(v=Tt(h),b=Tt(f),p=v!==b?yn(n,c,h,b):parseFloat(h),y=parseFloat(f),e._pt=new Ft(e._pt,l,c,p,y-p,$h),e._pt.u=b||0,e._props.push(c));Cm(l,i)};$t("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",o="Left",a=(e<3?[r,n,i,o]:[r+o,r+n,i+n,i+o]).map(function(l){return e<2?t+l:"border"+l+t});xl[e>1?"border"+t:t]=function(l,c,h,f,p){var y,v;if(arguments.length<4)return y=a.map(function(b){return Hr(l,b,h)}),v=y.join(" "),v.split(y[0]).length===5?y[0]:v;y=(f+"").split(" "),v={},a.forEach(function(b,m){return v[b]=y[m]=y[m]||y[(m-1)/2|0]}),l.init(c,v,p)}});var I0={name:"css",register:Bh,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,o){var a=this._props,l=e.style,c=n.vars.startAt,h,f,p,y,v,b,m,w,C,E,R,k,S,T,A,I;Wd||Bh(),this.styles=this.styles||C0(e),I=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(f=r[m],!(Kt[m]&&f0(m,r,n,i,e,o)))){if(v=typeof f,b=xl[m],v==="function"&&(f=f.call(n,i,e,o),v=typeof f),v==="string"&&~f.indexOf("random(")&&(f=Mo(f)),b)b(this,e,m,f,n)&&(A=1);else if(m.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(m)+"").trim(),f+="",fn.lastIndex=0,fn.test(h)||(w=Tt(h),C=Tt(f)),C?w!==C&&(h=yn(e,m,h,C)+C):w&&(f+=w),this.add(l,"setProperty",h,f,i,o,0,0,m),a.push(m),I.push(m,0,l[m]);else if(v!=="undefined"){if(c&&m in c?(h=typeof c[m]=="function"?c[m].call(n,i,e,o):c[m],wt(h)&&~h.indexOf("random(")&&(h=Mo(h)),Tt(h+"")||h==="auto"||(h+=Jt.units[m]||Tt(Hr(e,m))||""),(h+"").charAt(1)==="="&&(h=Hr(e,m))):h=Hr(e,m),y=parseFloat(h),E=v==="string"&&f.charAt(1)==="="&&f.substr(0,2),E&&(f=f.substr(2)),p=parseFloat(f),m in Mr&&(m==="autoAlpha"&&(y===1&&Hr(e,"visibility")==="hidden"&&p&&(y=0),I.push("visibility",0,l.visibility),hn(this,l,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),m!=="scale"&&m!=="transform"&&(m=Mr[m],~m.indexOf(",")&&(m=m.split(",")[0]))),R=m in Yr,R){if(this.styles.save(m),v==="string"&&f.substring(0,6)==="var(--"&&(f=ar(e,f.substring(4,f.indexOf(")"))),p=parseFloat(f)),k||(S=e._gsap,S.renderTransform&&!r.parseTransform||No(e,r.parseTransform),T=r.smoothOrigin!==!1&&S.smooth,k=this._pt=new Ft(this._pt,l,Ye,0,1,S.renderTransform,S,0,-1),k.dep=1),m==="scale")this._pt=new Ft(this._pt,S,"scaleY",S.scaleY,(E?Ji(S.scaleY,E+p):p)-S.scaleY||0,$h),this._pt.u=0,a.push("scaleY",m),m+="X";else if(m==="transformOrigin"){I.push(Bt,0,l[Bt]),f=SR(f),S.svg?zh(e,f,0,T,0,this):(C=parseFloat(f.split(" ")[2])||0,C!==S.zOrigin&&hn(this,S,"zOrigin",S.zOrigin,C),hn(this,l,m,Al(h),Al(f)));continue}else if(m==="svgOrigin"){zh(e,f,1,T,0,this);continue}else if(m in k0){OR(this,S,m,y,E?Ji(y,E+f):f);continue}else if(m==="smoothOrigin"){hn(this,S,"smooth",S.smooth,f);continue}else if(m==="force3D"){S[m]=f;continue}else if(m==="transform"){RR(this,f,e);continue}}else m in l||(m=ls(m)||m);if(R||(p||p===0)&&(y||y===0)&&!lR.test(f)&&m in l)w=(h+"").substr((y+"").length),p||(p=0),C=Tt(f)||(m in Jt.units?Jt.units[m]:w),w!==C&&(y=yn(e,m,h,C)),this._pt=new Ft(this._pt,R?S:l,m,y,(E?Ji(y,E+p):p)-y,!R&&(C==="px"||m==="zIndex")&&r.autoRound!==!1?hR:$h),this._pt.u=C||0,w!==C&&C!=="%"&&(this._pt.b=h,this._pt.r=cR);else if(m in l)wR.call(this,e,m,h,E?E+f:f);else if(m in e)this.add(e,m,h||e[m],E?E+f:f,i,o);else if(m!=="parseTransform"){Pd(m,f);continue}R||(m in l?I.push(m,0,l[m]):typeof e[m]=="function"?I.push(m,2,e[m]()):I.push(m,1,h||e[m])),a.push(m)}}A&&v0(this)},render:function(e,r){if(r.tween._time||!qd())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:Hr,aliases:Mr,getSetter:function(e,r,n){var i=Mr[r];return i&&i.indexOf(",")<0&&(r=i),r in Yr&&r!==Bt&&(e._gsap.x||Hr(e,"x"))?n&&mm===n?r==="scale"?gR:pR:(mm=n||{})&&(r==="scale"?mR:_R):e.style&&!Ad(e.style[r])?dR:~r.indexOf("-")?fR:Bd(e,r)},core:{_removeProperty:hi,_getMatrix:Gd}};qt.utils.checkPrefix=ls;qt.core.getStyleSaver=C0;(function(t,e,r,n){var i=$t(t+","+e+","+r,function(o){Yr[o]=1});$t(e,function(o){Jt.units[o]="deg",k0[o]=1}),Mr[i[13]]=t+","+e,$t(n,function(o){var a=o.split(":");Mr[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$t("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Jt.units[t]="px"});qt.registerPlugin(I0);var kR=qt.registerPlugin(I0)||qt;kR.core.Tween;function M0(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=M0(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function xR(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=M0(t))&&(n&&(n+=" "),n+=e);return n}const Hd="-",AR=t=>{const e=MR(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(Hd);return l[0]===""&&l.length!==1&&l.shift(),P0(l,e)||IR(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},P0=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?P0(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Hd);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Tm=/^\[(.+)\]$/,IR=t=>{if(Tm.test(t)){const e=Tm.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},MR=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)Wh(r[i],n,i,e);return n},Wh=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Om(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(PR(i)){Wh(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{Wh(a,Om(e,o),r,n)})})},Om=(t,e)=>{let r=t;return e.split(Hd).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},PR=t=>t.isThemeGetter,DR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},qh="!",Vh=":",LR=Vh.length,NR=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const o=[];let a=0,l=0,c=0,h;for(let b=0;b<i.length;b++){let m=i[b];if(a===0&&l===0){if(m===Vh){o.push(i.slice(c,b)),c=b+LR;continue}if(m==="/"){h=b;continue}}m==="["?a++:m==="]"?a--:m==="("?l++:m===")"&&l--}const f=o.length===0?i:i.substring(c),p=UR(f),y=p!==f,v=h&&h>c?h-c:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:p,maybePostfixModifierPosition:v}};if(e){const i=e+Vh,o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},UR=t=>t.endsWith(qh)?t.substring(0,t.length-1):t.startsWith(qh)?t.substring(1):t,jR=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},$R=t=>({cache:DR(t.cacheSize),parseClassName:NR(t),sortModifiers:jR(t),...AR(t)}),FR=/\s+/,BR=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],l=t.trim().split(FR);let c="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{isExternal:p,modifiers:y,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:m}=r(f);if(p){c=f+(c.length>0?" "+c:c);continue}let w=!!m,C=n(w?b.substring(0,m):b);if(!C){if(!w){c=f+(c.length>0?" "+c:c);continue}if(C=n(b),!C){c=f+(c.length>0?" "+c:c);continue}w=!1}const E=o(y).join(":"),R=v?E+qh:E,k=R+C;if(a.includes(k))continue;a.push(k);const S=i(C,w);for(let T=0;T<S.length;++T){const A=S[T];a.push(R+A)}c=f+(c.length>0?" "+c:c)}return c};function zR(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=D0(e))&&(n&&(n+=" "),n+=r);return n}const D0=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=D0(t[n]))&&(r&&(r+=" "),r+=e);return r};function WR(t,...e){let r,n,i,o=a;function a(c){const h=e.reduce((f,p)=>p(f),t());return r=$R(h),n=r.cache.get,i=r.cache.set,o=l,l(c)}function l(c){const h=n(c);if(h)return h;const f=BR(c,r);return i(c,f),f}return function(){return o(zR.apply(null,arguments))}}const pt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},L0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qR=/^\d+\/\d+$/,VR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ai=t=>qR.test(t),Te=t=>!!t&&!Number.isNaN(Number(t)),rn=t=>!!t&&Number.isInteger(Number(t)),Ic=t=>t.endsWith("%")&&Te(t.slice(0,-1)),jr=t=>VR.test(t),YR=()=>!0,JR=t=>GR.test(t)&&!HR.test(t),U0=()=>!1,ZR=t=>KR.test(t),QR=t=>XR.test(t),ek=t=>!fe(t)&&!pe(t),tk=t=>ds(t,F0,U0),fe=t=>L0.test(t),An=t=>ds(t,B0,JR),Mc=t=>ds(t,ok,Te),Rm=t=>ds(t,j0,U0),rk=t=>ds(t,$0,QR),rl=t=>ds(t,z0,ZR),pe=t=>N0.test(t),Ys=t=>fs(t,B0),nk=t=>fs(t,ak),km=t=>fs(t,j0),ik=t=>fs(t,F0),sk=t=>fs(t,$0),nl=t=>fs(t,z0,!0),ds=(t,e,r)=>{const n=L0.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},fs=(t,e,r=!1)=>{const n=N0.exec(t);return n?n[1]?e(n[1]):r:!1},j0=t=>t==="position"||t==="percentage",$0=t=>t==="image"||t==="url",F0=t=>t==="length"||t==="size"||t==="bg-size",B0=t=>t==="length",ok=t=>t==="number",ak=t=>t==="family-name",z0=t=>t==="shadow",lk=()=>{const t=pt("color"),e=pt("font"),r=pt("text"),n=pt("font-weight"),i=pt("tracking"),o=pt("leading"),a=pt("breakpoint"),l=pt("container"),c=pt("spacing"),h=pt("radius"),f=pt("shadow"),p=pt("inset-shadow"),y=pt("text-shadow"),v=pt("drop-shadow"),b=pt("blur"),m=pt("perspective"),w=pt("aspect"),C=pt("ease"),E=pt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...k(),pe,fe],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],I=()=>[pe,fe,c],P=()=>[Ai,"full","auto",...I()],U=()=>[rn,"none","subgrid",pe,fe],j=()=>["auto",{span:["full",rn,pe,fe]},rn,pe,fe],W=()=>[rn,"auto",pe,fe],q=()=>["auto","min","max","fr",pe,fe],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...I()],F=()=>[Ai,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],z=()=>[t,pe,fe],Q=()=>[...k(),km,Rm,{position:[pe,fe]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ce=()=>["auto","cover","contain",ik,tk,{size:[pe,fe]}],_e=()=>[Ic,Ys,An],ge=()=>["","none","full",h,pe,fe],Z=()=>["",Te,Ys,An],J=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[Te,Ic,km,Rm],ae=()=>["","none",b,pe,fe],le=()=>["none",Te,pe,fe],H=()=>["none",Te,pe,fe],ie=()=>[Te,pe,fe],se=()=>[Ai,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jr],breakpoint:[jr],color:[YR],container:[jr],"drop-shadow":[jr],ease:["in","out","in-out"],font:[ek],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jr],shadow:[jr],spacing:["px",Te],text:[jr],"text-shadow":[jr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ai,fe,pe,w]}],container:["container"],columns:[{columns:[Te,fe,pe,l]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[rn,"auto",pe,fe]}],basis:[{basis:[Ai,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,Ai,"auto","initial","none",fe]}],grow:[{grow:["",Te,pe,fe]}],shrink:[{shrink:["",Te,pe,fe]}],order:[{order:[rn,"first","last","none",pe,fe]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[l,"screen",...F()]}],"min-w":[{"min-w":[l,"screen","none",...F()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",r,Ys,An]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,pe,Mc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ic,fe]}],"font-family":[{font:[nk,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pe,fe]}],"line-clamp":[{"line-clamp":[Te,"none",pe,Mc]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",pe,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",pe,An]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Te,"auto",pe,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:ce()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rn,pe,fe],radial:["",pe,fe],conic:[rn,pe,fe]},sk,rk]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,pe,fe]}],"outline-w":[{outline:["",Te,Ys,An]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",f,nl,rl]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",p,nl,rl]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Te,An]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",y,nl,rl]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Te,pe,fe]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[pe,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:ce()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,fe]}],filter:[{filter:["","none",pe,fe]}],blur:[{blur:ae()}],brightness:[{brightness:[Te,pe,fe]}],contrast:[{contrast:[Te,pe,fe]}],"drop-shadow":[{"drop-shadow":["","none",v,nl,rl]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Te,pe,fe]}],"hue-rotate":[{"hue-rotate":[Te,pe,fe]}],invert:[{invert:["",Te,pe,fe]}],saturate:[{saturate:[Te,pe,fe]}],sepia:[{sepia:["",Te,pe,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,fe]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[Te,pe,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Te,pe,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,pe,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,pe,fe]}],"backdrop-invert":[{"backdrop-invert":["",Te,pe,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Te,pe,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Te,pe,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,pe,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",pe,fe]}],ease:[{ease:["linear","initial",C,pe,fe]}],delay:[{delay:[Te,pe,fe]}],animate:[{animate:["none",E,pe,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,pe,fe]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[pe,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,fe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Te,Ys,An,Mc]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QN=WR(lk);var In={},Pc={},Dc={},xm;function Dt(){return xm||(xm=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0;const e=" DEBUG ",r="  INFO ",n="  WARN ",i=" ERROR ";function o(l){return l.unshift("[Statsig]"),l}t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class a{static info(...c){a.level>=t.LogLevel.Info&&console.info(r,...o(c))}static debug(...c){a.level>=t.LogLevel.Debug&&console.debug(e,...o(c))}static warn(...c){a.level>=t.LogLevel.Warn&&console.warn(n,...o(c))}static error(...c){a.level>=t.LogLevel.Error&&console.error(i,...o(c))}}t.Log=a,a.level=t.LogLevel.Warn})(Dc)),Dc}var Am;function pn(){return Am||(Am=1,(function(t){var e,r,n;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;const i=Dt(),o=()=>{try{return typeof __STATSIG__<"u"?__STATSIG__:y}catch(v){return y}};t._getStatsigGlobal=o;const a=v=>(0,t._getStatsigGlobal)()[v];t._getStatsigGlobalFlag=a;const l=v=>{const b=(0,t._getStatsigGlobal)();return v?b.instances&&b.instances[v]:(b.instances&&Object.keys(b.instances).length>1&&i.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),b.firstInstance)};t._getInstance=l;const c="__STATSIG__",h=typeof window<"u"?window:{},f=typeof Jg<"u"?Jg:{},p=typeof globalThis<"u"?globalThis:{},y=(n=(r=(e=h[c])!==null&&e!==void 0?e:f[c])!==null&&r!==void 0?r:p[c])!==null&&n!==void 0?n:{instance:t._getInstance};h[c]=y,f[c]=y,p[c]=y})(Pc)),Pc}var Lc={},Im;function Gh(){return Im||(Im=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const e=new Map,r="start",n="end",i="statsig::diagnostics";t.Diagnostics={_getMarkers:h=>e.get(h),_markInitOverallStart:h=>{l(h,o({},r,"overall"))},_markInitOverallEnd:(h,f,p)=>{l(h,o({success:f,error:f?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:p},n,"overall"))},_markInitNetworkReqStart:(h,f)=>{l(h,o(f,r,"initialize","network_request"))},_markInitNetworkReqEnd:(h,f)=>{l(h,o(f,n,"initialize","network_request"))},_markInitProcessStart:h=>{l(h,o({},r,"initialize","process"))},_markInitProcessEnd:(h,f)=>{l(h,o(f,n,"initialize","process"))},_clearMarkers:h=>{e.delete(h)},_formatError(h){if(h&&typeof h=="object")return{code:c(h,"code"),name:c(h,"name"),message:c(h,"message")}},_getDiagnosticsData(h,f,p,y){var v;return{success:(h==null?void 0:h.ok)===!0,statusCode:h==null?void 0:h.status,sdkRegion:(v=h==null?void 0:h.headers)===null||v===void 0?void 0:v.get("x-statsig-region"),isDelta:p.includes('"is_delta":true')===!0?!0:void 0,attempt:f,error:t.Diagnostics._formatError(y)}},_enqueueDiagnosticsEvent(h,f,p,y){const v=t.Diagnostics._getMarkers(p);if(v==null||v.length<=0)return-1;const b=v[v.length-1].timestamp-v[0].timestamp;t.Diagnostics._clearMarkers(p);const m=a(h,{context:"initialize",markers:v.slice(),statsigOptions:y});return f.enqueue(m),b}};function o(h,f,p,y){return Object.assign({key:p,action:f,step:y,timestamp:Date.now()},h)}function a(h,f){return{eventName:i,user:h,value:null,metadata:f,time:Date.now()}}function l(h,f){var p;const y=(p=e.get(h))!==null&&p!==void 0?p:[];y.push(f),e.set(h,y)}function c(h,f){if(f in h)return h[f]}})(Lc)),Lc}var Mn={},Pn={},Nc={},Dn={},Mm;function Kd(){if(Mm)return Dn;Mm=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn._isTypeMatch=Dn._typeOf=void 0;function t(r){return Array.isArray(r)?"array":typeof r}Dn._typeOf=t;function e(r,n){const i=o=>Array.isArray(o)?"array":o===null?"null":typeof o;return i(r)===i(n)}return Dn._isTypeMatch=e,Dn}var Pm;function ps(){return Pm||(Pm=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;const e=Kd(),r=o=>{let a=0;for(let l=0;l<o.length;l++){const c=o.charCodeAt(l);a=(a<<5)-a+c,a=a&a}return String(a>>>0)};t._DJB2=r;const n=(o,a)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(o,a)));t._DJB2Object=n;const i=(o,a)=>{if(o==null)return null;const l=Object.keys(o).sort(),c={};return l.forEach(h=>{const f=o[h];if(a===0||(0,e._typeOf)(f)!=="object"){c[h]=f;return}c[h]=(0,t._getSortedObject)(f,a!=null?a-1:a)}),c};t._getSortedObject=i})(Nc)),Nc}var Dm;function Vl(){if(Dm)return Pn;Dm=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn._getStorageKey=Pn._getUserStorageKey=void 0;const t=ps();function e(n,i,o){var a;if(o)return o(n,i);const l=i&&i.customIDs?i.customIDs:{},c=["uid:".concat((a=i==null?void 0:i.userID)!==null&&a!==void 0?a:""),"cids:".concat(Object.keys(l).sort((h,f)=>h.localeCompare(f)).map(h=>"".concat(h,"-").concat(l[h])).join(",")),"k:".concat(n)];return(0,t._DJB2)(c.join("|"))}Pn._getUserStorageKey=e;function r(n,i,o){return i?e(n,i,o):(0,t._DJB2)("k:".concat(n))}return Pn._getStorageKey=r,Pn}var Uc={},Lm;function Gl(){return Lm||(Lm=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}})(Uc)),Uc}var jc={},Nm;function gi(){return Nm||(Nm=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._getUnloadEvent=t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0;const e=()=>typeof window<"u"?window:null;t._getWindowSafe=e;const r=()=>{var c;const h=(0,t._getWindowSafe)();return(c=h==null?void 0:h.document)!==null&&c!==void 0?c:null};t._getDocumentSafe=r;const n=()=>{if((0,t._getDocumentSafe)()!==null)return!1;const c=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return typeof EdgeRuntime=="string"||c};t._isServerEnv=n;const i=(c,h)=>{const f=(0,t._getWindowSafe)();typeof(f==null?void 0:f.addEventListener)=="function"&&f.addEventListener(c,h)};t._addWindowEventListenerSafe=i;const o=(c,h)=>{const f=(0,t._getDocumentSafe)();typeof(f==null?void 0:f.addEventListener)=="function"&&f.addEventListener(c,h)};t._addDocumentEventListenerSafe=o;const a=()=>{var c;try{return(c=(0,t._getWindowSafe)())===null||c===void 0?void 0:c.location.href.split(/[?#]/)[0]}catch(h){return}};t._getCurrentPageUrlSafe=a;const l=()=>{const c=(0,t._getWindowSafe)();return c&&"onpagehide"in c?"pagehide":"beforeunload"};t._getUnloadEvent=l})(jc)),jc}var Gt={},Um;function W0(){if(Um)return Gt;Um=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt._createLayerParameterExposure=Gt._createConfigExposure=Gt._mapExposures=Gt._createGateExposure=Gt._isExposureEvent=void 0;const t="statsig::config_exposure",e="statsig::gate_exposure",r="statsig::layer_exposure",n=(f,p,y,v,b)=>(y.bootstrapMetadata&&(v.bootstrapMetadata=y.bootstrapMetadata),{eventName:f,user:p,value:null,metadata:h(y,v),secondaryExposures:b,time:Date.now()}),i=({eventName:f})=>f===e||f===t||f===r;Gt._isExposureEvent=i;const o=(f,p,y)=>{var v,b,m;const w={gate:p.name,gateValue:String(p.value),ruleID:p.ruleID};return((v=p.__evaluation)===null||v===void 0?void 0:v.version)!=null&&(w.configVersion=p.__evaluation.version),n(e,f,p.details,w,a((m=(b=p.__evaluation)===null||b===void 0?void 0:b.secondary_exposures)!==null&&m!==void 0?m:[],y))};Gt._createGateExposure=o;function a(f,p){return f.map(y=>typeof y=="string"?(p!=null?p:{})[y]:y).filter(y=>y!=null)}Gt._mapExposures=a;const l=(f,p,y)=>{var v,b,m,w;const C={config:p.name,ruleID:p.ruleID};return((v=p.__evaluation)===null||v===void 0?void 0:v.version)!=null&&(C.configVersion=p.__evaluation.version),((b=p.__evaluation)===null||b===void 0?void 0:b.passed)!=null&&(C.rulePassed=String(p.__evaluation.passed)),n(t,f,p.details,C,a((w=(m=p.__evaluation)===null||m===void 0?void 0:m.secondary_exposures)!==null&&w!==void 0?w:[],y))};Gt._createConfigExposure=l;const c=(f,p,y,v)=>{var b,m,w,C,E,R,k;const S=p.__evaluation,T=((b=S==null?void 0:S.explicit_parameters)===null||b===void 0?void 0:b.includes(y))===!0;let A="",I=(m=S==null?void 0:S.undelegated_secondary_exposures)!==null&&m!==void 0?m:[];T&&(A=(w=S.allocated_experiment_name)!==null&&w!==void 0?w:"",I=(C=S.secondary_exposures)!==null&&C!==void 0?C:[]);const P=(E=p.__evaluation)===null||E===void 0?void 0:E.parameter_rule_ids,U={config:p.name,parameterName:y,ruleID:(R=P==null?void 0:P[y])!==null&&R!==void 0?R:p.ruleID,allocatedExperiment:A,isExplicitParameter:String(T)};return((k=p.__evaluation)===null||k===void 0?void 0:k.version)!=null&&(U.configVersion=p.__evaluation.version),n(r,f,p.details,U,a(I,v))};Gt._createLayerParameterExposure=c;const h=(f,p)=>(p.reason=f.reason,f.lcut&&(p.lcut=String(f.lcut)),f.receivedAt&&(p.receivedAt=String(f.receivedAt)),p);return Gt}var Ln={},jm;function Hl(){return jm||(jm=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.LoggingEnabledOption=Ln.LogEventCompressionMode=void 0,Ln.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},Ln.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}),Ln}var $c={},$m;function vn(){return $m||($m=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;const e=Dt(),r=gi(),n={},i={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:p=>n[p]?n[p]:null,setItem:(p,y)=>{n[p]=y},removeItem:p=>{delete n[p]},getAllKeys:()=>Object.keys(n)};let o=null;try{const p=(0,r._getWindowSafe)();p&&p.localStorage&&typeof p.localStorage.getItem=="function"&&(o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:y=>p.localStorage.getItem(y),setItem:(y,v)=>p.localStorage.setItem(y,v),removeItem:y=>p.localStorage.removeItem(y),getAllKeys:()=>Object.keys(p.localStorage)})}catch(p){e.Log.warn("Failed to setup localStorageProvider.")}let a=o!=null?o:i,l=a;function c(p){try{return p()}catch(y){if(y instanceof Error&&y.name==="SecurityError")return t.Storage._setProvider(i),null;if(y instanceof Error&&y.name==="QuotaExceededError"){const b=t.Storage.getAllKeys().filter(m=>m.startsWith("statsig."));y.message="".concat(y.message,". Statsig Keys: ").concat(b.length)}throw y}}t.Storage={isReady:()=>l.isReady(),isReadyResolver:()=>l.isReadyResolver(),getProviderName:()=>l.getProviderName(),getItem:p=>c(()=>l.getItem(p)),setItem:(p,y)=>c(()=>l.setItem(p,y)),removeItem:p=>l.removeItem(p),getAllKeys:()=>l.getAllKeys(),_setProvider:p=>{a=p,l=p},_setDisabled:p=>{p?l=i:l=a}};function h(p){const y=t.Storage.getItem(p);return JSON.parse(y!=null?y:"null")}t._getObjectFromStorage=h;function f(p,y){t.Storage.setItem(p,JSON.stringify(y))}t._setObjectInStorage=f})($c)),$c}var Js={},Fm;function q0(){if(Fm)return Js;Fm=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.UrlConfiguration=void 0;const t=ps(),e=Gl(),r={[e.Endpoint._initialize]:"i",[e.Endpoint._rgstr]:"e",[e.Endpoint._download_config_specs]:"d"};let n=class{constructor(o,a,l,c){this.customUrl=null,this.fallbackUrls=null,this.endpoint=o,this.endpointDnsKey=r[o],a&&(this.customUrl=a),!a&&l&&(this.customUrl=l.endsWith("/")?"".concat(l).concat(o):"".concat(l,"/").concat(o)),c&&(this.fallbackUrls=c);const h=e.NetworkDefault[o];this.defaultUrl="".concat(h,"/").concat(o)}getUrl(){var o;return(o=this.customUrl)!==null&&o!==void 0?o:this.defaultUrl}getChecksum(){var o;const a=((o=this.fallbackUrls)!==null&&o!==void 0?o:[]).sort().join(",");return(0,t._DJB2)(this.customUrl+a)}};return Js.UrlConfiguration=n,Js}var Fc={},Bm;function Xd(){return Bm||(Bm=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;const e=gi(),r="foreground",n="background",i=[];let o=r,a=!1;const l=()=>o===r;t._isCurrentlyVisible=l;const c=()=>a;t._isUnloading=c;const h=p=>{i.unshift(p)};t._subscribeToVisiblityChanged=h;const f=p=>{p!==o&&(o=p,i.forEach(y=>y(p)))};t._notifyVisibilityChanged=f,(0,e._addWindowEventListenerSafe)("focus",()=>{a=!1,(0,t._notifyVisibilityChanged)(r)}),(0,e._addWindowEventListenerSafe)("blur",()=>(0,t._notifyVisibilityChanged)(n)),(0,e._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,t._notifyVisibilityChanged)(document.visibilityState==="visible"?r:n)}),(0,e._addWindowEventListenerSafe)((0,e._getUnloadEvent)(),()=>{a=!0,(0,t._notifyVisibilityChanged)(n)})})(Fc)),Fc}var zm;function V0(){if(zm)return Mn;zm=1;var t=Mn&&Mn.__awaiter||function(k,S,T,A){function I(P){return P instanceof T?P:new T(function(U){U(P)})}return new(T||(T=Promise))(function(P,U){function j(B){try{q(A.next(B))}catch(te){U(te)}}function W(B){try{q(A.throw(B))}catch(te){U(te)}}function q(B){B.done?P(B.value):I(B.value).then(j,W)}q((A=A.apply(k,S||[])).next())})};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.EventLogger=void 0;const e=Vl(),r=ps(),n=Dt(),i=Gl(),o=gi(),a=W0(),l=Hl(),c=vn(),h=q0(),f=Xd(),p=100,y=1e4,v=1e3,b=6e5,m=500,w=200,C={},E={Startup:"startup",GainedFocus:"gained_focus"};let R=class qi{static _safeFlushAndForget(S){var T;(T=C[S])===null||T===void 0||T.flush().catch(()=>{})}static _safeRetryFailedLogs(S){var T;(T=C[S])===null||T===void 0||T._retryFailedLogs(E.GainedFocus)}constructor(S,T,A,I){var P,U;this._sdkKey=S,this._emitter=T,this._network=A,this._options=I,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=(P=I==null?void 0:I.loggingEnabled)!==null&&P!==void 0?P:(I==null?void 0:I.disableLogging)===!0?l.LoggingEnabledOption.disabled:l.LoggingEnabledOption.browserOnly,I!=null&&I.loggingEnabled&&I.disableLogging!==void 0&&n.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=(U=I==null?void 0:I.loggingBufferMaxSize)!==null&&U!==void 0?U:p;const j=I==null?void 0:I.networkConfig;this._logEventUrlConfig=new h.UrlConfiguration(i.Endpoint._rgstr,j==null?void 0:j.logEventUrl,j==null?void 0:j.api,j==null?void 0:j.logEventFallbackUrls)}setLogEventCompressionMode(S){this._network.setLogEventCompressionMode(S)}setLoggingEnabled(S){if(this._loggingEnabled==="disabled"&&S!=="disabled"){const T=this._getStorageKey(),A=(0,c._getObjectFromStorage)(T);A&&this._queue.push(...A),c.Storage.removeItem(T)}this._loggingEnabled=S}enqueue(S){this._shouldLogEvent(S)&&(this._normalizeAndAppendEvent(S),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&qi._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(S){var T;const A=(T=this._nonExposedChecks[S])!==null&&T!==void 0?T:0;this._nonExposedChecks[S]=A+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var S;const T=(0,o._isServerEnv)();T&&((S=this._options)===null||S===void 0?void 0:S.loggingEnabled)!=="always"||(C[this._sdkKey]=this,T||(0,f._subscribeToVisiblityChanged)(A=>{A==="background"?qi._safeFlushAndForget(this._sdkKey):A==="foreground"&&qi._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(E.Startup),this._startBackgroundFlushInterval())}stop(){return t(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete C[this._sdkKey],yield this.flush()})}flush(){return t(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),this._queue.length===0)return;const S=this._queue;this._queue=[],yield this._sendEvents(S)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,!(Date.now()-this._creationTime>w)&&setTimeout(()=>qi._safeFlushAndForget(this._sdkKey),w))}_shouldLogEvent(S){var T;if(((T=this._options)===null||T===void 0?void 0:T.loggingEnabled)!=="always"&&(0,o._isServerEnv)())return!1;if(!(0,a._isExposureEvent)(S))return!0;const A=S.user?S.user:{statsigEnvironment:void 0},I=(0,e._getUserStorageKey)(this._sdkKey,A),P=S.metadata?S.metadata:{},U=[S.eventName,I,P.gate,P.config,P.ruleID,P.allocatedExperiment,P.parameterName,String(P.isExplicitParameter),P.reason].join("|"),j=this._lastExposureTimeMap[U],W=Date.now();return j&&W-j<b?!1:(Object.keys(this._lastExposureTimeMap).length>v&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[U]=W,!0)}_sendEvents(S){return t(this,void 0,void 0,function*(){var T,A;if(this._loggingEnabled==="disabled")return this._saveFailedLogsToStorage(S),!1;try{const P=(0,f._isUnloading)()&&this._network.isBeaconSupported()&&((A=(T=this._options)===null||T===void 0?void 0:T.networkConfig)===null||A===void 0?void 0:A.networkOverrideFunc)==null;return this._emitter({name:"pre_logs_flushed",events:S}),(P?this._sendEventsViaBeacon(S):yield this._sendEventsViaPost(S)).success?(this._emitter({name:"logs_flushed",events:S}),!0):(n.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(S),!1)}catch(I){return n.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(S){return t(this,void 0,void 0,function*(){var T;const A=yield this._network.post(this._getRequestData(S)),I=(T=A==null?void 0:A.code)!==null&&T!==void 0?T:-1;return{success:I>=200&&I<300}})}_sendEventsViaBeacon(S){return{success:this._network.beacon(this._getRequestData(S))}}_getRequestData(S){return{sdkKey:this._sdkKey,data:{events:S},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[i.NetworkParam.EventCount]:String(S.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(S){for(;S.length>m;)S.shift();const T=this._getStorageKey();try{const A=this._getFailedLogsFromStorage(T);(0,c._setObjectInStorage)(T,[...A,...S])}catch(A){n.Log.warn("Unable to save failed logs to storage")}}_getFailedLogsFromStorage(S){let T=[];try{const A=(0,c._getObjectFromStorage)(S);return Array.isArray(A)&&(T=A),T}catch(A){return[]}}_retryFailedLogs(S){const T=this._getStorageKey();t(this,void 0,void 0,function*(){c.Storage.isReady()||(yield c.Storage.isReadyResolver());const A=(0,c._getObjectFromStorage)(T);if(!A)return;S===E.Startup&&c.Storage.removeItem(T),(yield this._sendEvents(A))&&S===E.GainedFocus&&c.Storage.removeItem(T)}).catch(()=>{n.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return"statsig.failed_logs.".concat((0,r._DJB2)(this._sdkKey))}_normalizeAndAppendEvent(S){S.user&&(S.user=Object.assign({},S.user),delete S.user.privateAttributes);const T={},A=this._getCurrentPageUrl();A&&(T.statsigMetadata={currentPage:A});const I=Object.assign(Object.assign({},S),T);n.Log.debug("Enqueued Event:",I),this._queue.push(I)}_appendAndResetNonExposedChecks(){Object.keys(this._nonExposedChecks).length!==0&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var S;if(((S=this._options)===null||S===void 0?void 0:S.includeCurrentPageUrlWithEvents)!==!1)return(0,o._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var S,T;const A=(T=(S=this._options)===null||S===void 0?void 0:S.loggingIntervalMs)!==null&&T!==void 0?T:y,I=setInterval(()=>{const P=C[this._sdkKey];!P||P._flushIntervalId!==I?clearInterval(I):qi._safeFlushAndForget(this._sdkKey)},A);this._flushIntervalId=I}};return Mn.EventLogger=R,Mn}var Bc={},Wm;function Il(){return Wm||(Wm=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.26.0";let e={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>e,add:r=>{e=Object.assign(Object.assign({},e),r)}}})(Bc)),Bc}var zc={},qm;function uk(){return qm||(qm=1,Object.defineProperty(zc,"__esModule",{value:!0})),zc}var $r={},Nn={},Zs={},Vm;function Yd(){if(Vm)return Zs;Vm=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.getUUID=void 0;function t(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=new Date().getTime(),r=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;const n="89ab"[Math.floor(Math.random()*4)];return"xxxxxxxx-xxxx-4xxx-".concat(n,"xxx-xxxxxxxxxxxx").replace(/[xy]/g,i=>{let o=Math.random()*16;return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(r+o)%16|0,r=Math.floor(r/16)),(i==="x"?o:o&7|8).toString(16)})}return Zs.getUUID=t,Zs}var Gm;function Kl(){if(Gm)return Nn;Gm=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.getCookieName=Nn.StableID=void 0;const t=Vl(),e=Dt(),r=gi(),n=vn(),i=Yd(),o={},a={},l={};Nn.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:b=>{if(l[b])return null;if(o[b]!=null)return o[b];let m=null;return m=p(b),m!=null?(o[b]=m,h(m,b),m):(m=f(b),m==null&&(m=(0,i.getUUID)()),h(m,b),y(m,b),o[b]=m,m)},setOverride:(b,m)=>{o[m]=b,h(b,m),y(b,m)},_setCookiesEnabled:(b,m)=>{a[b]=m},_setDisabled:(b,m)=>{l[b]=m}};function c(b){return"statsig.stable_id.".concat((0,t._getStorageKey)(b))}function h(b,m){const w=c(m);try{(0,n._setObjectInStorage)(w,b)}catch(C){e.Log.warn("Failed to save StableID to storage")}}function f(b){const m=c(b);return(0,n._getObjectFromStorage)(m)}function p(b){if(!a[b]||(0,r._getDocumentSafe)()==null)return null;const m=document.cookie.split(";");for(const w of m){const[C,E]=w.trim().split("=");if(C===v(b))return decodeURIComponent(E)}return null}function y(b,m){if(!a[m]||(0,r._getDocumentSafe)()==null)return;const w=new Date;w.setFullYear(w.getFullYear()+1),document.cookie="".concat(v(m),"=").concat(encodeURIComponent(b),"; expires=").concat(w.toUTCString(),"; path=/")}function v(b){return"statsig.stable_id.".concat((0,t._getStorageKey)(b))}return Nn.getCookieName=v,Nn}var Un={},Hm;function G0(){if(Hm)return Un;Hm=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un._getFullUserHash=Un._normalizeUser=void 0;const t=ps(),e=Dt();function r(i,o,a){try{const l=JSON.parse(JSON.stringify(i));return o!=null&&o.environment!=null?l.statsigEnvironment=o.environment:a!=null&&(l.statsigEnvironment={tier:a}),l}catch(l){return e.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}}Un._normalizeUser=r;function n(i){return i?(0,t._DJB2Object)(i):null}return Un._getFullUserHash=n,Un}var Qs={},Km;function H0(){if(Km)return Qs;Km=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs._typedJsonParse=void 0;const t=Dt();function e(r,n,i){try{const o=JSON.parse(r);if(o&&typeof o=="object"&&n in o)return o}catch(o){}return t.Log.error("Failed to parse ".concat(i)),null}return Qs._typedJsonParse=e,Qs}var Xm;function ck(){if(Xm)return $r;Xm=1;var t=$r&&$r.__awaiter||function(y,v,b,m){function w(C){return C instanceof b?C:new b(function(E){E(C)})}return new(b||(b=Promise))(function(C,E){function R(T){try{S(m.next(T))}catch(A){E(A)}}function k(T){try{S(m.throw(T))}catch(A){E(A)}}function S(T){T.done?C(T.value):w(T.value).then(R,k)}S((m=m.apply(y,v||[])).next())})};Object.defineProperty($r,"__esModule",{value:!0}),$r._makeDataAdapterResult=$r.DataAdapterCore=void 0;const e=Dt(),r=Kl(),n=G0(),i=vn(),o=H0(),a=10,l=8;let c=class{constructor(v,b){this._adapterName=v,this._cacheSuffix=b,this._options=null,this._sdkKey=null,this._cacheLimit=a,this._lastModifiedStoreKey="statsig.last_modified_time.".concat(b),this._inMemoryCache=new f}attach(v,b,m){this._sdkKey=v,this._options=b}getDataSync(v){const b=v&&(0,n._normalizeUser)(v,this._options),m=this._getCacheKey(b),w=this._inMemoryCache.get(m,b);if(w&&this._getIsCacheValueValid(w))return w;const C=this._loadFromCache(m);return C&&this._getIsCacheValueValid(C)?(this._inMemoryCache.add(m,C,this._cacheLimit),this._inMemoryCache.get(m,b)):null}setData(v,b){const m=b&&(0,n._normalizeUser)(b,this._options),w=this._getCacheKey(m);this._inMemoryCache.add(w,h("Bootstrap",v,null,m),this._cacheLimit)}_getIsCacheValueValid(v){return v.stableID==null||v.stableID===r.StableID.get(this._getSdkKey())}_getDataAsyncImpl(v,b,m){return t(this,void 0,void 0,function*(){i.Storage.isReady()||(yield i.Storage.isReadyResolver());const w=v!=null?v:this.getDataSync(b),C=[this._fetchAndPrepFromNetwork(w,b,m)];return m!=null&&m.timeoutMs&&C.push(new Promise(E=>setTimeout(E,m.timeoutMs)).then(()=>(e.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(C)})}_prefetchDataImpl(v,b){return t(this,void 0,void 0,function*(){const m=v&&(0,n._normalizeUser)(v,this._options),w=this._getCacheKey(m),C=yield this._getDataAsyncImpl(null,m,b);C&&this._inMemoryCache.add(w,Object.assign(Object.assign({},C),{source:"Prefetch"}),this._cacheLimit)})}_fetchAndPrepFromNetwork(v,b,m){return t(this,void 0,void 0,function*(){var w;const C=(w=v==null?void 0:v.data)!==null&&w!==void 0?w:null,E=v!=null&&this._isCachedResultValidFor204(v,b),R=yield this._fetchFromNetwork(C,b,m,E);if(!R)return e.Log.debug("No response returned for latest value"),null;const k=(0,o._typedJsonParse)(R,"has_updates","Response"),S=this._getSdkKey(),T=r.StableID.get(S);let A=null;if((k==null?void 0:k.has_updates)===!0)A=h("Network",R,T,b);else if(C&&(k==null?void 0:k.has_updates)===!1)A=h("NetworkNotModified",C,T,b);else return null;const I=this._getCacheKey(b);return this._inMemoryCache.add(I,A,this._cacheLimit),this._writeToCache(I,A),A})}_getSdkKey(){return this._sdkKey!=null?this._sdkKey:(e.Log.error("".concat(this._adapterName," is not attached to a Client")),"")}_loadFromCache(v){var b;const m=(b=i.Storage.getItem)===null||b===void 0?void 0:b.call(i.Storage,v);if(m==null)return null;const w=(0,o._typedJsonParse)(m,"source","Cached Result");return w?Object.assign(Object.assign({},w),{source:"Cache"}):null}_writeToCache(v,b){const m=JSON.stringify(b);for(let w=0;w<l;w++)try{i.Storage.setItem(v,m);break}catch(C){if(!(C instanceof Error)||C.name!=="QuotaExceededError"||this._cacheLimit<=1)throw C;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(v,this._cacheLimit-1)}this._runLocalStorageCacheEviction(v)}_runLocalStorageCacheEviction(v,b=this._cacheLimit){var m;const w=(m=(0,i._getObjectFromStorage)(this._lastModifiedStoreKey))!==null&&m!==void 0?m:{};w[v]=Date.now();const C=p(w,b);for(const E of C)delete w[E],i.Storage.removeItem(E);(0,i._setObjectInStorage)(this._lastModifiedStoreKey,w)}};$r.DataAdapterCore=c;function h(y,v,b,m){return{source:y,data:v,receivedAt:Date.now(),stableID:b,fullUserHash:(0,n._getFullUserHash)(m)}}$r._makeDataAdapterResult=h;class f{constructor(){this._data={}}get(v,b){var m;const w=this._data[v],C=w==null?void 0:w.stableID,E=(m=b==null?void 0:b.customIDs)===null||m===void 0?void 0:m.stableID;return E&&C&&E!==C?(e.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):w}add(v,b,m){const w=p(this._data,m-1);for(const C of w)delete this._data[C];this._data[v]=b}merge(v){this._data=Object.assign(Object.assign({},this._data),v)}}function p(y,v){const b=Object.keys(y);return b.length<=v?[]:v===0?b:b.sort((m,w)=>{const C=y[m],E=y[w];return typeof C=="object"&&typeof E=="object"?C.receivedAt-E.receivedAt:C-E}).slice(0,b.length-v)}return $r}var Wc={},Ym;function hk(){return Ym||(Ym=1,Object.defineProperty(Wc,"__esModule",{value:!0})),Wc}var eo={},to={},Jm;function Jd(){if(Jm)return to;Jm=1,Object.defineProperty(to,"__esModule",{value:!0}),to.SDKType=void 0;const t={};let e;return to.SDKType={_get:r=>{var n;return((n=t[r])!==null&&n!==void 0?n:"js-mono")+(e!=null?e:"")},_setClientType(r,n){t[r]=n},_setBindingType(r){(!e||e==="-react")&&(e="-"+r)}},to}var Zm;function K0(){return Zm||(Zm=1,(function(t){var e=eo&&eo.__awaiter||function(p,y,v,b){function m(w){return w instanceof v?w:new v(function(C){C(w)})}return new(v||(v=Promise))(function(w,C){function E(S){try{k(b.next(S))}catch(T){C(T)}}function R(S){try{k(b.throw(S))}catch(T){C(T)}}function k(S){S.done?w(S.value):m(S.value).then(E,R)}k((b=b.apply(p,y||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;const r=Dt(),n=Jd(),i=Il();t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const o="[Statsig] UnknownError";let a=class{constructor(y,v,b,m){this._sdkKey=y,this._options=v,this._emitter=b,this._lastSeenError=m,this._seen=new Set}wrap(y,v){try{const b=y;h(b).forEach(m=>{const w=b[m];"$EB"in w||(b[m]=(...C)=>this._capture(v?"".concat(v,":").concat(m):m,()=>w.apply(y,C)),b[m].$EB=!0)})}catch(b){this._onError("eb:wrap",b)}}logError(y,v){this._onError(y,v)}getLastSeenErrorAndReset(){const y=this._lastSeenError;return this._lastSeenError=void 0,y!=null?y:null}attachErrorIfNoneExists(y){this._lastSeenError||(this._lastSeenError=l(y))}_capture(y,v){try{const b=v();return b&&b instanceof Promise?b.catch(m=>this._onError(y,m)):b}catch(b){return this._onError(y,b),null}}_onError(y,v){try{r.Log.warn("Caught error in ".concat(y),{error:v}),e(this,void 0,void 0,function*(){var m,w,C,E,R,k,S;const T=v||Error(o),A=T instanceof Error,I=A?T.name:"No Name",P=l(T);if(this._lastSeenError=P,this._seen.has(I))return;if(this._seen.add(I),!((w=(m=this._options)===null||m===void 0?void 0:m.networkConfig)===null||w===void 0)&&w.preventAllNetworkTraffic){(C=this._emitter)===null||C===void 0||C.call(this,{name:"error",error:v,tag:y});return}const U=n.SDKType._get(this._sdkKey),j=i.StatsigMetadataProvider.get(),W=A?T.stack:c(T),q=Object.assign({tag:y,exception:I,info:W,statsigOptions:f(this._options)},Object.assign(Object.assign({},j),{sdkType:U}));yield((k=(R=(E=this._options)===null||E===void 0?void 0:E.networkConfig)===null||R===void 0?void 0:R.networkOverrideFunc)!==null&&k!==void 0?k:fetch)(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(U),"STATSIG-SDK-VERSION":String(j.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(q)}),(S=this._emitter)===null||S===void 0||S.call(this,{name:"error",error:v,tag:y})}).then(()=>{}).catch(()=>{})}catch(b){}}};t.ErrorBoundary=a;function l(p){return p instanceof Error?p:typeof p=="string"?new Error(p):new Error("An unknown error occurred.")}function c(p){try{return JSON.stringify(p)}catch(y){return o}}function h(p){const y=new Set;let v=Object.getPrototypeOf(p);for(;v&&v!==Object.prototype;)Object.getOwnPropertyNames(v).filter(b=>typeof(v==null?void 0:v[b])=="function").forEach(b=>y.add(b)),v=Object.getPrototypeOf(v);return Array.from(y)}function f(p){if(!p)return{};const y={};return Object.keys(p).forEach(v=>{const b=v,m=p[b];switch(typeof m){case"number":case"bigint":case"boolean":y[String(b)]=m;break;case"string":m.length<50?y[String(b)]=m:y[String(b)]="set";break;case"object":b==="environment"?y.environment=m:b==="networkConfig"?y.networkConfig=m:y[String(b)]=m!=null?"set":"unset";break}}),y}})(eo)),eo}var qc={},Qm;function dk(){return Qm||(Qm=1,Object.defineProperty(qc,"__esModule",{value:!0})),qc}var Vc={},e_;function fk(){return e_||(e_=1,Object.defineProperty(Vc,"__esModule",{value:!0})),Vc}var Gc={},t_;function pk(){return t_||(t_=1,Object.defineProperty(Gc,"__esModule",{value:!0})),Gc}var jn={},r_;function X0(){if(r_)return jn;r_=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.createMemoKey=jn.MemoPrefix=void 0,jn.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const t=new Set([]),e=new Set(["userPersistedValues"]);function r(n,i,o){let a="".concat(n,"|").concat(i);if(!o)return a;for(const l of Object.keys(o)){if(e.has(l))return;t.has(l)?a+="|".concat(l,"=true"):a+="|".concat(l,"=").concat(o[l])}return a}return jn.createMemoKey=r,jn}var $n={},Fr={},Fn={},n_;function gk(){if(n_)return Fn;n_=1;var t=Fn&&Fn.__awaiter||function(l,c,h,f){function p(y){return y instanceof h?y:new h(function(v){v(y)})}return new(h||(h=Promise))(function(y,v){function b(C){try{w(f.next(C))}catch(E){v(E)}}function m(C){try{w(f.throw(C))}catch(E){v(E)}}function w(C){C.done?y(C.value):p(C.value).then(b,m)}w((f=f.apply(l,c||[])).next())})};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn._fetchTxtRecords=void 0;const e=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),r="https://cloudflare-dns.com/dns-query",n=["i","e","d"],i=200;function o(l){return t(this,void 0,void 0,function*(){const c=yield l(r,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:e});if(!c.ok){const p=new Error("Failed to fetch TXT records from DNS");throw p.name="DnsTxtFetchError",p}const h=yield c.arrayBuffer(),f=new Uint8Array(h);return a(f)})}Fn._fetchTxtRecords=o;function a(l){const c=l.findIndex((f,p)=>p<i&&String.fromCharCode(f)==="="&&n.includes(String.fromCharCode(l[p-1])));if(c===-1){const f=new Error("Failed to parse TXT records from DNS");throw f.name="DnsTxtParseError",f}let h="";for(let f=c-1;f<l.length;f++)h+=String.fromCharCode(l[f]);return h.split(",")}return Fn}var i_;function mk(){if(i_)return Fr;i_=1;var t=Fr&&Fr.__awaiter||function(v,b,m,w){function C(E){return E instanceof m?E:new m(function(R){R(E)})}return new(m||(m=Promise))(function(E,R){function k(A){try{T(w.next(A))}catch(I){R(I)}}function S(A){try{T(w.throw(A))}catch(I){R(I)}}function T(A){A.done?E(A.value):C(A.value).then(k,S)}T((w=w.apply(v,b||[])).next())})};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr._isDomainFailure=Fr.NetworkFallbackResolver=void 0;const e=gk(),r=ps(),n=Dt(),i=vn(),o=10080*60*1e3,a=14400*1e3;let l=class{constructor(b){var m;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=(m=b.networkConfig)===null||m===void 0?void 0:m.networkOverrideFunc}setErrorBoundary(b){this._errorBoundary=b}tryBumpExpiryTime(b,m){var w;const C=(w=this._fallbackInfo)===null||w===void 0?void 0:w[m.endpoint];C&&(C.expiryTime=Date.now()+o,f(b,Object.assign(Object.assign({},this._fallbackInfo),{[m.endpoint]:C})))}getActiveFallbackUrl(b,m){var w,C;if(m.customUrl!=null&&m.fallbackUrls!=null)return null;let E=this._fallbackInfo;E==null&&(E=(w=p(b))!==null&&w!==void 0?w:{},this._fallbackInfo=E);const R=E[m.endpoint];return!R||Date.now()>((C=R.expiryTime)!==null&&C!==void 0?C:0)||m.getChecksum()!==R.urlConfigChecksum?(delete E[m.endpoint],this._fallbackInfo=E,f(b,this._fallbackInfo),null):R.url?R.url:null}tryFetchUpdatedFallbackInfo(b,m,w,C){return t(this,void 0,void 0,function*(){var E,R;try{if(!c(w,C))return!1;const S=m.customUrl==null&&m.fallbackUrls==null?yield this._tryFetchFallbackUrlsFromNetwork(m):m.fallbackUrls,T=this._pickNewFallbackUrl((E=this._fallbackInfo)===null||E===void 0?void 0:E[m.endpoint],S);return T?(this._updateFallbackInfoWithNewUrl(b,m,T),!0):!1}catch(k){return(R=this._errorBoundary)===null||R===void 0||R.logError("tryFetchUpdatedFallbackInfo",k),!1}})}_updateFallbackInfoWithNewUrl(b,m,w){var C,E,R;const k={urlConfigChecksum:m.getChecksum(),url:w,expiryTime:Date.now()+o,previous:[]},S=m.endpoint,T=(C=this._fallbackInfo)===null||C===void 0?void 0:C[S];T&&k.previous.push(...T.previous),k.previous.length>10&&(k.previous=[]);const A=(R=(E=this._fallbackInfo)===null||E===void 0?void 0:E[S])===null||R===void 0?void 0:R.url;A!=null&&k.previous.push(A),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[S]:k}),f(b,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(b){return t(this,void 0,void 0,function*(){var m;const w=this._dnsQueryCooldowns[b.endpoint];if(w&&Date.now()<w)return null;this._dnsQueryCooldowns[b.endpoint]=Date.now()+a;const C=[],E=yield(0,e._fetchTxtRecords)((m=this._networkOverrideFunc)!==null&&m!==void 0?m:fetch),R=y(b.defaultUrl);for(const k of E){if(!k.startsWith(b.endpointDnsKey+"="))continue;const S=k.split("=");if(S.length>1){let T=S[1];T.endsWith("/")&&(T=T.slice(0,-1)),C.push("https://".concat(T).concat(R))}}return C})}_pickNewFallbackUrl(b,m){var w;if(m==null)return null;const C=new Set((w=b==null?void 0:b.previous)!==null&&w!==void 0?w:[]),E=b==null?void 0:b.url;let R=null;for(const k of m){const S=k.endsWith("/")?k.slice(0,-1):k;if(!C.has(k)&&S!==E){R=S;break}}return R}};Fr.NetworkFallbackResolver=l;function c(v,b){var m;const w=(m=v==null?void 0:v.toLowerCase())!==null&&m!==void 0?m:"";return b||w.includes("uncaught exception")||w.includes("failed to fetch")||w.includes("networkerror when attempting to fetch resource")}Fr._isDomainFailure=c;function h(v){return"statsig.network_fallback.".concat((0,r._DJB2)(v))}function f(v,b){const m=h(v);if(!b||Object.keys(b).length===0){i.Storage.removeItem(m);return}i.Storage.setItem(m,JSON.stringify(b))}function p(v){const b=h(v),m=i.Storage.getItem(b);if(!m)return null;try{return JSON.parse(m)}catch(w){return n.Log.error("Failed to parse FallbackInfo"),null}}function y(v){try{return new URL(v).pathname}catch(b){return null}}return Fr}var ro={},s_;function Y0(){if(s_)return ro;s_=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.SDKFlags=void 0;const t={};return ro.SDKFlags={setFlags:(e,r)=>{t[e]=r},get:(e,r)=>{var n,i;return(i=(n=t[e])===null||n===void 0?void 0:n[r])!==null&&i!==void 0?i:!1}},ro}var Hc={},o_;function Zd(){return o_||(o_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;const e=pn(),r=Vl(),n=Dt(),i=vn(),o=Yd(),a=1800*1e3,l=14400*1e3,c={};t.SessionID={get:E=>t.StatsigSession.get(E).data.sessionID},t.StatsigSession={get:E=>{c[E]==null&&(c[E]=h(E));const R=c[E];return p(R)},overrideInitialSessionID:(E,R)=>{c[R]=f(E,R)}};function h(E){let R=C(E);const k=Date.now();return R||(R={sessionID:(0,o.getUUID)(),startTime:k,lastUpdate:k}),{data:R,sdkKey:E}}function f(E,R){const k=Date.now();return{data:{sessionID:E,startTime:k,lastUpdate:k},sdkKey:R}}function p(E){const R=Date.now(),k=E.data,S=E.sdkKey;if(v(k)||b(k)){k.sessionID=(0,o.getUUID)(),k.startTime=R;const A=__STATSIG__==null?void 0:__STATSIG__.instance(S);A&&A.$emt({name:"session_expired"})}k.lastUpdate=R,w(k,E.sdkKey),clearTimeout(E.idleTimeoutID),clearTimeout(E.ageTimeoutID);const T=R-k.startTime;return E.idleTimeoutID=y(S,a),E.ageTimeoutID=y(S,l-T),E}function y(E,R){return setTimeout(()=>{var k;const S=(k=(0,e._getStatsigGlobal)())===null||k===void 0?void 0:k.instance(E);S&&S.$emt({name:"session_expired"})},R)}function v({lastUpdate:E}){return Date.now()-E>a}function b({startTime:E}){return Date.now()-E>l}function m(E){return"statsig.session_id.".concat((0,r._getStorageKey)(E))}function w(E,R){const k=m(R);try{(0,i._setObjectInStorage)(k,E)}catch(S){n.Log.warn("Failed to save SessionID")}}function C(E){const R=m(E);return(0,i._getObjectFromStorage)(R)}})(Hc)),Hc}var no={},a_;function J0(){return a_||(a_=1,Object.defineProperty(no,"__esModule",{value:!0}),no.ErrorTag=void 0,no.ErrorTag={NetworkError:"NetworkError"}),no}var l_;function _k(){if(l_)return $n;l_=1;var t=$n&&$n.__awaiter||function(te,N,F,z){function Q(ne){return ne instanceof F?ne:new F(function(ce){ce(ne)})}return new(F||(F=Promise))(function(ne,ce){function _e(J){try{Z(z.next(J))}catch(de){ce(de)}}function ge(J){try{Z(z.throw(J))}catch(de){ce(de)}}function Z(J){J.done?ne(J.value):Q(J.value).then(_e,ge)}Z((z=z.apply(te,N||[])).next())})};Object.defineProperty($n,"__esModule",{value:!0}),$n.NetworkCore=void 0,pn();const e=pn(),r=Gh(),n=Dt(),i=Gl(),o=mk(),a=Y0(),l=Jd(),c=gi(),h=Zd(),f=Kl(),p=J0(),y=Il(),v=Hl(),b=Xd(),m=1e4,w=500,C=3e4,E=1e3,R=50,k=R/E,S=new Set([408,500,502,503,504,522,524,599]);let T=class{constructor(N,F){this._emitter=F,this._errorBoundary=null,this._timeout=m,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,N&&(this._options=N),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new o.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(N))}setLogEventCompressionMode(N){this._options.logEventCompressionMode=N}setErrorBoundary(N){this._errorBoundary=N,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(N)}isBeaconSupported(){return typeof navigator<"u"&&typeof navigator.sendBeacon=="function"}getLastUsedInitUrlAndReset(){const N=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,N}beacon(N){if(!A(N))return!1;const F=this._getInternalRequestArgs("POST",N),z=this._getPopulatedURL(F),Q=navigator;return Q.sendBeacon.bind(Q)(z,F.body)}post(N){return t(this,void 0,void 0,function*(){const F=this._getInternalRequestArgs("POST",N);return this._tryEncodeBody(F),yield this._tryToCompressBody(F),this._sendRequest(F)})}get(N){const F=this._getInternalRequestArgs("GET",N);return this._sendRequest(F)}_sendRequest(N){return t(this,void 0,void 0,function*(){var F,z,Q,ne;if(!A(N)||this._netConfig.preventAllNetworkTraffic)return null;const{method:ce,body:_e,retries:ge,attempt:Z}=N,J=N.urlConfig.endpoint;if(this._isRateLimited(J))return n.Log.warn("Request to ".concat(J," was blocked because you are making requests too frequently.")),null;const de=Z!=null?Z:1;let Y=!1;const ae=this._getPopulatedURL(N);let le=null;const H=(0,b._isUnloading)();try{const ie={method:ce,body:_e,headers:Object.assign({},N.headers),priority:N.priority,keepalive:H};W(N,de);const se=this._leakyBucket[J];se&&(se.lastRequestTime=Date.now(),this._leakyBucket[J]=se);const he=(F=this._netConfig.networkOverrideFunc)!==null&&F!==void 0?F:fetch;let me;if(le=yield Promise.race([he(ae,ie).finally(()=>clearTimeout(me)),new Promise((st,ot)=>{me=setTimeout(()=>{Y=!0,ot(new Error("Timeout of ".concat(this._timeout,"ms expired.")))},this._timeout)})]),!le.ok){const st=yield le.text().catch(()=>"No Text"),ot=new Error("NetworkError: ".concat(ae," ").concat(st));throw ot.name="NetworkError",ot}const Ae=yield le.text();return q(N,le,de,Ae),this._fallbackResolver.tryBumpExpiryTime(N.sdkKey,N.urlConfig),{body:Ae,code:le.status}}catch(ie){const se=U(ie),he=j(se!=null?se:"",Y);if(q(N,le,de,"",ie),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(N.sdkKey,N.urlConfig,se,he))&&(N.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(N.sdkKey,N.urlConfig)),!ge||de>ge||!S.has((z=le==null?void 0:le.status)!==null&&z!==void 0?z:500)){(Q=this._emitter)===null||Q===void 0||Q.call(this,{name:"error",error:ie,tag:p.ErrorTag.NetworkError,requestArgs:N});const Ae="A networking error occurred during ".concat(ce," request to ").concat(ae,".");return n.Log.error(Ae,se,ie),(ne=this._errorBoundary)===null||ne===void 0||ne.attachErrorIfNoneExists(Ae),null}return yield B(de),this._sendRequest(Object.assign(Object.assign({},N),{retries:ge,attempt:de+1}))}})}_getLogEventCompressionMode(N){let F=N==null?void 0:N.logEventCompressionMode;return!F&&(N==null?void 0:N.disableCompression)===!0&&(F=v.LogEventCompressionMode.Disabled),F||(F=v.LogEventCompressionMode.Enabled),F}_isRateLimited(N){var F;const z=Date.now(),Q=(F=this._leakyBucket[N])!==null&&F!==void 0?F:{count:0,lastRequestTime:z},ne=z-Q.lastRequestTime,ce=Math.floor(ne*k);return Q.count=Math.max(0,Q.count-ce),Q.count>=R?!0:(Q.count+=1,Q.lastRequestTime=z,this._leakyBucket[N]=Q,!1)}_getPopulatedURL(N){var F;const z=(F=N.fallbackUrl)!==null&&F!==void 0?F:N.urlConfig.getUrl();(N.urlConfig.endpoint===i.Endpoint._initialize||N.urlConfig.endpoint===i.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=z);const Q=Object.assign({[i.NetworkParam.SdkKey]:N.sdkKey,[i.NetworkParam.SdkType]:l.SDKType._get(N.sdkKey),[i.NetworkParam.SdkVersion]:y.SDK_VERSION,[i.NetworkParam.Time]:String(Date.now()),[i.NetworkParam.SessionID]:h.SessionID.get(N.sdkKey)},N.params),ne=Object.keys(Q).map(ce=>"".concat(encodeURIComponent(ce),"=").concat(encodeURIComponent(Q[ce]))).join("&");return"".concat(z).concat(ne?"?".concat(ne):"")}_tryEncodeBody(N){var F;const z=(0,c._getWindowSafe)(),Q=N.body;if(!(!N.isStatsigEncodable||this._options.disableStatsigEncoding||typeof Q!="string"||(0,e._getStatsigGlobalFlag)("no-encode")!=null||!(z!=null&&z.btoa)))try{N.body=z.btoa(Q).split("").reverse().join(""),N.params=Object.assign(Object.assign({},(F=N.params)!==null&&F!==void 0?F:{}),{[i.NetworkParam.StatsigEncoded]:"1"})}catch(ne){n.Log.warn("Request encoding failed for ".concat(N.urlConfig.getUrl()),ne)}}_tryToCompressBody(N){return t(this,void 0,void 0,function*(){var F;const z=N.body;if(!(typeof z!="string"||!P(N,this._options)))try{const Q=new TextEncoder().encode(z),ne=new CompressionStream("gzip"),ce=ne.writable.getWriter();ce.write(Q).catch(n.Log.error),ce.close().catch(n.Log.error);const _e=ne.readable.getReader(),ge=[];let Z;for(;!(Z=yield _e.read()).done;)ge.push(Z.value);const J=ge.reduce((ae,le)=>ae+le.length,0),de=new Uint8Array(J);let Y=0;for(const ae of ge)de.set(ae,Y),Y+=ae.length;N.body=de,N.params=Object.assign(Object.assign({},(F=N.params)!==null&&F!==void 0?F:{}),{[i.NetworkParam.IsGzipped]:"1"})}catch(Q){n.Log.warn("Request compression failed for ".concat(N.urlConfig.getUrl()),Q)}})}_getInternalRequestArgs(N,F){const z=this._fallbackResolver.getActiveFallbackUrl(F.sdkKey,F.urlConfig),Q=Object.assign(Object.assign({},F),{method:N,fallbackUrl:z});return"data"in F&&I(Q,F.data),Q}};$n.NetworkCore=T;const A=te=>te.sdkKey?!0:(n.Log.warn("Unable to make request without an SDK key"),!1),I=(te,N)=>{const{sdkKey:F,fallbackUrl:z}=te,Q=f.StableID.get(F),ne=h.SessionID.get(F),ce=l.SDKType._get(F);te.body=JSON.stringify(Object.assign(Object.assign({},N),{statsigMetadata:Object.assign(Object.assign({},y.StatsigMetadataProvider.get()),{stableID:Q,sessionID:ne,sdkType:ce,fallbackUrl:z})}))};function P(te,N){if(!te.isCompressable||(0,e._getStatsigGlobalFlag)("no-compress")!=null||typeof CompressionStream>"u"||typeof TextEncoder>"u")return!1;const F=te.urlConfig.customUrl!=null||te.urlConfig.fallbackUrls!=null,z=a.SDKFlags.get(te.sdkKey,"enable_log_event_compression")===!0;switch(N.logEventCompressionMode){case v.LogEventCompressionMode.Disabled:return!1;case v.LogEventCompressionMode.Enabled:return!(F&&!z);case v.LogEventCompressionMode.Forced:return!0;default:return!1}}function U(te){return typeof te=="string"?te:te instanceof Error?"".concat(te.name,": ").concat(te.message):"Unknown Error"}function j(te,N){return te.includes("Timeout")||N}function W(te,N){te.urlConfig.endpoint===i.Endpoint._initialize&&r.Diagnostics._markInitNetworkReqStart(te.sdkKey,{attempt:N})}function q(te,N,F,z,Q){te.urlConfig.endpoint===i.Endpoint._initialize&&r.Diagnostics._markInitNetworkReqEnd(te.sdkKey,r.Diagnostics._getDiagnosticsData(N,F,z,Q))}function B(te){return t(this,void 0,void 0,function*(){yield new Promise(N=>setTimeout(N,Math.min(w*(te*te),C)))})}return $n}var Kc={},u_;function yk(){return u_||(u_=1,Object.defineProperty(Kc,"__esModule",{value:!0})),Kc}var Xc={},c_;function vk(){return c_||(c_=1,Object.defineProperty(Xc,"__esModule",{value:!0})),Xc}var Yc={},h_;function bk(){return h_||(h_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._fastApproxSizeOf=void 0;const e=2,r=1,n=(i,o)=>{let a=0;const l=Object.keys(i);for(let c=0;c<l.length;c++){const h=l[c],f=i[h];if(a+=h.length,typeof f=="object"&&f!==null?a+=(0,t._fastApproxSizeOf)(f,o)+e:a+=String(f).length+r,a>=o)return a}return a};t._fastApproxSizeOf=n})(Yc)),Yc}var Bn={},d_;function wk(){if(d_)return Bn;d_=1;var t=Bn&&Bn.__awaiter||function(b,m,w,C){function E(R){return R instanceof w?R:new w(function(k){k(R)})}return new(w||(w=Promise))(function(R,k){function S(I){try{A(C.next(I))}catch(P){k(P)}}function T(I){try{A(C.throw(I))}catch(P){k(P)}}function A(I){I.done?R(I.value):E(I.value).then(S,T)}A((C=C.apply(b,m||[])).next())})};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.StatsigClientBase=void 0,pn();const e=pn(),r=K0(),n=V0(),i=Dt(),o=X0(),a=gi(),l=Zd(),c=Kl(),h=Hl(),f=vn(),p=3e3;let y=class{constructor(m,w,C,E){var R,k,S,T;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const A=this.$emt.bind(this);(E==null?void 0:E.logLevel)!=null&&(i.Log.level=E.logLevel),E!=null&&E.disableStorage&&f.Storage._setDisabled(!0),E!=null&&E.initialSessionID&&l.StatsigSession.overrideInitialSessionID(E.initialSessionID,m),E!=null&&E.storageProvider&&f.Storage._setProvider(E.storageProvider),E!=null&&E.enableCookies&&c.StableID._setCookiesEnabled(m,E.enableCookies),E!=null&&E.disableStableID&&c.StableID._setDisabled(m,!0),this._sdkKey=m,this._options=E!=null?E:{},this._memoCache={},this.overrideAdapter=(R=E==null?void 0:E.overrideAdapter)!==null&&R!==void 0?R:null,this._logger=new n.EventLogger(m,A,C,E),this._errorBoundary=new r.ErrorBoundary(m,E,A),this._errorBoundary.wrap(this),this._errorBoundary.wrap(w),this._errorBoundary.wrap(this._logger),C.setErrorBoundary(this._errorBoundary),this.dataAdapter=w,this.dataAdapter.attach(m,E,C),this.storageProvider=f.Storage,(T=(S=(k=this.overrideAdapter)===null||k===void 0?void 0:k.loadFromStorage)===null||S===void 0?void 0:S.call(k))===null||T===void 0||T.catch(I=>this._errorBoundary.logError("OA::loadFromStorage",I)),this._primeReadyRipcord(),v(m,this)}updateRuntimeOptions(m){m.loggingEnabled?(this._options.loggingEnabled=m.loggingEnabled,this._logger.setLoggingEnabled(m.loggingEnabled)):m.disableLogging!=null&&(this._options.disableLogging=m.disableLogging,this._logger.setLoggingEnabled(m.disableLogging?"disabled":"browser-only")),m.disableStorage!=null&&(this._options.disableStorage=m.disableStorage,f.Storage._setDisabled(m.disableStorage)),m.enableCookies!=null&&(this._options.enableCookies=m.enableCookies,c.StableID._setCookiesEnabled(this._sdkKey,m.enableCookies)),m.logEventCompressionMode?this._logger.setLogEventCompressionMode(m.logEventCompressionMode):m.disableCompression&&this._logger.setLogEventCompressionMode(h.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return t(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(m,w){this._listeners[m]||(this._listeners[m]=[]),this._listeners[m].push(w)}off(m,w){if(this._listeners[m]){const C=this._listeners[m].indexOf(w);C!==-1&&this._listeners[m].splice(C,1)}}$on(m,w){w.__isInternal=!0,this.on(m,w)}$emt(m){var w;const C=E=>{try{E(m)}catch(R){if(E.__isInternal===!0){this._errorBoundary.logError("__emit:".concat(m.name),R);return}i.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",m)}};this._listeners[m.name]&&this._listeners[m.name].forEach(E=>C(E)),(w=this._listeners["*"])===null||w===void 0||w.forEach(C)}_setStatus(m,w){this.loadingStatus=m,this._memoCache={},this.$emt({name:"values_updated",status:m,values:w})}_enqueueExposure(m,w,C){if((C==null?void 0:C.disableExposureLog)===!0){this._logger.incrementNonExposureCount(m);return}this._logger.enqueue(w)}_memoize(m,w){return(C,E)=>{if(this._options.disableEvaluationMemoization)return w(C,E);const R=(0,o.createMemoKey)(m,C,E);return R?(R in this._memoCache||(Object.keys(this._memoCache).length>=p&&(this._memoCache={}),this._memoCache[R]=w(C,E)),this._memoCache[R]):w(C,E)}}};Bn.StatsigClientBase=y;function v(b,m){var w;if((0,a._isServerEnv)())return;const C=(0,e._getStatsigGlobal)(),E=(w=C.instances)!==null&&w!==void 0?w:{},R=m;E[b]!=null&&i.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),E[b]=R,C.firstInstance||(C.firstInstance=R),C.instances=E,__STATSIG__=C}return Bn}var io={},f_;function Sk(){return f_||(f_=1,Object.defineProperty(io,"__esModule",{value:!0}),io.DataAdapterCachePrefix=void 0,io.DataAdapterCachePrefix="statsig.cached"),io}var Jc={},p_;function Ek(){return p_||(p_=1,Object.defineProperty(Jc,"__esModule",{value:!0})),Jc}var It={},g_;function Ck(){if(g_)return It;g_=1,Object.defineProperty(It,"__esModule",{value:!0}),It._makeTypedGet=It._mergeOverride=It._makeLayer=It._makeExperiment=It._makeDynamicConfig=It._makeFeatureGate=void 0;const t=Dt(),e=Kd();function r(h,f,p,y){var v;return{name:h,details:f,ruleID:(v=p==null?void 0:p.rule_id)!==null&&v!==void 0?v:"",__evaluation:p,value:y}}function n(h,f,p){var y;return Object.assign(Object.assign({},r(h,f,p,(p==null?void 0:p.value)===!0)),{idType:(y=p==null?void 0:p.id_type)!==null&&y!==void 0?y:null})}It._makeFeatureGate=n;function i(h,f,p){var y;const v=(y=p==null?void 0:p.value)!==null&&y!==void 0?y:{};return Object.assign(Object.assign({},r(h,f,p,v)),{get:c(h,p==null?void 0:p.value)})}It._makeDynamicConfig=i;function o(h,f,p){var y;const v=i(h,f,p);return Object.assign(Object.assign({},v),{groupName:(y=p==null?void 0:p.group_name)!==null&&y!==void 0?y:null})}It._makeExperiment=o;function a(h,f,p,y){var v,b;return Object.assign(Object.assign({},r(h,f,p,void 0)),{get:c(h,p==null?void 0:p.value,y),groupName:(v=p==null?void 0:p.group_name)!==null&&v!==void 0?v:null,__value:(b=p==null?void 0:p.value)!==null&&b!==void 0?b:{}})}It._makeLayer=a;function l(h,f,p,y){return Object.assign(Object.assign(Object.assign({},h),f),{get:c(h.name,p,y)})}It._mergeOverride=l;function c(h,f,p){return(y,v)=>{var b;const m=(b=f==null?void 0:f[y])!==null&&b!==void 0?b:null;return m==null?v!=null?v:null:v!=null&&!(0,e._isTypeMatch)(m,v)?(t.Log.warn("Parameter type mismatch. '".concat(h,".").concat(y,"' was found to be type '").concat(typeof m,"' but fallback/return type is '").concat(typeof v,"'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters")),v!=null?v:null):(p==null||p(y),m)}}return It._makeTypedGet=c,It}var Zc={},m_;function Tk(){return m_||(m_=1,Object.defineProperty(Zc,"__esModule",{value:!0})),Zc}var zn={},__;function Ok(){if(__)return zn;__=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.UPDATE_DETAIL_ERROR_MESSAGES=zn.createUpdateDetails=void 0;const t=(e,r,n,i,o,a)=>({duration:n,source:r,success:e,error:i,sourceUrl:o,warnings:a});return zn.createUpdateDetails=t,zn.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."},zn}var y_;function Je(){return y_||(y_=1,(function(t){var e=In&&In.__createBinding||(Object.create?(function(h,f,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(f,p);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(h,y,v)}):(function(h,f,p,y){y===void 0&&(y=p),h[y]=f[p]})),r=In&&In.__exportStar||function(h,f){for(var p in h)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&e(f,h,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,pn();const n=pn(),i=Gh();Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return i.Diagnostics}});const o=V0();Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}});const a=Dt();Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return a.Log}});const l=Il(),c=vn();Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return c.Storage}}),r(pn(),t),r(Vl(),t),r(uk(),t),r(ck(),t),r(Gh(),t),r(hk(),t),r(K0(),t),r(dk(),t),r(fk(),t),r(ps(),t),r(pk(),t),r(Dt(),t),r(X0(),t),r(Gl(),t),r(_k(),t),r(yk(),t),r(vk(),t),r(gi(),t),r(Jd(),t),r(Zd(),t),r(bk(),t),r(Kl(),t),r(wk(),t),r(J0(),t),r(Sk(),t),r(W0(),t),r(Il(),t),r(Hl(),t),r(Ek(),t),r(Ck(),t),r(Tk(),t),r(G0(),t),r(vn(),t),r(H0(),t),r(Kd(),t),r(q0(),t),r(Yd(),t),r(Xd(),t),r(Ok(),t),r(Y0(),t),Object.assign((0,n._getStatsigGlobal)(),{Log:a.Log,SDK_VERSION:l.SDK_VERSION})})(In)),In}var Wn={},Ii={},il={},v_;function Rk(){if(v_)return il;v_=1,Object.defineProperty(il,"__esModule",{value:!0});const t=Je();let e=class{constructor(n){this._sdkKey=n,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,t._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(n,i){var o,a;if(!n)return!1;const l=(0,t._typedJsonParse)(n.data,"has_updates","EvaluationResponse");return l==null?!1:(this._source=n.source,(l==null?void 0:l.has_updates)!==!0||((o=l.time)!==null&&o!==void 0?o:0)<this._lcut||(this._rawValues=n.data,this._lcut=l.time,this._receivedAt=n.receivedAt,this._values=l,this._bootstrapMetadata=this._extractBootstrapMetadata(n.source,l),n.source&&l.user&&this._setWarningState(i,l),t.SDKFlags.setFlags(this._sdkKey,(a=l.sdk_flags)!==null&&a!==void 0?a:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(n){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.feature_gates,n)}getConfig(n){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.dynamic_configs,n)}getConfigList(){var n;return!((n=this._values)===null||n===void 0)&&n.dynamic_configs?Object.values(this._values.dynamic_configs).map(i=>i.name):[]}getLayer(n){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.layer_configs,n)}getParamStore(n){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.param_stores,n)}getSource(){return this._source}getExposureMapping(){var n;return(n=this._values)===null||n===void 0?void 0:n.exposures}_extractBootstrapMetadata(n,i){if(n!=="Bootstrap")return null;const o={};return i.user&&(o.user=i.user),i.sdkInfo&&(o.generatorSDKInfo=i.sdkInfo),o.lcut=i.time,o}_getDetailedStoreResult(n,i){let o=null;return n&&(o=n[i]?n[i]:n[(0,t._DJB2)(i)]),{result:o,details:this._getDetails(o==null)}}_setWarningState(n,i){var o,a;const l=t.StableID.get(this._sdkKey);if(((o=n.customIDs)===null||o===void 0?void 0:o.stableID)!==l&&(!((a=n.customIDs)===null||a===void 0)&&a.stableID||l)){this._warnings.add("StableIDMismatch");return}if("user"in i){const c=i.user,h=Object.assign(Object.assign({},n),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,t._getFullUserHash)(h)!==(0,t._getFullUserHash)(c)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const n={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(n.warnings=Array.from(this._warnings)),n}_getDetails(n){var i,o;const a=this.getCurrentSourceDetails();let l=a.reason;const c=(i=a.warnings)!==null&&i!==void 0?i:[];if(this._source==="Bootstrap"&&c.length>0&&(l=l+c[0]),l!=="Uninitialized"&&l!=="NoValues"){const f=n?"Unrecognized":"Recognized";l="".concat(l,":").concat(f)}const h=this._source==="Bootstrap"&&(o=this._bootstrapMetadata)!==null&&o!==void 0?o:void 0;return h&&(a.bootstrapMetadata=h),Object.assign(Object.assign({},a),{reason:l})}};return il.default=e,il}var Mi={},so={},b_;function kk(){if(b_)return so;b_=1,Object.defineProperty(so,"__esModule",{value:!0}),so._resolveDeltasResponse=void 0;const t=Je(),e=2;function r(a,l){const c=(0,t._typedJsonParse)(l,"checksum","DeltasEvaluationResponse");if(!c)return{hadBadDeltaChecksum:!0};const h=n(a,c),f=i(h),p=(0,t._DJB2Object)({feature_gates:f.feature_gates,dynamic_configs:f.dynamic_configs,layer_configs:f.layer_configs},e);return p===c.checksumV2?JSON.stringify(f):{hadBadDeltaChecksum:!0,badChecksum:p,badMergedConfigs:f,badFullResponse:c.deltas_full_response}}so._resolveDeltasResponse=r;function n(a,l){return Object.assign(Object.assign(Object.assign({},a),l),{feature_gates:Object.assign(Object.assign({},a.feature_gates),l.feature_gates),layer_configs:Object.assign(Object.assign({},a.layer_configs),l.layer_configs),dynamic_configs:Object.assign(Object.assign({},a.dynamic_configs),l.dynamic_configs)})}function i(a){const l=a;return o(a.deleted_gates,l.feature_gates),delete l.deleted_gates,o(a.deleted_configs,l.dynamic_configs),delete l.deleted_configs,o(a.deleted_layers,l.layer_configs),delete l.deleted_layers,l}function o(a,l){a==null||a.forEach(c=>{delete l[c]})}return so}var w_;function Z0(){if(w_)return Mi;w_=1;var t=Mi&&Mi.__awaiter||function(i,o,a,l){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function p(b){try{v(l.next(b))}catch(m){f(m)}}function y(b){try{v(l.throw(b))}catch(m){f(m)}}function v(b){b.done?h(b.value):c(b.value).then(p,y)}v((l=l.apply(i,o||[])).next())})};Object.defineProperty(Mi,"__esModule",{value:!0});const e=Je(),r=kk();class n extends e.NetworkCore{constructor(o,a){super(o,a);const l=o==null?void 0:o.networkConfig;this._option=o,this._initializeUrlConfig=new e.UrlConfiguration(e.Endpoint._initialize,l==null?void 0:l.initializeUrl,l==null?void 0:l.api,l==null?void 0:l.initializeFallbackUrls)}fetchEvaluations(o,a,l,c,h){return t(this,void 0,void 0,function*(){var f,p,y,v,b,m;const w=a?(0,e._typedJsonParse)(a,"has_updates","InitializeResponse"):null;let C={user:c,hash:(y=(p=(f=this._option)===null||f===void 0?void 0:f.networkConfig)===null||p===void 0?void 0:p.initializeHashAlgorithm)!==null&&y!==void 0?y:"djb2",deltasResponseRequested:!1,full_checksum:null};if(w!=null&&w.has_updates){const E=(w==null?void 0:w.hash_used)!==((m=(b=(v=this._option)===null||v===void 0?void 0:v.networkConfig)===null||b===void 0?void 0:b.initializeHashAlgorithm)!==null&&m!==void 0?m:"djb2");C=Object.assign(Object.assign({},C),{sinceTime:h&&!E?w.time:0,previousDerivedFields:"derived_fields"in w&&h?w.derived_fields:{},deltasResponseRequested:!0,full_checksum:w.full_checksum,partialUserMatchSinceTime:E?0:w.time})}return this._fetchEvaluations(o,w,C,l)})}_fetchEvaluations(o,a,l,c){return t(this,void 0,void 0,function*(){var h,f;const p=yield this.post({sdkKey:o,urlConfig:this._initializeUrlConfig,data:l,retries:2,isStatsigEncodable:!0,priority:c});if((p==null?void 0:p.code)===204)return'{"has_updates": false}';if((p==null?void 0:p.code)!==200)return(h=p==null?void 0:p.body)!==null&&h!==void 0?h:null;if((a==null?void 0:a.has_updates)!==!0||((f=p.body)===null||f===void 0?void 0:f.includes('"is_delta":true'))!==!0||l.deltasResponseRequested!==!0)return p.body;const y=(0,r._resolveDeltasResponse)(a,p.body);return typeof y=="string"?y:this._fetchEvaluations(o,a,Object.assign(Object.assign(Object.assign({},l),y),{deltasResponseRequested:!1}),c)})}}return Mi.default=n,Mi}var oo={},S_;function xk(){if(S_)return oo;S_=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo._makeParamStoreGetter=void 0;const t=Je(),e={disableExposureLog:!0};function r(f){return f==null||f.disableExposureLog===!1}function n(f,p){return p!=null&&!(0,t._isTypeMatch)(f,p)}function i(f,p){return f.value}function o(f,p,y){return f.getFeatureGate(p.gate_name,r(y)?void 0:e).value?p.pass_value:p.fail_value}function a(f,p,y,v){const m=f.getDynamicConfig(p.config_name,r(v)?void 0:e).get(p.param_name);return n(m,y)?y:m}function l(f,p,y,v){const m=f.getExperiment(p.experiment_name,r(v)?void 0:e).get(p.param_name);return n(m,y)?y:m}function c(f,p,y,v){const m=f.getLayer(p.layer_name,r(v)?void 0:e).get(p.param_name);return n(m,y)?y:m}function h(f,p,y){return(v,b)=>{if(p==null)return b;const m=p[v];if(m==null||b!=null&&(0,t._typeOf)(b)!==m.param_type)return b;switch(m.ref_type){case"static":return i(m);case"gate":return o(f,m,y);case"dynamic_config":return a(f,m,b,y);case"experiment":return l(f,m,b,y);case"layer":return c(f,m,b,y);default:return b}}}return oo._makeParamStoreGetter=h,oo}var qn={},E_;function Ak(){if(E_)return qn;E_=1;var t=qn&&qn.__awaiter||function(i,o,a,l){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function p(b){try{v(l.next(b))}catch(m){f(m)}}function y(b){try{v(l.throw(b))}catch(m){f(m)}}function v(b){b.done?h(b.value):c(b.value).then(p,y)}v((l=l.apply(i,o||[])).next())})};Object.defineProperty(qn,"__esModule",{value:!0}),qn.StatsigEvaluationsDataAdapter=void 0;const e=Je(),r=Z0();let n=class extends e.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(o,a,l){super.attach(o,a,l),l!==null&&l instanceof r.default?this._network=l:this._network=new r.default(a!=null?a:{})}getDataAsync(o,a,l){return this._getDataAsyncImpl(o,(0,e._normalizeUser)(a,this._options),l)}prefetchData(o,a){return this._prefetchDataImpl(o,a)}setData(o){const a=(0,e._typedJsonParse)(o,"has_updates","data");a&&"user"in a?super.setData(o,a.user):e.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(o,a){super.setData(o,a)}_fetchFromNetwork(o,a,l,c){return t(this,void 0,void 0,function*(){var h;const f=yield(h=this._network)===null||h===void 0?void 0:h.fetchEvaluations(this._getSdkKey(),o,l==null?void 0:l.priority,a,c);return f!=null?f:null})}_getCacheKey(o){var a;const l=(0,e._getStorageKey)(this._getSdkKey(),o,(a=this._options)===null||a===void 0?void 0:a.customUserCacheKeyFunc);return"".concat(e.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(l)}_isCachedResultValidFor204(o,a){return o.fullUserHash!=null&&o.fullUserHash===(0,e._getFullUserHash)(a)}};return qn.StatsigEvaluationsDataAdapter=n,qn}var C_;function Ik(){if(C_)return Ii;C_=1;var t=Ii&&Ii.__awaiter||function(l,c,h,f){function p(y){return y instanceof h?y:new h(function(v){v(y)})}return new(h||(h=Promise))(function(y,v){function b(C){try{w(f.next(C))}catch(E){v(E)}}function m(C){try{w(f.throw(C))}catch(E){v(E)}}function w(C){C.done?y(C.value):p(C.value).then(b,m)}w((f=f.apply(l,c||[])).next())})};Object.defineProperty(Ii,"__esModule",{value:!0});const e=Je(),r=Rk(),n=Z0(),i=xk(),o=Ak();let a=class Hh extends e.StatsigClientBase{static instance(c){const h=(0,e._getStatsigGlobal)().instance(c);return h instanceof Hh?h:(e.Log.warn((0,e._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new Hh(c!=null?c:"",{}))}constructor(c,h,f=null){var p,y;e.SDKType._setClientType(c,"javascript-client");const v=new n.default(f,m=>{this.$emt(m)});super(c,(p=f==null?void 0:f.dataAdapter)!==null&&p!==void 0?p:new o.StatsigEvaluationsDataAdapter,v,f),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(e.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(e.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(e.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(e.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(e.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(e.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new r.default(c),this._network=v,this._user=this._configureUser(h,f),this._sdkInstanceID=(0,e.getUUID)();const b=(y=f==null?void 0:f.plugins)!==null&&y!==void 0?y:[];for(const m of b)m.bind(this)}initializeSync(c){var h;return this.loadingStatus!=="Uninitialized"?(0,e.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(h=this._store.getWarnings())!==null&&h!==void 0?h:[]]):(this._logger.start(),this.updateUserSync(this._user,c))}initializeAsync(c){return t(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(c),this._initializePromise)})}updateUserSync(c,h){const f=performance.now();try{return this._updateUserSyncImpl(c,h,f)}catch(p){const y=p instanceof Error?p:new Error(String(p));return this._createErrorUpdateDetails(y,f)}}_updateUserSyncImpl(c,h,f){var p;const y=[...(p=this._store.getWarnings())!==null&&p!==void 0?p:[]];this._resetForUser(c);const v=this.dataAdapter.getDataSync(this._user);v==null&&y.push("NoCachedValues"),this._store.setValues(v,this._user),this._finalizeUpdate(v);const b=h==null?void 0:h.disableBackgroundCacheRefresh;return b===!0||b==null&&(v==null?void 0:v.source)==="Bootstrap"?(0,e.createUpdateDetails)(!0,this._store.getSource(),performance.now()-f,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),y):(this._runPostUpdate(v!=null?v:null,this._user),(0,e.createUpdateDetails)(!0,this._store.getSource(),performance.now()-f,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),y))}updateUserAsync(c,h){return t(this,void 0,void 0,function*(){const f=performance.now();try{return yield this._updateUserAsyncImpl(c,h)}catch(p){const y=p instanceof Error?p:new Error(String(p));return this._createErrorUpdateDetails(y,f)}})}_updateUserAsyncImpl(c,h){return t(this,void 0,void 0,function*(){this._resetForUser(c);const f=this._user;e.Diagnostics._markInitOverallStart(this._sdkKey);let p=this.dataAdapter.getDataSync(f);if(this._store.setValues(p,this._user),this._setStatus("Loading",p),p=yield this.dataAdapter.getDataAsync(p,f,h),f!==this._user)return(0,e.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let y=!1;p!=null&&(e.Diagnostics._markInitProcessStart(this._sdkKey),y=this._store.setValues(p,this._user),e.Diagnostics._markInitProcessEnd(this._sdkKey,{success:y})),this._finalizeUpdate(p),y||(this._errorBoundary.attachErrorIfNoneExists(e.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),e.Diagnostics._markInitOverallEnd(this._sdkKey,y,this._store.getCurrentSourceDetails());const v=e.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,e.createUpdateDetails)(y,this._store.getSource(),v,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:e.StatsigSession.get(this._sdkKey),stableID:e.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(c,h){return this.getFeatureGate(c,h).value}logEvent(c,h,f){const p=typeof c=="string"?{eventName:c,value:h,metadata:f}:c;this.$emt({name:"log_event_called",event:p}),this._logger.enqueue(Object.assign(Object.assign({},p),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(c){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:c}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(c){return t(this,void 0,void 0,function*(){return e.Storage.isReady()||(yield e.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,c)})}_createErrorUpdateDetails(c,h){var f;return(0,e.createUpdateDetails)(!1,this._store.getSource(),performance.now()-h,c,null,[...(f=this._store.getWarnings())!==null&&f!==void 0?f:[]])}_finalizeUpdate(c){this._store.finalize(),this._setStatus("Ready",c)}_runPostUpdate(c,h){this.dataAdapter.getDataAsync(c,h,{priority:"low"}).catch(f=>{e.Log.error("An error occurred after update.",f)})}_resetForUser(c){this._logger.reset(),this._store.reset(),this._user=this._configureUser(c,this._options)}_configureUser(c,h){var f,p,y;const v=(0,e._normalizeUser)(c,h),b=(f=v.customIDs)===null||f===void 0?void 0:f.stableID;if(b){const m=(y=(p=this.storageProvider).isReadyResolver)===null||y===void 0?void 0:y.call(p);m?m.then(()=>e.StableID.setOverride(b,this._sdkKey),()=>e.StableID.setOverride(b,this._sdkKey)):e.StableID.setOverride(b,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(v.analyticsOnlyMetadata=Object.assign(Object.assign({},v.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),v}_getFeatureGateImpl(c,h){var f,p;const{result:y,details:v}=this._store.getGate(c),b=(0,e._makeFeatureGate)(c,v,y),m=(p=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getGateOverride)===null||p===void 0?void 0:p.call(f,b,this._user,h),w=m!=null?m:b;return this._enqueueExposure(c,(0,e._createGateExposure)(this._user,w,this._store.getExposureMapping()),h),this.$emt({name:"gate_evaluation",gate:w}),w}_getDynamicConfigImpl(c,h){var f,p;const{result:y,details:v}=this._store.getConfig(c),b=(0,e._makeDynamicConfig)(c,v,y),m=(p=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getDynamicConfigOverride)===null||p===void 0?void 0:p.call(f,b,this._user,h),w=m!=null?m:b;return this._enqueueExposure(c,(0,e._createConfigExposure)(this._user,w,this._store.getExposureMapping()),h),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:w}),w}_getExperimentImpl(c,h){var f,p,y,v;const{result:b,details:m}=this._store.getConfig(c),w=(0,e._makeExperiment)(c,m,b);w.__evaluation!=null&&(w.__evaluation.secondary_exposures=(0,e._mapExposures)((p=(f=w.__evaluation)===null||f===void 0?void 0:f.secondary_exposures)!==null&&p!==void 0?p:[],this._store.getExposureMapping()));const C=(v=(y=this.overrideAdapter)===null||y===void 0?void 0:y.getExperimentOverride)===null||v===void 0?void 0:v.call(y,w,this._user,h),E=C!=null?C:w;return this._enqueueExposure(c,(0,e._createConfigExposure)(this._user,E,this._store.getExposureMapping()),h),this.$emt({name:"experiment_evaluation",experiment:E}),E}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(c,h){var f,p,y;const{result:v,details:b}=this._store.getLayer(c),m=(0,e._makeLayer)(c,b,v),w=(p=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getLayerOverride)===null||p===void 0?void 0:p.call(f,m,this._user,h);h!=null&&h.disableExposureLog&&this._logger.incrementNonExposureCount(c);const C=(0,e._mergeOverride)(m,w,(y=w==null?void 0:w.__value)!==null&&y!==void 0?y:m.__value,E=>{h!=null&&h.disableExposureLog||this._enqueueExposure(c,(0,e._createLayerParameterExposure)(this._user,C,E,this._store.getExposureMapping()),h)});return this.$emt({name:"layer_evaluation",layer:C}),C}_getParameterStoreImpl(c,h){var f,p;const{result:y,details:v}=this._store.getParamStore(c);this._logger.incrementNonExposureCount(c);const b={name:c,details:v,__configuration:y,get:(0,i._makeParamStoreGetter)(this,y,h)},m=(p=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getParamStoreOverride)===null||p===void 0?void 0:p.call(f,b,h);return m!=null&&(b.__configuration=m.config,b.details=m.details,b.get=(0,i._makeParamStoreGetter)(this,m.config,h)),b}};return Ii.default=a,Ii}var T_;function Mk(){return T_||(T_=1,(function(t){var e=Wn&&Wn.__createBinding||(Object.create?(function(a,l,c,h){h===void 0&&(h=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,h,f)}):(function(a,l,c,h){h===void 0&&(h=c),a[h]=l[c]})),r=Wn&&Wn.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,a,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;const n=Je(),i=Ik();t.StatsigClient=i.default,r(Je(),t);const o=Object.assign((0,n._getStatsigGlobal)(),{StatsigClient:i.default});t.default=o})(Wn)),Wn}var lU=Mk(),Qc={},Br={},pr={},ao={},eh={},O_;function Pk(){return O_||(O_=1,(function(t){var e={};Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});var r=Object.defineProperty,n=(g,s,u)=>s in g?r(g,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[s]=u,i=(g,s,u)=>n(g,typeof s!="symbol"?s+"":s,u),o,a=Object.defineProperty,l=(g,s,u)=>s in g?a(g,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[s]=u,c=(g,s,u)=>l(g,typeof s!="symbol"?s+"":s,u),h=(g=>(g[g.Document=0]="Document",g[g.DocumentType=1]="DocumentType",g[g.Element=2]="Element",g[g.Text=3]="Text",g[g.CDATA=4]="CDATA",g[g.Comment=5]="Comment",g))(h||{});const f={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},p={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},y={};function v(g){if(y[g])return y[g];const s=globalThis[g],u=s.prototype,d=g in f?f[g]:void 0,_=!!(d&&d.every(D=>{var M,L;return!!((L=(M=Object.getOwnPropertyDescriptor(u,D))==null?void 0:M.get)!=null&&L.toString().includes("[native code]"))})),O=g in p?p[g]:void 0,x=!!(O&&O.every(D=>{var M;return typeof u[D]=="function"&&((M=u[D])==null?void 0:M.toString().includes("[native code]"))}));if(_&&x)return y[g]=s.prototype,s.prototype;try{const D=document.createElement("iframe");document.body.appendChild(D);const M=D.contentWindow;if(!M)return s.prototype;const L=M[g].prototype;return document.body.removeChild(D),L?y[g]=L:u}catch(D){return u}}const b={};function m(g,s,u){var d;const _="".concat(g,".").concat(String(u));if(b[_])return b[_].call(s);const O=v(g),x=(d=Object.getOwnPropertyDescriptor(O,u))==null?void 0:d.get;return x?(b[_]=x,x.call(s)):s[u]}const w={};function C(g,s,u){const d="".concat(g,".").concat(String(u));if(w[d])return w[d].bind(s);const O=v(g)[u];return typeof O!="function"?s[u]:(w[d]=O,O.bind(s))}function E(g){return m("Node",g,"childNodes")}function R(g){return m("Node",g,"parentNode")}function k(g){return m("Node",g,"parentElement")}function S(g){return m("Node",g,"textContent")}function T(g,s){return C("Node",g,"contains")(s)}function A(g){return C("Node",g,"getRootNode")()}function I(g){return!g||!("host"in g)?null:m("ShadowRoot",g,"host")}function P(g){return g.styleSheets}function U(g){return!g||!("shadowRoot"in g)?null:m("Element",g,"shadowRoot")}function j(g,s){return m("Element",g,"querySelector")(s)}function W(g,s){return m("Element",g,"querySelectorAll")(s)}function q(){return v("MutationObserver").constructor}const B={childNodes:E,parentNode:R,parentElement:k,textContent:S,contains:T,getRootNode:A,host:I,styleSheets:P,shadowRoot:U,querySelector:j,querySelectorAll:W,mutationObserver:q};function te(g){return g.nodeType===g.ELEMENT_NODE}function N(g){const s=g&&"host"in g&&"mode"in g&&B.host(g)||null;return!!(s&&"shadowRoot"in s&&B.shadowRoot(s)===g)}function F(g){return Object.prototype.toString.call(g)==="[object ShadowRoot]"}function z(g){return g.includes(" background-clip: text;")&&!g.includes(" -webkit-background-clip: text;")&&(g=g.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),g}function Q(g){const{cssText:s}=g;if(s.split('"').length<3)return s;const u=["@import","url(".concat(JSON.stringify(g.href),")")];return g.layerName===""?u.push("layer"):g.layerName&&u.push("layer(".concat(g.layerName,")")),g.supportsText&&u.push("supports(".concat(g.supportsText,")")),g.media.length&&u.push(g.media.mediaText),u.join(" ")+";"}function ne(g){try{const s=g.rules||g.cssRules;if(!s)return null;const u=Array.from(s,d=>ce(d,g.href)).join("");return z(u)}catch(s){return null}}function ce(g,s){if(ge(g)){let u;try{u=ne(g.styleSheet)||Q(g)}catch(d){u=g.cssText}return g.styleSheet.href?mt(u,g.styleSheet.href):u}else{let u=g.cssText;return Z(g)&&g.selectorText.includes(":")&&(u=_e(u)),s?mt(u,s):u}}function _e(g){const s=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return g.replace(s,"$1\\$2")}function ge(g){return"styleSheet"in g}function Z(g){return"selectorText"in g}class J{constructor(){c(this,"idNodeMap",new Map),c(this,"nodeMetaMap",new WeakMap)}getId(s){var u;if(!s)return-1;const d=(u=this.getMeta(s))==null?void 0:u.id;return d!=null?d:-1}getNode(s){return this.idNodeMap.get(s)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(s){return this.nodeMetaMap.get(s)||null}removeNodeFromMap(s){const u=this.getId(s);this.idNodeMap.delete(u),s.childNodes&&s.childNodes.forEach(d=>this.removeNodeFromMap(d))}has(s){return this.idNodeMap.has(s)}hasNode(s){return this.nodeMetaMap.has(s)}add(s,u){const d=u.id;this.idNodeMap.set(d,s),this.nodeMetaMap.set(s,u)}replace(s,u){const d=this.getNode(s);if(d){const _=this.nodeMetaMap.get(d);_&&this.nodeMetaMap.set(u,_)}this.idNodeMap.set(s,u)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function de(){return new J}function Y({element:g,maskInputOptions:s,tagName:u,type:d,value:_,maskInputFn:O}){let x=_||"";const D=d&&ae(d);return(s[u.toLowerCase()]||D&&s[D])&&(O?x=O(x,g):x="*".repeat(x.length)),x}function ae(g){return g.toLowerCase()}const le="__rrweb_original__";function H(g){const s=g.getContext("2d");if(!s)return!0;const u=50;for(let d=0;d<g.width;d+=u)for(let _=0;_<g.height;_+=u){const O=s.getImageData,x=le in O?O[le]:O;if(new Uint32Array(x.call(s,d,_,Math.min(u,g.width-d),Math.min(u,g.height-_)).data.buffer).some(M=>M!==0))return!1}return!0}function ie(g){const s=g.type;return g.hasAttribute("data-rr-is-password")?"password":s?ae(s):null}function se(g,s){var O;let u;try{u=new URL(g,s!=null?s:window.location.href)}catch(x){return null}const d=/\.([0-9a-z]+)(?:$)/i,_=u.pathname.match(d);return(O=_==null?void 0:_[1])!=null?O:null}function he(g){let s="";return g.indexOf("//")>-1?s=g.split("/").slice(0,3).join("/"):s=g.split("/")[0],s=s.split("?")[0],s}const me=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ae=/^(?:[a-z+]+:)?\/\//i,st=/^www\..*/i,ot=/^(data:)([^,]*),(.*)/i;function mt(g,s){return(g||"").replace(me,(u,d,_,O,x,D)=>{const M=_||x||D,L=d||O||"";if(!M)return u;if(Ae.test(M)||st.test(M)||ot.test(M))return"url(".concat(L).concat(M).concat(L,")");if(M[0]==="/")return"url(".concat(L).concat(he(s)+M).concat(L,")");const $=s.split("/"),V=M.split("/");$.pop();for(const re of V)re!=="."&&(re===".."?$.pop():$.push(re));return"url(".concat(L).concat($.join("/")).concat(L,")")})}let Vt=1;const Ss=new RegExp("[^a-z0-9-_:]"),Jr=-2;function Es(){return Vt++}function nt(g){if(g instanceof HTMLFormElement)return"form";const s=ae(g.tagName);return Ss.test(s)?"div":s}let er,Sr;const Cs=/^[^ \t\n\r\u000c]+/,lr=/^[, \t\n\r\u000c]+/;function Ts(g,s){if(s.trim()==="")return s;let u=0;function d(O){let x;const D=O.exec(s.substring(u));return D?(x=D[0],u+=x.length,x):""}const _=[];for(;d(lr),!(u>=s.length);){let O=d(Cs);if(O.slice(-1)===",")O=tr(g,O.substring(0,O.length-1)),_.push(O);else{let x="";O=tr(g,O);let D=!1;for(;;){const M=s.charAt(u);if(M===""){_.push((O+x).trim());break}else if(D)M===")"&&(D=!1);else if(M===","){u+=1,_.push((O+x).trim());break}else M==="("&&(D=!0);x+=M,u+=1}}}return _.join(", ")}const Qo=new WeakMap;function tr(g,s){return!s||s.trim()===""?s:Os(g,s)}function ru(g){return!!(g.tagName==="svg"||g.ownerSVGElement)}function Os(g,s){let u=Qo.get(g);if(u||(u=g.createElement("a"),Qo.set(g,u)),!s)s="";else if(s.startsWith("blob:")||s.startsWith("data:"))return s;return u.setAttribute("href",s),u.href}function Rs(g,s,u,d){return d&&(u==="src"||u==="href"&&!(s==="use"&&d[0]==="#")||u==="xlink:href"&&d[0]!=="#"||u==="background"&&(s==="table"||s==="td"||s==="th")?tr(g,d):u==="srcset"?Ts(g,d):u==="style"?mt(d,Os(g)):s==="object"&&u==="data"?tr(g,d):d)}function ea(g,s,u){return(g==="video"||g==="audio")&&s==="autoplay"}function nu(g,s,u){try{if(typeof s=="string"){if(g.classList.contains(s))return!0}else for(let d=g.classList.length;d--;){const _=g.classList[d];if(s.test(_))return!0}if(u)return g.matches(u)}catch(d){}return!1}function Zr(g,s,u){if(!g)return!1;if(g.nodeType!==g.ELEMENT_NODE)return u?Zr(B.parentNode(g),s,u):!1;for(let d=g.classList.length;d--;){const _=g.classList[d];if(s.test(_))return!0}return u?Zr(B.parentNode(g),s,u):!1}function Qr(g,s,u,d){let _;if(te(g)){if(_=g,!B.childNodes(_).length)return!1}else{if(B.parentElement(g)===null)return!1;_=B.parentElement(g)}try{if(typeof s=="string"){if(d){if(_.closest(".".concat(s)))return!0}else if(_.classList.contains(s))return!0}else if(Zr(_,s,d))return!0;if(u){if(d){if(_.closest(u))return!0}else if(_.matches(u))return!0}}catch(O){}return!1}function Jw(g,s,u){const d=g.contentWindow;if(!d)return;let _=!1,O;try{O=d.document.readyState}catch(D){return}if(O!=="complete"){const D=setTimeout(()=>{_||(s(),_=!0)},u);g.addEventListener("load",()=>{clearTimeout(D),_=!0,s()});return}const x="about:blank";if(d.location.href!==x||g.src===x||g.src==="")return setTimeout(s,0),g.addEventListener("load",s);g.addEventListener("load",s)}function Zw(g,s,u){let d=!1,_;try{_=g.sheet}catch(x){return}if(_)return;const O=setTimeout(()=>{d||(s(),d=!0)},u);g.addEventListener("load",()=>{clearTimeout(O),d=!0,s()})}function Qw(g,s){const{doc:u,mirror:d,blockClass:_,blockSelector:O,needsMask:x,inlineStylesheet:D,maskInputOptions:M={},maskTextFn:L,maskInputFn:$,dataURLOptions:V={},inlineImages:re,recordCanvas:ee,keepIframeSrcFn:oe,newlyAddedElement:X=!1}=s,G=eS(u,d);switch(g.nodeType){case g.DOCUMENT_NODE:return g.compatMode!=="CSS1Compat"?{type:h.Document,childNodes:[],compatMode:g.compatMode}:{type:h.Document,childNodes:[]};case g.DOCUMENT_TYPE_NODE:return{type:h.DocumentType,name:g.name,publicId:g.publicId,systemId:g.systemId,rootId:G};case g.ELEMENT_NODE:return rS(g,{doc:u,blockClass:_,blockSelector:O,inlineStylesheet:D,maskInputOptions:M,maskInputFn:$,dataURLOptions:V,inlineImages:re,recordCanvas:ee,keepIframeSrcFn:oe,newlyAddedElement:X,rootId:G});case g.TEXT_NODE:return tS(g,{doc:u,needsMask:x,maskTextFn:L,rootId:G});case g.CDATA_SECTION_NODE:return{type:h.CDATA,textContent:"",rootId:G};case g.COMMENT_NODE:return{type:h.Comment,textContent:B.textContent(g)||"",rootId:G};default:return!1}}function eS(g,s){if(!s.hasNode(g))return;const u=s.getId(g);return u===1?void 0:u}function tS(g,s){var u;const{needsMask:d,maskTextFn:_,rootId:O}=s,x=B.parentNode(g),D=x&&x.tagName;let M=B.textContent(g);const L=D==="STYLE"?!0:void 0,$=D==="SCRIPT"?!0:void 0;if(L&&M){try{g.nextSibling||g.previousSibling||(u=x.sheet)!=null&&u.cssRules&&(M=ne(x.sheet))}catch(V){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(V),g)}M=mt(M,Os(s.doc))}return $&&(M="SCRIPT_PLACEHOLDER"),!L&&!$&&M&&d&&(M=_?_(M,B.parentElement(g)):M.replace(/[\S]/g,"*")),{type:h.Text,textContent:M||"",isStyle:L,rootId:O}}function rS(g,s){const{doc:u,blockClass:d,blockSelector:_,inlineStylesheet:O,maskInputOptions:x={},maskInputFn:D,dataURLOptions:M={},inlineImages:L,recordCanvas:$,keepIframeSrcFn:V,newlyAddedElement:re=!1,rootId:ee}=s,oe=nu(g,d,_),X=nt(g);let G={};const be=g.attributes.length;for(let ue=0;ue<be;ue++){const we=g.attributes[ue];ea(X,we.name,we.value)||(G[we.name]=Rs(u,X,ae(we.name),we.value))}if(X==="link"&&O){const ue=Array.from(u.styleSheets).find(Ue=>Ue.href===g.href);let we=null;ue&&(we=ne(ue)),we&&(delete G.rel,delete G.href,G._cssText=we)}if(X==="style"&&g.sheet&&!(g.innerText||B.textContent(g)||"").trim().length){const ue=ne(g.sheet);ue&&(G._cssText=ue)}if(X==="input"||X==="textarea"||X==="select"){const ue=g.value,we=g.checked;G.type!=="radio"&&G.type!=="checkbox"&&G.type!=="submit"&&G.type!=="button"&&ue?G.value=Y({element:g,type:ie(g),tagName:X,value:ue,maskInputOptions:x,maskInputFn:D}):we&&(G.checked=we)}if(X==="option"&&(g.selected&&!x.select?G.selected=!0:delete G.selected),X==="dialog"&&g.open&&(G.rr_open_mode=g.matches("dialog:modal")?"modal":"non-modal"),X==="canvas"&&$){if(g.__context==="2d")H(g)||(G.rr_dataURL=g.toDataURL(M.type,M.quality));else if(!("__context"in g)){const ue=g.toDataURL(M.type,M.quality),we=u.createElement("canvas");we.width=g.width,we.height=g.height;const Ue=we.toDataURL(M.type,M.quality);ue!==Ue&&(G.rr_dataURL=ue)}}if(X==="img"&&L){er||(er=u.createElement("canvas"),Sr=er.getContext("2d"));const ue=g,we=ue.currentSrc||ue.getAttribute("src")||"<unknown-src>",Ue=ue.crossOrigin,Ve=()=>{ue.removeEventListener("load",Ve);try{er.width=ue.naturalWidth,er.height=ue.naturalHeight,Sr.drawImage(ue,0,0),G.rr_dataURL=er.toDataURL(M.type,M.quality)}catch(_t){if(ue.crossOrigin!=="anonymous"){ue.crossOrigin="anonymous",ue.complete&&ue.naturalWidth!==0?Ve():ue.addEventListener("load",Ve);return}else console.warn("Cannot inline img src=".concat(we,"! Error: ").concat(_t))}ue.crossOrigin==="anonymous"&&(Ue?G.crossOrigin=Ue:ue.removeAttribute("crossorigin"))};ue.complete&&ue.naturalWidth!==0?Ve():ue.addEventListener("load",Ve)}if(X==="audio"||X==="video"){const ue=G;ue.rr_mediaState=g.paused?"paused":"played",ue.rr_mediaCurrentTime=g.currentTime,ue.rr_mediaPlaybackRate=g.playbackRate,ue.rr_mediaMuted=g.muted,ue.rr_mediaLoop=g.loop,ue.rr_mediaVolume=g.volume}if(re||(g.scrollLeft&&(G.rr_scrollLeft=g.scrollLeft),g.scrollTop&&(G.rr_scrollTop=g.scrollTop)),oe){const{width:ue,height:we}=g.getBoundingClientRect();G={class:G.class,rr_width:"".concat(ue,"px"),rr_height:"".concat(we,"px")}}X==="iframe"&&!V(G.src)&&(g.contentDocument||(G.rr_src=G.src),delete G.src);let ye;try{customElements.get(X)&&(ye=!0)}catch(ue){}return{type:h.Element,tagName:X,attributes:G,childNodes:[],isSVG:ru(g)||void 0,needBlock:oe,rootId:ee,isCustom:ye}}function Be(g){return g==null?"":g.toLowerCase()}function nS(g,s){if(s.comment&&g.type===h.Comment)return!0;if(g.type===h.Element){if(s.script&&(g.tagName==="script"||g.tagName==="link"&&(g.attributes.rel==="preload"||g.attributes.rel==="modulepreload")&&g.attributes.as==="script"||g.tagName==="link"&&g.attributes.rel==="prefetch"&&typeof g.attributes.href=="string"&&se(g.attributes.href)==="js"))return!0;if(s.headFavicon&&(g.tagName==="link"&&g.attributes.rel==="shortcut icon"||g.tagName==="meta"&&(Be(g.attributes.name).match(/^msapplication-tile(image|color)$/)||Be(g.attributes.name)==="application-name"||Be(g.attributes.rel)==="icon"||Be(g.attributes.rel)==="apple-touch-icon"||Be(g.attributes.rel)==="shortcut icon")))return!0;if(g.tagName==="meta"){if(s.headMetaDescKeywords&&Be(g.attributes.name).match(/^description|keywords$/))return!0;if(s.headMetaSocial&&(Be(g.attributes.property).match(/^(og|twitter|fb):/)||Be(g.attributes.name).match(/^(og|twitter):/)||Be(g.attributes.name)==="pinterest"))return!0;if(s.headMetaRobots&&(Be(g.attributes.name)==="robots"||Be(g.attributes.name)==="googlebot"||Be(g.attributes.name)==="bingbot"))return!0;if(s.headMetaHttpEquiv&&g.attributes["http-equiv"]!==void 0)return!0;if(s.headMetaAuthorship&&(Be(g.attributes.name)==="author"||Be(g.attributes.name)==="generator"||Be(g.attributes.name)==="framework"||Be(g.attributes.name)==="publisher"||Be(g.attributes.name)==="progid"||Be(g.attributes.property).match(/^article:/)||Be(g.attributes.property).match(/^product:/)))return!0;if(s.headMetaVerification&&(Be(g.attributes.name)==="google-site-verification"||Be(g.attributes.name)==="yandex-verification"||Be(g.attributes.name)==="csrf-token"||Be(g.attributes.name)==="p:domain_verify"||Be(g.attributes.name)==="verify-v1"||Be(g.attributes.name)==="verification"||Be(g.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function _i(g,s){const{doc:u,mirror:d,blockClass:_,blockSelector:O,maskTextClass:x,maskTextSelector:D,skipChild:M=!1,inlineStylesheet:L=!0,maskInputOptions:$={},maskTextFn:V,maskInputFn:re,slimDOMOptions:ee,dataURLOptions:oe={},inlineImages:X=!1,recordCanvas:G=!1,onSerialize:be,onIframeLoad:ye,iframeLoadTimeout:ue=5e3,onStylesheetLoad:we,stylesheetLoadTimeout:Ue=5e3,keepIframeSrcFn:Ve=()=>!1,newlyAddedElement:_t=!1}=s;let{needsMask:Me}=s,{preserveWhiteSpace:yt=!0}=s;Me||(Me=Qr(g,x,D,Me===void 0));const vt=Qw(g,{doc:u,mirror:d,blockClass:_,blockSelector:O,needsMask:Me,inlineStylesheet:L,maskInputOptions:$,maskTextFn:V,maskInputFn:re,dataURLOptions:oe,inlineImages:X,recordCanvas:G,keepIframeSrcFn:Ve,newlyAddedElement:_t});if(!vt)return console.warn(g,"not serialized"),null;let nr;d.hasNode(g)?nr=d.getId(g):nS(vt,ee)||!yt&&vt.type===h.Text&&!vt.isStyle&&!vt.textContent.replace(/^\s+|\s+$/gm,"").length?nr=Jr:nr=Es();const Pe=Object.assign(vt,{id:nr});if(d.add(g,Pe),nr===Jr)return null;be&&be(g);let Tn=!M;if(Pe.type===h.Element){Tn=Tn&&!Pe.needBlock,delete Pe.needBlock;const At=B.shadowRoot(g);At&&F(At)&&(Pe.isShadowHost=!0)}if((Pe.type===h.Document||Pe.type===h.Element)&&Tn){ee.headWhitespace&&Pe.type===h.Element&&Pe.tagName==="head"&&(yt=!1);const At={doc:u,mirror:d,blockClass:_,blockSelector:O,needsMask:Me,maskTextClass:x,maskTextSelector:D,skipChild:M,inlineStylesheet:L,maskInputOptions:$,maskTextFn:V,maskInputFn:re,slimDOMOptions:ee,dataURLOptions:oe,inlineImages:X,recordCanvas:G,preserveWhiteSpace:yt,onSerialize:be,onIframeLoad:ye,iframeLoadTimeout:ue,onStylesheetLoad:we,stylesheetLoadTimeout:Ue,keepIframeSrcFn:Ve};if(!(Pe.type===h.Element&&Pe.tagName==="textarea"&&Pe.attributes.value!==void 0))for(const Ur of Array.from(B.childNodes(g))){const Tr=_i(Ur,At);Tr&&Pe.childNodes.push(Tr)}let dr=null;if(te(g)&&(dr=B.shadowRoot(g)))for(const Ur of Array.from(B.childNodes(dr))){const Tr=_i(Ur,At);Tr&&(F(dr)&&(Tr.isShadow=!0),Pe.childNodes.push(Tr))}}const Ks=B.parentNode(g);return Ks&&N(Ks)&&F(Ks)&&(Pe.isShadow=!0),Pe.type===h.Element&&Pe.tagName==="iframe"&&Jw(g,()=>{const At=g.contentDocument;if(At&&ye){const dr=_i(At,{doc:At,mirror:d,blockClass:_,blockSelector:O,needsMask:Me,maskTextClass:x,maskTextSelector:D,skipChild:!1,inlineStylesheet:L,maskInputOptions:$,maskTextFn:V,maskInputFn:re,slimDOMOptions:ee,dataURLOptions:oe,inlineImages:X,recordCanvas:G,preserveWhiteSpace:yt,onSerialize:be,onIframeLoad:ye,iframeLoadTimeout:ue,onStylesheetLoad:we,stylesheetLoadTimeout:Ue,keepIframeSrcFn:Ve});dr&&ye(g,dr)}},ue),Pe.type===h.Element&&Pe.tagName==="link"&&typeof Pe.attributes.rel=="string"&&(Pe.attributes.rel==="stylesheet"||Pe.attributes.rel==="preload"&&typeof Pe.attributes.href=="string"&&se(Pe.attributes.href)==="css")&&Zw(g,()=>{if(we){const At=_i(g,{doc:u,mirror:d,blockClass:_,blockSelector:O,needsMask:Me,maskTextClass:x,maskTextSelector:D,skipChild:!1,inlineStylesheet:L,maskInputOptions:$,maskTextFn:V,maskInputFn:re,slimDOMOptions:ee,dataURLOptions:oe,inlineImages:X,recordCanvas:G,preserveWhiteSpace:yt,onSerialize:be,onIframeLoad:ye,iframeLoadTimeout:ue,onStylesheetLoad:we,stylesheetLoadTimeout:Ue,keepIframeSrcFn:Ve});At&&we(g,At)}},Ue),Pe}function iS(g,s){const{mirror:u=new J,blockClass:d="rr-block",blockSelector:_=null,maskTextClass:O="rr-mask",maskTextSelector:x=null,inlineStylesheet:D=!0,inlineImages:M=!1,recordCanvas:L=!1,maskAllInputs:$=!1,maskTextFn:V,maskInputFn:re,slimDOM:ee=!1,dataURLOptions:oe,preserveWhiteSpace:X,onSerialize:G,onIframeLoad:be,iframeLoadTimeout:ye,onStylesheetLoad:ue,stylesheetLoadTimeout:we,keepIframeSrcFn:Ue=()=>!1}=s||{};return _i(g,{doc:g,mirror:u,blockClass:d,blockSelector:_,maskTextClass:O,maskTextSelector:x,skipChild:!1,inlineStylesheet:D,maskInputOptions:$===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:$===!1?{password:!0}:$,maskTextFn:V,maskInputFn:re,slimDOMOptions:ee===!0||ee==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:ee==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:ee===!1?{}:ee,dataURLOptions:oe,inlineImages:M,recordCanvas:L,preserveWhiteSpace:X,onSerialize:G,onIframeLoad:be,iframeLoadTimeout:ye,onStylesheetLoad:ue,stylesheetLoadTimeout:we,keepIframeSrcFn:Ue,newlyAddedElement:!1})}function sS(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function oS(g){if(g.__esModule)return g;var s=g.default;if(typeof s=="function"){var u=function d(){return this instanceof d?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};u.prototype=s.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(g).forEach(function(d){var _=Object.getOwnPropertyDescriptor(g,d);Object.defineProperty(u,d,_.get?_:{enumerable:!0,get:function(){return g[d]}})}),u}var iu={exports:{}},We=String,Cf=function(){return{isColorSupported:!1,reset:We,bold:We,dim:We,italic:We,underline:We,inverse:We,hidden:We,strikethrough:We,black:We,red:We,green:We,yellow:We,blue:We,magenta:We,cyan:We,white:We,gray:We,bgBlack:We,bgRed:We,bgGreen:We,bgYellow:We,bgBlue:We,bgMagenta:We,bgCyan:We,bgWhite:We}};iu.exports=Cf(),iu.exports.createColors=Cf;var aS=iu.exports;const ur=oS(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Tf=aS,Of=ur,su=class Q0 extends Error{constructor(s,u,d,_,O,x){super(s),this.name="CssSyntaxError",this.reason=s,O&&(this.file=O),_&&(this.source=_),x&&(this.plugin=x),typeof u<"u"&&typeof d<"u"&&(typeof u=="number"?(this.line=u,this.column=d):(this.line=u.line,this.column=u.column,this.endLine=d.line,this.endColumn=d.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Q0)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(s){if(!this.source)return"";let u=this.source;s==null&&(s=Tf.isColorSupported),Of&&s&&(u=Of(u));let d=u.split(/\r?\n/),_=Math.max(this.line-3,0),O=Math.min(this.line+2,d.length),x=String(O).length,D,M;if(s){let{bold:L,gray:$,red:V}=Tf.createColors(!0);D=re=>L(V(re)),M=re=>$(re)}else D=M=L=>L;return d.slice(_,O).map((L,$)=>{let V=_+1+$,re=" "+(" "+V).slice(-x)+" | ";if(V===this.line){let ee=M(re.replace(/\d/g," "))+L.slice(0,this.column-1).replace(/[^\t]/g," ");return D(">")+M(re)+L+"\n "+ee+D("^")}return" "+M(re)+L}).join("\n")}toString(){let s=this.showSourceCode();return s&&(s="\n\n"+s+"\n"),this.name+": "+this.message+s}};var ou=su;su.default=su;var ks={};ks.isClean=Symbol("isClean"),ks.my=Symbol("my");const Rf={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function lS(g){return g[0].toUpperCase()+g.slice(1)}let au=class{constructor(s){this.builder=s}atrule(s,u){let d="@"+s.name,_=s.params?this.rawValue(s,"params"):"";if(typeof s.raws.afterName<"u"?d+=s.raws.afterName:_&&(d+=" "),s.nodes)this.block(s,d+_);else{let O=(s.raws.between||"")+(u?";":"");this.builder(d+_+O,s)}}beforeAfter(s,u){let d;s.type==="decl"?d=this.raw(s,null,"beforeDecl"):s.type==="comment"?d=this.raw(s,null,"beforeComment"):u==="before"?d=this.raw(s,null,"beforeRule"):d=this.raw(s,null,"beforeClose");let _=s.parent,O=0;for(;_&&_.type!=="root";)O+=1,_=_.parent;if(d.includes("\n")){let x=this.raw(s,null,"indent");if(x.length)for(let D=0;D<O;D++)d+=x}return d}block(s,u){let d=this.raw(s,"between","beforeOpen");this.builder(u+d+"{",s,"start");let _;s.nodes&&s.nodes.length?(this.body(s),_=this.raw(s,"after")):_=this.raw(s,"after","emptyBody"),_&&this.builder(_),this.builder("}",s,"end")}body(s){let u=s.nodes.length-1;for(;u>0&&s.nodes[u].type==="comment";)u-=1;let d=this.raw(s,"semicolon");for(let _=0;_<s.nodes.length;_++){let O=s.nodes[_],x=this.raw(O,"before");x&&this.builder(x),this.stringify(O,u!==_||d)}}comment(s){let u=this.raw(s,"left","commentLeft"),d=this.raw(s,"right","commentRight");this.builder("/*"+u+s.text+d+"*/",s)}decl(s,u){let d=this.raw(s,"between","colon"),_=s.prop+d+this.rawValue(s,"value");s.important&&(_+=s.raws.important||" !important"),u&&(_+=";"),this.builder(_,s)}document(s){this.body(s)}raw(s,u,d){let _;if(d||(d=u),u&&(_=s.raws[u],typeof _<"u"))return _;let O=s.parent;if(d==="before"&&(!O||O.type==="root"&&O.first===s||O&&O.type==="document"))return"";if(!O)return Rf[d];let x=s.root();if(x.rawCache||(x.rawCache={}),typeof x.rawCache[d]<"u")return x.rawCache[d];if(d==="before"||d==="after")return this.beforeAfter(s,d);{let D="raw"+lS(d);this[D]?_=this[D](x,s):x.walk(M=>{if(_=M.raws[u],typeof _<"u")return!1})}return typeof _>"u"&&(_=Rf[d]),x.rawCache[d]=_,_}rawBeforeClose(s){let u;return s.walk(d=>{if(d.nodes&&d.nodes.length>0&&typeof d.raws.after<"u")return u=d.raws.after,u.includes("\n")&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawBeforeComment(s,u){let d;return s.walkComments(_=>{if(typeof _.raws.before<"u")return d=_.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1}),typeof d>"u"?d=this.raw(u,null,"beforeDecl"):d&&(d=d.replace(/\S/g,"")),d}rawBeforeDecl(s,u){let d;return s.walkDecls(_=>{if(typeof _.raws.before<"u")return d=_.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1}),typeof d>"u"?d=this.raw(u,null,"beforeRule"):d&&(d=d.replace(/\S/g,"")),d}rawBeforeOpen(s){let u;return s.walk(d=>{if(d.type!=="decl"&&(u=d.raws.between,typeof u<"u"))return!1}),u}rawBeforeRule(s){let u;return s.walk(d=>{if(d.nodes&&(d.parent!==s||s.first!==d)&&typeof d.raws.before<"u")return u=d.raws.before,u.includes("\n")&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawColon(s){let u;return s.walkDecls(d=>{if(typeof d.raws.between<"u")return u=d.raws.between.replace(/[^\s:]/g,""),!1}),u}rawEmptyBody(s){let u;return s.walk(d=>{if(d.nodes&&d.nodes.length===0&&(u=d.raws.after,typeof u<"u"))return!1}),u}rawIndent(s){if(s.raws.indent)return s.raws.indent;let u;return s.walk(d=>{let _=d.parent;if(_&&_!==s&&_.parent&&_.parent===s&&typeof d.raws.before<"u"){let O=d.raws.before.split("\n");return u=O[O.length-1],u=u.replace(/\S/g,""),!1}}),u}rawSemicolon(s){let u;return s.walk(d=>{if(d.nodes&&d.nodes.length&&d.last.type==="decl"&&(u=d.raws.semicolon,typeof u<"u"))return!1}),u}rawValue(s,u){let d=s[u],_=s.raws[u];return _&&_.value===d?_.raw:d}root(s){this.body(s),s.raws.after&&this.builder(s.raws.after)}rule(s){this.block(s,this.rawValue(s,"selector")),s.raws.ownSemicolon&&this.builder(s.raws.ownSemicolon,s,"end")}stringify(s,u){if(!this[s.type])throw new Error("Unknown AST node type "+s.type+". Maybe you need to change PostCSS stringifier.");this[s.type](s,u)}};var kf=au;au.default=au;let uS=kf;function lu(g,s){new uS(s).stringify(g)}var ta=lu;lu.default=lu;let{isClean:ra,my:cS}=ks,hS=ou,dS=kf,fS=ta;function uu(g,s){let u=new g.constructor;for(let d in g){if(!Object.prototype.hasOwnProperty.call(g,d)||d==="proxyCache")continue;let _=g[d],O=typeof _;d==="parent"&&O==="object"?s&&(u[d]=s):d==="source"?u[d]=_:Array.isArray(_)?u[d]=_.map(x=>uu(x,u)):(O==="object"&&_!==null&&(_=uu(_)),u[d]=_)}return u}let cu=class{constructor(s={}){this.raws={},this[ra]=!1,this[cS]=!0;for(let u in s)if(u==="nodes"){this.nodes=[];for(let d of s[u])typeof d.clone=="function"?this.append(d.clone()):this.append(d)}else this[u]=s[u]}addToError(s){if(s.postcssNode=this,s.stack&&this.source&&/\n\s{4}at /.test(s.stack)){let u=this.source;s.stack=s.stack.replace(/\n\s{4}at /,"$&".concat(u.input.from,":").concat(u.start.line,":").concat(u.start.column,"$&"))}return s}after(s){return this.parent.insertAfter(this,s),this}assign(s={}){for(let u in s)this[u]=s[u];return this}before(s){return this.parent.insertBefore(this,s),this}cleanRaws(s){delete this.raws.before,delete this.raws.after,s||delete this.raws.between}clone(s={}){let u=uu(this);for(let d in s)u[d]=s[d];return u}cloneAfter(s={}){let u=this.clone(s);return this.parent.insertAfter(this,u),u}cloneBefore(s={}){let u=this.clone(s);return this.parent.insertBefore(this,u),u}error(s,u={}){if(this.source){let{end:d,start:_}=this.rangeBy(u);return this.source.input.error(s,{column:_.column,line:_.line},{column:d.column,line:d.line},u)}return new hS(s)}getProxyProcessor(){return{get(s,u){return u==="proxyOf"?s:u==="root"?()=>s.root().toProxy():s[u]},set(s,u,d){return s[u]===d||(s[u]=d,(u==="prop"||u==="value"||u==="name"||u==="params"||u==="important"||u==="text")&&s.markDirty()),!0}}}markDirty(){if(this[ra]){this[ra]=!1;let s=this;for(;s=s.parent;)s[ra]=!1}}next(){if(!this.parent)return;let s=this.parent.index(this);return this.parent.nodes[s+1]}positionBy(s,u){let d=this.source.start;if(s.index)d=this.positionInside(s.index,u);else if(s.word){u=this.toString();let _=u.indexOf(s.word);_!==-1&&(d=this.positionInside(_,u))}return d}positionInside(s,u){let d=u||this.toString(),_=this.source.start.column,O=this.source.start.line;for(let x=0;x<s;x++)d[x]==="\n"?(_=1,O+=1):_+=1;return{column:_,line:O}}prev(){if(!this.parent)return;let s=this.parent.index(this);return this.parent.nodes[s-1]}rangeBy(s){let u={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:u.column+1,line:u.line};if(s.word){let _=this.toString(),O=_.indexOf(s.word);O!==-1&&(u=this.positionInside(O,_),d=this.positionInside(O+s.word.length,_))}else s.start?u={column:s.start.column,line:s.start.line}:s.index&&(u=this.positionInside(s.index)),s.end?d={column:s.end.column,line:s.end.line}:typeof s.endIndex=="number"?d=this.positionInside(s.endIndex):s.index&&(d=this.positionInside(s.index+1));return(d.line<u.line||d.line===u.line&&d.column<=u.column)&&(d={column:u.column+1,line:u.line}),{end:d,start:u}}raw(s,u){return new dS().raw(this,s,u)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...s){if(this.parent){let u=this,d=!1;for(let _ of s)_===this?d=!0:d?(this.parent.insertAfter(u,_),u=_):this.parent.insertBefore(u,_);d||this.remove()}return this}root(){let s=this;for(;s.parent&&s.parent.type!=="document";)s=s.parent;return s}toJSON(s,u){let d={},_=u==null;u=u||new Map;let O=0;for(let x in this){if(!Object.prototype.hasOwnProperty.call(this,x)||x==="parent"||x==="proxyCache")continue;let D=this[x];if(Array.isArray(D))d[x]=D.map(M=>typeof M=="object"&&M.toJSON?M.toJSON(null,u):M);else if(typeof D=="object"&&D.toJSON)d[x]=D.toJSON(null,u);else if(x==="source"){let M=u.get(D.input);M==null&&(M=O,u.set(D.input,O),O++),d[x]={end:D.end,inputId:M,start:D.start}}else d[x]=D}return _&&(d.inputs=[...u.keys()].map(x=>x.toJSON())),d}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(s=fS){s.stringify&&(s=s.stringify);let u="";return s(this,d=>{u+=d}),u}warn(s,u,d){let _={node:this};for(let O in d)_[O]=d[O];return s.warn(u,_)}get proxyOf(){return this}};var na=cu;cu.default=cu;let pS=na,hu=class extends pS{constructor(s){s&&typeof s.value<"u"&&typeof s.value!="string"&&(s={...s,value:String(s.value)}),super(s),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var ia=hu;hu.default=hu;let gS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var mS={nanoid:(g=21)=>{let s="",u=g;for(;u--;)s+=gS[Math.random()*64|0];return s}};let{SourceMapConsumer:xf,SourceMapGenerator:Af}=ur,{existsSync:_S,readFileSync:yS}=ur,{dirname:du,join:vS}=ur;function bS(g){return Buffer?Buffer.from(g,"base64").toString():window.atob(g)}let fu=class{constructor(s,u){if(u.map===!1)return;this.loadAnnotation(s),this.inline=this.startWith(this.annotation,"data:");let d=u.map?u.map.prev:void 0,_=this.loadMap(u.from,d);!this.mapFile&&u.from&&(this.mapFile=u.from),this.mapFile&&(this.root=du(this.mapFile)),_&&(this.text=_)}consumer(){return this.consumerCache||(this.consumerCache=new xf(this.text)),this.consumerCache}decodeInline(s){let u=/^data:application\/json;charset=utf-?8;base64,/,d=/^data:application\/json;base64,/,_=/^data:application\/json;charset=utf-?8,/,O=/^data:application\/json,/;if(_.test(s)||O.test(s))return decodeURIComponent(s.substr(RegExp.lastMatch.length));if(u.test(s)||d.test(s))return bS(s.substr(RegExp.lastMatch.length));let x=s.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+x)}getAnnotationURL(s){return s.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(s){return typeof s!="object"?!1:typeof s.mappings=="string"||typeof s._mappings=="string"||Array.isArray(s.sections)}loadAnnotation(s){let u=s.match(/\/\*\s*# sourceMappingURL=/gm);if(!u)return;let d=s.lastIndexOf(u.pop()),_=s.indexOf("*/",d);d>-1&&_>-1&&(this.annotation=this.getAnnotationURL(s.substring(d,_)))}loadFile(s){if(this.root=du(s),_S(s))return this.mapFile=s,yS(s,"utf-8").toString().trim()}loadMap(s,u){if(u===!1)return!1;if(u){if(typeof u=="string")return u;if(typeof u=="function"){let d=u(s);if(d){let _=this.loadFile(d);if(!_)throw new Error("Unable to load previous source map: "+d.toString());return _}}else{if(u instanceof xf)return Af.fromSourceMap(u).toString();if(u instanceof Af)return u.toString();if(this.isMap(u))return JSON.stringify(u);throw new Error("Unsupported previous source map format: "+u.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let d=this.annotation;return s&&(d=vS(du(s),d)),this.loadFile(d)}}}startWith(s,u){return s?s.substr(0,u.length)===u:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var If=fu;fu.default=fu;let{SourceMapConsumer:wS,SourceMapGenerator:SS}=ur,{fileURLToPath:Mf,pathToFileURL:sa}=ur,{isAbsolute:pu,resolve:gu}=ur,{nanoid:ES}=mS,mu=ur,Pf=ou,CS=If,_u=Symbol("fromOffsetCache"),TS=!!(wS&&SS),Df=!!(gu&&pu),oa=class{constructor(s,u={}){if(s===null||typeof s>"u"||typeof s=="object"&&!s.toString)throw new Error("PostCSS received ".concat(s," instead of CSS string"));if(this.css=s.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,u.from&&(!Df||/^\w+:\/\//.test(u.from)||pu(u.from)?this.file=u.from:this.file=gu(u.from)),Df&&TS){let d=new CS(this.css,u);if(d.text){this.map=d;let _=d.consumer().file;!this.file&&_&&(this.file=this.mapResolve(_))}}this.file||(this.id="<input css "+ES(6)+">"),this.map&&(this.map.file=this.from)}error(s,u,d,_={}){let O,x,D;if(u&&typeof u=="object"){let L=u,$=d;if(typeof L.offset=="number"){let V=this.fromOffset(L.offset);u=V.line,d=V.col}else u=L.line,d=L.column;if(typeof $.offset=="number"){let V=this.fromOffset($.offset);x=V.line,D=V.col}else x=$.line,D=$.column}else if(!d){let L=this.fromOffset(u);u=L.line,d=L.col}let M=this.origin(u,d,x,D);return M?O=new Pf(s,M.endLine===void 0?M.line:{column:M.column,line:M.line},M.endLine===void 0?M.column:{column:M.endColumn,line:M.endLine},M.source,M.file,_.plugin):O=new Pf(s,x===void 0?u:{column:d,line:u},x===void 0?d:{column:D,line:x},this.css,this.file,_.plugin),O.input={column:d,endColumn:D,endLine:x,line:u,source:this.css},this.file&&(sa&&(O.input.url=sa(this.file).toString()),O.input.file=this.file),O}fromOffset(s){let u,d;if(this[_u])d=this[_u];else{let O=this.css.split("\n");d=new Array(O.length);let x=0;for(let D=0,M=O.length;D<M;D++)d[D]=x,x+=O[D].length+1;this[_u]=d}u=d[d.length-1];let _=0;if(s>=u)_=d.length-1;else{let O=d.length-2,x;for(;_<O;)if(x=_+(O-_>>1),s<d[x])O=x-1;else if(s>=d[x+1])_=x+1;else{_=x;break}}return{col:s-d[_]+1,line:_+1}}mapResolve(s){return/^\w+:\/\//.test(s)?s:gu(this.map.consumer().sourceRoot||this.map.root||".",s)}origin(s,u,d,_){if(!this.map)return!1;let O=this.map.consumer(),x=O.originalPositionFor({column:u,line:s});if(!x.source)return!1;let D;typeof d=="number"&&(D=O.originalPositionFor({column:_,line:d}));let M;pu(x.source)?M=sa(x.source):M=new URL(x.source,this.map.consumer().sourceRoot||sa(this.map.mapFile));let L={column:x.column,endColumn:D&&D.column,endLine:D&&D.line,line:x.line,url:M.toString()};if(M.protocol==="file:")if(Mf)L.file=Mf(M);else throw new Error("file: protocol is not available in this PostCSS build");let $=O.sourceContentFor(x.source);return $&&(L.source=$),L}toJSON(){let s={};for(let u of["hasBOM","css","file","id"])this[u]!=null&&(s[u]=this[u]);return this.map&&(s.map={...this.map},s.map.consumerCache&&(s.map.consumerCache=void 0)),s}get from(){return this.file||this.id}};var aa=oa;oa.default=oa,mu&&mu.registerInput&&mu.registerInput(oa);let{SourceMapConsumer:Lf,SourceMapGenerator:la}=ur,{dirname:ua,relative:Nf,resolve:Uf,sep:jf}=ur,{pathToFileURL:$f}=ur,OS=aa,RS=!!(Lf&&la),kS=!!(ua&&Uf&&Nf&&jf);var Ff=class{constructor(s,u,d,_){this.stringify=s,this.mapOpts=d.map||{},this.root=u,this.opts=d,this.css=_,this.originalCSS=_,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let s;this.isInline()?s="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?s=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?s=this.mapOpts.annotation(this.opts.to,this.root):s=this.outputFile()+".map";let u="\n";this.css.includes("\r\n")&&(u="\r\n"),this.css+=u+"/*# sourceMappingURL="+s+" */"}applyPrevMaps(){for(let s of this.previous()){let u=this.toUrl(this.path(s.file)),d=s.root||ua(s.file),_;this.mapOpts.sourcesContent===!1?(_=new Lf(s.text),_.sourcesContent&&(_.sourcesContent=null)):_=s.consumer(),this.map.applySourceMap(_,u,this.toUrl(this.path(d)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let s;for(let u=this.root.nodes.length-1;u>=0;u--)s=this.root.nodes[u],s.type==="comment"&&s.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(u)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),kS&&RS&&this.isMap())return this.generateMap();{let s="";return this.stringify(this.root,u=>{s+=u}),[s]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let s=this.previous()[0].consumer();s.file=this.outputFile(),this.map=la.fromSourceMap(s,{ignoreInvalidMapping:!0})}else this.map=new la({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new la({file:this.outputFile(),ignoreInvalidMapping:!0});let s=1,u=1,d="<no source>",_={generated:{column:0,line:0},original:{column:0,line:0},source:""},O,x;this.stringify(this.root,(D,M,L)=>{if(this.css+=D,M&&L!=="end"&&(_.generated.line=s,_.generated.column=u-1,M.source&&M.source.start?(_.source=this.sourcePath(M),_.original.line=M.source.start.line,_.original.column=M.source.start.column-1,this.map.addMapping(_)):(_.source=d,_.original.line=1,_.original.column=0,this.map.addMapping(_))),O=D.match(/\n/g),O?(s+=O.length,x=D.lastIndexOf("\n"),u=D.length-x):u+=D.length,M&&L!=="start"){let $=M.parent||{raws:{}};(!(M.type==="decl"||M.type==="atrule"&&!M.nodes)||M!==$.last||$.raws.semicolon)&&(M.source&&M.source.end?(_.source=this.sourcePath(M),_.original.line=M.source.end.line,_.original.column=M.source.end.column-1,_.generated.line=s,_.generated.column=u-2,this.map.addMapping(_)):(_.source=d,_.original.line=1,_.original.column=0,_.generated.line=s,_.generated.column=u-1,this.map.addMapping(_)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(s=>s.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let s=this.mapOpts.annotation;return typeof s<"u"&&s!==!0?!1:this.previous().length?this.previous().some(u=>u.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(s=>s.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(s){if(this.mapOpts.absolute||s.charCodeAt(0)===60||/^\w+:\/\//.test(s))return s;let u=this.memoizedPaths.get(s);if(u)return u;let d=this.opts.to?ua(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(d=ua(Uf(d,this.mapOpts.annotation)));let _=Nf(d,s);return this.memoizedPaths.set(s,_),_}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(s=>{if(s.source&&s.source.input.map){let u=s.source.input.map;this.previousMaps.includes(u)||this.previousMaps.push(u)}});else{let s=new OS(this.originalCSS,this.opts);s.map&&this.previousMaps.push(s.map)}return this.previousMaps}setSourcesContent(){let s={};if(this.root)this.root.walk(u=>{if(u.source){let d=u.source.input.from;if(d&&!s[d]){s[d]=!0;let _=this.usesFileUrls?this.toFileUrl(d):this.toUrl(this.path(d));this.map.setSourceContent(_,u.source.input.css)}}});else if(this.css){let u=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(u,this.css)}}sourcePath(s){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(s.source.input.from):this.toUrl(this.path(s.source.input.from))}toBase64(s){return Buffer?Buffer.from(s).toString("base64"):window.btoa(unescape(encodeURIComponent(s)))}toFileUrl(s){let u=this.memoizedFileURLs.get(s);if(u)return u;if($f){let d=$f(s).toString();return this.memoizedFileURLs.set(s,d),d}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(s){let u=this.memoizedURLs.get(s);if(u)return u;jf==="\\"&&(s=s.replace(/\\/g,"/"));let d=encodeURI(s).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(s,d),d}};let xS=na,yu=class extends xS{constructor(s){super(s),this.type="comment"}};var ca=yu;yu.default=yu;let{isClean:Bf,my:zf}=ks,Wf=ia,qf=ca,AS=na,Vf,vu,bu,Gf;function Hf(g){return g.map(s=>(s.nodes&&(s.nodes=Hf(s.nodes)),delete s.source,s))}function Kf(g){if(g[Bf]=!1,g.proxyOf.nodes)for(let s of g.proxyOf.nodes)Kf(s)}let Dr=class eb extends AS{append(...s){for(let u of s){let d=this.normalize(u,this.last);for(let _ of d)this.proxyOf.nodes.push(_)}return this.markDirty(),this}cleanRaws(s){if(super.cleanRaws(s),this.nodes)for(let u of this.nodes)u.cleanRaws(s)}each(s){if(!this.proxyOf.nodes)return;let u=this.getIterator(),d,_;for(;this.indexes[u]<this.proxyOf.nodes.length&&(d=this.indexes[u],_=s(this.proxyOf.nodes[d],d),_!==!1);)this.indexes[u]+=1;return delete this.indexes[u],_}every(s){return this.nodes.every(s)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let s=this.lastEach;return this.indexes[s]=0,s}getProxyProcessor(){return{get(s,u){return u==="proxyOf"?s:s[u]?u==="each"||typeof u=="string"&&u.startsWith("walk")?(...d)=>s[u](...d.map(_=>typeof _=="function"?(O,x)=>_(O.toProxy(),x):_)):u==="every"||u==="some"?d=>s[u]((_,...O)=>d(_.toProxy(),...O)):u==="root"?()=>s.root().toProxy():u==="nodes"?s.nodes.map(d=>d.toProxy()):u==="first"||u==="last"?s[u].toProxy():s[u]:s[u]},set(s,u,d){return s[u]===d||(s[u]=d,(u==="name"||u==="params"||u==="selector")&&s.markDirty()),!0}}}index(s){return typeof s=="number"?s:(s.proxyOf&&(s=s.proxyOf),this.proxyOf.nodes.indexOf(s))}insertAfter(s,u){let d=this.index(s),_=this.normalize(u,this.proxyOf.nodes[d]).reverse();d=this.index(s);for(let x of _)this.proxyOf.nodes.splice(d+1,0,x);let O;for(let x in this.indexes)O=this.indexes[x],d<O&&(this.indexes[x]=O+_.length);return this.markDirty(),this}insertBefore(s,u){let d=this.index(s),_=d===0?"prepend":!1,O=this.normalize(u,this.proxyOf.nodes[d],_).reverse();d=this.index(s);for(let D of O)this.proxyOf.nodes.splice(d,0,D);let x;for(let D in this.indexes)x=this.indexes[D],d<=x&&(this.indexes[D]=x+O.length);return this.markDirty(),this}normalize(s,u){if(typeof s=="string")s=Hf(Vf(s).nodes);else if(typeof s>"u")s=[];else if(Array.isArray(s)){s=s.slice(0);for(let _ of s)_.parent&&_.parent.removeChild(_,"ignore")}else if(s.type==="root"&&this.type!=="document"){s=s.nodes.slice(0);for(let _ of s)_.parent&&_.parent.removeChild(_,"ignore")}else if(s.type)s=[s];else if(s.prop){if(typeof s.value>"u")throw new Error("Value field is missed in node creation");typeof s.value!="string"&&(s.value=String(s.value)),s=[new Wf(s)]}else if(s.selector)s=[new vu(s)];else if(s.name)s=[new bu(s)];else if(s.text)s=[new qf(s)];else throw new Error("Unknown node type in node creation");return s.map(_=>(_[zf]||eb.rebuild(_),_=_.proxyOf,_.parent&&_.parent.removeChild(_),_[Bf]&&Kf(_),typeof _.raws.before>"u"&&u&&typeof u.raws.before<"u"&&(_.raws.before=u.raws.before.replace(/\S/g,"")),_.parent=this.proxyOf,_))}prepend(...s){s=s.reverse();for(let u of s){let d=this.normalize(u,this.first,"prepend").reverse();for(let _ of d)this.proxyOf.nodes.unshift(_);for(let _ in this.indexes)this.indexes[_]=this.indexes[_]+d.length}return this.markDirty(),this}push(s){return s.parent=this,this.proxyOf.nodes.push(s),this}removeAll(){for(let s of this.proxyOf.nodes)s.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(s){s=this.index(s),this.proxyOf.nodes[s].parent=void 0,this.proxyOf.nodes.splice(s,1);let u;for(let d in this.indexes)u=this.indexes[d],u>=s&&(this.indexes[d]=u-1);return this.markDirty(),this}replaceValues(s,u,d){return d||(d=u,u={}),this.walkDecls(_=>{u.props&&!u.props.includes(_.prop)||u.fast&&!_.value.includes(u.fast)||(_.value=_.value.replace(s,d))}),this.markDirty(),this}some(s){return this.nodes.some(s)}walk(s){return this.each((u,d)=>{let _;try{_=s(u,d)}catch(O){throw u.addToError(O)}return _!==!1&&u.walk&&(_=u.walk(s)),_})}walkAtRules(s,u){return u?s instanceof RegExp?this.walk((d,_)=>{if(d.type==="atrule"&&s.test(d.name))return u(d,_)}):this.walk((d,_)=>{if(d.type==="atrule"&&d.name===s)return u(d,_)}):(u=s,this.walk((d,_)=>{if(d.type==="atrule")return u(d,_)}))}walkComments(s){return this.walk((u,d)=>{if(u.type==="comment")return s(u,d)})}walkDecls(s,u){return u?s instanceof RegExp?this.walk((d,_)=>{if(d.type==="decl"&&s.test(d.prop))return u(d,_)}):this.walk((d,_)=>{if(d.type==="decl"&&d.prop===s)return u(d,_)}):(u=s,this.walk((d,_)=>{if(d.type==="decl")return u(d,_)}))}walkRules(s,u){return u?s instanceof RegExp?this.walk((d,_)=>{if(d.type==="rule"&&s.test(d.selector))return u(d,_)}):this.walk((d,_)=>{if(d.type==="rule"&&d.selector===s)return u(d,_)}):(u=s,this.walk((d,_)=>{if(d.type==="rule")return u(d,_)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Dr.registerParse=g=>{Vf=g},Dr.registerRule=g=>{vu=g},Dr.registerAtRule=g=>{bu=g},Dr.registerRoot=g=>{Gf=g};var Sn=Dr;Dr.default=Dr,Dr.rebuild=g=>{g.type==="atrule"?Object.setPrototypeOf(g,bu.prototype):g.type==="rule"?Object.setPrototypeOf(g,vu.prototype):g.type==="decl"?Object.setPrototypeOf(g,Wf.prototype):g.type==="comment"?Object.setPrototypeOf(g,qf.prototype):g.type==="root"&&Object.setPrototypeOf(g,Gf.prototype),g[zf]=!0,g.nodes&&g.nodes.forEach(s=>{Dr.rebuild(s)})};let IS=Sn,Xf,Yf,xs=class extends IS{constructor(s){super({type:"document",...s}),this.nodes||(this.nodes=[])}toResult(s={}){return new Xf(new Yf,this,s).stringify()}};xs.registerLazyResult=g=>{Xf=g},xs.registerProcessor=g=>{Yf=g};var wu=xs;xs.default=xs;let Su=class{constructor(s,u={}){if(this.type="warning",this.text=s,u.node&&u.node.source){let d=u.node.rangeBy(u);this.line=d.start.line,this.column=d.start.column,this.endLine=d.end.line,this.endColumn=d.end.column}for(let d in u)this[d]=u[d]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Jf=Su;Su.default=Su;let MS=Jf,Eu=class{constructor(s,u,d){this.processor=s,this.messages=[],this.root=u,this.opts=d,this.css=void 0,this.map=void 0}toString(){return this.css}warn(s,u={}){u.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(u.plugin=this.lastPlugin.postcssPlugin);let d=new MS(s,u);return this.messages.push(d),d}warnings(){return this.messages.filter(s=>s.type==="warning")}get content(){return this.css}};var Cu=Eu;Eu.default=Eu;const Tu=39,Zf=34,ha=92,Qf=47,da=10,As=32,fa=12,pa=9,ga=13,PS=91,DS=93,LS=40,NS=41,US=123,jS=125,$S=59,FS=42,BS=58,zS=64,ma=/[\t\n\f\r "#'()/;[\\\]{}]/g,_a=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,WS=/.[\r\n"'(/\\]/,ep=/[\da-f]/i;var qS=function(s,u={}){let d=s.css.valueOf(),_=u.ignoreErrors,O,x,D,M,L,$,V,re,ee,oe,X=d.length,G=0,be=[],ye=[];function ue(){return G}function we(Me){throw s.error("Unclosed "+Me,G)}function Ue(){return ye.length===0&&G>=X}function Ve(Me){if(ye.length)return ye.pop();if(G>=X)return;let yt=Me?Me.ignoreUnclosed:!1;switch(O=d.charCodeAt(G),O){case da:case As:case pa:case ga:case fa:{x=G;do x+=1,O=d.charCodeAt(x);while(O===As||O===da||O===pa||O===ga||O===fa);oe=["space",d.slice(G,x)],G=x-1;break}case PS:case DS:case US:case jS:case BS:case $S:case NS:{let vt=String.fromCharCode(O);oe=[vt,vt,G];break}case LS:{if(re=be.length?be.pop()[1]:"",ee=d.charCodeAt(G+1),re==="url"&&ee!==Tu&&ee!==Zf&&ee!==As&&ee!==da&&ee!==pa&&ee!==fa&&ee!==ga){x=G;do{if($=!1,x=d.indexOf(")",x+1),x===-1)if(_||yt){x=G;break}else we("bracket");for(V=x;d.charCodeAt(V-1)===ha;)V-=1,$=!$}while($);oe=["brackets",d.slice(G,x+1),G,x],G=x}else x=d.indexOf(")",G+1),M=d.slice(G,x+1),x===-1||WS.test(M)?oe=["(","(",G]:(oe=["brackets",M,G,x],G=x);break}case Tu:case Zf:{D=O===Tu?"'":'"',x=G;do{if($=!1,x=d.indexOf(D,x+1),x===-1)if(_||yt){x=G+1;break}else we("string");for(V=x;d.charCodeAt(V-1)===ha;)V-=1,$=!$}while($);oe=["string",d.slice(G,x+1),G,x],G=x;break}case zS:{ma.lastIndex=G+1,ma.test(d),ma.lastIndex===0?x=d.length-1:x=ma.lastIndex-2,oe=["at-word",d.slice(G,x+1),G,x],G=x;break}case ha:{for(x=G,L=!0;d.charCodeAt(x+1)===ha;)x+=1,L=!L;if(O=d.charCodeAt(x+1),L&&O!==Qf&&O!==As&&O!==da&&O!==pa&&O!==ga&&O!==fa&&(x+=1,ep.test(d.charAt(x)))){for(;ep.test(d.charAt(x+1));)x+=1;d.charCodeAt(x+1)===As&&(x+=1)}oe=["word",d.slice(G,x+1),G,x],G=x;break}default:{O===Qf&&d.charCodeAt(G+1)===FS?(x=d.indexOf("*/",G+2)+1,x===0&&(_||yt?x=d.length:we("comment")),oe=["comment",d.slice(G,x+1),G,x],G=x):(_a.lastIndex=G+1,_a.test(d),_a.lastIndex===0?x=d.length-1:x=_a.lastIndex-2,oe=["word",d.slice(G,x+1),G,x],be.push(oe),G=x);break}}return G++,oe}function _t(Me){ye.push(Me)}return{back:_t,endOfFile:Ue,nextToken:Ve,position:ue}};let tp=Sn,ya=class extends tp{constructor(s){super(s),this.type="atrule"}append(...s){return this.proxyOf.nodes||(this.nodes=[]),super.append(...s)}prepend(...s){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...s)}};var Ou=ya;ya.default=ya,tp.registerAtRule(ya);let rp=Sn,np,ip,yi=class extends rp{constructor(s){super(s),this.type="root",this.nodes||(this.nodes=[])}normalize(s,u,d){let _=super.normalize(s);if(u){if(d==="prepend")this.nodes.length>1?u.raws.before=this.nodes[1].raws.before:delete u.raws.before;else if(this.first!==u)for(let O of _)O.raws.before=u.raws.before}return _}removeChild(s,u){let d=this.index(s);return!u&&d===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[d].raws.before),super.removeChild(s)}toResult(s={}){return new np(new ip,this,s).stringify()}};yi.registerLazyResult=g=>{np=g},yi.registerProcessor=g=>{ip=g};var Is=yi;yi.default=yi,rp.registerRoot(yi);let Ms={comma(g){return Ms.split(g,[","],!0)},space(g){let s=[" ","\n","	"];return Ms.split(g,s)},split(g,s,u){let d=[],_="",O=!1,x=0,D=!1,M="",L=!1;for(let $ of g)L?L=!1:$==="\\"?L=!0:D?$===M&&(D=!1):$==='"'||$==="'"?(D=!0,M=$):$==="("?x+=1:$===")"?x>0&&(x-=1):x===0&&s.includes($)&&(O=!0),O?(_!==""&&d.push(_.trim()),_="",O=!1):_+=$;return(u||_!=="")&&d.push(_.trim()),d}};var sp=Ms;Ms.default=Ms;let op=Sn,VS=sp,va=class extends op{constructor(s){super(s),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return VS.comma(this.selector)}set selectors(s){let u=this.selector?this.selector.match(/,\s*/):null,d=u?u[0]:","+this.raw("between","beforeOpen");this.selector=s.join(d)}};var Ru=va;va.default=va,op.registerRule(va);let GS=ia,HS=qS,KS=ca,XS=Ou,YS=Is,ap=Ru;const lp={empty:!0,space:!0};function JS(g){for(let s=g.length-1;s>=0;s--){let u=g[s],d=u[3]||u[2];if(d)return d}}var ZS=class{constructor(s){this.input=s,this.root=new YS,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:s,start:{column:1,line:1,offset:0}}}atrule(s){let u=new XS;u.name=s[1].slice(1),u.name===""&&this.unnamedAtrule(u,s),this.init(u,s[2]);let d,_,O,x=!1,D=!1,M=[],L=[];for(;!this.tokenizer.endOfFile();){if(s=this.tokenizer.nextToken(),d=s[0],d==="("||d==="["?L.push(d==="("?")":"]"):d==="{"&&L.length>0?L.push("}"):d===L[L.length-1]&&L.pop(),L.length===0)if(d===";"){u.source.end=this.getPosition(s[2]),u.source.end.offset++,this.semicolon=!0;break}else if(d==="{"){D=!0;break}else if(d==="}"){if(M.length>0){for(O=M.length-1,_=M[O];_&&_[0]==="space";)_=M[--O];_&&(u.source.end=this.getPosition(_[3]||_[2]),u.source.end.offset++)}this.end(s);break}else M.push(s);else M.push(s);if(this.tokenizer.endOfFile()){x=!0;break}}u.raws.between=this.spacesAndCommentsFromEnd(M),M.length?(u.raws.afterName=this.spacesAndCommentsFromStart(M),this.raw(u,"params",M),x&&(s=M[M.length-1],u.source.end=this.getPosition(s[3]||s[2]),u.source.end.offset++,this.spaces=u.raws.between,u.raws.between="")):(u.raws.afterName="",u.params=""),D&&(u.nodes=[],this.current=u)}checkMissedSemicolon(s){let u=this.colon(s);if(u===!1)return;let d=0,_;for(let O=u-1;O>=0&&(_=s[O],!(_[0]!=="space"&&(d+=1,d===2)));O--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}colon(s){let u=0,d,_,O;for(let[x,D]of s.entries()){if(d=D,_=d[0],_==="("&&(u+=1),_===")"&&(u-=1),u===0&&_===":")if(!O)this.doubleColon(d);else{if(O[0]==="word"&&O[1]==="progid")continue;return x}O=d}return!1}comment(s){let u=new KS;this.init(u,s[2]),u.source.end=this.getPosition(s[3]||s[2]),u.source.end.offset++;let d=s[1].slice(2,-2);if(/^\s*$/.test(d))u.text="",u.raws.left=d,u.raws.right="";else{let _=d.match(/^(\s*)([^]*\S)(\s*)$/);u.text=_[2],u.raws.left=_[1],u.raws.right=_[3]}}createTokenizer(){this.tokenizer=HS(this.input)}decl(s,u){let d=new GS;this.init(d,s[0][2]);let _=s[s.length-1];for(_[0]===";"&&(this.semicolon=!0,s.pop()),d.source.end=this.getPosition(_[3]||_[2]||JS(s)),d.source.end.offset++;s[0][0]!=="word";)s.length===1&&this.unknownWord(s),d.raws.before+=s.shift()[1];for(d.source.start=this.getPosition(s[0][2]),d.prop="";s.length;){let L=s[0][0];if(L===":"||L==="space"||L==="comment")break;d.prop+=s.shift()[1]}d.raws.between="";let O;for(;s.length;)if(O=s.shift(),O[0]===":"){d.raws.between+=O[1];break}else O[0]==="word"&&/\w/.test(O[1])&&this.unknownWord([O]),d.raws.between+=O[1];(d.prop[0]==="_"||d.prop[0]==="*")&&(d.raws.before+=d.prop[0],d.prop=d.prop.slice(1));let x=[],D;for(;s.length&&(D=s[0][0],!(D!=="space"&&D!=="comment"));)x.push(s.shift());this.precheckMissedSemicolon(s);for(let L=s.length-1;L>=0;L--){if(O=s[L],O[1].toLowerCase()==="!important"){d.important=!0;let $=this.stringFrom(s,L);$=this.spacesFromEnd(s)+$,$!==" !important"&&(d.raws.important=$);break}else if(O[1].toLowerCase()==="important"){let $=s.slice(0),V="";for(let re=L;re>0;re--){let ee=$[re][0];if(V.trim().indexOf("!")===0&&ee!=="space")break;V=$.pop()[1]+V}V.trim().indexOf("!")===0&&(d.important=!0,d.raws.important=V,s=$)}if(O[0]!=="space"&&O[0]!=="comment")break}s.some(L=>L[0]!=="space"&&L[0]!=="comment")&&(d.raws.between+=x.map(L=>L[1]).join(""),x=[]),this.raw(d,"value",x.concat(s),u),d.value.includes(":")&&!u&&this.checkMissedSemicolon(s)}doubleColon(s){throw this.input.error("Double colon",{offset:s[2]},{offset:s[2]+s[1].length})}emptyRule(s){let u=new ap;this.init(u,s[2]),u.selector="",u.raws.between="",this.current=u}end(s){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(s[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(s)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(s){if(this.spaces+=s[1],this.current.nodes){let u=this.current.nodes[this.current.nodes.length-1];u&&u.type==="rule"&&!u.raws.ownSemicolon&&(u.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(s){let u=this.input.fromOffset(s);return{column:u.col,line:u.line,offset:s}}init(s,u){this.current.push(s),s.source={input:this.input,start:this.getPosition(u)},s.raws.before=this.spaces,this.spaces="",s.type!=="comment"&&(this.semicolon=!1)}other(s){let u=!1,d=null,_=!1,O=null,x=[],D=s[1].startsWith("--"),M=[],L=s;for(;L;){if(d=L[0],M.push(L),d==="("||d==="[")O||(O=L),x.push(d==="("?")":"]");else if(D&&_&&d==="{")O||(O=L),x.push("}");else if(x.length===0)if(d===";")if(_){this.decl(M,D);return}else break;else if(d==="{"){this.rule(M);return}else if(d==="}"){this.tokenizer.back(M.pop()),u=!0;break}else d===":"&&(_=!0);else d===x[x.length-1]&&(x.pop(),x.length===0&&(O=null));L=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(u=!0),x.length>0&&this.unclosedBracket(O),u&&_){if(!D)for(;M.length&&(L=M[M.length-1][0],!(L!=="space"&&L!=="comment"));)this.tokenizer.back(M.pop());this.decl(M,D)}else this.unknownWord(M)}parse(){let s;for(;!this.tokenizer.endOfFile();)switch(s=this.tokenizer.nextToken(),s[0]){case"space":this.spaces+=s[1];break;case";":this.freeSemicolon(s);break;case"}":this.end(s);break;case"comment":this.comment(s);break;case"at-word":this.atrule(s);break;case"{":this.emptyRule(s);break;default:this.other(s);break}this.endFile()}precheckMissedSemicolon(){}raw(s,u,d,_){let O,x,D=d.length,M="",L=!0,$,V;for(let re=0;re<D;re+=1)O=d[re],x=O[0],x==="space"&&re===D-1&&!_?L=!1:x==="comment"?(V=d[re-1]?d[re-1][0]:"empty",$=d[re+1]?d[re+1][0]:"empty",!lp[V]&&!lp[$]?M.slice(-1)===","?L=!1:M+=O[1]:L=!1):M+=O[1];if(!L){let re=d.reduce((ee,oe)=>ee+oe[1],"");s.raws[u]={raw:re,value:M}}s[u]=M}rule(s){s.pop();let u=new ap;this.init(u,s[0][2]),u.raws.between=this.spacesAndCommentsFromEnd(s),this.raw(u,"selector",s),this.current=u}spacesAndCommentsFromEnd(s){let u,d="";for(;s.length&&(u=s[s.length-1][0],!(u!=="space"&&u!=="comment"));)d=s.pop()[1]+d;return d}spacesAndCommentsFromStart(s){let u,d="";for(;s.length&&(u=s[0][0],!(u!=="space"&&u!=="comment"));)d+=s.shift()[1];return d}spacesFromEnd(s){let u,d="";for(;s.length&&(u=s[s.length-1][0],u==="space");)d=s.pop()[1]+d;return d}stringFrom(s,u){let d="";for(let _=u;_<s.length;_++)d+=s[_][1];return s.splice(u,s.length-u),d}unclosedBlock(){let s=this.current.source.start;throw this.input.error("Unclosed block",s.line,s.column)}unclosedBracket(s){throw this.input.error("Unclosed bracket",{offset:s[2]},{offset:s[2]+1})}unexpectedClose(s){throw this.input.error("Unexpected }",{offset:s[2]},{offset:s[2]+1})}unknownWord(s){throw this.input.error("Unknown word",{offset:s[0][2]},{offset:s[0][2]+s[0][1].length})}unnamedAtrule(s,u){throw this.input.error("At-rule without name",{offset:u[2]},{offset:u[2]+u[1].length})}};let QS=Sn,e1=ZS,t1=aa;function ba(g,s){let u=new t1(g,s),d=new e1(u);try{d.parse()}catch(_){throw _}return d.root}var ku=ba;ba.default=ba,QS.registerParse(ba);let{isClean:Er,my:r1}=ks,n1=Ff,i1=ta,s1=Sn,o1=wu,up=Cu,a1=ku,l1=Is;const u1={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},c1={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},h1={Once:!0,postcssPlugin:!0,prepare:!0},vi=0;function Ps(g){return typeof g=="object"&&typeof g.then=="function"}function cp(g){let s=!1,u=u1[g.type];return g.type==="decl"?s=g.prop.toLowerCase():g.type==="atrule"&&(s=g.name.toLowerCase()),s&&g.append?[u,u+"-"+s,vi,u+"Exit",u+"Exit-"+s]:s?[u,u+"-"+s,u+"Exit",u+"Exit-"+s]:g.append?[u,vi,u+"Exit"]:[u,u+"Exit"]}function hp(g){let s;return g.type==="document"?s=["Document",vi,"DocumentExit"]:g.type==="root"?s=["Root",vi,"RootExit"]:s=cp(g),{eventIndex:0,events:s,iterator:0,node:g,visitorIndex:0,visitors:[]}}function xu(g){return g[Er]=!1,g.nodes&&g.nodes.forEach(s=>xu(s)),g}let Au={},bi=class tb{constructor(s,u,d){this.stringified=!1,this.processed=!1;let _;if(typeof u=="object"&&u!==null&&(u.type==="root"||u.type==="document"))_=xu(u);else if(u instanceof tb||u instanceof up)_=xu(u.root),u.map&&(typeof d.map>"u"&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=u.map);else{let O=a1;d.syntax&&(O=d.syntax.parse),d.parser&&(O=d.parser),O.parse&&(O=O.parse);try{_=O(u,d)}catch(x){this.processed=!0,this.error=x}_&&!_[r1]&&s1.rebuild(_)}this.result=new up(s,_,d),this.helpers={...Au,postcss:Au,result:this.result},this.plugins=this.processor.plugins.map(O=>typeof O=="object"&&O.prepare?{...O,...O.prepare(this.result)}:O)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(s){return this.async().catch(s)}finally(s){return this.async().then(s,s)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(s,u){let d=this.result.lastPlugin;try{u&&u.addToError(s),this.error=s,s.name==="CssSyntaxError"&&!s.plugin?(s.plugin=d.postcssPlugin,s.setMessage()):d.postcssVersion}catch(_){console&&console.error&&console.error(_)}return s}prepareVisitors(){this.listeners={};let s=(u,d,_)=>{this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push([u,_])};for(let u of this.plugins)if(typeof u=="object")for(let d in u){if(!c1[d]&&/^[A-Z]/.test(d))throw new Error("Unknown event ".concat(d," in ").concat(u.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!h1[d])if(typeof u[d]=="object")for(let _ in u[d])_==="*"?s(u,d,u[d][_]):s(u,d+"-"+_.toLowerCase(),u[d][_]);else typeof u[d]=="function"&&s(u,d,u[d])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let s=0;s<this.plugins.length;s++){let u=this.plugins[s],d=this.runOnRoot(u);if(Ps(d))try{await d}catch(_){throw this.handleError(_)}}if(this.prepareVisitors(),this.hasListener){let s=this.result.root;for(;!s[Er];){s[Er]=!0;let u=[hp(s)];for(;u.length>0;){let d=this.visitTick(u);if(Ps(d))try{await d}catch(_){let O=u[u.length-1].node;throw this.handleError(_,O)}}}if(this.listeners.OnceExit)for(let[u,d]of this.listeners.OnceExit){this.result.lastPlugin=u;try{if(s.type==="document"){let _=s.nodes.map(O=>d(O,this.helpers));await Promise.all(_)}else await d(s,this.helpers)}catch(_){throw this.handleError(_)}}}return this.processed=!0,this.stringify()}runOnRoot(s){this.result.lastPlugin=s;try{if(typeof s=="object"&&s.Once){if(this.result.root.type==="document"){let u=this.result.root.nodes.map(d=>s.Once(d,this.helpers));return Ps(u[0])?Promise.all(u):u}return s.Once(this.result.root,this.helpers)}else if(typeof s=="function")return s(this.result.root,this.result)}catch(u){throw this.handleError(u)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let s=this.result.opts,u=i1;s.syntax&&(u=s.syntax.stringify),s.stringifier&&(u=s.stringifier),u.stringify&&(u=u.stringify);let _=new n1(u,this.result.root,this.result.opts).generate();return this.result.css=_[0],this.result.map=_[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let s of this.plugins){let u=this.runOnRoot(s);if(Ps(u))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let s=this.result.root;for(;!s[Er];)s[Er]=!0,this.walkSync(s);if(this.listeners.OnceExit)if(s.type==="document")for(let u of s.nodes)this.visitSync(this.listeners.OnceExit,u);else this.visitSync(this.listeners.OnceExit,s)}return this.result}then(s,u){return this.async().then(s,u)}toString(){return this.css}visitSync(s,u){for(let[d,_]of s){this.result.lastPlugin=d;let O;try{O=_(u,this.helpers)}catch(x){throw this.handleError(x,u.proxyOf)}if(u.type!=="root"&&u.type!=="document"&&!u.parent)return!0;if(Ps(O))throw this.getAsyncError()}}visitTick(s){let u=s[s.length-1],{node:d,visitors:_}=u;if(d.type!=="root"&&d.type!=="document"&&!d.parent){s.pop();return}if(_.length>0&&u.visitorIndex<_.length){let[x,D]=_[u.visitorIndex];u.visitorIndex+=1,u.visitorIndex===_.length&&(u.visitors=[],u.visitorIndex=0),this.result.lastPlugin=x;try{return D(d.toProxy(),this.helpers)}catch(M){throw this.handleError(M,d)}}if(u.iterator!==0){let x=u.iterator,D;for(;D=d.nodes[d.indexes[x]];)if(d.indexes[x]+=1,!D[Er]){D[Er]=!0,s.push(hp(D));return}u.iterator=0,delete d.indexes[x]}let O=u.events;for(;u.eventIndex<O.length;){let x=O[u.eventIndex];if(u.eventIndex+=1,x===vi){d.nodes&&d.nodes.length&&(d[Er]=!0,u.iterator=d.getIterator());return}else if(this.listeners[x]){u.visitors=this.listeners[x];return}}s.pop()}walkSync(s){s[Er]=!0;let u=cp(s);for(let d of u)if(d===vi)s.nodes&&s.each(_=>{_[Er]||this.walkSync(_)});else{let _=this.listeners[d];if(_&&this.visitSync(_,s.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};bi.registerPostcss=g=>{Au=g};var dp=bi;bi.default=bi,l1.registerLazyResult(bi),o1.registerLazyResult(bi);let d1=Ff,f1=ta,p1=ku;const g1=Cu;let Iu=class{constructor(s,u,d){u=u.toString(),this.stringified=!1,this._processor=s,this._css=u,this._opts=d,this._map=void 0;let _,O=f1;this.result=new g1(this._processor,_,this._opts),this.result.css=u;let x=this;Object.defineProperty(this.result,"root",{get(){return x.root}});let D=new d1(O,_,this._opts,u);if(D.isMap()){let[M,L]=D.generate();M&&(this.result.css=M),L&&(this.result.map=L)}else D.clearAnnotation(),this.result.css=D.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(s){return this.async().catch(s)}finally(s){return this.async().then(s,s)}sync(){if(this.error)throw this.error;return this.result}then(s,u){return this.async().then(s,u)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let s,u=p1;try{s=u(this._css,this._opts)}catch(d){this.error=d}if(this.error)throw this.error;return this._root=s,s}get[Symbol.toStringTag](){return"NoWorkResult"}};var m1=Iu;Iu.default=Iu;let _1=m1,y1=dp,v1=wu,b1=Is,Ds=class{constructor(s=[]){this.version="8.4.38",this.plugins=this.normalize(s)}normalize(s){let u=[];for(let d of s)if(d.postcss===!0?d=d():d.postcss&&(d=d.postcss),typeof d=="object"&&Array.isArray(d.plugins))u=u.concat(d.plugins);else if(typeof d=="object"&&d.postcssPlugin)u.push(d);else if(typeof d=="function")u.push(d);else if(!(typeof d=="object"&&(d.parse||d.stringify)))throw new Error(d+" is not a PostCSS plugin");return u}process(s,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new _1(this,s,u):new y1(this,s,u)}use(s){return this.plugins=this.plugins.concat(this.normalize([s])),this}};var w1=Ds;Ds.default=Ds,b1.registerProcessor(Ds),v1.registerProcessor(Ds);let S1=ia,E1=If,C1=ca,T1=Ou,O1=aa,R1=Is,k1=Ru;function Ls(g,s){if(Array.isArray(g))return g.map(_=>Ls(_));let{inputs:u,...d}=g;if(u){s=[];for(let _ of u){let O={..._,__proto__:O1.prototype};O.map&&(O.map={...O.map,__proto__:E1.prototype}),s.push(O)}}if(d.nodes&&(d.nodes=g.nodes.map(_=>Ls(_,s))),d.source){let{inputId:_,...O}=d.source;d.source=O,_!=null&&(d.source.input=s[_])}if(d.type==="root")return new R1(d);if(d.type==="decl")return new S1(d);if(d.type==="rule")return new k1(d);if(d.type==="comment")return new C1(d);if(d.type==="atrule")return new T1(d);throw new Error("Unknown node type: "+g.type)}var x1=Ls;Ls.default=Ls;let A1=ou,fp=ia,I1=dp,M1=Sn,Mu=w1,P1=ta,D1=x1,pp=wu,L1=Jf,gp=ca,mp=Ou,N1=Cu,U1=aa,j1=ku,$1=sp,_p=Ru,yp=Is,F1=na;function Le(...g){return g.length===1&&Array.isArray(g[0])&&(g=g[0]),new Mu(g)}Le.plugin=function(s,u){let d=!1;function _(...x){console&&console.warn&&!d&&(d=!0,console.warn(s+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),e.LANG&&e.LANG.startsWith("cn")&&console.warn(s+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));let D=u(...x);return D.postcssPlugin=s,D.postcssVersion=new Mu().version,D}let O;return Object.defineProperty(_,"postcss",{get(){return O||(O=_()),O}}),_.process=function(x,D,M){return Le([_(M)]).process(x,D)},_},Le.stringify=P1,Le.parse=j1,Le.fromJSON=D1,Le.list=$1,Le.comment=g=>new gp(g),Le.atRule=g=>new mp(g),Le.decl=g=>new fp(g),Le.rule=g=>new _p(g),Le.root=g=>new yp(g),Le.document=g=>new pp(g),Le.CssSyntaxError=A1,Le.Declaration=fp,Le.Container=M1,Le.Processor=Mu,Le.Document=pp,Le.Comment=gp,Le.Warning=L1,Le.AtRule=mp,Le.Result=N1,Le.Input=U1,Le.Rule=_p,Le.Root=yp,Le.Node=F1,I1.registerPostcss(Le);var B1=Le;Le.default=Le;const Ge=sS(B1);Ge.stringify,Ge.fromJSON,Ge.plugin,Ge.parse,Ge.list,Ge.document,Ge.comment,Ge.atRule,Ge.rule,Ge.decl,Ge.root,Ge.CssSyntaxError,Ge.Declaration,Ge.Container,Ge.Processor,Ge.Document,Ge.Comment,Ge.Warning,Ge.AtRule,Ge.Result,Ge.Input,Ge.Rule,Ge.Root,Ge.Node;var z1=Object.defineProperty,W1=(g,s,u)=>s in g?z1(g,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[s]=u,rr=(g,s,u)=>W1(g,typeof s!="symbol"?s+"":s,u);function q1(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function V1(g){if(g.__esModule)return g;var s=g.default;if(typeof s=="function"){var u=function d(){return this instanceof d?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};u.prototype=s.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(g).forEach(function(d){var _=Object.getOwnPropertyDescriptor(g,d);Object.defineProperty(u,d,_.get?_:{enumerable:!0,get:function(){return g[d]}})}),u}var Pu={exports:{}},qe=String,vp=function(){return{isColorSupported:!1,reset:qe,bold:qe,dim:qe,italic:qe,underline:qe,inverse:qe,hidden:qe,strikethrough:qe,black:qe,red:qe,green:qe,yellow:qe,blue:qe,magenta:qe,cyan:qe,white:qe,gray:qe,bgBlack:qe,bgRed:qe,bgGreen:qe,bgYellow:qe,bgBlue:qe,bgMagenta:qe,bgCyan:qe,bgWhite:qe}};Pu.exports=vp(),Pu.exports.createColors=vp;var G1=Pu.exports;const cr=V1(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let bp=G1,wp=cr,Du=class rb extends Error{constructor(s,u,d,_,O,x){super(s),this.name="CssSyntaxError",this.reason=s,O&&(this.file=O),_&&(this.source=_),x&&(this.plugin=x),typeof u<"u"&&typeof d<"u"&&(typeof u=="number"?(this.line=u,this.column=d):(this.line=u.line,this.column=u.column,this.endLine=d.line,this.endColumn=d.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,rb)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(s){if(!this.source)return"";let u=this.source;s==null&&(s=bp.isColorSupported),wp&&s&&(u=wp(u));let d=u.split(/\r?\n/),_=Math.max(this.line-3,0),O=Math.min(this.line+2,d.length),x=String(O).length,D,M;if(s){let{bold:L,gray:$,red:V}=bp.createColors(!0);D=re=>L(V(re)),M=re=>$(re)}else D=M=L=>L;return d.slice(_,O).map((L,$)=>{let V=_+1+$,re=" "+(" "+V).slice(-x)+" | ";if(V===this.line){let ee=M(re.replace(/\d/g," "))+L.slice(0,this.column-1).replace(/[^\t]/g," ");return D(">")+M(re)+L+"\n "+ee+D("^")}return" "+M(re)+L}).join("\n")}toString(){let s=this.showSourceCode();return s&&(s="\n\n"+s+"\n"),this.name+": "+this.message+s}};var Lu=Du;Du.default=Du;var Ns={};Ns.isClean=Symbol("isClean"),Ns.my=Symbol("my");const Sp={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function H1(g){return g[0].toUpperCase()+g.slice(1)}let Nu=class{constructor(s){this.builder=s}atrule(s,u){let d="@"+s.name,_=s.params?this.rawValue(s,"params"):"";if(typeof s.raws.afterName<"u"?d+=s.raws.afterName:_&&(d+=" "),s.nodes)this.block(s,d+_);else{let O=(s.raws.between||"")+(u?";":"");this.builder(d+_+O,s)}}beforeAfter(s,u){let d;s.type==="decl"?d=this.raw(s,null,"beforeDecl"):s.type==="comment"?d=this.raw(s,null,"beforeComment"):u==="before"?d=this.raw(s,null,"beforeRule"):d=this.raw(s,null,"beforeClose");let _=s.parent,O=0;for(;_&&_.type!=="root";)O+=1,_=_.parent;if(d.includes("\n")){let x=this.raw(s,null,"indent");if(x.length)for(let D=0;D<O;D++)d+=x}return d}block(s,u){let d=this.raw(s,"between","beforeOpen");this.builder(u+d+"{",s,"start");let _;s.nodes&&s.nodes.length?(this.body(s),_=this.raw(s,"after")):_=this.raw(s,"after","emptyBody"),_&&this.builder(_),this.builder("}",s,"end")}body(s){let u=s.nodes.length-1;for(;u>0&&s.nodes[u].type==="comment";)u-=1;let d=this.raw(s,"semicolon");for(let _=0;_<s.nodes.length;_++){let O=s.nodes[_],x=this.raw(O,"before");x&&this.builder(x),this.stringify(O,u!==_||d)}}comment(s){let u=this.raw(s,"left","commentLeft"),d=this.raw(s,"right","commentRight");this.builder("/*"+u+s.text+d+"*/",s)}decl(s,u){let d=this.raw(s,"between","colon"),_=s.prop+d+this.rawValue(s,"value");s.important&&(_+=s.raws.important||" !important"),u&&(_+=";"),this.builder(_,s)}document(s){this.body(s)}raw(s,u,d){let _;if(d||(d=u),u&&(_=s.raws[u],typeof _<"u"))return _;let O=s.parent;if(d==="before"&&(!O||O.type==="root"&&O.first===s||O&&O.type==="document"))return"";if(!O)return Sp[d];let x=s.root();if(x.rawCache||(x.rawCache={}),typeof x.rawCache[d]<"u")return x.rawCache[d];if(d==="before"||d==="after")return this.beforeAfter(s,d);{let D="raw"+H1(d);this[D]?_=this[D](x,s):x.walk(M=>{if(_=M.raws[u],typeof _<"u")return!1})}return typeof _>"u"&&(_=Sp[d]),x.rawCache[d]=_,_}rawBeforeClose(s){let u;return s.walk(d=>{if(d.nodes&&d.nodes.length>0&&typeof d.raws.after<"u")return u=d.raws.after,u.includes("\n")&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawBeforeComment(s,u){let d;return s.walkComments(_=>{if(typeof _.raws.before<"u")return d=_.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1}),typeof d>"u"?d=this.raw(u,null,"beforeDecl"):d&&(d=d.replace(/\S/g,"")),d}rawBeforeDecl(s,u){let d;return s.walkDecls(_=>{if(typeof _.raws.before<"u")return d=_.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1}),typeof d>"u"?d=this.raw(u,null,"beforeRule"):d&&(d=d.replace(/\S/g,"")),d}rawBeforeOpen(s){let u;return s.walk(d=>{if(d.type!=="decl"&&(u=d.raws.between,typeof u<"u"))return!1}),u}rawBeforeRule(s){let u;return s.walk(d=>{if(d.nodes&&(d.parent!==s||s.first!==d)&&typeof d.raws.before<"u")return u=d.raws.before,u.includes("\n")&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawColon(s){let u;return s.walkDecls(d=>{if(typeof d.raws.between<"u")return u=d.raws.between.replace(/[^\s:]/g,""),!1}),u}rawEmptyBody(s){let u;return s.walk(d=>{if(d.nodes&&d.nodes.length===0&&(u=d.raws.after,typeof u<"u"))return!1}),u}rawIndent(s){if(s.raws.indent)return s.raws.indent;let u;return s.walk(d=>{let _=d.parent;if(_&&_!==s&&_.parent&&_.parent===s&&typeof d.raws.before<"u"){let O=d.raws.before.split("\n");return u=O[O.length-1],u=u.replace(/\S/g,""),!1}}),u}rawSemicolon(s){let u;return s.walk(d=>{if(d.nodes&&d.nodes.length&&d.last.type==="decl"&&(u=d.raws.semicolon,typeof u<"u"))return!1}),u}rawValue(s,u){let d=s[u],_=s.raws[u];return _&&_.value===d?_.raw:d}root(s){this.body(s),s.raws.after&&this.builder(s.raws.after)}rule(s){this.block(s,this.rawValue(s,"selector")),s.raws.ownSemicolon&&this.builder(s.raws.ownSemicolon,s,"end")}stringify(s,u){if(!this[s.type])throw new Error("Unknown AST node type "+s.type+". Maybe you need to change PostCSS stringifier.");this[s.type](s,u)}};var Ep=Nu;Nu.default=Nu;let K1=Ep;function Uu(g,s){new K1(s).stringify(g)}var wa=Uu;Uu.default=Uu;let{isClean:Sa,my:X1}=Ns,Y1=Lu,J1=Ep,Z1=wa;function ju(g,s){let u=new g.constructor;for(let d in g){if(!Object.prototype.hasOwnProperty.call(g,d)||d==="proxyCache")continue;let _=g[d],O=typeof _;d==="parent"&&O==="object"?s&&(u[d]=s):d==="source"?u[d]=_:Array.isArray(_)?u[d]=_.map(x=>ju(x,u)):(O==="object"&&_!==null&&(_=ju(_)),u[d]=_)}return u}let $u=class{constructor(s={}){this.raws={},this[Sa]=!1,this[X1]=!0;for(let u in s)if(u==="nodes"){this.nodes=[];for(let d of s[u])typeof d.clone=="function"?this.append(d.clone()):this.append(d)}else this[u]=s[u]}addToError(s){if(s.postcssNode=this,s.stack&&this.source&&/\n\s{4}at /.test(s.stack)){let u=this.source;s.stack=s.stack.replace(/\n\s{4}at /,"$&".concat(u.input.from,":").concat(u.start.line,":").concat(u.start.column,"$&"))}return s}after(s){return this.parent.insertAfter(this,s),this}assign(s={}){for(let u in s)this[u]=s[u];return this}before(s){return this.parent.insertBefore(this,s),this}cleanRaws(s){delete this.raws.before,delete this.raws.after,s||delete this.raws.between}clone(s={}){let u=ju(this);for(let d in s)u[d]=s[d];return u}cloneAfter(s={}){let u=this.clone(s);return this.parent.insertAfter(this,u),u}cloneBefore(s={}){let u=this.clone(s);return this.parent.insertBefore(this,u),u}error(s,u={}){if(this.source){let{end:d,start:_}=this.rangeBy(u);return this.source.input.error(s,{column:_.column,line:_.line},{column:d.column,line:d.line},u)}return new Y1(s)}getProxyProcessor(){return{get(s,u){return u==="proxyOf"?s:u==="root"?()=>s.root().toProxy():s[u]},set(s,u,d){return s[u]===d||(s[u]=d,(u==="prop"||u==="value"||u==="name"||u==="params"||u==="important"||u==="text")&&s.markDirty()),!0}}}markDirty(){if(this[Sa]){this[Sa]=!1;let s=this;for(;s=s.parent;)s[Sa]=!1}}next(){if(!this.parent)return;let s=this.parent.index(this);return this.parent.nodes[s+1]}positionBy(s,u){let d=this.source.start;if(s.index)d=this.positionInside(s.index,u);else if(s.word){u=this.toString();let _=u.indexOf(s.word);_!==-1&&(d=this.positionInside(_,u))}return d}positionInside(s,u){let d=u||this.toString(),_=this.source.start.column,O=this.source.start.line;for(let x=0;x<s;x++)d[x]==="\n"?(_=1,O+=1):_+=1;return{column:_,line:O}}prev(){if(!this.parent)return;let s=this.parent.index(this);return this.parent.nodes[s-1]}rangeBy(s){let u={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:u.column+1,line:u.line};if(s.word){let _=this.toString(),O=_.indexOf(s.word);O!==-1&&(u=this.positionInside(O,_),d=this.positionInside(O+s.word.length,_))}else s.start?u={column:s.start.column,line:s.start.line}:s.index&&(u=this.positionInside(s.index)),s.end?d={column:s.end.column,line:s.end.line}:typeof s.endIndex=="number"?d=this.positionInside(s.endIndex):s.index&&(d=this.positionInside(s.index+1));return(d.line<u.line||d.line===u.line&&d.column<=u.column)&&(d={column:u.column+1,line:u.line}),{end:d,start:u}}raw(s,u){return new J1().raw(this,s,u)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...s){if(this.parent){let u=this,d=!1;for(let _ of s)_===this?d=!0:d?(this.parent.insertAfter(u,_),u=_):this.parent.insertBefore(u,_);d||this.remove()}return this}root(){let s=this;for(;s.parent&&s.parent.type!=="document";)s=s.parent;return s}toJSON(s,u){let d={},_=u==null;u=u||new Map;let O=0;for(let x in this){if(!Object.prototype.hasOwnProperty.call(this,x)||x==="parent"||x==="proxyCache")continue;let D=this[x];if(Array.isArray(D))d[x]=D.map(M=>typeof M=="object"&&M.toJSON?M.toJSON(null,u):M);else if(typeof D=="object"&&D.toJSON)d[x]=D.toJSON(null,u);else if(x==="source"){let M=u.get(D.input);M==null&&(M=O,u.set(D.input,O),O++),d[x]={end:D.end,inputId:M,start:D.start}}else d[x]=D}return _&&(d.inputs=[...u.keys()].map(x=>x.toJSON())),d}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(s=Z1){s.stringify&&(s=s.stringify);let u="";return s(this,d=>{u+=d}),u}warn(s,u,d){let _={node:this};for(let O in d)_[O]=d[O];return s.warn(u,_)}get proxyOf(){return this}};var Ea=$u;$u.default=$u;let Q1=Ea,Fu=class extends Q1{constructor(s){s&&typeof s.value<"u"&&typeof s.value!="string"&&(s={...s,value:String(s.value)}),super(s),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Ca=Fu;Fu.default=Fu;let eE="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var tE={nanoid:(g=21)=>{let s="",u=g;for(;u--;)s+=eE[Math.random()*64|0];return s}};let{SourceMapConsumer:Cp,SourceMapGenerator:Tp}=cr,{existsSync:rE,readFileSync:nE}=cr,{dirname:Bu,join:iE}=cr;function sE(g){return Buffer?Buffer.from(g,"base64").toString():window.atob(g)}let zu=class{constructor(s,u){if(u.map===!1)return;this.loadAnnotation(s),this.inline=this.startWith(this.annotation,"data:");let d=u.map?u.map.prev:void 0,_=this.loadMap(u.from,d);!this.mapFile&&u.from&&(this.mapFile=u.from),this.mapFile&&(this.root=Bu(this.mapFile)),_&&(this.text=_)}consumer(){return this.consumerCache||(this.consumerCache=new Cp(this.text)),this.consumerCache}decodeInline(s){let u=/^data:application\/json;charset=utf-?8;base64,/,d=/^data:application\/json;base64,/,_=/^data:application\/json;charset=utf-?8,/,O=/^data:application\/json,/;if(_.test(s)||O.test(s))return decodeURIComponent(s.substr(RegExp.lastMatch.length));if(u.test(s)||d.test(s))return sE(s.substr(RegExp.lastMatch.length));let x=s.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+x)}getAnnotationURL(s){return s.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(s){return typeof s!="object"?!1:typeof s.mappings=="string"||typeof s._mappings=="string"||Array.isArray(s.sections)}loadAnnotation(s){let u=s.match(/\/\*\s*# sourceMappingURL=/gm);if(!u)return;let d=s.lastIndexOf(u.pop()),_=s.indexOf("*/",d);d>-1&&_>-1&&(this.annotation=this.getAnnotationURL(s.substring(d,_)))}loadFile(s){if(this.root=Bu(s),rE(s))return this.mapFile=s,nE(s,"utf-8").toString().trim()}loadMap(s,u){if(u===!1)return!1;if(u){if(typeof u=="string")return u;if(typeof u=="function"){let d=u(s);if(d){let _=this.loadFile(d);if(!_)throw new Error("Unable to load previous source map: "+d.toString());return _}}else{if(u instanceof Cp)return Tp.fromSourceMap(u).toString();if(u instanceof Tp)return u.toString();if(this.isMap(u))return JSON.stringify(u);throw new Error("Unsupported previous source map format: "+u.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let d=this.annotation;return s&&(d=iE(Bu(s),d)),this.loadFile(d)}}}startWith(s,u){return s?s.substr(0,u.length)===u:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Op=zu;zu.default=zu;let{SourceMapConsumer:oE,SourceMapGenerator:aE}=cr,{fileURLToPath:Rp,pathToFileURL:Ta}=cr,{isAbsolute:Wu,resolve:qu}=cr,{nanoid:lE}=tE,Vu=cr,kp=Lu,uE=Op,Gu=Symbol("fromOffsetCache"),cE=!!(oE&&aE),xp=!!(qu&&Wu),Oa=class{constructor(s,u={}){if(s===null||typeof s>"u"||typeof s=="object"&&!s.toString)throw new Error("PostCSS received ".concat(s," instead of CSS string"));if(this.css=s.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,u.from&&(!xp||/^\w+:\/\//.test(u.from)||Wu(u.from)?this.file=u.from:this.file=qu(u.from)),xp&&cE){let d=new uE(this.css,u);if(d.text){this.map=d;let _=d.consumer().file;!this.file&&_&&(this.file=this.mapResolve(_))}}this.file||(this.id="<input css "+lE(6)+">"),this.map&&(this.map.file=this.from)}error(s,u,d,_={}){let O,x,D;if(u&&typeof u=="object"){let L=u,$=d;if(typeof L.offset=="number"){let V=this.fromOffset(L.offset);u=V.line,d=V.col}else u=L.line,d=L.column;if(typeof $.offset=="number"){let V=this.fromOffset($.offset);x=V.line,D=V.col}else x=$.line,D=$.column}else if(!d){let L=this.fromOffset(u);u=L.line,d=L.col}let M=this.origin(u,d,x,D);return M?O=new kp(s,M.endLine===void 0?M.line:{column:M.column,line:M.line},M.endLine===void 0?M.column:{column:M.endColumn,line:M.endLine},M.source,M.file,_.plugin):O=new kp(s,x===void 0?u:{column:d,line:u},x===void 0?d:{column:D,line:x},this.css,this.file,_.plugin),O.input={column:d,endColumn:D,endLine:x,line:u,source:this.css},this.file&&(Ta&&(O.input.url=Ta(this.file).toString()),O.input.file=this.file),O}fromOffset(s){let u,d;if(this[Gu])d=this[Gu];else{let O=this.css.split("\n");d=new Array(O.length);let x=0;for(let D=0,M=O.length;D<M;D++)d[D]=x,x+=O[D].length+1;this[Gu]=d}u=d[d.length-1];let _=0;if(s>=u)_=d.length-1;else{let O=d.length-2,x;for(;_<O;)if(x=_+(O-_>>1),s<d[x])O=x-1;else if(s>=d[x+1])_=x+1;else{_=x;break}}return{col:s-d[_]+1,line:_+1}}mapResolve(s){return/^\w+:\/\//.test(s)?s:qu(this.map.consumer().sourceRoot||this.map.root||".",s)}origin(s,u,d,_){if(!this.map)return!1;let O=this.map.consumer(),x=O.originalPositionFor({column:u,line:s});if(!x.source)return!1;let D;typeof d=="number"&&(D=O.originalPositionFor({column:_,line:d}));let M;Wu(x.source)?M=Ta(x.source):M=new URL(x.source,this.map.consumer().sourceRoot||Ta(this.map.mapFile));let L={column:x.column,endColumn:D&&D.column,endLine:D&&D.line,line:x.line,url:M.toString()};if(M.protocol==="file:")if(Rp)L.file=Rp(M);else throw new Error("file: protocol is not available in this PostCSS build");let $=O.sourceContentFor(x.source);return $&&(L.source=$),L}toJSON(){let s={};for(let u of["hasBOM","css","file","id"])this[u]!=null&&(s[u]=this[u]);return this.map&&(s.map={...this.map},s.map.consumerCache&&(s.map.consumerCache=void 0)),s}get from(){return this.file||this.id}};var Ra=Oa;Oa.default=Oa,Vu&&Vu.registerInput&&Vu.registerInput(Oa);let{SourceMapConsumer:Ap,SourceMapGenerator:ka}=cr,{dirname:xa,relative:Ip,resolve:Mp,sep:Pp}=cr,{pathToFileURL:Dp}=cr,hE=Ra,dE=!!(Ap&&ka),fE=!!(xa&&Mp&&Ip&&Pp);var Lp=class{constructor(s,u,d,_){this.stringify=s,this.mapOpts=d.map||{},this.root=u,this.opts=d,this.css=_,this.originalCSS=_,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let s;this.isInline()?s="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?s=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?s=this.mapOpts.annotation(this.opts.to,this.root):s=this.outputFile()+".map";let u="\n";this.css.includes("\r\n")&&(u="\r\n"),this.css+=u+"/*# sourceMappingURL="+s+" */"}applyPrevMaps(){for(let s of this.previous()){let u=this.toUrl(this.path(s.file)),d=s.root||xa(s.file),_;this.mapOpts.sourcesContent===!1?(_=new Ap(s.text),_.sourcesContent&&(_.sourcesContent=null)):_=s.consumer(),this.map.applySourceMap(_,u,this.toUrl(this.path(d)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let s;for(let u=this.root.nodes.length-1;u>=0;u--)s=this.root.nodes[u],s.type==="comment"&&s.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(u)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),fE&&dE&&this.isMap())return this.generateMap();{let s="";return this.stringify(this.root,u=>{s+=u}),[s]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let s=this.previous()[0].consumer();s.file=this.outputFile(),this.map=ka.fromSourceMap(s,{ignoreInvalidMapping:!0})}else this.map=new ka({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new ka({file:this.outputFile(),ignoreInvalidMapping:!0});let s=1,u=1,d="<no source>",_={generated:{column:0,line:0},original:{column:0,line:0},source:""},O,x;this.stringify(this.root,(D,M,L)=>{if(this.css+=D,M&&L!=="end"&&(_.generated.line=s,_.generated.column=u-1,M.source&&M.source.start?(_.source=this.sourcePath(M),_.original.line=M.source.start.line,_.original.column=M.source.start.column-1,this.map.addMapping(_)):(_.source=d,_.original.line=1,_.original.column=0,this.map.addMapping(_))),O=D.match(/\n/g),O?(s+=O.length,x=D.lastIndexOf("\n"),u=D.length-x):u+=D.length,M&&L!=="start"){let $=M.parent||{raws:{}};(!(M.type==="decl"||M.type==="atrule"&&!M.nodes)||M!==$.last||$.raws.semicolon)&&(M.source&&M.source.end?(_.source=this.sourcePath(M),_.original.line=M.source.end.line,_.original.column=M.source.end.column-1,_.generated.line=s,_.generated.column=u-2,this.map.addMapping(_)):(_.source=d,_.original.line=1,_.original.column=0,_.generated.line=s,_.generated.column=u-1,this.map.addMapping(_)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(s=>s.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let s=this.mapOpts.annotation;return typeof s<"u"&&s!==!0?!1:this.previous().length?this.previous().some(u=>u.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(s=>s.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(s){if(this.mapOpts.absolute||s.charCodeAt(0)===60||/^\w+:\/\//.test(s))return s;let u=this.memoizedPaths.get(s);if(u)return u;let d=this.opts.to?xa(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(d=xa(Mp(d,this.mapOpts.annotation)));let _=Ip(d,s);return this.memoizedPaths.set(s,_),_}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(s=>{if(s.source&&s.source.input.map){let u=s.source.input.map;this.previousMaps.includes(u)||this.previousMaps.push(u)}});else{let s=new hE(this.originalCSS,this.opts);s.map&&this.previousMaps.push(s.map)}return this.previousMaps}setSourcesContent(){let s={};if(this.root)this.root.walk(u=>{if(u.source){let d=u.source.input.from;if(d&&!s[d]){s[d]=!0;let _=this.usesFileUrls?this.toFileUrl(d):this.toUrl(this.path(d));this.map.setSourceContent(_,u.source.input.css)}}});else if(this.css){let u=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(u,this.css)}}sourcePath(s){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(s.source.input.from):this.toUrl(this.path(s.source.input.from))}toBase64(s){return Buffer?Buffer.from(s).toString("base64"):window.btoa(unescape(encodeURIComponent(s)))}toFileUrl(s){let u=this.memoizedFileURLs.get(s);if(u)return u;if(Dp){let d=Dp(s).toString();return this.memoizedFileURLs.set(s,d),d}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(s){let u=this.memoizedURLs.get(s);if(u)return u;Pp==="\\"&&(s=s.replace(/\\/g,"/"));let d=encodeURI(s).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(s,d),d}};let pE=Ea,Hu=class extends pE{constructor(s){super(s),this.type="comment"}};var Aa=Hu;Hu.default=Hu;let{isClean:Np,my:Up}=Ns,jp=Ca,$p=Aa,gE=Ea,Fp,Ku,Xu,Bp;function zp(g){return g.map(s=>(s.nodes&&(s.nodes=zp(s.nodes)),delete s.source,s))}function Wp(g){if(g[Np]=!1,g.proxyOf.nodes)for(let s of g.proxyOf.nodes)Wp(s)}let Lr=class nb extends gE{append(...s){for(let u of s){let d=this.normalize(u,this.last);for(let _ of d)this.proxyOf.nodes.push(_)}return this.markDirty(),this}cleanRaws(s){if(super.cleanRaws(s),this.nodes)for(let u of this.nodes)u.cleanRaws(s)}each(s){if(!this.proxyOf.nodes)return;let u=this.getIterator(),d,_;for(;this.indexes[u]<this.proxyOf.nodes.length&&(d=this.indexes[u],_=s(this.proxyOf.nodes[d],d),_!==!1);)this.indexes[u]+=1;return delete this.indexes[u],_}every(s){return this.nodes.every(s)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let s=this.lastEach;return this.indexes[s]=0,s}getProxyProcessor(){return{get(s,u){return u==="proxyOf"?s:s[u]?u==="each"||typeof u=="string"&&u.startsWith("walk")?(...d)=>s[u](...d.map(_=>typeof _=="function"?(O,x)=>_(O.toProxy(),x):_)):u==="every"||u==="some"?d=>s[u]((_,...O)=>d(_.toProxy(),...O)):u==="root"?()=>s.root().toProxy():u==="nodes"?s.nodes.map(d=>d.toProxy()):u==="first"||u==="last"?s[u].toProxy():s[u]:s[u]},set(s,u,d){return s[u]===d||(s[u]=d,(u==="name"||u==="params"||u==="selector")&&s.markDirty()),!0}}}index(s){return typeof s=="number"?s:(s.proxyOf&&(s=s.proxyOf),this.proxyOf.nodes.indexOf(s))}insertAfter(s,u){let d=this.index(s),_=this.normalize(u,this.proxyOf.nodes[d]).reverse();d=this.index(s);for(let x of _)this.proxyOf.nodes.splice(d+1,0,x);let O;for(let x in this.indexes)O=this.indexes[x],d<O&&(this.indexes[x]=O+_.length);return this.markDirty(),this}insertBefore(s,u){let d=this.index(s),_=d===0?"prepend":!1,O=this.normalize(u,this.proxyOf.nodes[d],_).reverse();d=this.index(s);for(let D of O)this.proxyOf.nodes.splice(d,0,D);let x;for(let D in this.indexes)x=this.indexes[D],d<=x&&(this.indexes[D]=x+O.length);return this.markDirty(),this}normalize(s,u){if(typeof s=="string")s=zp(Fp(s).nodes);else if(typeof s>"u")s=[];else if(Array.isArray(s)){s=s.slice(0);for(let _ of s)_.parent&&_.parent.removeChild(_,"ignore")}else if(s.type==="root"&&this.type!=="document"){s=s.nodes.slice(0);for(let _ of s)_.parent&&_.parent.removeChild(_,"ignore")}else if(s.type)s=[s];else if(s.prop){if(typeof s.value>"u")throw new Error("Value field is missed in node creation");typeof s.value!="string"&&(s.value=String(s.value)),s=[new jp(s)]}else if(s.selector)s=[new Ku(s)];else if(s.name)s=[new Xu(s)];else if(s.text)s=[new $p(s)];else throw new Error("Unknown node type in node creation");return s.map(_=>(_[Up]||nb.rebuild(_),_=_.proxyOf,_.parent&&_.parent.removeChild(_),_[Np]&&Wp(_),typeof _.raws.before>"u"&&u&&typeof u.raws.before<"u"&&(_.raws.before=u.raws.before.replace(/\S/g,"")),_.parent=this.proxyOf,_))}prepend(...s){s=s.reverse();for(let u of s){let d=this.normalize(u,this.first,"prepend").reverse();for(let _ of d)this.proxyOf.nodes.unshift(_);for(let _ in this.indexes)this.indexes[_]=this.indexes[_]+d.length}return this.markDirty(),this}push(s){return s.parent=this,this.proxyOf.nodes.push(s),this}removeAll(){for(let s of this.proxyOf.nodes)s.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(s){s=this.index(s),this.proxyOf.nodes[s].parent=void 0,this.proxyOf.nodes.splice(s,1);let u;for(let d in this.indexes)u=this.indexes[d],u>=s&&(this.indexes[d]=u-1);return this.markDirty(),this}replaceValues(s,u,d){return d||(d=u,u={}),this.walkDecls(_=>{u.props&&!u.props.includes(_.prop)||u.fast&&!_.value.includes(u.fast)||(_.value=_.value.replace(s,d))}),this.markDirty(),this}some(s){return this.nodes.some(s)}walk(s){return this.each((u,d)=>{let _;try{_=s(u,d)}catch(O){throw u.addToError(O)}return _!==!1&&u.walk&&(_=u.walk(s)),_})}walkAtRules(s,u){return u?s instanceof RegExp?this.walk((d,_)=>{if(d.type==="atrule"&&s.test(d.name))return u(d,_)}):this.walk((d,_)=>{if(d.type==="atrule"&&d.name===s)return u(d,_)}):(u=s,this.walk((d,_)=>{if(d.type==="atrule")return u(d,_)}))}walkComments(s){return this.walk((u,d)=>{if(u.type==="comment")return s(u,d)})}walkDecls(s,u){return u?s instanceof RegExp?this.walk((d,_)=>{if(d.type==="decl"&&s.test(d.prop))return u(d,_)}):this.walk((d,_)=>{if(d.type==="decl"&&d.prop===s)return u(d,_)}):(u=s,this.walk((d,_)=>{if(d.type==="decl")return u(d,_)}))}walkRules(s,u){return u?s instanceof RegExp?this.walk((d,_)=>{if(d.type==="rule"&&s.test(d.selector))return u(d,_)}):this.walk((d,_)=>{if(d.type==="rule"&&d.selector===s)return u(d,_)}):(u=s,this.walk((d,_)=>{if(d.type==="rule")return u(d,_)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Lr.registerParse=g=>{Fp=g},Lr.registerRule=g=>{Ku=g},Lr.registerAtRule=g=>{Xu=g},Lr.registerRoot=g=>{Bp=g};var En=Lr;Lr.default=Lr,Lr.rebuild=g=>{g.type==="atrule"?Object.setPrototypeOf(g,Xu.prototype):g.type==="rule"?Object.setPrototypeOf(g,Ku.prototype):g.type==="decl"?Object.setPrototypeOf(g,jp.prototype):g.type==="comment"?Object.setPrototypeOf(g,$p.prototype):g.type==="root"&&Object.setPrototypeOf(g,Bp.prototype),g[Up]=!0,g.nodes&&g.nodes.forEach(s=>{Lr.rebuild(s)})};let mE=En,qp,Vp,Us=class extends mE{constructor(s){super({type:"document",...s}),this.nodes||(this.nodes=[])}toResult(s={}){return new qp(new Vp,this,s).stringify()}};Us.registerLazyResult=g=>{qp=g},Us.registerProcessor=g=>{Vp=g};var Yu=Us;Us.default=Us;let Ju=class{constructor(s,u={}){if(this.type="warning",this.text=s,u.node&&u.node.source){let d=u.node.rangeBy(u);this.line=d.start.line,this.column=d.start.column,this.endLine=d.end.line,this.endColumn=d.end.column}for(let d in u)this[d]=u[d]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Gp=Ju;Ju.default=Ju;let _E=Gp,Zu=class{constructor(s,u,d){this.processor=s,this.messages=[],this.root=u,this.opts=d,this.css=void 0,this.map=void 0}toString(){return this.css}warn(s,u={}){u.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(u.plugin=this.lastPlugin.postcssPlugin);let d=new _E(s,u);return this.messages.push(d),d}warnings(){return this.messages.filter(s=>s.type==="warning")}get content(){return this.css}};var Qu=Zu;Zu.default=Zu;const ec=39,Hp=34,Ia=92,Kp=47,Ma=10,js=32,Pa=12,Da=9,La=13,yE=91,vE=93,bE=40,wE=41,SE=123,EE=125,CE=59,TE=42,OE=58,RE=64,Na=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ua=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,kE=/.[\r\n"'(/\\]/,Xp=/[\da-f]/i;var xE=function(s,u={}){let d=s.css.valueOf(),_=u.ignoreErrors,O,x,D,M,L,$,V,re,ee,oe,X=d.length,G=0,be=[],ye=[];function ue(){return G}function we(Me){throw s.error("Unclosed "+Me,G)}function Ue(){return ye.length===0&&G>=X}function Ve(Me){if(ye.length)return ye.pop();if(G>=X)return;let yt=Me?Me.ignoreUnclosed:!1;switch(O=d.charCodeAt(G),O){case Ma:case js:case Da:case La:case Pa:{x=G;do x+=1,O=d.charCodeAt(x);while(O===js||O===Ma||O===Da||O===La||O===Pa);oe=["space",d.slice(G,x)],G=x-1;break}case yE:case vE:case SE:case EE:case OE:case CE:case wE:{let vt=String.fromCharCode(O);oe=[vt,vt,G];break}case bE:{if(re=be.length?be.pop()[1]:"",ee=d.charCodeAt(G+1),re==="url"&&ee!==ec&&ee!==Hp&&ee!==js&&ee!==Ma&&ee!==Da&&ee!==Pa&&ee!==La){x=G;do{if($=!1,x=d.indexOf(")",x+1),x===-1)if(_||yt){x=G;break}else we("bracket");for(V=x;d.charCodeAt(V-1)===Ia;)V-=1,$=!$}while($);oe=["brackets",d.slice(G,x+1),G,x],G=x}else x=d.indexOf(")",G+1),M=d.slice(G,x+1),x===-1||kE.test(M)?oe=["(","(",G]:(oe=["brackets",M,G,x],G=x);break}case ec:case Hp:{D=O===ec?"'":'"',x=G;do{if($=!1,x=d.indexOf(D,x+1),x===-1)if(_||yt){x=G+1;break}else we("string");for(V=x;d.charCodeAt(V-1)===Ia;)V-=1,$=!$}while($);oe=["string",d.slice(G,x+1),G,x],G=x;break}case RE:{Na.lastIndex=G+1,Na.test(d),Na.lastIndex===0?x=d.length-1:x=Na.lastIndex-2,oe=["at-word",d.slice(G,x+1),G,x],G=x;break}case Ia:{for(x=G,L=!0;d.charCodeAt(x+1)===Ia;)x+=1,L=!L;if(O=d.charCodeAt(x+1),L&&O!==Kp&&O!==js&&O!==Ma&&O!==Da&&O!==La&&O!==Pa&&(x+=1,Xp.test(d.charAt(x)))){for(;Xp.test(d.charAt(x+1));)x+=1;d.charCodeAt(x+1)===js&&(x+=1)}oe=["word",d.slice(G,x+1),G,x],G=x;break}default:{O===Kp&&d.charCodeAt(G+1)===TE?(x=d.indexOf("*/",G+2)+1,x===0&&(_||yt?x=d.length:we("comment")),oe=["comment",d.slice(G,x+1),G,x],G=x):(Ua.lastIndex=G+1,Ua.test(d),Ua.lastIndex===0?x=d.length-1:x=Ua.lastIndex-2,oe=["word",d.slice(G,x+1),G,x],be.push(oe),G=x);break}}return G++,oe}function _t(Me){ye.push(Me)}return{back:_t,endOfFile:Ue,nextToken:Ve,position:ue}};let Yp=En,ja=class extends Yp{constructor(s){super(s),this.type="atrule"}append(...s){return this.proxyOf.nodes||(this.nodes=[]),super.append(...s)}prepend(...s){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...s)}};var tc=ja;ja.default=ja,Yp.registerAtRule(ja);let Jp=En,Zp,Qp,wi=class extends Jp{constructor(s){super(s),this.type="root",this.nodes||(this.nodes=[])}normalize(s,u,d){let _=super.normalize(s);if(u){if(d==="prepend")this.nodes.length>1?u.raws.before=this.nodes[1].raws.before:delete u.raws.before;else if(this.first!==u)for(let O of _)O.raws.before=u.raws.before}return _}removeChild(s,u){let d=this.index(s);return!u&&d===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[d].raws.before),super.removeChild(s)}toResult(s={}){return new Zp(new Qp,this,s).stringify()}};wi.registerLazyResult=g=>{Zp=g},wi.registerProcessor=g=>{Qp=g};var $s=wi;wi.default=wi,Jp.registerRoot(wi);let Fs={comma(g){return Fs.split(g,[","],!0)},space(g){let s=[" ","\n","	"];return Fs.split(g,s)},split(g,s,u){let d=[],_="",O=!1,x=0,D=!1,M="",L=!1;for(let $ of g)L?L=!1:$==="\\"?L=!0:D?$===M&&(D=!1):$==='"'||$==="'"?(D=!0,M=$):$==="("?x+=1:$===")"?x>0&&(x-=1):x===0&&s.includes($)&&(O=!0),O?(_!==""&&d.push(_.trim()),_="",O=!1):_+=$;return(u||_!=="")&&d.push(_.trim()),d}};var eg=Fs;Fs.default=Fs;let tg=En,AE=eg,$a=class extends tg{constructor(s){super(s),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return AE.comma(this.selector)}set selectors(s){let u=this.selector?this.selector.match(/,\s*/):null,d=u?u[0]:","+this.raw("between","beforeOpen");this.selector=s.join(d)}};var rc=$a;$a.default=$a,tg.registerRule($a);let IE=Ca,ME=xE,PE=Aa,DE=tc,LE=$s,rg=rc;const ng={empty:!0,space:!0};function NE(g){for(let s=g.length-1;s>=0;s--){let u=g[s],d=u[3]||u[2];if(d)return d}}var UE=class{constructor(s){this.input=s,this.root=new LE,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:s,start:{column:1,line:1,offset:0}}}atrule(s){let u=new DE;u.name=s[1].slice(1),u.name===""&&this.unnamedAtrule(u,s),this.init(u,s[2]);let d,_,O,x=!1,D=!1,M=[],L=[];for(;!this.tokenizer.endOfFile();){if(s=this.tokenizer.nextToken(),d=s[0],d==="("||d==="["?L.push(d==="("?")":"]"):d==="{"&&L.length>0?L.push("}"):d===L[L.length-1]&&L.pop(),L.length===0)if(d===";"){u.source.end=this.getPosition(s[2]),u.source.end.offset++,this.semicolon=!0;break}else if(d==="{"){D=!0;break}else if(d==="}"){if(M.length>0){for(O=M.length-1,_=M[O];_&&_[0]==="space";)_=M[--O];_&&(u.source.end=this.getPosition(_[3]||_[2]),u.source.end.offset++)}this.end(s);break}else M.push(s);else M.push(s);if(this.tokenizer.endOfFile()){x=!0;break}}u.raws.between=this.spacesAndCommentsFromEnd(M),M.length?(u.raws.afterName=this.spacesAndCommentsFromStart(M),this.raw(u,"params",M),x&&(s=M[M.length-1],u.source.end=this.getPosition(s[3]||s[2]),u.source.end.offset++,this.spaces=u.raws.between,u.raws.between="")):(u.raws.afterName="",u.params=""),D&&(u.nodes=[],this.current=u)}checkMissedSemicolon(s){let u=this.colon(s);if(u===!1)return;let d=0,_;for(let O=u-1;O>=0&&(_=s[O],!(_[0]!=="space"&&(d+=1,d===2)));O--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}colon(s){let u=0,d,_,O;for(let[x,D]of s.entries()){if(d=D,_=d[0],_==="("&&(u+=1),_===")"&&(u-=1),u===0&&_===":")if(!O)this.doubleColon(d);else{if(O[0]==="word"&&O[1]==="progid")continue;return x}O=d}return!1}comment(s){let u=new PE;this.init(u,s[2]),u.source.end=this.getPosition(s[3]||s[2]),u.source.end.offset++;let d=s[1].slice(2,-2);if(/^\s*$/.test(d))u.text="",u.raws.left=d,u.raws.right="";else{let _=d.match(/^(\s*)([^]*\S)(\s*)$/);u.text=_[2],u.raws.left=_[1],u.raws.right=_[3]}}createTokenizer(){this.tokenizer=ME(this.input)}decl(s,u){let d=new IE;this.init(d,s[0][2]);let _=s[s.length-1];for(_[0]===";"&&(this.semicolon=!0,s.pop()),d.source.end=this.getPosition(_[3]||_[2]||NE(s)),d.source.end.offset++;s[0][0]!=="word";)s.length===1&&this.unknownWord(s),d.raws.before+=s.shift()[1];for(d.source.start=this.getPosition(s[0][2]),d.prop="";s.length;){let L=s[0][0];if(L===":"||L==="space"||L==="comment")break;d.prop+=s.shift()[1]}d.raws.between="";let O;for(;s.length;)if(O=s.shift(),O[0]===":"){d.raws.between+=O[1];break}else O[0]==="word"&&/\w/.test(O[1])&&this.unknownWord([O]),d.raws.between+=O[1];(d.prop[0]==="_"||d.prop[0]==="*")&&(d.raws.before+=d.prop[0],d.prop=d.prop.slice(1));let x=[],D;for(;s.length&&(D=s[0][0],!(D!=="space"&&D!=="comment"));)x.push(s.shift());this.precheckMissedSemicolon(s);for(let L=s.length-1;L>=0;L--){if(O=s[L],O[1].toLowerCase()==="!important"){d.important=!0;let $=this.stringFrom(s,L);$=this.spacesFromEnd(s)+$,$!==" !important"&&(d.raws.important=$);break}else if(O[1].toLowerCase()==="important"){let $=s.slice(0),V="";for(let re=L;re>0;re--){let ee=$[re][0];if(V.trim().indexOf("!")===0&&ee!=="space")break;V=$.pop()[1]+V}V.trim().indexOf("!")===0&&(d.important=!0,d.raws.important=V,s=$)}if(O[0]!=="space"&&O[0]!=="comment")break}s.some(L=>L[0]!=="space"&&L[0]!=="comment")&&(d.raws.between+=x.map(L=>L[1]).join(""),x=[]),this.raw(d,"value",x.concat(s),u),d.value.includes(":")&&!u&&this.checkMissedSemicolon(s)}doubleColon(s){throw this.input.error("Double colon",{offset:s[2]},{offset:s[2]+s[1].length})}emptyRule(s){let u=new rg;this.init(u,s[2]),u.selector="",u.raws.between="",this.current=u}end(s){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(s[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(s)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(s){if(this.spaces+=s[1],this.current.nodes){let u=this.current.nodes[this.current.nodes.length-1];u&&u.type==="rule"&&!u.raws.ownSemicolon&&(u.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(s){let u=this.input.fromOffset(s);return{column:u.col,line:u.line,offset:s}}init(s,u){this.current.push(s),s.source={input:this.input,start:this.getPosition(u)},s.raws.before=this.spaces,this.spaces="",s.type!=="comment"&&(this.semicolon=!1)}other(s){let u=!1,d=null,_=!1,O=null,x=[],D=s[1].startsWith("--"),M=[],L=s;for(;L;){if(d=L[0],M.push(L),d==="("||d==="[")O||(O=L),x.push(d==="("?")":"]");else if(D&&_&&d==="{")O||(O=L),x.push("}");else if(x.length===0)if(d===";")if(_){this.decl(M,D);return}else break;else if(d==="{"){this.rule(M);return}else if(d==="}"){this.tokenizer.back(M.pop()),u=!0;break}else d===":"&&(_=!0);else d===x[x.length-1]&&(x.pop(),x.length===0&&(O=null));L=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(u=!0),x.length>0&&this.unclosedBracket(O),u&&_){if(!D)for(;M.length&&(L=M[M.length-1][0],!(L!=="space"&&L!=="comment"));)this.tokenizer.back(M.pop());this.decl(M,D)}else this.unknownWord(M)}parse(){let s;for(;!this.tokenizer.endOfFile();)switch(s=this.tokenizer.nextToken(),s[0]){case"space":this.spaces+=s[1];break;case";":this.freeSemicolon(s);break;case"}":this.end(s);break;case"comment":this.comment(s);break;case"at-word":this.atrule(s);break;case"{":this.emptyRule(s);break;default:this.other(s);break}this.endFile()}precheckMissedSemicolon(){}raw(s,u,d,_){let O,x,D=d.length,M="",L=!0,$,V;for(let re=0;re<D;re+=1)O=d[re],x=O[0],x==="space"&&re===D-1&&!_?L=!1:x==="comment"?(V=d[re-1]?d[re-1][0]:"empty",$=d[re+1]?d[re+1][0]:"empty",!ng[V]&&!ng[$]?M.slice(-1)===","?L=!1:M+=O[1]:L=!1):M+=O[1];if(!L){let re=d.reduce((ee,oe)=>ee+oe[1],"");s.raws[u]={raw:re,value:M}}s[u]=M}rule(s){s.pop();let u=new rg;this.init(u,s[0][2]),u.raws.between=this.spacesAndCommentsFromEnd(s),this.raw(u,"selector",s),this.current=u}spacesAndCommentsFromEnd(s){let u,d="";for(;s.length&&(u=s[s.length-1][0],!(u!=="space"&&u!=="comment"));)d=s.pop()[1]+d;return d}spacesAndCommentsFromStart(s){let u,d="";for(;s.length&&(u=s[0][0],!(u!=="space"&&u!=="comment"));)d+=s.shift()[1];return d}spacesFromEnd(s){let u,d="";for(;s.length&&(u=s[s.length-1][0],u==="space");)d=s.pop()[1]+d;return d}stringFrom(s,u){let d="";for(let _=u;_<s.length;_++)d+=s[_][1];return s.splice(u,s.length-u),d}unclosedBlock(){let s=this.current.source.start;throw this.input.error("Unclosed block",s.line,s.column)}unclosedBracket(s){throw this.input.error("Unclosed bracket",{offset:s[2]},{offset:s[2]+1})}unexpectedClose(s){throw this.input.error("Unexpected }",{offset:s[2]},{offset:s[2]+1})}unknownWord(s){throw this.input.error("Unknown word",{offset:s[0][2]},{offset:s[0][2]+s[0][1].length})}unnamedAtrule(s,u){throw this.input.error("At-rule without name",{offset:u[2]},{offset:u[2]+u[1].length})}};let jE=En,$E=UE,FE=Ra;function Fa(g,s){let u=new FE(g,s),d=new $E(u);try{d.parse()}catch(_){throw _}return d.root}var nc=Fa;Fa.default=Fa,jE.registerParse(Fa);let{isClean:Cr,my:BE}=Ns,zE=Lp,WE=wa,qE=En,VE=Yu,ig=Qu,GE=nc,HE=$s;const KE={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},XE={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},YE={Once:!0,postcssPlugin:!0,prepare:!0},Si=0;function Bs(g){return typeof g=="object"&&typeof g.then=="function"}function sg(g){let s=!1,u=KE[g.type];return g.type==="decl"?s=g.prop.toLowerCase():g.type==="atrule"&&(s=g.name.toLowerCase()),s&&g.append?[u,u+"-"+s,Si,u+"Exit",u+"Exit-"+s]:s?[u,u+"-"+s,u+"Exit",u+"Exit-"+s]:g.append?[u,Si,u+"Exit"]:[u,u+"Exit"]}function og(g){let s;return g.type==="document"?s=["Document",Si,"DocumentExit"]:g.type==="root"?s=["Root",Si,"RootExit"]:s=sg(g),{eventIndex:0,events:s,iterator:0,node:g,visitorIndex:0,visitors:[]}}function ic(g){return g[Cr]=!1,g.nodes&&g.nodes.forEach(s=>ic(s)),g}let sc={},Ei=class ib{constructor(s,u,d){this.stringified=!1,this.processed=!1;let _;if(typeof u=="object"&&u!==null&&(u.type==="root"||u.type==="document"))_=ic(u);else if(u instanceof ib||u instanceof ig)_=ic(u.root),u.map&&(typeof d.map>"u"&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=u.map);else{let O=GE;d.syntax&&(O=d.syntax.parse),d.parser&&(O=d.parser),O.parse&&(O=O.parse);try{_=O(u,d)}catch(x){this.processed=!0,this.error=x}_&&!_[BE]&&qE.rebuild(_)}this.result=new ig(s,_,d),this.helpers={...sc,postcss:sc,result:this.result},this.plugins=this.processor.plugins.map(O=>typeof O=="object"&&O.prepare?{...O,...O.prepare(this.result)}:O)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(s){return this.async().catch(s)}finally(s){return this.async().then(s,s)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(s,u){let d=this.result.lastPlugin;try{u&&u.addToError(s),this.error=s,s.name==="CssSyntaxError"&&!s.plugin?(s.plugin=d.postcssPlugin,s.setMessage()):d.postcssVersion}catch(_){console&&console.error&&console.error(_)}return s}prepareVisitors(){this.listeners={};let s=(u,d,_)=>{this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push([u,_])};for(let u of this.plugins)if(typeof u=="object")for(let d in u){if(!XE[d]&&/^[A-Z]/.test(d))throw new Error("Unknown event ".concat(d," in ").concat(u.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!YE[d])if(typeof u[d]=="object")for(let _ in u[d])_==="*"?s(u,d,u[d][_]):s(u,d+"-"+_.toLowerCase(),u[d][_]);else typeof u[d]=="function"&&s(u,d,u[d])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let s=0;s<this.plugins.length;s++){let u=this.plugins[s],d=this.runOnRoot(u);if(Bs(d))try{await d}catch(_){throw this.handleError(_)}}if(this.prepareVisitors(),this.hasListener){let s=this.result.root;for(;!s[Cr];){s[Cr]=!0;let u=[og(s)];for(;u.length>0;){let d=this.visitTick(u);if(Bs(d))try{await d}catch(_){let O=u[u.length-1].node;throw this.handleError(_,O)}}}if(this.listeners.OnceExit)for(let[u,d]of this.listeners.OnceExit){this.result.lastPlugin=u;try{if(s.type==="document"){let _=s.nodes.map(O=>d(O,this.helpers));await Promise.all(_)}else await d(s,this.helpers)}catch(_){throw this.handleError(_)}}}return this.processed=!0,this.stringify()}runOnRoot(s){this.result.lastPlugin=s;try{if(typeof s=="object"&&s.Once){if(this.result.root.type==="document"){let u=this.result.root.nodes.map(d=>s.Once(d,this.helpers));return Bs(u[0])?Promise.all(u):u}return s.Once(this.result.root,this.helpers)}else if(typeof s=="function")return s(this.result.root,this.result)}catch(u){throw this.handleError(u)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let s=this.result.opts,u=WE;s.syntax&&(u=s.syntax.stringify),s.stringifier&&(u=s.stringifier),u.stringify&&(u=u.stringify);let _=new zE(u,this.result.root,this.result.opts).generate();return this.result.css=_[0],this.result.map=_[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let s of this.plugins){let u=this.runOnRoot(s);if(Bs(u))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let s=this.result.root;for(;!s[Cr];)s[Cr]=!0,this.walkSync(s);if(this.listeners.OnceExit)if(s.type==="document")for(let u of s.nodes)this.visitSync(this.listeners.OnceExit,u);else this.visitSync(this.listeners.OnceExit,s)}return this.result}then(s,u){return this.async().then(s,u)}toString(){return this.css}visitSync(s,u){for(let[d,_]of s){this.result.lastPlugin=d;let O;try{O=_(u,this.helpers)}catch(x){throw this.handleError(x,u.proxyOf)}if(u.type!=="root"&&u.type!=="document"&&!u.parent)return!0;if(Bs(O))throw this.getAsyncError()}}visitTick(s){let u=s[s.length-1],{node:d,visitors:_}=u;if(d.type!=="root"&&d.type!=="document"&&!d.parent){s.pop();return}if(_.length>0&&u.visitorIndex<_.length){let[x,D]=_[u.visitorIndex];u.visitorIndex+=1,u.visitorIndex===_.length&&(u.visitors=[],u.visitorIndex=0),this.result.lastPlugin=x;try{return D(d.toProxy(),this.helpers)}catch(M){throw this.handleError(M,d)}}if(u.iterator!==0){let x=u.iterator,D;for(;D=d.nodes[d.indexes[x]];)if(d.indexes[x]+=1,!D[Cr]){D[Cr]=!0,s.push(og(D));return}u.iterator=0,delete d.indexes[x]}let O=u.events;for(;u.eventIndex<O.length;){let x=O[u.eventIndex];if(u.eventIndex+=1,x===Si){d.nodes&&d.nodes.length&&(d[Cr]=!0,u.iterator=d.getIterator());return}else if(this.listeners[x]){u.visitors=this.listeners[x];return}}s.pop()}walkSync(s){s[Cr]=!0;let u=sg(s);for(let d of u)if(d===Si)s.nodes&&s.each(_=>{_[Cr]||this.walkSync(_)});else{let _=this.listeners[d];if(_&&this.visitSync(_,s.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Ei.registerPostcss=g=>{sc=g};var ag=Ei;Ei.default=Ei,HE.registerLazyResult(Ei),VE.registerLazyResult(Ei);let JE=Lp,ZE=wa,QE=nc;const eC=Qu;let oc=class{constructor(s,u,d){u=u.toString(),this.stringified=!1,this._processor=s,this._css=u,this._opts=d,this._map=void 0;let _,O=ZE;this.result=new eC(this._processor,_,this._opts),this.result.css=u;let x=this;Object.defineProperty(this.result,"root",{get(){return x.root}});let D=new JE(O,_,this._opts,u);if(D.isMap()){let[M,L]=D.generate();M&&(this.result.css=M),L&&(this.result.map=L)}else D.clearAnnotation(),this.result.css=D.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(s){return this.async().catch(s)}finally(s){return this.async().then(s,s)}sync(){if(this.error)throw this.error;return this.result}then(s,u){return this.async().then(s,u)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let s,u=QE;try{s=u(this._css,this._opts)}catch(d){this.error=d}if(this.error)throw this.error;return this._root=s,s}get[Symbol.toStringTag](){return"NoWorkResult"}};var tC=oc;oc.default=oc;let rC=tC,nC=ag,iC=Yu,sC=$s,zs=class{constructor(s=[]){this.version="8.4.38",this.plugins=this.normalize(s)}normalize(s){let u=[];for(let d of s)if(d.postcss===!0?d=d():d.postcss&&(d=d.postcss),typeof d=="object"&&Array.isArray(d.plugins))u=u.concat(d.plugins);else if(typeof d=="object"&&d.postcssPlugin)u.push(d);else if(typeof d=="function")u.push(d);else if(!(typeof d=="object"&&(d.parse||d.stringify)))throw new Error(d+" is not a PostCSS plugin");return u}process(s,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new rC(this,s,u):new nC(this,s,u)}use(s){return this.plugins=this.plugins.concat(this.normalize([s])),this}};var oC=zs;zs.default=zs,sC.registerProcessor(zs),iC.registerProcessor(zs);let aC=Ca,lC=Op,uC=Aa,cC=tc,hC=Ra,dC=$s,fC=rc;function Ws(g,s){if(Array.isArray(g))return g.map(_=>Ws(_));let{inputs:u,...d}=g;if(u){s=[];for(let _ of u){let O={..._,__proto__:hC.prototype};O.map&&(O.map={...O.map,__proto__:lC.prototype}),s.push(O)}}if(d.nodes&&(d.nodes=g.nodes.map(_=>Ws(_,s))),d.source){let{inputId:_,...O}=d.source;d.source=O,_!=null&&(d.source.input=s[_])}if(d.type==="root")return new dC(d);if(d.type==="decl")return new aC(d);if(d.type==="rule")return new fC(d);if(d.type==="comment")return new uC(d);if(d.type==="atrule")return new cC(d);throw new Error("Unknown node type: "+g.type)}var pC=Ws;Ws.default=Ws;let gC=Lu,lg=Ca,mC=ag,_C=En,ac=oC,yC=wa,vC=pC,ug=Yu,bC=Gp,cg=Aa,hg=tc,wC=Qu,SC=Ra,EC=nc,CC=eg,dg=rc,fg=$s,TC=Ea;function Ne(...g){return g.length===1&&Array.isArray(g[0])&&(g=g[0]),new ac(g)}Ne.plugin=function(s,u){let d=!1;function _(...x){console&&console.warn&&!d&&(d=!0,console.warn(s+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),e.LANG&&e.LANG.startsWith("cn")&&console.warn(s+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));let D=u(...x);return D.postcssPlugin=s,D.postcssVersion=new ac().version,D}let O;return Object.defineProperty(_,"postcss",{get(){return O||(O=_()),O}}),_.process=function(x,D,M){return Ne([_(M)]).process(x,D)},_},Ne.stringify=yC,Ne.parse=EC,Ne.fromJSON=vC,Ne.list=CC,Ne.comment=g=>new cg(g),Ne.atRule=g=>new hg(g),Ne.decl=g=>new lg(g),Ne.rule=g=>new dg(g),Ne.root=g=>new fg(g),Ne.document=g=>new ug(g),Ne.CssSyntaxError=gC,Ne.Declaration=lg,Ne.Container=_C,Ne.Processor=ac,Ne.Document=ug,Ne.Comment=cg,Ne.Warning=bC,Ne.AtRule=hg,Ne.Result=wC,Ne.Input=SC,Ne.Rule=dg,Ne.Root=fg,Ne.Node=TC,mC.registerPostcss(Ne);var OC=Ne;Ne.default=Ne;const He=q1(OC);He.stringify,He.fromJSON,He.plugin,He.parse,He.list,He.document,He.comment,He.atRule,He.rule,He.decl,He.root,He.CssSyntaxError,He.Declaration,He.Container,He.Processor,He.Document,He.Comment,He.Warning,He.AtRule,He.Result,He.Input,He.Rule,He.Root,He.Node;class lc{constructor(...s){rr(this,"parentElement",null),rr(this,"parentNode",null),rr(this,"ownerDocument"),rr(this,"firstChild",null),rr(this,"lastChild",null),rr(this,"previousSibling",null),rr(this,"nextSibling",null),rr(this,"ELEMENT_NODE",1),rr(this,"TEXT_NODE",3),rr(this,"nodeType"),rr(this,"nodeName"),rr(this,"RRNodeType")}get childNodes(){const s=[];let u=this.firstChild;for(;u;)s.push(u),u=u.nextSibling;return s}contains(s){if(s instanceof lc){if(s.ownerDocument!==this.ownerDocument)return!1;if(s===this)return!0}else return!1;for(;s.parentNode;){if(s.parentNode===this)return!0;s=s.parentNode}return!1}appendChild(s){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(s,u){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(s){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const pg={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},gg={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ba={};function uc(g){if(Ba[g])return Ba[g];const s=globalThis[g],u=s.prototype,d=g in pg?pg[g]:void 0,_=!!(d&&d.every(D=>{var M,L;return!!((L=(M=Object.getOwnPropertyDescriptor(u,D))==null?void 0:M.get)!=null&&L.toString().includes("[native code]"))})),O=g in gg?gg[g]:void 0,x=!!(O&&O.every(D=>{var M;return typeof u[D]=="function"&&((M=u[D])==null?void 0:M.toString().includes("[native code]"))}));if(_&&x)return Ba[g]=s.prototype,s.prototype;try{const D=document.createElement("iframe");document.body.appendChild(D);const M=D.contentWindow;if(!M)return s.prototype;const L=M[g].prototype;return document.body.removeChild(D),L?Ba[g]=L:u}catch(D){return u}}const cc={};function en(g,s,u){var d;const _="".concat(g,".").concat(String(u));if(cc[_])return cc[_].call(s);const O=uc(g),x=(d=Object.getOwnPropertyDescriptor(O,u))==null?void 0:d.get;return x?(cc[_]=x,x.call(s)):s[u]}const hc={};function mg(g,s,u){const d="".concat(g,".").concat(String(u));if(hc[d])return hc[d].bind(s);const O=uc(g)[u];return typeof O!="function"?s[u]:(hc[d]=O,O.bind(s))}function RC(g){return en("Node",g,"childNodes")}function kC(g){return en("Node",g,"parentNode")}function xC(g){return en("Node",g,"parentElement")}function AC(g){return en("Node",g,"textContent")}function IC(g,s){return mg("Node",g,"contains")(s)}function MC(g){return mg("Node",g,"getRootNode")()}function PC(g){return!g||!("host"in g)?null:en("ShadowRoot",g,"host")}function DC(g){return g.styleSheets}function LC(g){return!g||!("shadowRoot"in g)?null:en("Element",g,"shadowRoot")}function NC(g,s){return en("Element",g,"querySelector")(s)}function UC(g,s){return en("Element",g,"querySelectorAll")(s)}function _g(){return uc("MutationObserver").constructor}const Oe={childNodes:RC,parentNode:kC,parentElement:xC,textContent:AC,contains:IC,getRootNode:MC,host:PC,styleSheets:DC,shadowRoot:LC,querySelector:NC,querySelectorAll:UC,mutationObserver:_g};function kt(g,s,u=document){const d={capture:!0,passive:!0};return u.addEventListener(g,s,d),()=>u.removeEventListener(g,s,d)}const Ci="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let yg={map:{},getId(){return console.error(Ci),-1},getNode(){return console.error(Ci),null},removeNodeFromMap(){console.error(Ci)},has(){return console.error(Ci),!1},reset(){console.error(Ci)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(yg=new Proxy(yg,{get(g,s,u){return s==="map"&&console.error(Ci),Reflect.get(g,s,u)}}));function qs(g,s,u={}){let d=null,_=0;return function(...O){const x=Date.now();!_&&u.leading===!1&&(_=x);const D=s-(x-_),M=this;D<=0||D>s?(d&&(clearTimeout(d),d=null),_=x,g.apply(M,O)):!d&&u.trailing!==!1&&(d=setTimeout(()=>{_=u.leading===!1?0:Date.now(),d=null,g.apply(M,O)},D))}}function za(g,s,u,d,_=window){const O=_.Object.getOwnPropertyDescriptor(g,s);return _.Object.defineProperty(g,s,d?u:{set(x){setTimeout(()=>{u.set.call(this,x)},0),O&&O.set&&O.set.call(this,x)}}),()=>za(g,s,O||{},!0)}function Ti(g,s,u){try{if(!(s in g))return()=>{};const d=g[s],_=u(d);return typeof _=="function"&&(_.prototype=_.prototype||{},Object.defineProperties(_,{__rrweb_original__:{enumerable:!1,value:d}})),g[s]=_,()=>{g[s]=d}}catch(d){return()=>{}}}let Wa=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Wa=()=>new Date().getTime());function vg(g){var s,u,d,_;const O=g.document;return{left:O.scrollingElement?O.scrollingElement.scrollLeft:g.pageXOffset!==void 0?g.pageXOffset:O.documentElement.scrollLeft||(O==null?void 0:O.body)&&((s=Oe.parentElement(O.body))==null?void 0:s.scrollLeft)||((u=O==null?void 0:O.body)==null?void 0:u.scrollLeft)||0,top:O.scrollingElement?O.scrollingElement.scrollTop:g.pageYOffset!==void 0?g.pageYOffset:(O==null?void 0:O.documentElement.scrollTop)||(O==null?void 0:O.body)&&((d=Oe.parentElement(O.body))==null?void 0:d.scrollTop)||((_=O==null?void 0:O.body)==null?void 0:_.scrollTop)||0}}function bg(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function wg(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Sg(g){return g?g.nodeType===g.ELEMENT_NODE?g:Oe.parentElement(g):null}function xt(g,s,u,d){if(!g)return!1;const _=Sg(g);if(!_)return!1;try{if(typeof s=="string"){if(_.classList.contains(s)||d&&_.closest("."+s)!==null)return!0}else if(Zr(_,s,d))return!0}catch(O){}return!!(u&&(_.matches(u)||d&&_.closest(u)!==null))}function jC(g,s){return s.getId(g)!==-1}function dc(g,s,u){return g.tagName==="TITLE"&&u.headTitleMutations?!0:s.getId(g)===Jr}function Eg(g,s){if(N(g))return!1;const u=s.getId(g);if(!s.has(u))return!0;const d=Oe.parentNode(g);return d&&d.nodeType===g.DOCUMENT_NODE?!1:d?Eg(d,s):!0}function fc(g){return!!g.changedTouches}function $C(g=window){"NodeList"in g&&!g.NodeList.prototype.forEach&&(g.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in g&&!g.DOMTokenList.prototype.forEach&&(g.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Cg(g,s){return!!(g.nodeName==="IFRAME"&&s.getMeta(g))}function Tg(g,s){return!!(g.nodeName==="LINK"&&g.nodeType===g.ELEMENT_NODE&&g.getAttribute&&g.getAttribute("rel")==="stylesheet"&&s.getMeta(g))}function pc(g){return g?g instanceof lc&&"shadowRoot"in g?!!g.shadowRoot:!!Oe.shadowRoot(g):!1}class FC{constructor(){i(this,"id",1),i(this,"styleIDMap",new WeakMap),i(this,"idStyleMap",new Map)}getId(s){var u;return(u=this.styleIDMap.get(s))!=null?u:-1}has(s){return this.styleIDMap.has(s)}add(s,u){if(this.has(s))return this.getId(s);let d;return u===void 0?d=this.id++:d=u,this.styleIDMap.set(s,d),this.idStyleMap.set(d,s),d}getStyle(s){return this.idStyleMap.get(s)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Og(g){var s;let u=null;return"getRootNode"in g&&((s=Oe.getRootNode(g))==null?void 0:s.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Oe.host(Oe.getRootNode(g))&&(u=Oe.host(Oe.getRootNode(g))),u}function BC(g){let s=g,u;for(;u=Og(s);)s=u;return s}function zC(g){const s=g.ownerDocument;if(!s)return!1;const u=BC(g);return Oe.contains(s,u)}function Rg(g){const s=g.ownerDocument;return s?Oe.contains(s,g)||zC(g):!1}var Ie=(g=>(g[g.DomContentLoaded=0]="DomContentLoaded",g[g.Load=1]="Load",g[g.FullSnapshot=2]="FullSnapshot",g[g.IncrementalSnapshot=3]="IncrementalSnapshot",g[g.Meta=4]="Meta",g[g.Custom=5]="Custom",g[g.Plugin=6]="Plugin",g))(Ie||{}),Re=(g=>(g[g.Mutation=0]="Mutation",g[g.MouseMove=1]="MouseMove",g[g.MouseInteraction=2]="MouseInteraction",g[g.Scroll=3]="Scroll",g[g.ViewportResize=4]="ViewportResize",g[g.Input=5]="Input",g[g.TouchMove=6]="TouchMove",g[g.MediaInteraction=7]="MediaInteraction",g[g.StyleSheetRule=8]="StyleSheetRule",g[g.CanvasMutation=9]="CanvasMutation",g[g.Font=10]="Font",g[g.Log=11]="Log",g[g.Drag=12]="Drag",g[g.StyleDeclaration=13]="StyleDeclaration",g[g.Selection=14]="Selection",g[g.AdoptedStyleSheet=15]="AdoptedStyleSheet",g[g.CustomElement=16]="CustomElement",g))(Re||{}),Nt=(g=>(g[g.MouseUp=0]="MouseUp",g[g.MouseDown=1]="MouseDown",g[g.Click=2]="Click",g[g.ContextMenu=3]="ContextMenu",g[g.DblClick=4]="DblClick",g[g.Focus=5]="Focus",g[g.Blur=6]="Blur",g[g.TouchStart=7]="TouchStart",g[g.TouchMove_Departed=8]="TouchMove_Departed",g[g.TouchEnd=9]="TouchEnd",g[g.TouchCancel=10]="TouchCancel",g))(Nt||{}),Nr=(g=>(g[g.Mouse=0]="Mouse",g[g.Pen=1]="Pen",g[g.Touch=2]="Touch",g))(Nr||{}),Oi=(g=>(g[g["2D"]=0]="2D",g[g.WebGL=1]="WebGL",g[g.WebGL2=2]="WebGL2",g))(Oi||{}),Ri=(g=>(g[g.Play=0]="Play",g[g.Pause=1]="Pause",g[g.Seeked=2]="Seeked",g[g.VolumeChange=3]="VolumeChange",g[g.RateChange=4]="RateChange",g))(Ri||{});function kg(g){return"__ln"in g}class WC{constructor(){i(this,"length",0),i(this,"head",null),i(this,"tail",null)}get(s){if(s>=this.length)throw new Error("Position outside of list range");let u=this.head;for(let d=0;d<s;d++)u=(u==null?void 0:u.next)||null;return u}addNode(s){const u={value:s,previous:null,next:null};if(s.__ln=u,s.previousSibling&&kg(s.previousSibling)){const d=s.previousSibling.__ln.next;u.next=d,u.previous=s.previousSibling.__ln,s.previousSibling.__ln.next=u,d&&(d.previous=u)}else if(s.nextSibling&&kg(s.nextSibling)&&s.nextSibling.__ln.previous){const d=s.nextSibling.__ln.previous;u.previous=d,u.next=s.nextSibling.__ln,s.nextSibling.__ln.previous=u,d&&(d.next=u)}else this.head&&(this.head.previous=u),u.next=this.head,this.head=u;u.next===null&&(this.tail=u),this.length++}removeNode(s){const u=s.__ln;this.head&&(u.previous?(u.previous.next=u.next,u.next?u.next.previous=u.previous:this.tail=u.previous):(this.head=u.next,this.head?this.head.previous=null:this.tail=null),s.__ln&&delete s.__ln,this.length--)}}const xg=(g,s)=>"".concat(g,"@").concat(s);class qC{constructor(){i(this,"frozen",!1),i(this,"locked",!1),i(this,"texts",[]),i(this,"attributes",[]),i(this,"attributeMap",new WeakMap),i(this,"removes",[]),i(this,"mapRemoves",[]),i(this,"movedMap",{}),i(this,"addedSet",new Set),i(this,"movedSet",new Set),i(this,"droppedSet",new Set),i(this,"mutationCb"),i(this,"blockClass"),i(this,"blockSelector"),i(this,"maskTextClass"),i(this,"maskTextSelector"),i(this,"inlineStylesheet"),i(this,"maskInputOptions"),i(this,"maskTextFn"),i(this,"maskInputFn"),i(this,"keepIframeSrcFn"),i(this,"recordCanvas"),i(this,"inlineImages"),i(this,"slimDOMOptions"),i(this,"dataURLOptions"),i(this,"doc"),i(this,"mirror"),i(this,"iframeManager"),i(this,"stylesheetManager"),i(this,"shadowDomManager"),i(this,"canvasManager"),i(this,"processedNodeManager"),i(this,"unattachedDoc"),i(this,"processMutations",s=>{s.forEach(this.processMutation),this.emit()}),i(this,"emit",()=>{if(this.frozen||this.locked)return;const s=[],u=new Set,d=new WC,_=M=>{let L=M,$=Jr;for(;$===Jr;)L=L&&L.nextSibling,$=L&&this.mirror.getId(L);return $},O=M=>{const L=Oe.parentNode(M);if(!L||!Rg(M)||L.tagName==="TEXTAREA")return;const $=N(L)?this.mirror.getId(Og(M)):this.mirror.getId(L),V=_(M);if($===-1||V===-1)return d.addNode(M);const re=_i(M,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:ee=>{Cg(ee,this.mirror)&&this.iframeManager.addIframe(ee),Tg(ee,this.mirror)&&this.stylesheetManager.trackLinkElement(ee),pc(M)&&this.shadowDomManager.addShadowRoot(Oe.shadowRoot(M),this.doc)},onIframeLoad:(ee,oe)=>{this.iframeManager.attachIframe(ee,oe),this.shadowDomManager.observeAttachShadow(ee)},onStylesheetLoad:(ee,oe)=>{this.stylesheetManager.attachLinkElement(ee,oe)}});re&&(s.push({parentId:$,nextId:V,node:re}),u.add(re.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const M of this.movedSet)Ag(this.removes,M,this.mirror)&&!this.movedSet.has(Oe.parentNode(M))||O(M);for(const M of this.addedSet)!Ig(this.droppedSet,M)&&!Ag(this.removes,M,this.mirror)||Ig(this.movedSet,M)?O(M):this.droppedSet.add(M);let x=null;for(;d.length;){let M=null;if(x){const L=this.mirror.getId(Oe.parentNode(x.value)),$=_(x.value);L!==-1&&$!==-1&&(M=x)}if(!M){let L=d.tail;for(;L;){const $=L;if(L=L.previous,$){const V=this.mirror.getId(Oe.parentNode($.value));if(_($.value)===-1)continue;if(V!==-1){M=$;break}else{const ee=$.value,oe=Oe.parentNode(ee);if(oe&&oe.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const X=Oe.host(oe);if(this.mirror.getId(X)!==-1){M=$;break}}}}}}if(!M){for(;d.head;)d.removeNode(d.head.value);break}x=M.previous,d.removeNode(M.value),O(M.value)}const D={texts:this.texts.map(M=>{const L=M.node,$=Oe.parentNode(L);return $&&$.tagName==="TEXTAREA"&&this.genTextAreaValueMutation($),{id:this.mirror.getId(L),value:M.value}}).filter(M=>!u.has(M.id)).filter(M=>this.mirror.has(M.id)),attributes:this.attributes.map(M=>{const{attributes:L}=M;if(typeof L.style=="string"){const $=JSON.stringify(M.styleDiff),V=JSON.stringify(M._unchangedStyles);$.length<L.style.length&&($+V).split("var(").length===L.style.split("var(").length&&(L.style=M.styleDiff)}return{id:this.mirror.getId(M.node),attributes:L}}).filter(M=>!u.has(M.id)).filter(M=>this.mirror.has(M.id)),removes:this.removes,adds:s};!D.texts.length&&!D.attributes.length&&!D.removes.length&&!D.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(D))}),i(this,"genTextAreaValueMutation",s=>{let u=this.attributeMap.get(s);u||(u={node:s,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(u),this.attributeMap.set(s,u)),u.attributes.value=Array.from(Oe.childNodes(s),d=>Oe.textContent(d)||"").join("")}),i(this,"processMutation",s=>{if(!dc(s.target,this.mirror,this.slimDOMOptions))switch(s.type){case"characterData":{const u=Oe.textContent(s.target);!xt(s.target,this.blockClass,this.blockSelector,!1)&&u!==s.oldValue&&this.texts.push({value:Qr(s.target,this.maskTextClass,this.maskTextSelector,!0)&&u?this.maskTextFn?this.maskTextFn(u,Sg(s.target)):u.replace(/[\S]/g,"*"):u,node:s.target});break}case"attributes":{const u=s.target;let d=s.attributeName,_=s.target.getAttribute(d);if(d==="value"){const x=ie(u);_=Y({element:u,maskInputOptions:this.maskInputOptions,tagName:u.tagName,type:x,value:_,maskInputFn:this.maskInputFn})}if(xt(s.target,this.blockClass,this.blockSelector,!1)||_===s.oldValue)return;let O=this.attributeMap.get(s.target);if(u.tagName==="IFRAME"&&d==="src"&&!this.keepIframeSrcFn(_))if(!u.contentDocument)d="rr_src";else return;if(O||(O={node:s.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(O),this.attributeMap.set(s.target,O)),d==="type"&&u.tagName==="INPUT"&&(s.oldValue||"").toLowerCase()==="password"&&u.setAttribute("data-rr-is-password","true"),!ea(u.tagName,d))if(O.attributes[d]=Rs(this.doc,ae(u.tagName),ae(d),_),d==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(D){this.unattachedDoc=this.doc}const x=this.unattachedDoc.createElement("span");s.oldValue&&x.setAttribute("style",s.oldValue);for(const D of Array.from(u.style)){const M=u.style.getPropertyValue(D),L=u.style.getPropertyPriority(D);M!==x.style.getPropertyValue(D)||L!==x.style.getPropertyPriority(D)?L===""?O.styleDiff[D]=M:O.styleDiff[D]=[M,L]:O._unchangedStyles[D]=[M,L]}for(const D of Array.from(x.style))u.style.getPropertyValue(D)===""&&(O.styleDiff[D]=!1)}else d==="open"&&u.tagName==="DIALOG"&&(u.matches("dialog:modal")?O.attributes.rr_open_mode="modal":O.attributes.rr_open_mode="non-modal");break}case"childList":{if(xt(s.target,this.blockClass,this.blockSelector,!0))return;if(s.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(s.target);return}s.addedNodes.forEach(u=>this.genAdds(u,s.target)),s.removedNodes.forEach(u=>{const d=this.mirror.getId(u),_=N(s.target)?this.mirror.getId(Oe.host(s.target)):this.mirror.getId(s.target);xt(s.target,this.blockClass,this.blockSelector,!1)||dc(u,this.mirror,this.slimDOMOptions)||!jC(u,this.mirror)||(this.addedSet.has(u)?(gc(this.addedSet,u),this.droppedSet.add(u)):this.addedSet.has(s.target)&&d===-1||Eg(s.target,this.mirror)||(this.movedSet.has(u)&&this.movedMap[xg(d,_)]?gc(this.movedSet,u):this.removes.push({parentId:_,id:d,isShadow:N(s.target)&&F(s.target)?!0:void 0})),this.mapRemoves.push(u))});break}}}),i(this,"genAdds",(s,u)=>{if(!this.processedNodeManager.inOtherBuffer(s,this)&&!(this.addedSet.has(s)||this.movedSet.has(s))){if(this.mirror.hasNode(s)){if(dc(s,this.mirror,this.slimDOMOptions))return;this.movedSet.add(s);let d=null;u&&this.mirror.hasNode(u)&&(d=this.mirror.getId(u)),d&&d!==-1&&(this.movedMap[xg(this.mirror.getId(s),d)]=!0)}else this.addedSet.add(s),this.droppedSet.delete(s);xt(s,this.blockClass,this.blockSelector,!1)||(Oe.childNodes(s).forEach(d=>this.genAdds(d)),pc(s)&&Oe.childNodes(Oe.shadowRoot(s)).forEach(d=>{this.processedNodeManager.add(d,this),this.genAdds(d,s)}))}})}init(s){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(u=>{this[u]=s[u]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function gc(g,s){g.delete(s),Oe.childNodes(s).forEach(u=>gc(g,u))}function Ag(g,s,u){return g.length===0?!1:VC(g,s,u)}function VC(g,s,u){let d=Oe.parentNode(s);for(;d;){const _=u.getId(d);if(g.some(O=>O.id===_))return!0;d=Oe.parentNode(d)}return!1}function Ig(g,s){return g.size===0?!1:Mg(g,s)}function Mg(g,s){const u=Oe.parentNode(s);return u?g.has(u)?!0:Mg(g,u):!1}let Vs;function GC(g){Vs=g}function HC(){Vs=void 0}const xe=g=>Vs?(...u)=>{try{return g(...u)}catch(d){if(Vs&&Vs(d)===!0)return;throw d}}:g,Cn=[];function Gs(g){try{if("composedPath"in g){const s=g.composedPath();if(s.length)return s[0]}else if("path"in g&&g.path.length)return g.path[0]}catch(s){}return g&&g.target}function Pg(g,s){const u=new qC;Cn.push(u),u.init(g);const d=new(_g())(xe(u.processMutations.bind(u)));return d.observe(s,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),d}function KC({mousemoveCb:g,sampling:s,doc:u,mirror:d}){if(s.mousemove===!1)return()=>{};const _=typeof s.mousemove=="number"?s.mousemove:50,O=typeof s.mousemoveCallback=="number"?s.mousemoveCallback:500;let x=[],D;const M=qs(xe(V=>{const re=Date.now()-D;g(x.map(ee=>(ee.timeOffset-=re,ee)),V),x=[],D=null}),O),L=xe(qs(xe(V=>{const re=Gs(V),{clientX:ee,clientY:oe}=fc(V)?V.changedTouches[0]:V;D||(D=Wa()),x.push({x:ee,y:oe,id:d.getId(re),timeOffset:Wa()-D}),M(typeof DragEvent<"u"&&V instanceof DragEvent?Re.Drag:V instanceof MouseEvent?Re.MouseMove:Re.TouchMove)}),_,{trailing:!1})),$=[kt("mousemove",L,u),kt("touchmove",L,u),kt("drag",L,u)];return xe(()=>{$.forEach(V=>V())})}function XC({mouseInteractionCb:g,doc:s,mirror:u,blockClass:d,blockSelector:_,sampling:O}){if(O.mouseInteraction===!1)return()=>{};const x=O.mouseInteraction===!0||O.mouseInteraction===void 0?{}:O.mouseInteraction,D=[];let M=null;const L=$=>V=>{const re=Gs(V);if(xt(re,d,_,!0))return;let ee=null,oe=$;if("pointerType"in V){switch(V.pointerType){case"mouse":ee=Nr.Mouse;break;case"touch":ee=Nr.Touch;break;case"pen":ee=Nr.Pen;break}ee===Nr.Touch?Nt[$]===Nt.MouseDown?oe="TouchStart":Nt[$]===Nt.MouseUp&&(oe="TouchEnd"):Nr.Pen}else fc(V)&&(ee=Nr.Touch);ee!==null?(M=ee,(oe.startsWith("Touch")&&ee===Nr.Touch||oe.startsWith("Mouse")&&ee===Nr.Mouse)&&(ee=null)):Nt[$]===Nt.Click&&(ee=M,M=null);const X=fc(V)?V.changedTouches[0]:V;if(!X)return;const G=u.getId(re),{clientX:be,clientY:ye}=X;xe(g)({type:Nt[oe],id:G,x:be,y:ye,...ee!==null&&{pointerType:ee}})};return Object.keys(Nt).filter($=>Number.isNaN(Number($))&&!$.endsWith("_Departed")&&x[$]!==!1).forEach($=>{let V=ae($);const re=L($);if(window.PointerEvent)switch(Nt[$]){case Nt.MouseDown:case Nt.MouseUp:V=V.replace("mouse","pointer");break;case Nt.TouchStart:case Nt.TouchEnd:return}D.push(kt(V,re,s))}),xe(()=>{D.forEach($=>$())})}function Dg({scrollCb:g,doc:s,mirror:u,blockClass:d,blockSelector:_,sampling:O}){const x=xe(qs(xe(D=>{const M=Gs(D);if(!M||xt(M,d,_,!0))return;const L=u.getId(M);if(M===s&&s.defaultView){const $=vg(s.defaultView);g({id:L,x:$.left,y:$.top})}else g({id:L,x:M.scrollLeft,y:M.scrollTop})}),O.scroll||100));return kt("scroll",x,s)}function YC({viewportResizeCb:g},{win:s}){let u=-1,d=-1;const _=xe(qs(xe(()=>{const O=bg(),x=wg();(u!==O||d!==x)&&(g({width:Number(x),height:Number(O)}),u=O,d=x)}),200));return kt("resize",_,s)}const JC=["INPUT","TEXTAREA","SELECT"],Lg=new WeakMap;function ZC({inputCb:g,doc:s,mirror:u,blockClass:d,blockSelector:_,ignoreClass:O,ignoreSelector:x,maskInputOptions:D,maskInputFn:M,sampling:L,userTriggeredOnInput:$}){function V(ye){let ue=Gs(ye);const we=ye.isTrusted,Ue=ue&&ue.tagName;if(ue&&Ue==="OPTION"&&(ue=Oe.parentElement(ue)),!ue||!Ue||JC.indexOf(Ue)<0||xt(ue,d,_,!0)||ue.classList.contains(O)||x&&ue.matches(x))return;let Ve=ue.value,_t=!1;const Me=ie(ue)||"";Me==="radio"||Me==="checkbox"?_t=ue.checked:(D[Ue.toLowerCase()]||D[Me])&&(Ve=Y({element:ue,maskInputOptions:D,tagName:Ue,type:Me,value:Ve,maskInputFn:M})),re(ue,$?{text:Ve,isChecked:_t,userTriggered:we}:{text:Ve,isChecked:_t});const yt=ue.name;Me==="radio"&&yt&&_t&&s.querySelectorAll('input[type="radio"][name="'.concat(yt,'"]')).forEach(vt=>{if(vt!==ue){const nr=vt.value;re(vt,$?{text:nr,isChecked:!_t,userTriggered:!1}:{text:nr,isChecked:!_t})}})}function re(ye,ue){const we=Lg.get(ye);if(!we||we.text!==ue.text||we.isChecked!==ue.isChecked){Lg.set(ye,ue);const Ue=u.getId(ye);xe(g)({...ue,id:Ue})}}const oe=(L.input==="last"?["change"]:["input","change"]).map(ye=>kt(ye,xe(V),s)),X=s.defaultView;if(!X)return()=>{oe.forEach(ye=>ye())};const G=X.Object.getOwnPropertyDescriptor(X.HTMLInputElement.prototype,"value"),be=[[X.HTMLInputElement.prototype,"value"],[X.HTMLInputElement.prototype,"checked"],[X.HTMLSelectElement.prototype,"value"],[X.HTMLTextAreaElement.prototype,"value"],[X.HTMLSelectElement.prototype,"selectedIndex"],[X.HTMLOptionElement.prototype,"selected"]];return G&&G.set&&oe.push(...be.map(ye=>za(ye[0],ye[1],{set(){xe(V)({target:this,isTrusted:!1})}},!1,X))),xe(()=>{oe.forEach(ye=>ye())})}function qa(g){const s=[];function u(d,_){if(Va("CSSGroupingRule")&&d.parentRule instanceof CSSGroupingRule||Va("CSSMediaRule")&&d.parentRule instanceof CSSMediaRule||Va("CSSSupportsRule")&&d.parentRule instanceof CSSSupportsRule||Va("CSSConditionRule")&&d.parentRule instanceof CSSConditionRule){const x=Array.from(d.parentRule.cssRules).indexOf(d);_.unshift(x)}else if(d.parentStyleSheet){const x=Array.from(d.parentStyleSheet.cssRules).indexOf(d);_.unshift(x)}return _}return u(g,s)}function tn(g,s,u){let d,_;return g?(g.ownerNode?d=s.getId(g.ownerNode):_=u.getId(g),{styleId:_,id:d}):{}}function QC({styleSheetRuleCb:g,mirror:s,stylesheetManager:u},{win:d}){if(!d.CSSStyleSheet||!d.CSSStyleSheet.prototype)return()=>{};const _=d.CSSStyleSheet.prototype.insertRule;d.CSSStyleSheet.prototype.insertRule=new Proxy(_,{apply:xe(($,V,re)=>{const[ee,oe]=re,{id:X,styleId:G}=tn(V,s,u.styleMirror);return(X&&X!==-1||G&&G!==-1)&&g({id:X,styleId:G,adds:[{rule:ee,index:oe}]}),$.apply(V,re)})}),d.CSSStyleSheet.prototype.addRule=function($,V,re=this.cssRules.length){const ee="".concat($," { ").concat(V," }");return d.CSSStyleSheet.prototype.insertRule.apply(this,[ee,re])};const O=d.CSSStyleSheet.prototype.deleteRule;d.CSSStyleSheet.prototype.deleteRule=new Proxy(O,{apply:xe(($,V,re)=>{const[ee]=re,{id:oe,styleId:X}=tn(V,s,u.styleMirror);return(oe&&oe!==-1||X&&X!==-1)&&g({id:oe,styleId:X,removes:[{index:ee}]}),$.apply(V,re)})}),d.CSSStyleSheet.prototype.removeRule=function($){return d.CSSStyleSheet.prototype.deleteRule.apply(this,[$])};let x;d.CSSStyleSheet.prototype.replace&&(x=d.CSSStyleSheet.prototype.replace,d.CSSStyleSheet.prototype.replace=new Proxy(x,{apply:xe(($,V,re)=>{const[ee]=re,{id:oe,styleId:X}=tn(V,s,u.styleMirror);return(oe&&oe!==-1||X&&X!==-1)&&g({id:oe,styleId:X,replace:ee}),$.apply(V,re)})}));let D;d.CSSStyleSheet.prototype.replaceSync&&(D=d.CSSStyleSheet.prototype.replaceSync,d.CSSStyleSheet.prototype.replaceSync=new Proxy(D,{apply:xe(($,V,re)=>{const[ee]=re,{id:oe,styleId:X}=tn(V,s,u.styleMirror);return(oe&&oe!==-1||X&&X!==-1)&&g({id:oe,styleId:X,replaceSync:ee}),$.apply(V,re)})}));const M={};Ga("CSSGroupingRule")?M.CSSGroupingRule=d.CSSGroupingRule:(Ga("CSSMediaRule")&&(M.CSSMediaRule=d.CSSMediaRule),Ga("CSSConditionRule")&&(M.CSSConditionRule=d.CSSConditionRule),Ga("CSSSupportsRule")&&(M.CSSSupportsRule=d.CSSSupportsRule));const L={};return Object.entries(M).forEach(([$,V])=>{L[$]={insertRule:V.prototype.insertRule,deleteRule:V.prototype.deleteRule},V.prototype.insertRule=new Proxy(L[$].insertRule,{apply:xe((re,ee,oe)=>{const[X,G]=oe,{id:be,styleId:ye}=tn(ee.parentStyleSheet,s,u.styleMirror);return(be&&be!==-1||ye&&ye!==-1)&&g({id:be,styleId:ye,adds:[{rule:X,index:[...qa(ee),G||0]}]}),re.apply(ee,oe)})}),V.prototype.deleteRule=new Proxy(L[$].deleteRule,{apply:xe((re,ee,oe)=>{const[X]=oe,{id:G,styleId:be}=tn(ee.parentStyleSheet,s,u.styleMirror);return(G&&G!==-1||be&&be!==-1)&&g({id:G,styleId:be,removes:[{index:[...qa(ee),X]}]}),re.apply(ee,oe)})})}),xe(()=>{d.CSSStyleSheet.prototype.insertRule=_,d.CSSStyleSheet.prototype.deleteRule=O,x&&(d.CSSStyleSheet.prototype.replace=x),D&&(d.CSSStyleSheet.prototype.replaceSync=D),Object.entries(M).forEach(([$,V])=>{V.prototype.insertRule=L[$].insertRule,V.prototype.deleteRule=L[$].deleteRule})})}function Ng({mirror:g,stylesheetManager:s},u){var d,_,O;let x=null;u.nodeName==="#document"?x=g.getId(u):x=g.getId(Oe.host(u));const D=u.nodeName==="#document"?(d=u.defaultView)==null?void 0:d.Document:(O=(_=u.ownerDocument)==null?void 0:_.defaultView)==null?void 0:O.ShadowRoot,M=D!=null&&D.prototype?Object.getOwnPropertyDescriptor(D==null?void 0:D.prototype,"adoptedStyleSheets"):void 0;return x===null||x===-1||!D||!M?()=>{}:(Object.defineProperty(u,"adoptedStyleSheets",{configurable:M.configurable,enumerable:M.enumerable,get(){var L;return(L=M.get)==null?void 0:L.call(this)},set(L){var $;const V=($=M.set)==null?void 0:$.call(this,L);if(x!==null&&x!==-1)try{s.adoptStyleSheets(L,x)}catch(re){}return V}}),xe(()=>{Object.defineProperty(u,"adoptedStyleSheets",{configurable:M.configurable,enumerable:M.enumerable,get:M.get,set:M.set})}))}function eT({styleDeclarationCb:g,mirror:s,ignoreCSSAttributes:u,stylesheetManager:d},{win:_}){const O=_.CSSStyleDeclaration.prototype.setProperty;_.CSSStyleDeclaration.prototype.setProperty=new Proxy(O,{apply:xe((D,M,L)=>{var $;const[V,re,ee]=L;if(u.has(V))return O.apply(M,[V,re,ee]);const{id:oe,styleId:X}=tn(($=M.parentRule)==null?void 0:$.parentStyleSheet,s,d.styleMirror);return(oe&&oe!==-1||X&&X!==-1)&&g({id:oe,styleId:X,set:{property:V,value:re,priority:ee},index:qa(M.parentRule)}),D.apply(M,L)})});const x=_.CSSStyleDeclaration.prototype.removeProperty;return _.CSSStyleDeclaration.prototype.removeProperty=new Proxy(x,{apply:xe((D,M,L)=>{var $;const[V]=L;if(u.has(V))return x.apply(M,[V]);const{id:re,styleId:ee}=tn(($=M.parentRule)==null?void 0:$.parentStyleSheet,s,d.styleMirror);return(re&&re!==-1||ee&&ee!==-1)&&g({id:re,styleId:ee,remove:{property:V},index:qa(M.parentRule)}),D.apply(M,L)})}),xe(()=>{_.CSSStyleDeclaration.prototype.setProperty=O,_.CSSStyleDeclaration.prototype.removeProperty=x})}function tT({mediaInteractionCb:g,blockClass:s,blockSelector:u,mirror:d,sampling:_,doc:O}){const x=xe(M=>qs(xe(L=>{const $=Gs(L);if(!$||xt($,s,u,!0))return;const{currentTime:V,volume:re,muted:ee,playbackRate:oe,loop:X}=$;g({type:M,id:d.getId($),currentTime:V,volume:re,muted:ee,playbackRate:oe,loop:X})}),_.media||500)),D=[kt("play",x(Ri.Play),O),kt("pause",x(Ri.Pause),O),kt("seeked",x(Ri.Seeked),O),kt("volumechange",x(Ri.VolumeChange),O),kt("ratechange",x(Ri.RateChange),O)];return xe(()=>{D.forEach(M=>M())})}function rT({fontCb:g,doc:s}){const u=s.defaultView;if(!u)return()=>{};const d=[],_=new WeakMap,O=u.FontFace;u.FontFace=function(M,L,$){const V=new O(M,L,$);return _.set(V,{family:M,buffer:typeof L!="string",descriptors:$,fontSource:typeof L=="string"?L:JSON.stringify(Array.from(new Uint8Array(L)))}),V};const x=Ti(s.fonts,"add",function(D){return function(M){return setTimeout(xe(()=>{const L=_.get(M);L&&(g(L),_.delete(M))}),0),D.apply(this,[M])}});return d.push(()=>{u.FontFace=O}),d.push(x),xe(()=>{d.forEach(D=>D())})}function nT(g){const{doc:s,mirror:u,blockClass:d,blockSelector:_,selectionCb:O}=g;let x=!0;const D=xe(()=>{const M=s.getSelection();if(!M||x&&(M!=null&&M.isCollapsed))return;x=M.isCollapsed||!1;const L=[],$=M.rangeCount||0;for(let V=0;V<$;V++){const re=M.getRangeAt(V),{startContainer:ee,startOffset:oe,endContainer:X,endOffset:G}=re;xt(ee,d,_,!0)||xt(X,d,_,!0)||L.push({start:u.getId(ee),startOffset:oe,end:u.getId(X),endOffset:G})}O({ranges:L})});return D(),kt("selectionchange",D)}function iT({doc:g,customElementCb:s}){const u=g.defaultView;return!u||!u.customElements?()=>{}:Ti(u.customElements,"define",function(_){return function(O,x,D){try{s({define:{name:O}})}catch(M){console.warn("Custom element callback failed for ".concat(O))}return _.apply(this,[O,x,D])}})}function sT(g,s){const{mutationCb:u,mousemoveCb:d,mouseInteractionCb:_,scrollCb:O,viewportResizeCb:x,inputCb:D,mediaInteractionCb:M,styleSheetRuleCb:L,styleDeclarationCb:$,canvasMutationCb:V,fontCb:re,selectionCb:ee,customElementCb:oe}=g;g.mutationCb=(...X)=>{s.mutation&&s.mutation(...X),u(...X)},g.mousemoveCb=(...X)=>{s.mousemove&&s.mousemove(...X),d(...X)},g.mouseInteractionCb=(...X)=>{s.mouseInteraction&&s.mouseInteraction(...X),_(...X)},g.scrollCb=(...X)=>{s.scroll&&s.scroll(...X),O(...X)},g.viewportResizeCb=(...X)=>{s.viewportResize&&s.viewportResize(...X),x(...X)},g.inputCb=(...X)=>{s.input&&s.input(...X),D(...X)},g.mediaInteractionCb=(...X)=>{s.mediaInteaction&&s.mediaInteaction(...X),M(...X)},g.styleSheetRuleCb=(...X)=>{s.styleSheetRule&&s.styleSheetRule(...X),L(...X)},g.styleDeclarationCb=(...X)=>{s.styleDeclaration&&s.styleDeclaration(...X),$(...X)},g.canvasMutationCb=(...X)=>{s.canvasMutation&&s.canvasMutation(...X),V(...X)},g.fontCb=(...X)=>{s.font&&s.font(...X),re(...X)},g.selectionCb=(...X)=>{s.selection&&s.selection(...X),ee(...X)},g.customElementCb=(...X)=>{s.customElement&&s.customElement(...X),oe(...X)}}function oT(g,s={}){const u=g.doc.defaultView;if(!u)return()=>{};sT(g,s);let d;g.recordDOM&&(d=Pg(g,g.doc));const _=KC(g),O=XC(g),x=Dg(g),D=YC(g,{win:u}),M=ZC(g),L=tT(g);let $=()=>{},V=()=>{},re=()=>{},ee=()=>{};g.recordDOM&&($=QC(g,{win:u}),V=Ng(g,g.doc),re=eT(g,{win:u}),g.collectFonts&&(ee=rT(g)));const oe=nT(g),X=iT(g),G=[];for(const be of g.plugins)G.push(be.observer(be.callback,u,be.options));return xe(()=>{Cn.forEach(be=>be.reset()),d==null||d.disconnect(),_(),O(),x(),D(),M(),L(),$(),V(),re(),ee(),oe(),X(),G.forEach(be=>be())})}function Va(g){return typeof window[g]<"u"}function Ga(g){return!!(typeof window[g]<"u"&&window[g].prototype&&"insertRule"in window[g].prototype&&"deleteRule"in window[g].prototype)}class Ug{constructor(s){i(this,"iframeIdToRemoteIdMap",new WeakMap),i(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=s}getId(s,u,d,_){const O=d||this.getIdToRemoteIdMap(s),x=_||this.getRemoteIdToIdMap(s);let D=O.get(u);return D||(D=this.generateIdFn(),O.set(u,D),x.set(D,u)),D}getIds(s,u){const d=this.getIdToRemoteIdMap(s),_=this.getRemoteIdToIdMap(s);return u.map(O=>this.getId(s,O,d,_))}getRemoteId(s,u,d){const _=d||this.getRemoteIdToIdMap(s);if(typeof u!="number")return u;const O=_.get(u);return O||-1}getRemoteIds(s,u){const d=this.getRemoteIdToIdMap(s);return u.map(_=>this.getRemoteId(s,_,d))}reset(s){if(!s){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(s),this.iframeRemoteIdToIdMap.delete(s)}getIdToRemoteIdMap(s){let u=this.iframeIdToRemoteIdMap.get(s);return u||(u=new Map,this.iframeIdToRemoteIdMap.set(s,u)),u}getRemoteIdToIdMap(s){let u=this.iframeRemoteIdToIdMap.get(s);return u||(u=new Map,this.iframeRemoteIdToIdMap.set(s,u)),u}}class aT{constructor(s){i(this,"iframes",new WeakMap),i(this,"crossOriginIframeMap",new WeakMap),i(this,"crossOriginIframeMirror",new Ug(Es)),i(this,"crossOriginIframeStyleMirror"),i(this,"crossOriginIframeRootIdMap",new WeakMap),i(this,"mirror"),i(this,"mutationCb"),i(this,"wrappedEmit"),i(this,"loadListener"),i(this,"stylesheetManager"),i(this,"recordCrossOriginIframes"),this.mutationCb=s.mutationCb,this.wrappedEmit=s.wrappedEmit,this.stylesheetManager=s.stylesheetManager,this.recordCrossOriginIframes=s.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ug(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=s.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(s){this.iframes.set(s,!0),s.contentWindow&&this.crossOriginIframeMap.set(s.contentWindow,s)}addLoadListener(s){this.loadListener=s}attachIframe(s,u){var d,_;this.mutationCb({adds:[{parentId:this.mirror.getId(s),nextId:null,node:u}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((d=s.contentWindow)==null||d.addEventListener("message",this.handleMessage.bind(this))),(_=this.loadListener)==null||_.call(this,s),s.contentDocument&&s.contentDocument.adoptedStyleSheets&&s.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(s.contentDocument.adoptedStyleSheets,this.mirror.getId(s.contentDocument))}handleMessage(s){const u=s;if(u.data.type!=="rrweb"||u.origin!==u.data.origin||!s.source)return;const _=this.crossOriginIframeMap.get(s.source);if(!_)return;const O=this.transformCrossOriginEvent(_,u.data.event);O&&this.wrappedEmit(O,u.data.isCheckout)}transformCrossOriginEvent(s,u){var d;switch(u.type){case Ie.FullSnapshot:{this.crossOriginIframeMirror.reset(s),this.crossOriginIframeStyleMirror.reset(s),this.replaceIdOnNode(u.data.node,s);const _=u.data.node.id;return this.crossOriginIframeRootIdMap.set(s,_),this.patchRootIdOnNode(u.data.node,_),{timestamp:u.timestamp,type:Ie.IncrementalSnapshot,data:{source:Re.Mutation,adds:[{parentId:this.mirror.getId(s),nextId:null,node:u.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ie.Meta:case Ie.Load:case Ie.DomContentLoaded:return!1;case Ie.Plugin:return u;case Ie.Custom:return this.replaceIds(u.data.payload,s,["id","parentId","previousId","nextId"]),u;case Ie.IncrementalSnapshot:switch(u.data.source){case Re.Mutation:return u.data.adds.forEach(_=>{this.replaceIds(_,s,["parentId","nextId","previousId"]),this.replaceIdOnNode(_.node,s);const O=this.crossOriginIframeRootIdMap.get(s);O&&this.patchRootIdOnNode(_.node,O)}),u.data.removes.forEach(_=>{this.replaceIds(_,s,["parentId","id"])}),u.data.attributes.forEach(_=>{this.replaceIds(_,s,["id"])}),u.data.texts.forEach(_=>{this.replaceIds(_,s,["id"])}),u;case Re.Drag:case Re.TouchMove:case Re.MouseMove:return u.data.positions.forEach(_=>{this.replaceIds(_,s,["id"])}),u;case Re.ViewportResize:return!1;case Re.MediaInteraction:case Re.MouseInteraction:case Re.Scroll:case Re.CanvasMutation:case Re.Input:return this.replaceIds(u.data,s,["id"]),u;case Re.StyleSheetRule:case Re.StyleDeclaration:return this.replaceIds(u.data,s,["id"]),this.replaceStyleIds(u.data,s,["styleId"]),u;case Re.Font:return u;case Re.Selection:return u.data.ranges.forEach(_=>{this.replaceIds(_,s,["start","end"])}),u;case Re.AdoptedStyleSheet:return this.replaceIds(u.data,s,["id"]),this.replaceStyleIds(u.data,s,["styleIds"]),(d=u.data.styles)==null||d.forEach(_=>{this.replaceStyleIds(_,s,["styleId"])}),u}}return!1}replace(s,u,d,_){for(const O of _)!Array.isArray(u[O])&&typeof u[O]!="number"||(Array.isArray(u[O])?u[O]=s.getIds(d,u[O]):u[O]=s.getId(d,u[O]));return u}replaceIds(s,u,d){return this.replace(this.crossOriginIframeMirror,s,u,d)}replaceStyleIds(s,u,d){return this.replace(this.crossOriginIframeStyleMirror,s,u,d)}replaceIdOnNode(s,u){this.replaceIds(s,u,["id","rootId"]),"childNodes"in s&&s.childNodes.forEach(d=>{this.replaceIdOnNode(d,u)})}patchRootIdOnNode(s,u){s.type!==h.Document&&!s.rootId&&(s.rootId=u),"childNodes"in s&&s.childNodes.forEach(d=>{this.patchRootIdOnNode(d,u)})}}class lT{constructor(s){i(this,"shadowDoms",new WeakSet),i(this,"mutationCb"),i(this,"scrollCb"),i(this,"bypassOptions"),i(this,"mirror"),i(this,"restoreHandlers",[]),this.mutationCb=s.mutationCb,this.scrollCb=s.scrollCb,this.bypassOptions=s.bypassOptions,this.mirror=s.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(s,u){if(!F(s)||this.shadowDoms.has(s))return;this.shadowDoms.add(s);const d=Pg({...this.bypassOptions,doc:u,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},s);this.restoreHandlers.push(()=>d.disconnect()),this.restoreHandlers.push(Dg({...this.bypassOptions,scrollCb:this.scrollCb,doc:s,mirror:this.mirror})),setTimeout(()=>{s.adoptedStyleSheets&&s.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(s.adoptedStyleSheets,this.mirror.getId(Oe.host(s))),this.restoreHandlers.push(Ng({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},s))},0)}observeAttachShadow(s){!s.contentWindow||!s.contentDocument||this.patchAttachShadow(s.contentWindow.Element,s.contentDocument)}patchAttachShadow(s,u){const d=this;this.restoreHandlers.push(Ti(s.prototype,"attachShadow",function(_){return function(O){const x=_.call(this,O),D=Oe.shadowRoot(this);return D&&Rg(this)&&d.addShadowRoot(D,u),x}}))}reset(){this.restoreHandlers.forEach(s=>{try{s()}catch(u){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uT=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ha=0;Ha<ki.length;Ha++)uT[ki.charCodeAt(Ha)]=Ha;var cT=function(g){var s=new Uint8Array(g),u,d=s.length,_="";for(u=0;u<d;u+=3)_+=ki[s[u]>>2],_+=ki[(s[u]&3)<<4|s[u+1]>>4],_+=ki[(s[u+1]&15)<<2|s[u+2]>>6],_+=ki[s[u+2]&63];return d%3===2?_=_.substring(0,_.length-1)+"=":d%3===1&&(_=_.substring(0,_.length-2)+"=="),_};const jg=new Map;function hT(g,s){let u=jg.get(g);return u||(u=new Map,jg.set(g,u)),u.has(s)||u.set(s,[]),u.get(s)}const $g=(g,s,u)=>{if(!g||!(Bg(g,s)||typeof g=="object"))return;const d=g.constructor.name,_=hT(u,d);let O=_.indexOf(g);return O===-1&&(O=_.length,_.push(g)),O};function Ka(g,s,u){if(g instanceof Array)return g.map(d=>Ka(d,s,u));if(g===null)return g;if(g instanceof Float32Array||g instanceof Float64Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Uint8Array||g instanceof Uint16Array||g instanceof Int16Array||g instanceof Int8Array||g instanceof Uint8ClampedArray)return{rr_type:g.constructor.name,args:[Object.values(g)]};if(g instanceof ArrayBuffer){const d=g.constructor.name,_=cT(g);return{rr_type:d,base64:_}}else{if(g instanceof DataView)return{rr_type:g.constructor.name,args:[Ka(g.buffer,s,u),g.byteOffset,g.byteLength]};if(g instanceof HTMLImageElement){const d=g.constructor.name,{src:_}=g;return{rr_type:d,src:_}}else if(g instanceof HTMLCanvasElement){const d="HTMLImageElement",_=g.toDataURL();return{rr_type:d,src:_}}else{if(g instanceof ImageData)return{rr_type:g.constructor.name,args:[Ka(g.data,s,u),g.width,g.height]};if(Bg(g,s)||typeof g=="object"){const d=g.constructor.name,_=$g(g,s,u);return{rr_type:d,index:_}}}}return g}const Fg=(g,s,u)=>g.map(d=>Ka(d,s,u)),Bg=(g,s)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(_=>typeof s[_]=="function").find(_=>g instanceof s[_]);function dT(g,s,u,d){const _=[],O=Object.getOwnPropertyNames(s.CanvasRenderingContext2D.prototype);for(const x of O)try{if(typeof s.CanvasRenderingContext2D.prototype[x]!="function")continue;const D=Ti(s.CanvasRenderingContext2D.prototype,x,function(M){return function(...L){return xt(this.canvas,u,d,!0)||setTimeout(()=>{const $=Fg(L,s,this);g(this.canvas,{type:Oi["2D"],property:x,args:$})},0),M.apply(this,L)}});_.push(D)}catch(D){const M=za(s.CanvasRenderingContext2D.prototype,x,{set(L){g(this.canvas,{type:Oi["2D"],property:x,args:[L],setter:!0})}});_.push(M)}return()=>{_.forEach(x=>x())}}function fT(g){return g==="experimental-webgl"?"webgl":g}function zg(g,s,u,d){const _=[];try{const O=Ti(g.HTMLCanvasElement.prototype,"getContext",function(x){return function(D,...M){if(!xt(this,s,u,!0)){const L=fT(D);if("__context"in this||(this.__context=L),d&&["webgl","webgl2"].includes(L))if(M[0]&&typeof M[0]=="object"){const $=M[0];$.preserveDrawingBuffer||($.preserveDrawingBuffer=!0)}else M.splice(0,1,{preserveDrawingBuffer:!0})}return x.apply(this,[D,...M])}});_.push(O)}catch(O){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{_.forEach(O=>O())}}function Wg(g,s,u,d,_,O){const x=[],D=Object.getOwnPropertyNames(g);for(const M of D)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(M))try{if(typeof g[M]!="function")continue;const L=Ti(g,M,function($){return function(...V){const re=$.apply(this,V);if($g(re,O,this),"tagName"in this.canvas&&!xt(this.canvas,d,_,!0)){const ee=Fg(V,O,this),oe={type:s,property:M,args:ee};u(this.canvas,oe)}return re}});x.push(L)}catch(L){const $=za(g,M,{set(V){u(this.canvas,{type:s,property:M,args:[V],setter:!0})}});x.push($)}return x}function pT(g,s,u,d){const _=[];return _.push(...Wg(s.WebGLRenderingContext.prototype,Oi.WebGL,g,u,d,s)),typeof s.WebGL2RenderingContext<"u"&&_.push(...Wg(s.WebGL2RenderingContext.prototype,Oi.WebGL2,g,u,d,s)),()=>{_.forEach(O=>O())}}const qg="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",gT=g=>Uint8Array.from(atob(g),s=>s.charCodeAt(0)),Vg=typeof window<"u"&&window.Blob&&new Blob([gT(qg)],{type:"text/javascript;charset=utf-8"});function mT(g){let s;try{if(s=Vg&&(window.URL||window.webkitURL).createObjectURL(Vg),!s)throw"";const u=new Worker(s,{name:g==null?void 0:g.name});return u.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(s)}),u}catch(u){return new Worker("data:text/javascript;base64,"+qg,{name:g==null?void 0:g.name})}finally{s&&(window.URL||window.webkitURL).revokeObjectURL(s)}}class _T{constructor(s){i(this,"pendingCanvasMutations",new Map),i(this,"rafStamps",{latestId:0,invokeId:null}),i(this,"mirror"),i(this,"mutationCb"),i(this,"resetObservers"),i(this,"frozen",!1),i(this,"locked",!1),i(this,"processMutation",(M,L)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(M)||this.pendingCanvasMutations.set(M,[]),this.pendingCanvasMutations.get(M).push(L)});const{sampling:u="all",win:d,blockClass:_,blockSelector:O,recordCanvas:x,dataURLOptions:D}=s;this.mutationCb=s.mutationCb,this.mirror=s.mirror,x&&u==="all"&&this.initCanvasMutationObserver(d,_,O),x&&typeof u=="number"&&this.initCanvasFPSObserver(u,d,_,O,{dataURLOptions:D})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(s,u,d,_,O){const x=zg(u,d,_,!0),D=new Map,M=new mT;M.onmessage=oe=>{const{id:X}=oe.data;if(D.set(X,!1),!("base64"in oe.data))return;const{base64:G,type:be,width:ye,height:ue}=oe.data;this.mutationCb({id:X,type:Oi["2D"],commands:[{property:"clearRect",args:[0,0,ye,ue]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:G}],type:be}]},0,0]}]})};const L=1e3/s;let $=0,V;const re=()=>{const oe=[];return u.document.querySelectorAll("canvas").forEach(X=>{xt(X,d,_,!0)||oe.push(X)}),oe},ee=oe=>{if($&&oe-$<L){V=requestAnimationFrame(ee);return}$=oe,re().forEach(async X=>{var G;const be=this.mirror.getId(X);if(D.get(be)||X.width===0||X.height===0)return;if(D.set(be,!0),["webgl","webgl2"].includes(X.__context)){const ue=X.getContext(X.__context);((G=ue==null?void 0:ue.getContextAttributes())==null?void 0:G.preserveDrawingBuffer)===!1&&ue.clear(ue.COLOR_BUFFER_BIT)}const ye=await createImageBitmap(X);M.postMessage({id:be,bitmap:ye,width:X.width,height:X.height,dataURLOptions:O.dataURLOptions},[ye])}),V=requestAnimationFrame(ee)};V=requestAnimationFrame(ee),this.resetObservers=()=>{x(),cancelAnimationFrame(V)}}initCanvasMutationObserver(s,u,d){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const _=zg(s,u,d,!1),O=dT(this.processMutation.bind(this),s,u,d),x=pT(this.processMutation.bind(this),s,u,d);this.resetObservers=()=>{_(),O(),x()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const s=u=>{this.rafStamps.latestId=u,requestAnimationFrame(s)};requestAnimationFrame(s)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((s,u)=>{const d=this.mirror.getId(u);this.flushPendingCanvasMutationFor(u,d)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(s,u){if(this.frozen||this.locked)return;const d=this.pendingCanvasMutations.get(s);if(!d||u===-1)return;const _=d.map(x=>{const{type:D,...M}=x;return M}),{type:O}=d[0];this.mutationCb({id:u,type:O,commands:_}),this.pendingCanvasMutations.delete(s)}}class yT{constructor(s){i(this,"trackedLinkElements",new WeakSet),i(this,"mutationCb"),i(this,"adoptedStyleSheetCb"),i(this,"styleMirror",new FC),this.mutationCb=s.mutationCb,this.adoptedStyleSheetCb=s.adoptedStyleSheetCb}attachLinkElement(s,u){"_cssText"in u.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:u.id,attributes:u.attributes}]}),this.trackLinkElement(s)}trackLinkElement(s){this.trackedLinkElements.has(s)||(this.trackedLinkElements.add(s),this.trackStylesheetInLinkElement(s))}adoptStyleSheets(s,u){if(s.length===0)return;const d={id:u,styleIds:[]},_=[];for(const O of s){let x;this.styleMirror.has(O)?x=this.styleMirror.getId(O):(x=this.styleMirror.add(O),_.push({styleId:x,rules:Array.from(O.rules||CSSRule,(D,M)=>({rule:ce(D,O.href),index:M}))})),d.styleIds.push(x)}_.length>0&&(d.styles=_),this.adoptedStyleSheetCb(d)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(s){}}class vT{constructor(){i(this,"nodeMap",new WeakMap),i(this,"active",!1)}inOtherBuffer(s,u){const d=this.nodeMap.get(s);return d&&Array.from(d).some(_=>_!==u)}add(s,u){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(s,(this.nodeMap.get(s)||new Set).add(u))}destroy(){}}let Ze,Xa,mc,Ya=!1;try{if(Array.from([1],g=>g*2)[0]!==2){const g=document.createElement("iframe");document.body.appendChild(g),Array.from=((o=g.contentWindow)==null?void 0:o.Array.from)||Array.from,document.body.removeChild(g)}}catch(g){console.debug("Unable to override Array.from",g)}const hr=de();function Hs(g={}){const{emit:s,checkoutEveryNms:u,checkoutEveryNth:d,blockClass:_="rr-block",blockSelector:O=null,ignoreClass:x="rr-ignore",ignoreSelector:D=null,maskTextClass:M="rr-mask",maskTextSelector:L=null,inlineStylesheet:$=!0,maskAllInputs:V,maskInputOptions:re,slimDOMOptions:ee,maskInputFn:oe,maskTextFn:X,hooks:G,packFn:be,sampling:ye={},dataURLOptions:ue={},mousemoveWait:we,recordDOM:Ue=!0,recordCanvas:Ve=!1,recordCrossOriginIframes:_t=!1,recordAfter:Me=g.recordAfter==="DOMContentLoaded"?g.recordAfter:"load",userTriggeredOnInput:yt=!1,collectFonts:vt=!1,inlineImages:nr=!1,plugins:Pe,keepIframeSrcFn:Tn=()=>!1,ignoreCSSAttributes:Ks=new Set([]),errorHandler:At}=g;GC(At);const dr=_t?window.parent===window:!0;let Ur=!1;if(!dr)try{window.parent.document&&(Ur=!1)}catch(De){Ur=!0}if(dr&&!s)throw new Error("emit function is required");if(!dr&&!Ur)return()=>{};we!==void 0&&ye.mousemove===void 0&&(ye.mousemove=we),hr.reset();const Tr=V===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:re!==void 0?re:{password:!0},_c=ee===!0||ee==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:ee==="all",headMetaDescKeywords:ee==="all",headTitleMutations:ee==="all"}:ee||{};$C();let Hg,yc=0;const Kg=De=>{for(const fr of Pe||[])fr.eventProcessor&&(De=fr.eventProcessor(De));return be&&!Ur&&(De=be(De)),De};Ze=(De,fr)=>{var Qe;const et=De;if(et.timestamp=Wa(),(Qe=Cn[0])!=null&&Qe.isFrozen()&&et.type!==Ie.FullSnapshot&&!(et.type===Ie.IncrementalSnapshot&&et.data.source===Re.Mutation)&&Cn.forEach(Or=>Or.unfreeze()),dr)s==null||s(Kg(et),fr);else if(Ur){const Or={type:"rrweb",event:Kg(et),origin:window.location.origin,isCheckout:fr};window.parent.postMessage(Or,"*")}if(et.type===Ie.FullSnapshot)Hg=et,yc=0;else if(et.type===Ie.IncrementalSnapshot){if(et.data.source===Re.Mutation&&et.data.isAttachIframe)return;yc++;const Or=d&&yc>=d,je=u&&et.timestamp-Hg.timestamp>u;(Or||je)&&Xa(!0)}};const Ja=De=>{Ze({type:Ie.IncrementalSnapshot,data:{source:Re.Mutation,...De}})},Xg=De=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.Scroll,...De}}),Yg=De=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.CanvasMutation,...De}}),bT=De=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.AdoptedStyleSheet,...De}}),On=new yT({mutationCb:Ja,adoptedStyleSheetCb:bT}),Rn=new aT({mirror:hr,mutationCb:Ja,stylesheetManager:On,recordCrossOriginIframes:_t,wrappedEmit:Ze});for(const De of Pe||[])De.getMirror&&De.getMirror({nodeMirror:hr,crossOriginIframeMirror:Rn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Rn.crossOriginIframeStyleMirror});const vc=new vT;mc=new _T({recordCanvas:Ve,mutationCb:Yg,win:window,blockClass:_,blockSelector:O,mirror:hr,sampling:ye.canvas,dataURLOptions:ue});const Za=new lT({mutationCb:Ja,scrollCb:Xg,bypassOptions:{blockClass:_,blockSelector:O,maskTextClass:M,maskTextSelector:L,inlineStylesheet:$,maskInputOptions:Tr,dataURLOptions:ue,maskTextFn:X,maskInputFn:oe,recordCanvas:Ve,inlineImages:nr,sampling:ye,slimDOMOptions:_c,iframeManager:Rn,stylesheetManager:On,canvasManager:mc,keepIframeSrcFn:Tn,processedNodeManager:vc},mirror:hr});Xa=(De=!1)=>{if(!Ue)return;Ze({type:Ie.Meta,data:{href:window.location.href,width:wg(),height:bg()}},De),On.reset(),Za.init(),Cn.forEach(Qe=>Qe.lock());const fr=iS(document,{mirror:hr,blockClass:_,blockSelector:O,maskTextClass:M,maskTextSelector:L,inlineStylesheet:$,maskAllInputs:Tr,maskTextFn:X,maskInputFn:oe,slimDOM:_c,dataURLOptions:ue,recordCanvas:Ve,inlineImages:nr,onSerialize:Qe=>{Cg(Qe,hr)&&Rn.addIframe(Qe),Tg(Qe,hr)&&On.trackLinkElement(Qe),pc(Qe)&&Za.addShadowRoot(Oe.shadowRoot(Qe),document)},onIframeLoad:(Qe,et)=>{Rn.attachIframe(Qe,et),Za.observeAttachShadow(Qe)},onStylesheetLoad:(Qe,et)=>{On.attachLinkElement(Qe,et)},keepIframeSrcFn:Tn});if(!fr)return console.warn("Failed to snapshot the document");Ze({type:Ie.FullSnapshot,data:{node:fr,initialOffset:vg(window)}},De),Cn.forEach(Qe=>Qe.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&On.adoptStyleSheets(document.adoptedStyleSheets,hr.getId(document))};try{const De=[],fr=et=>{var Or;return xe(oT)({mutationCb:Ja,mousemoveCb:(je,bc)=>Ze({type:Ie.IncrementalSnapshot,data:{source:bc,positions:je}}),mouseInteractionCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.MouseInteraction,...je}}),scrollCb:Xg,viewportResizeCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.ViewportResize,...je}}),inputCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.Input,...je}}),mediaInteractionCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.MediaInteraction,...je}}),styleSheetRuleCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.StyleSheetRule,...je}}),styleDeclarationCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.StyleDeclaration,...je}}),canvasMutationCb:Yg,fontCb:je=>Ze({type:Ie.IncrementalSnapshot,data:{source:Re.Font,...je}}),selectionCb:je=>{Ze({type:Ie.IncrementalSnapshot,data:{source:Re.Selection,...je}})},customElementCb:je=>{Ze({type:Ie.IncrementalSnapshot,data:{source:Re.CustomElement,...je}})},blockClass:_,ignoreClass:x,ignoreSelector:D,maskTextClass:M,maskTextSelector:L,maskInputOptions:Tr,inlineStylesheet:$,sampling:ye,recordDOM:Ue,recordCanvas:Ve,inlineImages:nr,userTriggeredOnInput:yt,collectFonts:vt,doc:et,maskInputFn:oe,maskTextFn:X,keepIframeSrcFn:Tn,blockSelector:O,slimDOMOptions:_c,dataURLOptions:ue,mirror:hr,iframeManager:Rn,stylesheetManager:On,shadowDomManager:Za,processedNodeManager:vc,canvasManager:mc,ignoreCSSAttributes:Ks,plugins:((Or=Pe==null?void 0:Pe.filter(je=>je.observer))==null?void 0:Or.map(je=>({observer:je.observer,options:je.options,callback:bc=>Ze({type:Ie.Plugin,data:{plugin:je.name,payload:bc}})})))||[]},G)};Rn.addLoadListener(et=>{try{De.push(fr(et.contentDocument))}catch(Or){console.warn(Or)}});const Qe=()=>{Xa(),De.push(fr(document)),Ya=!0};return document.readyState==="interactive"||document.readyState==="complete"?Qe():(De.push(kt("DOMContentLoaded",()=>{Ze({type:Ie.DomContentLoaded,data:{}}),Me==="DOMContentLoaded"&&Qe()})),De.push(kt("load",()=>{Ze({type:Ie.Load,data:{}}),Me==="load"&&Qe()},window))),()=>{De.forEach(et=>et()),vc.destroy(),Ya=!1,HC()}}catch(De){console.warn(De)}}Hs.addCustomEvent=(g,s)=>{if(!Ya)throw new Error("please add custom event after start recording");Ze({type:Ie.Custom,data:{tag:g,payload:s}})},Hs.freezePage=()=>{Cn.forEach(g=>g.freeze())},Hs.takeFullSnapshot=g=>{if(!Ya)throw new Error("please take full snapshot after start recording");Xa(g)},Hs.mirror=hr;var Gg;(function(g){g[g.NotStarted=0]="NotStarted",g[g.Running=1]="Running",g[g.Stopped=2]="Stopped"})(Gg||(Gg={})),t.record=Hs})(eh)),eh}var R_;function sb(){if(R_)return ao;R_=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.SessionReplayClient=void 0;const t=Pk(),e=Je(),r=1e3*60*60*4,n=1e3*30;let i=class{constructor(){this._startTimestamp=null,this._endTimestamp=null}record(c,h,f,p=!1){if((0,e._getDocumentSafe)()==null||(this._startTimestamp=null,this._endTimestamp=null,this._stopCallback=f,this._stopFn))return;const y=(v,b)=>{var m,w,C;p?this._startTimestamp=b?v.timestamp:(m=this._startTimestamp)!==null&&m!==void 0?m:v.timestamp:(w=this._startTimestamp)!==null&&w!==void 0||(this._startTimestamp=v.timestamp),this._endTimestamp=v.timestamp;let E=0;a(v)&&E++,c(Object.assign(Object.assign({},v),{eventIndex:0}),{startTime:this._startTimestamp,endTime:this._endTimestamp,clickCount:E},b!=null?b:!1),this._endTimestamp-this._startTimestamp>r&&((C=this._stopFn)===null||C===void 0||C.call(this),this._stopCallback&&this._stopCallback())};this._stopFn=o(y,h,p)}stop(){this._stopFn&&(this._stopFn(),this._stopFn=void 0)}isRecording(){return this._stopFn!=null}};ao.SessionReplayClient=i;function o(l,c,h){return h?(0,t.record)(Object.assign(Object.assign({},c),{emit:l,checkoutEveryNms:n})):(0,t.record)(Object.assign(Object.assign({},c),{emit:l}))}function a(l){return l.type===3&&l.data.source===2&&(l.data.type===2||l.data.type===4)}return ao}var Mt={},k_;function Qd(){if(k_)return Mt;k_=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt._appendSlicedMetadata=Mt._slicePayload=Mt._makeLoggableRrwebEvent=Mt.MAX_LOGS=Mt.MAX_INDIVIDUAL_EVENT_BYTES=Mt.REPLAY_ENQUEUE_TRIGGER_BYTES=void 0;const t=Je(),e=1024*1024;Mt.REPLAY_ENQUEUE_TRIGGER_BYTES=1024*10,Mt.MAX_INDIVIDUAL_EVENT_BYTES=1024*1024*10,Mt.MAX_LOGS=1e4;function r(o,a,l,c,h){const f={session_start_ts:String(c.startTime),session_end_ts:String(c.endTime),clicks_captured_cumulative:String(c.clickCount),rrweb_events:o,rrweb_payload_size:String(a.length),session_replay_sdk_version:t.SDK_VERSION,sdk_instance_id:h};return{eventName:"statsig::session_recording",value:l,metadata:f}}Mt._makeLoggableRrwebEvent=r;function n(o){const a=[];for(let l=0;l<o.length;l+=e)a.push(o.slice(l,l+e));return a}Mt._slicePayload=n;function i(o,a,l,c,h){o.sliced_id=a,o.slice_index=String(l),o.slice_count=String(c),o.slice_byte_size=String(h)}return Mt._appendSlicedMetadata=i,Mt}var x_;function ef(){if(x_)return pr;x_=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.SessionReplayBase=pr.forceStartRecording=pr.startRecording=pr.stopRecording=void 0;const t=Je(),e=sb(),r=Qd();function n(c){var h;(h=a(c))===null||h===void 0||h.stopRecording()}pr.stopRecording=n;function i(c){var h;(h=a(c))===null||h===void 0||h.startRecording()}pr.startRecording=i;function o(c){var h;(h=a(c))===null||h===void 0||h.forceStartRecording()}pr.forceStartRecording=o;function a(c){var h,f;const p=c==null?(0,t._getStatsigGlobal)().firstSRInstance:(f=(h=(0,t._getStatsigGlobal)())===null||h===void 0?void 0:h.srInstances)===null||f===void 0?void 0:f[c];return p instanceof l?p:null}let l=class ob{constructor(h,f){this._sessionData={startTime:-1,endTime:0,clickCount:0},this._events=[],this._wasStopped=!1,this._currentEventIndex=0,this._totalLogs=0,this._client=h,this._options=f;const{sdkKey:p,errorBoundary:y}=this._client.getContext();if(this._errorBoundary=y,this._errorBoundary.wrap(this),this._replayer=new e.SessionReplayClient,this._client.$on("pre_shutdown",()=>this._shutdown()),this._client.on("session_expired",()=>{this._shutdown("session_expired")}),!(0,t._isServerEnv)()){const v=(0,t._getStatsigGlobal)();v.srInstances=Object.assign(Object.assign({},v.srInstances),{[p]:this}),v.firstSRInstance||(v.firstSRInstance=this)}this._currentSessionID=this._getSessionIdFromClient(),this._subscribeToVisibilityChanged()}forceStartRecording(){this._wasStopped=!1,this._attemptToStartRecording(!0)}stopRecording(){this._wasStopped=!0,this._shutdown()}startRecording(){var h;this._wasStopped=!1,this._attemptToStartRecording((h=this._options)===null||h===void 0?void 0:h.forceRecording)}isRecording(){return this._replayer.isRecording()}_logRecording(h){this._events.length!==0&&(h=(0,t._isUnloading)()?"is_leaving_page":h,this._logRecordingWithSessionID(this._currentSessionID,h))}_onVisibilityChanged(h){h==="background"&&(this._logRecording(),this._client.flush().catch(f=>{this._errorBoundary.logError("SR::visibility",f)}))}_subscribeToVisibilityChanged(){const{sdkKey:h}=this._client.getContext();(0,t._subscribeToVisiblityChanged)(f=>{var p,y;const v=(y=(p=(0,t._getStatsigGlobal)())===null||p===void 0?void 0:p.srInstances)===null||y===void 0?void 0:y[h];v instanceof ob&&v._onVisibilityChanged(f)})}_logRecordingWithSessionID(h,f){const p=this._sessionData;if(this._events.length===0)return;const y=JSON.stringify(this._events),v=(0,r._slicePayload)(y),b=v.length>1?(0,t.getUUID)():null;for(let m=0;m<v.length;m++){const w=v[m],C=(0,r._makeLoggableRrwebEvent)(w,y,h,p,this._client.getContext().sdkInstanceID);b!=null&&(0,r._appendSlicedMetadata)(C.metadata,b,m,v.length,w.length),f&&(C.metadata[f]="true"),this._totalLogs++,this._client.logEvent(C),b!=null&&this._client.flush().catch(E=>{t.Log.error(E)})}this._events=[],this._totalLogs>r.MAX_LOGS&&this._shutdown()}_bumpSessionIdleTimerAndLogRecording(){this._getSessionIdFromClient(),this._logRecording()}_getSessionIdFromClient(){return this._client.getContext().session.data.sessionID}_shutdownImpl(h){if(this._replayer.isRecording()){this._replayer.stop();const f=()=>{t.StatsigMetadataProvider.add({isRecordingSession:"false"}),this._client.off("logs_flushed",f)};this._client.$on("logs_flushed",f)}if(this._events.length===0){h==="session_expired"&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData());return}this._logRecording(h),h==="session_expired"&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData())}_makeEmptySessionData(){return{startTime:-1,endTime:0,clickCount:0}}_onRecordingEvent(h,f){if(this._currentSessionID!==this._getSessionIdFromClient()){this._shutdown("session_expired");return}if(this._totalLogs>=r.MAX_LOGS){this._shutdown();return}h.eventIndex=this._currentEventIndex++,this._sessionData.clickCount+=f.clickCount,this._sessionData.startTime=this._sessionData.startTime===-1?f.startTime:Math.min(this._sessionData.startTime,f.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,f.endTime);const p=(0,t._fastApproxSizeOf)(h,r.MAX_INDIVIDUAL_EVENT_BYTES);if(p>r.MAX_INDIVIDUAL_EVENT_BYTES){t.Log.warn("SessionReplay event is too large (~".concat(p," bytes) and will not be logged"),h);return}const y=(0,t._fastApproxSizeOf)(this._events,r.REPLAY_ENQUEUE_TRIGGER_BYTES);this._events.push(h),!(y+p<r.REPLAY_ENQUEUE_TRIGGER_BYTES)&&((0,t._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording())}};return pr.SessionReplayBase=l,pr}var A_;function Dk(){if(A_)return Br;A_=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.SessionReplay=Br.runStatsigSessionReplay=Br.StatsigSessionReplayPlugin=void 0;const t=Je(),e=ef(),r=Qd();class n{constructor(l){this.options=l,this.__plugin="session-replay"}bind(l){i(l,this.options)}}Br.StatsigSessionReplayPlugin=n;function i(a,l){new o(a,l)}Br.runStatsigSessionReplay=i;let o=class extends e.SessionReplayBase{constructor(l,c){var h;super(l,c),this._client.$on("values_updated",()=>{var f;this._wasStopped||this._attemptToStartRecording((f=this._options)===null||f===void 0?void 0:f.forceRecording)}),this._attemptToStartRecording((h=this._options)===null||h===void 0?void 0:h.forceRecording)}_shutdown(l){super._shutdownImpl(l)}_attemptToStartRecording(l=!1){var c,h;if(this._totalLogs>=r.MAX_LOGS)return;const f=this._client.getContext().values;if((f==null?void 0:f.recording_blocked)===!0){this._shutdown();return}if(!l&&(f==null?void 0:f.can_record_session)!==!0){this._shutdown();return}if((f==null?void 0:f.passes_session_recording_targeting)===!1){this._shutdown();return}this._replayer.isRecording()||(this._wasStopped=!1,t.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.record((p,y)=>this._onRecordingEvent(p,y),(h=(c=this._options)===null||c===void 0?void 0:c.rrwebConfig)!==null&&h!==void 0?h:{},()=>{this._shutdown()}))}};return Br.SessionReplay=o,Br}var zr={},I_;function Lk(){if(I_)return zr;I_=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.TriggeredSessionReplay=zr.runStatsigTriggeredSessionReplay=zr.StatsigTriggeredSessionReplayPlugin=void 0;const t=Je(),e=ef(),r=Qd();class n{constructor(l){this.options=l,this.__plugin="triggered-session-replay"}bind(l){i(l,this.options)}}zr.StatsigTriggeredSessionReplayPlugin=n;function i(a,l){new o(a,l)}zr.runStatsigTriggeredSessionReplay=i;let o=class extends e.SessionReplayBase{constructor(l,c){var h;super(l,c),this._runningEventData=[],this._isActiveRecording=!1,this._subscribeToClientEvents(c),c!=null&&c.autoStartRecording?this._attemptToStartRecording((h=this._options)===null||h===void 0?void 0:h.forceRecording):c!=null&&c.keepRollingWindow&&this._attemptToStartRollingWindow()}_subscribeToClientEvents(l){this._subscribeToValuesUpdated(l),this._subscribeToLogEventCalled(),this._subscribeToGateEvaluation(),this._subscribeToExperimentEvaluation()}_subscribeToValuesUpdated(l){this._client.$on("values_updated",()=>{var c;this._wasStopped||(l!=null&&l.autoStartRecording?this._attemptToStartRecording((c=this._options)===null||c===void 0?void 0:c.forceRecording):l!=null&&l.keepRollingWindow&&this._attemptToStartRollingWindow())})}_subscribeToLogEventCalled(){this._client.$on("log_event_called",l=>{var c;if(this._wasStopped)return;const h=this._client.getContext().values;if((h==null?void 0:h.passes_session_recording_targeting)===!1||(h==null?void 0:h.session_recording_event_triggers)==null)return;const p=h.session_recording_event_triggers[l.event.eventName];if(p==null||p.passes_sampling===!1)return;const y=p.values;if(y==null){this._attemptToStartRecording(!0);return}if(y.includes(String((c=l.event.value)!==null&&c!==void 0?c:""))){this._attemptToStartRecording(!0);return}})}_subscribeToGateEvaluation(){this._client.$on("gate_evaluation",l=>{this._tryStartExposureRecording(l.gate.name,String(l.gate.value))})}_subscribeToExperimentEvaluation(){this._client.$on("experiment_evaluation",l=>{var c;this._tryStartExposureRecording(l.experiment.name,(c=l.experiment.groupName)!==null&&c!==void 0?c:"")})}_tryStartExposureRecording(l,c){var h;if(this._wasStopped)return;const f=this._client.getContext().values;if((f==null?void 0:f.passes_session_recording_targeting)===!1||(f==null?void 0:f.session_recording_exposure_triggers)==null)return;const y=(h=f.session_recording_exposure_triggers[l])!==null&&h!==void 0?h:f.session_recording_exposure_triggers[(0,t._DJB2)(l)];if(y==null||y.passes_sampling===!1)return;const v=y.values;if(v==null){this._attemptToStartRecording(!0);return}if(v.includes(c)){this._attemptToStartRecording(!0);return}}forceStartRecording(){super.forceStartRecording()}stopRecording(){this._isActiveRecording=!1,this._runningEventData=[],super.stopRecording()}_handleStartActiveRecording(){if(this._isActiveRecording=!0,this._runningEventData.length===0)return;const l=this._runningEventData.map(c=>c.events).flat();for(let c=0;c<l.length;c++)l[c].event.eventIndex=c,this._sessionData.clickCount+=l[c].data.clickCount,this._sessionData.startTime=this._sessionData.startTime===-1?l[c].data.startTime:Math.min(this._sessionData.startTime,l[c].data.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,l[c].data.endTime);this._events=l.map(c=>c.event),this._currentEventIndex=l.length,(0,t._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording(),this._replayer.stop()}_shutdown(l){this._isActiveRecording=!1,this._runningEventData=[],super._shutdownImpl(l)}_onRecordingEvent(l,c,h){if(!this._isActiveRecording){if(this._currentSessionID!==this._getSessionIdFromClient()){this._shutdown("session_expired");return}h&&l.type===4||this._runningEventData.length===0?(this._runningEventData.length>1&&this._runningEventData.shift(),this._runningEventData.push({events:[{event:l,data:c}]})):this._runningEventData[this._runningEventData.length-1].events.push({event:l,data:c});return}super._onRecordingEvent(l,c)}_attemptToStartRollingWindow(){var l,c;const h=this._client.getContext().values;if((h==null?void 0:h.passes_session_recording_targeting)===!1){this._shutdown();return}this._replayer.isRecording()||this._replayer.record((f,p,y)=>this._onRecordingEvent(f,p,y),(c=(l=this._options)===null||l===void 0?void 0:l.rrwebConfig)!==null&&c!==void 0?c:{},()=>{this._shutdown()},!0)}_attemptToStartRecording(l=!1){var c,h;if(this._totalLogs>=r.MAX_LOGS)return;const f=this._client.getContext().values;if((f==null?void 0:f.recording_blocked)===!0){this._shutdown();return}if(!l&&(f==null?void 0:f.can_record_session)!==!0){this._shutdown();return}if((f==null?void 0:f.passes_session_recording_targeting)===!1){this._shutdown();return}this._handleStartActiveRecording(),this._wasStopped=!1,t.StatsigMetadataProvider.add({isRecordingSession:"true"}),!this._replayer.isRecording()&&this._replayer.record((p,y,v)=>this._onRecordingEvent(p,y,v),(h=(c=this._options)===null||c===void 0?void 0:c.rrwebConfig)!==null&&h!==void 0?h:{},()=>{this._shutdown()})}};return zr.TriggeredSessionReplay=o,zr}var M_;function Nk(){return M_||(M_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.forceStartRecording=t.stopRecording=t.startRecording=t.StatsigTriggeredSessionReplayPlugin=t.StatsigSessionReplayPlugin=t.runStatsigTriggeredSessionReplay=t.runStatsigSessionReplay=t.SessionReplay=t.SessionReplayClient=void 0;const e=Je(),r=Dk();Object.defineProperty(t,"SessionReplay",{enumerable:!0,get:function(){return r.SessionReplay}}),Object.defineProperty(t,"StatsigSessionReplayPlugin",{enumerable:!0,get:function(){return r.StatsigSessionReplayPlugin}}),Object.defineProperty(t,"runStatsigSessionReplay",{enumerable:!0,get:function(){return r.runStatsigSessionReplay}});const n=ef();Object.defineProperty(t,"forceStartRecording",{enumerable:!0,get:function(){return n.forceStartRecording}}),Object.defineProperty(t,"startRecording",{enumerable:!0,get:function(){return n.startRecording}}),Object.defineProperty(t,"stopRecording",{enumerable:!0,get:function(){return n.stopRecording}});const i=sb();Object.defineProperty(t,"SessionReplayClient",{enumerable:!0,get:function(){return i.SessionReplayClient}});const o=Lk();Object.defineProperty(t,"StatsigTriggeredSessionReplayPlugin",{enumerable:!0,get:function(){return o.StatsigTriggeredSessionReplayPlugin}}),Object.defineProperty(t,"runStatsigTriggeredSessionReplay",{enumerable:!0,get:function(){return o.runStatsigTriggeredSessionReplay}}),Object.assign((0,e._getStatsigGlobal)(),{SessionReplayClient:i.SessionReplayClient,SessionReplay:r.SessionReplay,runStatsigSessionReplay:r.runStatsigSessionReplay,runStatsigTriggeredSessionReplay:o.runStatsigTriggeredSessionReplay,StatsigSessionReplayPlugin:r.StatsigSessionReplayPlugin,StatsigTriggeredSessionReplayPlugin:o.StatsigTriggeredSessionReplayPlugin,startRecording:n.startRecording,stopRecording:n.stopRecording,forceStartRecording:n.forceStartRecording})})(Qc)),Qc}var qU=Nk(),th={},Wr={},lo={},P_;function qo(){return P_||(P_=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.AutoCaptureEventName=void 0,lo.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}),lo}var uo={},rh={},D_;function gs(){return D_||(D_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapFunctionWithRestore=t.throttle=t._sanitizeString=t._getAnchorNodeInHierarchy=t._getSafeTimezoneOffset=t._getSafeTimezone=t._getSafeNetworkInformation=t._registerEventHandler=t._getSanitizedPageUrl=t._getSafeUrlString=t._getSafeUrl=t._shouldLogEvent=t._getTargetNode=t._stripEmptyValues=t.interactiveElements=void 0;const e=Je(),r="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",n=new RegExp("^(?:".concat(r,")$")),i="\\d{3}-?\\d{2}-?\\d{4}",o=new RegExp("^(".concat(i,")$"));t.interactiveElements=["button","a","input","select","textarea","form","select","label"];function a(S){return Object.fromEntries(Object.entries(S).filter(([T,A])=>A!=null&&A!==""&&A!==void 0))}t._stripEmptyValues=a;function l(S){if(!S)return null;let T=S.target||S.srcElement;return!T||!(T instanceof Element)?null:(T.nodeType===3&&(T=T.parentNode||null),T)}t._getTargetNode=l;function c(S,T,A=!1){if(!S||!T||T.nodeType!==1)return!1;const I=T.tagName.toLowerCase(),P=S.type.toLowerCase();if(T.classList.contains("statsig-no-capture"))return!1;if(A)return!0;switch(I){case"html":return!1;case"form":return["submit"].indexOf(P)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(P)>=0;default:if(P==="click"){const j=window.getComputedStyle(T);if(j&&j.getPropertyValue("cursor")==="pointer"||t.interactiveElements.includes(I)||T.getAttribute("contenteditable")==="true"||w(T))return!0}return!1}}t._shouldLogEvent=c;function h(){var S,T,A;const I=(A=(T=(S=(0,e._getWindowSafe)())===null||S===void 0?void 0:S.location)===null||T===void 0?void 0:T.href)!==null&&A!==void 0?A:"";let P;try{P=new URL(I)}catch(U){P=new URL("error:")}return P}t._getSafeUrl=h;function f(){const S=h().toString();return S.startsWith("error:")?"":S}t._getSafeUrlString=f;function p(){return(0,e._getCurrentPageUrlSafe)()||""}t._getSanitizedPageUrl=p;function y(S,T,A){!S||!S.addEventListener||S.addEventListener(T,A,!0)}t._registerEventHandler=y;function v(){const S=(0,e._getWindowSafe)();if(!S||!S.navigator)return null;const T=S.navigator.connection;return T||null}t._getSafeNetworkInformation=v;function b(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(S){return null}}t._getSafeTimezone=b;function m(){try{return new Date().getTimezoneOffset()}catch(S){return null}}t._getSafeTimezoneOffset=m;function w(S){if(!S)return null;let T=S;for(;T;){const A=T.tagName.toLowerCase();if(["body","document"].includes(A))return null;if(T.tagName.toLowerCase()==="a")return T;T=T.parentElement}return null}t._getAnchorNodeInHierarchy=w;function C(S){return S?S.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(T=>E(T)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null}t._sanitizeString=C;function E(S){return!(n.test((S||"").replace(/[- ]/g,""))||o.test((S||"").replace(/[- ]/g,"")))}function R(S,T){let A=0;return function(...I){const P=Date.now();P-A>=T&&(A=P,S(...I))}}t.throttle=R;function k(S,T,A){const I=S[T];if(typeof I!="function")return()=>{};try{const P=A(I);return Object.defineProperty(P,"__statsig_original__",{enumerable:!1,value:I}),S[T]=P,()=>{S[T]=I}}catch(P){return()=>{}}}t.wrapFunctionWithRestore=k})(rh)),rh}var Vn={},L_;function Uk(){if(L_)return Vn;L_=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn._getStackTrace=Vn._safeStringify=void 0;function t(l,c){return l.length<=c?l:l.slice(0,c)+"..."}function e(l,c,h,f){try{return n(l,c,h)?a(l,f):t(typeof l=="string"?l:typeof l=="object"&&l!==null?JSON.stringify(l):String(l),f)}catch(p){return t("[Unserializable]",f)}}Vn._safeStringify=e;function r(){var l,c;try{return(c=(l=new Error().stack)===null||l===void 0?void 0:l.split("\n").slice(2))!==null&&c!==void 0?c:[]}catch(h){return[]}}Vn._getStackTrace=r;function n(l,c,h){return!!(i(l)&&(Object.keys(l).length>c||o(l,h))||typeof l=="function")}function i(l){return Object.prototype.toString.call(l)==="[object Object]"}function o(l,c){return c<=0?!0:typeof l!="object"||l===null?!1:Object.keys(l).some(h=>o(l[h],c-1))}function a(l,c){return t(l.toString(),c)}return Vn}var gr={},N_;function tf(){if(N_)return gr;N_=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr._getPossibleFirstTouchMetadata=gr._getNetworkInfo=gr._gatherAllMetadata=gr._gatherCommonMetadata=void 0;const t=Je(),e=gs();function r(c){var h,f,p,y,v,b,m,w;const C=(0,t._getDocumentSafe)(),E=(0,t._getWindowSafe)();return(0,e._stripEmptyValues)(Object.assign({title:C==null?void 0:C.title,current_url:(h=E==null?void 0:E.location)===null||h===void 0?void 0:h.href,user_agent:!((f=E==null?void 0:E.navigator)===null||f===void 0)&&f.userAgent&&((y=(p=E==null?void 0:E.navigator)===null||p===void 0?void 0:p.userAgent)===null||y===void 0?void 0:y.length)>200?E.navigator.userAgent.substring(0,200):(v=E==null?void 0:E.navigator)===null||v===void 0?void 0:v.userAgent,locale:(b=E==null?void 0:E.navigator)===null||b===void 0?void 0:b.language,hostname:c.hostname,pathname:c.pathname,screen_width:(m=E==null?void 0:E.screen)===null||m===void 0?void 0:m.width,screen_height:(w=E==null?void 0:E.screen)===null||w===void 0?void 0:w.height,viewport_width:E==null?void 0:E.innerWidth,viewport_height:E==null?void 0:E.innerHeight,viewport:"".concat(E==null?void 0:E.innerWidth,"x").concat(E==null?void 0:E.innerHeight),timestamp:Date.now(),timezone:(0,e._getSafeTimezone)(),timezone_offset:(0,e._getSafeTimezoneOffset)()},i()))}gr._gatherCommonMetadata=r;function n(c){const h=(0,t._getDocumentSafe)(),f=(0,t._getWindowSafe)();if(!h||!f)return{};const p=a(h),y=r(c),v=l(c),b={};return c.searchParams.forEach((m,w)=>{b[w]=m}),Object.assign(Object.assign({},y),(0,e._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},p),v),b)))}gr._gatherAllMetadata=n;function i(){const c=(0,e._getSafeNetworkInformation)(),h={};return(c==null?void 0:c.effectiveType)!==void 0&&(h.effective_connection_type=c.effectiveType),(c==null?void 0:c.rtt)!==void 0&&(h.rtt_ms=c.rtt),(c==null?void 0:c.downlink)!==void 0&&(h.downlink_mbps=c.downlink,h.downlink_kbps=c.downlink*1e3),(c==null?void 0:c.saveData)!==void 0&&(h.save_data=c.saveData),h}gr._getNetworkInfo=i;function o(c){const h=(0,t._getDocumentSafe)(),f=(0,t._getWindowSafe)();if(!h||!f)return{};const p=a(h),y=l(c),v=(0,e._stripEmptyValues)(Object.assign(Object.assign({},p),y)),b={};for(const[m,w]of Object.entries(v))b["$s_".concat(m)]=w;return b}gr._getPossibleFirstTouchMetadata=o;function a(c){const h=(c==null?void 0:c.referrer)||"";if(!h)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{const f=new URL(h),p=f.hostname,y=["google","bing","yahoo","duckduckgo","baidu"].find(b=>p.includes(b+"."))||"",v=f.searchParams.get(y==="yahoo"?"p":"q")||"";return{referrer:h,referrer_domain:f.hostname,referrer_path:f.pathname,searchEngine:y,searchQuery:v}}catch(f){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function l(c){const h=c.searchParams,f={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(y=>{const v=h.get(y);v&&(f[y]=v)}),f}return gr}var U_;function jk(){if(U_)return uo;U_=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.ConsoleLogManager=void 0;const t=Je(),e=qo(),r=gs(),n=Uk(),i=tf(),o={trace:10,debug:20,log:30,info:30,warn:40,error:50},a=10,l=10,c=500;let h=class{constructor(p,y,v){var b,m,w,C;this._enqueueFn=p,this._errorBoundary=y,this._options=v,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=(b=this._options.logLevel)!==null&&b!==void 0?b:"info",this._maxKeys=(m=this._options.maxKeys)!==null&&m!==void 0?m:a,this._maxDepth=(w=this._options.maxDepth)!==null&&w!==void 0?w:l,this._maxStringLength=(C=this._options.maxStringLength)!==null&&C!==void 0?C:c}startTracking(){try{if(this._isTracking||!this._options.enabled||!(0,t._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(p){t.Log.error("Error starting console log tracking",p),this._errorBoundary.logError("autoCapture:ConsoleLogManager",p)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(p=>p()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(o).forEach(([p,y])=>{if(y<o[this._logLevel]||!console[p])return;const v=console[p].bind(console);let b=!1;const m=(0,r.wrapFunctionWithRestore)(console,p,w=>(...C)=>{if(w(...C),!b){b=!0;try{const E=C.map(k=>(0,n._safeStringify)(k,this._maxKeys,this._maxDepth,this._maxStringLength)),R=(0,n._getStackTrace)();this._enqueueConsoleLog(p,E,R)}catch(E){v("console observer error:",E,...C),this._errorBoundary.logError("autoCapture:ConsoleLogManager",E)}finally{b=!1}}});this._restoreFns.push(m)})}_enqueueConsoleLog(p,y,v){if(!this._shouldLog())return;const b=Object.assign({status:p==="log"?"info":p,log_level:p,payload:y,trace:v,timestamp:Date.now(),source:this.__source},(0,i._gatherAllMetadata)((0,r._getSafeUrl)()));this._enqueueFn(e.AutoCaptureEventName.CONSOLE_LOG,y.join(" "),b)}_shouldLog(){return!this._options.sampleRate||typeof this._options.sampleRate!="number"||this._options.sampleRate<=0||this._options.sampleRate>=1?!0:Math.random()<this._options.sampleRate}};return uo.ConsoleLogManager=h,uo}var nh={},qr={},j_;function ab(){if(j_)return qr;j_=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr._getMetadataFromElement=qr._gatherCopyEventData=qr._gatherEventData=void 0;const t=Je(),e=gs(),r=1e3,n=100,i=50;function o(S){const T=(0,e._getSanitizedPageUrl)()||"",A=S.tagName.toLowerCase();if(l(S))return{value:T,metadata:m(S)};const I={};I.tagName=A;const P=w(S);Object.assign(I,P),A==="form"&&Object.assign(I,c(S)),A==="input"&&Object.assign(I,h(S));const U=(0,e._getAnchorNodeInHierarchy)(S);return U&&Object.assign(I,f(U)),(A==="button"||U)&&Object.assign(I,p(U||S)),b(I)&&(I.isOutbound="true"),{value:T,metadata:I}}qr._gatherEventData=o;function a(S){var T,A;const I=(A=(T=(0,t._getWindowSafe)())===null||T===void 0?void 0:T.getSelection())===null||A===void 0?void 0:A.toString(),P={};P.selectedText=(0,e._sanitizeString)(I);const U=S.type||"clipboard";return P.clipType=U,P}qr._gatherCopyEventData=a;function l(S){return S.tagName.toLowerCase()==="input"&&["button","checkbox","submit","reset"].includes(S.getAttribute("type")||"")||S.tagName.toLowerCase()==="textarea"||S.tagName.toLowerCase()==="select"||S.getAttribute("contenteditable")==="true"}function c(S){var T;const A={};return A.action=S.getAttribute("action"),A.method=(T=S.getAttribute("method"))!==null&&T!==void 0?T:"GET",A.formName=S.getAttribute("name"),A.formId=S.getAttribute("id"),A}function h(S){const T={};return T.content=S.value,T.inputName=S.getAttribute("name"),T}function f(S){const T={};return T.href=S.getAttribute("href"),T}function p(S){const T={};T.content=(S.textContent||"").trim();const A=y(S);return Object.assign(T,A),T}function y(S){const T={};if(!S)return T;const A=S==null?void 0:S.dataset;if(!A)return T;for(const I in A)T["data-".concat(I)]=A[I]||"";return T}function v(S,T){return S?S.length>T?S.substring(0,T)+"...":S:null}function b(S){var T;if(Array.isArray(S.classList)&&(!((T=S.classList)===null||T===void 0)&&T.includes("statsig-ctr-capture")))return!0;const A=S.href;if(A)try{const I=(0,e._getSafeUrl)(),P=new URL(A);return I.host!==P.host}catch(I){return!1}return!1}function m(S){const T={};return T.class=C(v(S.getAttribute("class"),r)||""),T.id=v(S.getAttribute("id"),r),T.ariaLabel=v(S.getAttribute("aria-label"),r),T.name=v(S.getAttribute("name"),r),T}function w(S){const T={},A=m(S);Object.assign(T,A);const I=Array.from(S.classList);return T.classList=I.length>0?I.slice(0,n):null,T.selector=k(S),T}qr._getMetadataFromElement=w;function C(S){return S.replace(/\s+/g," ").trim()}function E(S){let T=S.nextElementSibling;for(;T;){if(T.tagName===S.tagName)return!0;T=T.nextElementSibling}return!1}function R(S){const T=S.tagName.toLowerCase();if(S.id)return"#".concat(S.id);let A=T;if(S.className&&typeof S.className=="string"){const P=S.className.trim().split(/\s+/);P.length>0&&P[0]!==""&&(A+="."+P.join("."))}const I=S.parentElement;if(I&&I.children.length>1){let P=1,U=1,j=S.previousElementSibling;for(;j;)P++,j.tagName===S.tagName&&U++,j=j.previousElementSibling;A+=":nth-child(".concat(P,")"),(U>1||E(S))&&(A+=":nth-of-type(".concat(U,")"))}return A}function k(S){if(!S)return"";if(!S.parentNode){const P=S.tagName.toLowerCase();if(S.id)return"#".concat(S.id);let U=P;if(S.className&&typeof S.className=="string"){const j=S.className.trim().split(/\s+/);j.length>0&&j[0]!==""&&(U+="."+j.join("."))}return U}const T=[];let A=S,I=0;for(;A&&A.nodeType===Node.ELEMENT_NODE&&I<i;){const P=R(A);if(T.unshift(P),A.id||(A=A.parentElement,A&&A.tagName.toLowerCase()==="body"))break;I++}return T.join(" > ")}return qr}var $_;function $k(){return $_||($_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DeadClickConfig=void 0;const e=Je(),r=qo(),n=gs(),i=ab(),o=tf();t.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};class a{constructor(c,h){this._enqueueFn=c,this._errorBoundary=h,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=t.DeadClickConfig,this._handleScroll=(0,n.throttle)(()=>{const f=Date.now();this._clicks.forEach(p=>{p.scrollDelayMs||(p.scrollDelayMs=f-p.timestamp)})},50)}startTracking(){try{const c=(0,e._getWindowSafe)();if(!c)return;c.addEventListener("click",h=>this._handleClick(h),{capture:!0}),c.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),c.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(c){e.Log.error("Error starting dead click tracking",c),this._errorBoundary.logError("autoCapture:DeadClickManager",c)}}_handleClick(c){var h,f;const p=c.target;if(!p)return;const y={timestamp:Date.now(),eventTarget:p};n.interactiveElements.includes((h=p==null?void 0:p.tagName)===null||h===void 0?void 0:h.toLowerCase())||this._clicks.push(y),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(f=(0,e._getWindowSafe)())===null||f===void 0?void 0:f.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){const c=(0,e._getDocumentSafe)();c&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(c.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var c;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;const h=this._clicks;this._clicks=[];for(const f of h){this._updateClickDelayMs(f);const p=f.scrollDelayMs!=null&&f.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,y=f.selectionChangeDelayMs!=null&&f.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,v=f.mutationDelayMs!=null&&f.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(p||y||v)continue;const b=f.scrollDelayMs!=null&&f.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,m=f.selectionChangeDelayMs!=null&&f.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,w=f.mutationDelayMs!=null&&f.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,C=f.absoluteDelayMs!=null&&f.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;b||m||w||C?this._logDeadClick(f,{scrollTimeout:b,selectionChangeTimeout:m,mutationTimeout:w,absoluteTimeout:C}):f.absoluteDelayMs!=null&&f.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(f)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(c=(0,e._getWindowSafe)())===null||c===void 0?void 0:c.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(c,h){const{value:f,metadata:p}=(0,i._gatherEventData)(c.eventTarget);f&&this._enqueueFn(r.AutoCaptureEventName.DEAD_CLICK,f,Object.assign(Object.assign(Object.assign(Object.assign({},p),h),(0,o._gatherCommonMetadata)((0,n._getSafeUrl)())),{scrollDelayMs:c.scrollDelayMs,selectionChangeDelayMs:c.selectionChangeDelayMs,mutationDelayMs:c.mutationDelayMs,absoluteDelayMs:c.absoluteDelayMs}))}_updateClickDelayMs(c){!c.mutationDelayMs&&this._lastMutationTime>0&&c.timestamp<=this._lastMutationTime&&(c.mutationDelayMs=Date.now()-this._lastMutationTime),!c.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&c.timestamp<=this._lastSelectionChangeTime&&(c.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),c.absoluteDelayMs=Date.now()-c.timestamp}}t.default=a})(nh)),nh}var co={},F_;function Fk(){if(F_)return co;F_=1,Object.defineProperty(co,"__esModule",{value:!0}),co.EngagementManager=void 0;const t=Je(),e=6e5;let r=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}_initializeScrollTracking(){const i=(0,t._getWindowSafe)();i&&(i.addEventListener("scroll",()=>this._handleScroll()),i.addEventListener("scrollend",()=>this._handleScroll()),i.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){const i=(0,t._getWindowSafe)(),o=(0,t._getDocumentSafe)();if(!i||!o)return;const a=o.body.scrollHeight,l=i.scrollY||o.documentElement.scrollTop||0,c=i.innerHeight;this._lastScrollY=l,this._maxScrollY=Math.max(this._maxScrollY,l);const h=Math.min(100,Math.round((l+c)/a*100));this._lastScrollPercentage=h,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,h),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(i){this._lastPageViewTime=i}startInactivityTracking(i){this._onInactivityCallback=i}bumpInactiveTimer(){const i=(0,t._getWindowSafe)();i&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=i.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},e))}setMeaningfulEngagementOccurred(i){this._meaningfulEngagementOccurred=i}getPageViewEndMetadata(){const i=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),i}};return co.EngagementManager=r,co}var sl={},B_;function Bk(){if(B_)return sl;B_=1,Object.defineProperty(sl,"__esModule",{value:!0});const t=30,e=1e3,r=3;let n=class{constructor(){this._clicks=[]}isRageClick(o,a,l){this._clicks=this._clicks.filter(h=>l-h.timestamp<e);const c=h=>{const f=o-h.x,p=a-h.y;return Math.abs(f)+Math.abs(p)<=t};return this._clicks.length>0&&!c(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:o,y:a,timestamp:l}),this._clicks.length>=r}};return sl.default=n,sl}var ho={},mo={exports:{}},zk=mo.exports,z_;function Wk(){return z_||(z_=1,(function(t,e){(function(r,n){n(e)})(zk,(function(r){let n=-1;const i=Z=>{addEventListener("pageshow",(J=>{J.persisted&&(n=J.timeStamp,Z(J))}),!0)},o=(Z,J,de,Y)=>{let ae,le;return H=>{J.value>=0&&(H||Y)&&(le=J.value-(ae!=null?ae:0),(le||ae===void 0)&&(ae=J.value,J.delta=le,J.rating=((ie,se)=>ie>se[1]?"poor":ie>se[0]?"needs-improvement":"good")(J.value,de),Z(J)))}},a=Z=>{requestAnimationFrame((()=>requestAnimationFrame((()=>Z()))))},l=()=>{const Z=performance.getEntriesByType("navigation")[0];if(Z&&Z.responseStart>0&&Z.responseStart<performance.now())return Z},c=()=>{var J;const Z=l();return(J=Z==null?void 0:Z.activationStart)!=null?J:0},h=(Z,J=-1)=>{const de=l();let Y="navigate";return n>=0?Y="back-forward-cache":de&&(document.prerendering||c()>0?Y="prerender":document.wasDiscarded?Y="restore":de.type&&(Y=de.type.replace(/_/g,"-"))),{name:Z,value:J,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:Y}},f=new WeakMap;function p(Z,J){return f.get(Z)||f.set(Z,new J),f.get(Z)}class y{constructor(){St(this,"t");St(this,"i",0);St(this,"o",[])}h(J){var ae;if(J.hadRecentInput)return;const de=this.o[0],Y=this.o.at(-1);this.i&&de&&Y&&J.startTime-Y.startTime<1e3&&J.startTime-de.startTime<5e3?(this.i+=J.value,this.o.push(J)):(this.i=J.value,this.o=[J]),(ae=this.t)==null||ae.call(this,J)}}const v=(Z,J,de={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(Z)){const Y=new PerformanceObserver((ae=>{Promise.resolve().then((()=>{J(ae.getEntries())}))}));return Y.observe({type:Z,buffered:!0,...de}),Y}}catch(Y){}},b=Z=>{let J=!1;return()=>{J||(Z(),J=!0)}};let m=-1;const w=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,C=Z=>{document.visibilityState==="hidden"&&m>-1&&(m=Z.type==="visibilitychange"?Z.timeStamp:0,R())},E=()=>{addEventListener("visibilitychange",C,!0),addEventListener("prerenderingchange",C,!0)},R=()=>{removeEventListener("visibilitychange",C,!0),removeEventListener("prerenderingchange",C,!0)},k=()=>{var Z;if(m<0){const J=c(),de=document.prerendering||(Z=globalThis.performance.getEntriesByType("visibility-state").filter((Y=>Y.name==="hidden"&&Y.startTime>J))[0])==null?void 0:Z.startTime;m=de!=null?de:w(),E(),i((()=>{setTimeout((()=>{m=w(),E()}))}))}return{get firstHiddenTime(){return m}}},S=Z=>{document.prerendering?addEventListener("prerenderingchange",(()=>Z()),!0):Z()},T=[1800,3e3],A=(Z,J={})=>{S((()=>{const de=k();let Y,ae=h("FCP");const le=v("paint",(H=>{for(const ie of H)ie.name==="first-contentful-paint"&&(le.disconnect(),ie.startTime<de.firstHiddenTime&&(ae.value=Math.max(ie.startTime-c(),0),ae.entries.push(ie),Y(!0)))}));le&&(Y=o(Z,ae,T,J.reportAllChanges),i((H=>{ae=h("FCP"),Y=o(Z,ae,T,J.reportAllChanges),a((()=>{ae.value=performance.now()-H.timeStamp,Y(!0)}))})))}))},I=[.1,.25];let P=0,U=1/0,j=0;const W=Z=>{for(const J of Z)J.interactionId&&(U=Math.min(U,J.interactionId),j=Math.max(j,J.interactionId),P=j?(j-U)/7+1:0)};let q;const B=()=>{var Z;return q?P:(Z=performance.interactionCount)!=null?Z:0},te=()=>{"interactionCount"in performance||q||(q=v("event",W,{type:"event",buffered:!0,durationThreshold:0}))};let N=0;class F{constructor(){St(this,"u",[]);St(this,"l",new Map);St(this,"m");St(this,"p")}v(){N=B(),this.u.length=0,this.l.clear()}T(){const J=Math.min(this.u.length-1,Math.floor((B()-N)/50));return this.u[J]}h(J){var ae,le;if((ae=this.m)==null||ae.call(this,J),!J.interactionId&&J.entryType!=="first-input")return;const de=this.u.at(-1);let Y=this.l.get(J.interactionId);if(Y||this.u.length<10||J.duration>de.P){if(Y?J.duration>Y.P?(Y.entries=[J],Y.P=J.duration):J.duration===Y.P&&J.startTime===Y.entries[0].startTime&&Y.entries.push(J):(Y={id:J.interactionId,entries:[J],P:J.duration},this.l.set(Y.id,Y),this.u.push(Y)),this.u.sort(((H,ie)=>ie.P-H.P)),this.u.length>10){const H=this.u.splice(10);for(const ie of H)this.l.delete(ie.id)}(le=this.p)==null||le.call(this,Y)}}}const z=Z=>{const J=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?Z():(Z=b(Z),document.addEventListener("visibilitychange",Z,{once:!0}),J((()=>{Z(),document.removeEventListener("visibilitychange",Z)})))},Q=[200,500];class ne{constructor(){St(this,"m")}h(J){var de;(de=this.m)==null||de.call(this,J)}}const ce=[2500,4e3],_e=[800,1800],ge=Z=>{document.prerendering?S((()=>ge(Z))):document.readyState!=="complete"?addEventListener("load",(()=>ge(Z)),!0):setTimeout(Z)};r.CLSThresholds=I,r.FCPThresholds=T,r.INPThresholds=Q,r.LCPThresholds=ce,r.TTFBThresholds=_e,r.onCLS=(Z,J={})=>{A(b((()=>{let de,Y=h("CLS",0);const ae=p(J,y),le=ie=>{for(const se of ie)ae.h(se);ae.i>Y.value&&(Y.value=ae.i,Y.entries=ae.o,de())},H=v("layout-shift",le);H&&(de=o(Z,Y,I,J.reportAllChanges),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(le(H.takeRecords()),de(!0))})),i((()=>{ae.i=0,Y=h("CLS",0),de=o(Z,Y,I,J.reportAllChanges),a((()=>de()))})),setTimeout(de))})))},r.onFCP=A,r.onINP=(Z,J={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&S((()=>{var ie;te();let de,Y=h("INP");const ae=p(J,F),le=se=>{z((()=>{for(const me of se)ae.h(me);const he=ae.T();he&&he.P!==Y.value&&(Y.value=he.P,Y.entries=he.entries,de())}))},H=v("event",le,{durationThreshold:(ie=J.durationThreshold)!=null?ie:40});de=o(Z,Y,Q,J.reportAllChanges),H&&(H.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(le(H.takeRecords()),de(!0))})),i((()=>{ae.v(),Y=h("INP"),de=o(Z,Y,Q,J.reportAllChanges)})))}))},r.onLCP=(Z,J={})=>{S((()=>{const de=k();let Y,ae=h("LCP");const le=p(J,ne),H=se=>{J.reportAllChanges||(se=se.slice(-1));for(const he of se)le.h(he),he.startTime<de.firstHiddenTime&&(ae.value=Math.max(he.startTime-c(),0),ae.entries=[he],Y())},ie=v("largest-contentful-paint",H);if(ie){Y=o(Z,ae,ce,J.reportAllChanges);const se=b((()=>{H(ie.takeRecords()),ie.disconnect(),Y(!0)}));for(const he of["keydown","click","visibilitychange"])addEventListener(he,(()=>z(se)),{capture:!0,once:!0});i((he=>{ae=h("LCP"),Y=o(Z,ae,ce,J.reportAllChanges),a((()=>{ae.value=performance.now()-he.timeStamp,Y(!0)}))}))}}))},r.onTTFB=(Z,J={})=>{let de=h("TTFB"),Y=o(Z,de,_e,J.reportAllChanges);ge((()=>{const ae=l();ae&&(de.value=Math.max(ae.responseStart-c(),0),de.entries=[ae],Y(!0),i((()=>{de=h("TTFB",0),Y=o(Z,de,_e,J.reportAllChanges),Y(!0)})))}))}}))})(mo,mo.exports)),mo.exports}var W_;function qk(){if(W_)return ho;W_=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.WebVitalsManager=void 0;const t=Wk(),e=Je(),r=qo(),n=gs(),i=["CLS","FCP","INP","LCP","TTFB"];let o=class{constructor(l,c){this._enqueueFn=l,this._errorBoundary=c,this._isInitialized=!1,this._metricEvent={url:(0,n._getSafeUrlString)(),sanitizedUrl:(0,n._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var l,c;try{if(this._isInitialized)return;const h=(c=(l=(0,e._getWindowSafe)())===null||l===void 0?void 0:l.location)===null||c===void 0?void 0:c.protocol;if(h!=="https:"&&h!=="http:")return;(0,t.onCLS)(f=>this._handleMetric(f)),(0,t.onFCP)(f=>this._handleMetric(f)),(0,t.onINP)(f=>this._handleMetric(f)),(0,t.onLCP)(f=>this._handleMetric(f)),(0,t.onTTFB)(f=>this._handleMetric(f)),this._isInitialized=!0}catch(h){e.Log.error("Error starting web vitals tracking",h),this._errorBoundary.logError("autoCapture:WebVitalsManager",h)}}_handleMetric(l){if(this._metricEvent.firstMetricTimestamp===void 0&&(this._metricEvent.firstMetricTimestamp=Date.now()),l===void 0||(l==null?void 0:l.name)===void 0)return;const c=(0,n._getSafeUrlString)();if(c===""||!i.includes(l.name))return;c!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=c);const h=l;this._metricEvent.metrics.push({name:h.name,value:h.value,delta:h.delta,id:h.id}),this._metricEvent.metrics.length===i.length&&this._enqueueWebVitalsAutoCaptureEvent()}_enqueueWebVitalsAutoCaptureEvent(){if(this._metricEvent.url===""||this._metricEvent.metrics.length===0)return;const l={};this._metricEvent.metrics.forEach(c=>{const h=c.name.toLowerCase();l["".concat(h,"_value")]=c.value,l["".concat(h,"_delta")]=c.delta,l["".concat(h,"_id")]=c.id}),this._enqueueFn(r.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},l),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,n._getSafeUrlString)(),sanitizedUrl:(0,n._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}};return ho.WebVitalsManager=o,ho}var q_;function Vk(){if(q_)return Wr;q_=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.AutoCapture=Wr.runStatsigAutoCapture=Wr.StatsigAutoCapturePlugin=void 0;const t=Je(),e=qo(),r=jk(),n=$k(),i=Fk(),o=Bk(),a=qk(),l=gs(),c=ab(),h=tf(),f={submit:e.AutoCaptureEventName.FORM_SUBMIT,click:e.AutoCaptureEventName.CLICK,copy:e.AutoCaptureEventName.COPY,cut:e.AutoCaptureEventName.COPY};class p{constructor(m){this._options=m,this.__plugin="auto-capture"}bind(m){y(m,this._options)}}Wr.StatsigAutoCapturePlugin=p;function y(b,m){var w;const{sdkKey:C}=b.getContext();if(!(0,t._isServerEnv)()){const R=(w=(0,t._getStatsigGlobal)().acInstances)!==null&&w!==void 0?w:{};if(R[C])return R[C]}return new v(b,m)}Wr.runStatsigAutoCapture=y;let v=class{constructor(m,w){var C,E,R,k;this._client=m,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;const{sdkKey:S,errorBoundary:T,values:A}=m.getContext();this._options=w,this._disabledEvents=(E=(C=A==null?void 0:A.auto_capture_settings)===null||C===void 0?void 0:C.disabled_events)!==null&&E!==void 0?E:{},this._errorBoundary=T,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var P,U;const j=this._client.getContext().values;this._disabledEvents=(U=(P=j==null?void 0:j.auto_capture_settings)===null||P===void 0?void 0:P.disabled_events)!==null&&U!==void 0?U:this._disabledEvents}),this._engagementManager=new i.EngagementManager,this._rageClickManager=new o.default,this._webVitalsManager=new a.WebVitalsManager(this._enqueueAutoCapture.bind(this),T),this._deadClickManager=new n.default(this._enqueueAutoCapture.bind(this),T),this._consoleLogManager=new r.ConsoleLogManager(this._enqueueAutoCapture.bind(this),T,(R=w==null?void 0:w.consoleLogAutoCaptureSettings)!==null&&R!==void 0?R:{enabled:!1}),this._eventFilterFunc=w==null?void 0:w.eventFilterFunc;const I=(0,t._getDocumentSafe)();if(!(0,t._isServerEnv)()){__STATSIG__=(0,t._getStatsigGlobal)();const P=(k=__STATSIG__.acInstances)!==null&&k!==void 0?k:{};P[S]=this,__STATSIG__.acInstances=P}if((I==null?void 0:I.readyState)==="loading"){I.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){const m=(0,t._getWindowSafe)(),w=(0,t._getDocumentSafe)();if(!m||!w)return;const C=(E,R=!0)=>{var k;const S=E||((k=(0,t._getWindowSafe)())===null||k===void 0?void 0:k.event);this._autoLogEvent(S),R&&this._engagementManager.bumpInactiveTimer(),S.type==="click"&&S instanceof MouseEvent&&this._rageClickManager.isRageClick(S.clientX,S.clientY,Date.now())&&this._logRageClick(S)};(0,l._registerEventHandler)(w,"click",E=>C(E)),(0,l._registerEventHandler)(w,"submit",E=>C(E)),(0,l._registerEventHandler)(w,"copy",E=>C(E)),(0,l._registerEventHandler)(w,"cut",E=>C(E)),(0,l._registerEventHandler)(m,"error",E=>C(E,!1)),(0,l._registerEventHandler)(m,"pagehide",()=>this._tryLogPageViewEnd()),(0,l._registerEventHandler)(m,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){const m=(0,t._getWindowSafe)(),w=(0,t._getDocumentSafe)();!m||!w||((0,l._registerEventHandler)(m,"popstate",()=>this._tryLogPageView("popstate")),window.history.pushState=new Proxy(window.history.pushState,{apply:(C,E,[R,k,S])=>{C.apply(E,[R,k,S]),this._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(C,E,[R,k,S])=>{C.apply(E,[R,k,S]),this._tryLogPageView("replacestate")}}),this._tryLogPageView())}_autoLogEvent(m){var w,C,E,R;const k=(w=m.type)===null||w===void 0?void 0:w.toLowerCase();if(k==="error"&&m instanceof ErrorEvent){this._logError(m);return}const S=(0,l._getTargetNode)(m);if(!S)return;const T=f[k];if(!T)return;const A=T===e.AutoCaptureEventName.COPY;if(!(0,l._shouldLogEvent)(m,S,A))return;const I={};if(A){const W=(E=(C=(0,t._getWindowSafe)())===null||C===void 0?void 0:C.getSelection())===null||E===void 0?void 0:E.toString();if(!W)return;!((R=this._options)===null||R===void 0)&&R.captureCopyText&&(I.selectedText=(0,l._sanitizeString)(W));const q=m.type||"clipboard";I.clipType=q}const{value:P,metadata:U}=(0,c._gatherEventData)(S);U.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(I,U);const j=(0,h._gatherAllMetadata)((0,l._getSafeUrl)());this._enqueueAutoCapture(T,P,Object.assign(Object.assign({},j),I))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(m){const w=(m==null?void 0:m.error)||{};let C=w;if(typeof w=="object")try{C=JSON.stringify(w)}catch(E){C=typeof(w==null?void 0:w.toString)=="function"?w.toString():"Unknown Error"}this._enqueueAutoCapture(e.AutoCaptureEventName.ERROR,m.message,{message:m.message,filename:m.filename,lineno:m.lineno,colno:m.colno,error_str:C})}_logSessionStart(){const m=this._getSessionFromClient();try{if(!this._isNewSession(m))return;this._enqueueAutoCapture(e.AutoCaptureEventName.SESSION_START,(0,l._getSanitizedPageUrl)(),Object.assign({sessionID:m.data.sessionID},(0,h._gatherAllMetadata)((0,l._getSafeUrl)())),{flushImmediately:!0})}catch(w){this._errorBoundary.logError("AC::logSession",w)}}_tryLogPageView(m){const w=(0,l._getSafeUrl)(),C=this._previousLoggedPageViewUrl;if(C&&w.pathname===C.pathname)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;const E=(0,h._gatherAllMetadata)(w);m&&(E.navigation_type=m),this._previousLoggedPageViewUrl&&(E.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(e.AutoCaptureEventName.PAGE_VIEW,(0,l._getSanitizedPageUrl)(),E,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=w,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(m=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(e.AutoCaptureEventName.PAGE_VIEW_END,(0,l._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:m}),{flushImmediately:!0}))}_logRageClick(m){if(!(0,l._shouldLogEvent)(m,m.target))return;const{value:w,metadata:C}=(0,c._gatherEventData)(m.target);this._enqueueAutoCapture(e.AutoCaptureEventName.RAGE_CLICK,w,Object.assign(Object.assign({x:m.clientX,y:m.clientY,timestamp:Date.now()},(0,h._gatherAllMetadata)((0,l._getSafeUrl)())),C))}_logPerformance(){const m=(0,t._getWindowSafe)();!m||!m.performance||typeof(m==null?void 0:m.performance)>"u"||typeof m.performance.getEntriesByType!="function"||typeof m.performance.getEntriesByName!="function"||setTimeout(()=>{const w={},C=m.performance.getEntriesByType("navigation");if(C&&C.length>0&&C[0]instanceof PerformanceNavigationTiming){const R=C[0];w.load_time_ms=R.duration,w.dom_interactive_time_ms=R.domInteractive-R.startTime,w.redirect_count=R.redirectCount,w.transfer_bytes=R.transferSize}const E=m.performance.getEntriesByName("first-contentful-paint");E&&E.length>0&&E[0]instanceof PerformancePaintTiming&&(w.first_contentful_paint_time_ms=E[0].startTime),this._enqueueAutoCapture(e.AutoCaptureEventName.PERFORMANCE,(0,l._getSanitizedPageUrl)(),Object.assign(Object.assign({},w),(0,h._getNetworkInfo)()))},1)}_enqueueAutoCapture(m,w,C,E){var R,k,S;if(!w)return;const T=m.slice(14);if(this._disabledEvents[m]||this._disabledEvents[T])return;const A=this._getSessionFromClient();try{const I=Object.assign({sessionID:A.data.sessionID,page_url:(S=(k=(R=(0,t._getWindowSafe)())===null||R===void 0?void 0:R.location)===null||k===void 0?void 0:k.href)!==null&&S!==void 0?S:""},C);E!=null&&E.addNewSessionMetadata&&(I.isNewSession=String(this._isNewSession(A)));const P={eventName:m,value:w,metadata:I};if(this._eventFilterFunc&&!this._eventFilterFunc(P))return;this._client.logEvent(P),E!=null&&E.flushImmediately&&this._flushImmediately()}catch(I){this._errorBoundary.logError("AC::enqueue",I)}}_updateClientWithPossibleFirstTouchMetadata(){const m=this._client;m._possibleFirstTouchMetadata=(0,h._getPossibleFirstTouchMetadata)((0,l._getSafeUrl)()),Object.keys(m._possibleFirstTouchMetadata).length>0&&(m._user=Object.assign(Object.assign({},m._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},m._possibleFirstTouchMetadata),m._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(m=>{t.Log.error(m)})}_isNewSession(m){return Math.abs(m.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,h._gatherAllMetadata)((0,l._getSafeUrl)())}};return Wr.AutoCapture=v,Wr}var V_;function Gk(){return V_||(V_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigAutoCapturePlugin=t.runStatsigAutoCapture=t.AutoCapture=t.AutoCaptureEventName=void 0;const e=Je(),r=Vk();Object.defineProperty(t,"AutoCapture",{enumerable:!0,get:function(){return r.AutoCapture}}),Object.defineProperty(t,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return r.StatsigAutoCapturePlugin}}),Object.defineProperty(t,"runStatsigAutoCapture",{enumerable:!0,get:function(){return r.runStatsigAutoCapture}});var n=qo();Object.defineProperty(t,"AutoCaptureEventName",{enumerable:!0,get:function(){return n.AutoCaptureEventName}});const i=Object.assign((0,e._getStatsigGlobal)(),{AutoCapture:r.AutoCapture,runStatsigAutoCapture:r.runStatsigAutoCapture,StatsigAutoCapturePlugin:r.StatsigAutoCapturePlugin});t.default=i})(th)),th}var YU=Gk();function lb(t,e,r){return Math.max(t,Math.min(e,r))}class Hk{advance(e){var l;if(!this.isRunning)return;let r=!1;if(this.lerp)this.value=(n=this.value,i=this.to,o=60*this.lerp,a=e,(function(c,h,f){return(1-f)*c+f*h})(n,i,1-Math.exp(-o*a))),Math.round(this.value)===this.to&&(this.value=this.to,r=!0);else{this.currentTime+=e;const c=lb(0,this.currentTime/this.duration,1);r=c>=1;const h=r?1:this.easing(c);this.value=this.from+(this.to-this.from)*h}var n,i,o,a;(l=this.onUpdate)==null||l.call(this,this.value,r),r&&this.stop()}stop(){this.isRunning=!1}fromTo(e,r,{lerp:n=.1,duration:i=1,easing:o=(c=>c),onStart:a,onUpdate:l}){this.from=this.value=e,this.to=r,this.lerp=n,this.duration=i,this.easing=o,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=l}}class Kk{constructor({wrapper:e,content:r,autoResize:n=!0,debounce:i=250}={}){St(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});St(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});St(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=r,n&&(this.debouncedResize=(function(o,a){let l;return function(){let c=arguments,h=this;clearTimeout(l),l=setTimeout((function(){o.apply(h,c)}),a)}})(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,r;(e=this.wrapperResizeObserver)==null||e.disconnect(),(r=this.contentResizeObserver)==null||r.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class ub{constructor(){this.events={}}emit(e,...r){let n=this.events[e]||[];for(let i=0,o=n.length;i<o;i++)n[i](...r)}on(e,r){var n;return(n=this.events[e])!=null&&n.push(r)||(this.events[e]=[r]),()=>{var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter((o=>r!==o))}}off(e,r){var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter((i=>r!==i))}destroy(){this.events={}}}const G_=100/6;class Xk{constructor(e,{wheelMultiplier:r=1,touchMultiplier:n=1}){St(this,"onTouchStart",e=>{const{clientX:r,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=r,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});St(this,"onTouchMove",e=>{const{clientX:r,clientY:n}=e.targetTouches?e.targetTouches[0]:e,i=-(r-this.touchStart.x)*this.touchMultiplier,o=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=r,this.touchStart.y=n,this.lastDelta={x:i,y:o},this.emitter.emit("scroll",{deltaX:i,deltaY:o,event:e})});St(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});St(this,"onWheel",e=>{let{deltaX:r,deltaY:n,deltaMode:i}=e;r*=i===1?G_:i===2?this.windowWidth:1,n*=i===1?G_:i===2?this.windowHeight:1,r*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:r,deltaY:n,event:e})});St(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=r,this.touchMultiplier=n,this.touchStart={x:null,y:null},this.emitter=new ub,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,r){return this.emitter.on(e,r)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class JU{constructor({wrapper:e=window,content:r=document.documentElement,wheelEventsTarget:n=e,eventsTarget:i=n,smoothWheel:o=!0,syncTouch:a=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:c=35,duration:h,easing:f=(R=>Math.min(1,1.001-Math.pow(2,-10*R))),lerp:p=!h&&.1,infinite:y=!1,orientation:v="vertical",gestureOrientation:b="vertical",touchMultiplier:m=1,wheelMultiplier:w=1,autoResize:C=!0,__experimental__naiveDimensions:E=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:R,deltaY:k,event:S})=>{if(S.ctrlKey)return;const T=S.type.includes("touch"),A=S.type.includes("wheel");if(this.options.syncTouch&&T&&S.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const I=R===0&&k===0,P=this.options.gestureOrientation==="vertical"&&k===0||this.options.gestureOrientation==="horizontal"&&R===0;if(I||P)return;let U=S.composedPath();if(U=U.slice(0,U.indexOf(this.rootElement)),U.find((B=>{var te,N,F,z,Q;return((te=B.hasAttribute)===null||te===void 0?void 0:te.call(B,"data-lenis-prevent"))||T&&((N=B.hasAttribute)===null||N===void 0?void 0:N.call(B,"data-lenis-prevent-touch"))||A&&((F=B.hasAttribute)===null||F===void 0?void 0:F.call(B,"data-lenis-prevent-wheel"))||((z=B.classList)===null||z===void 0?void 0:z.contains("lenis"))&&!(!((Q=B.classList)===null||Q===void 0)&&Q.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void S.preventDefault();if(this.isSmooth=this.options.syncTouch&&T||this.options.smoothWheel&&A,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();S.preventDefault();let j=k;this.options.gestureOrientation==="both"?j=Math.abs(k)>Math.abs(R)?k:R:this.options.gestureOrientation==="horizontal"&&(j=R);const W=T&&this.options.syncTouch,q=T&&S.type==="touchend"&&Math.abs(j)>5;q&&(j=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+j,Object.assign({programmatic:!1},W?{lerp:q?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const R=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-R),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:r,wheelEventsTarget:n,eventsTarget:i,smoothWheel:o,syncTouch:a,syncTouchLerp:l,touchInertiaMultiplier:c,duration:h,easing:f,lerp:p,infinite:y,gestureOrientation:b,orientation:v,touchMultiplier:m,wheelMultiplier:w,autoResize:C,__experimental__naiveDimensions:E},this.animate=new Hk,this.emitter=new ub,this.dimensions=new Kk({wrapper:e,content:r,autoResize:C}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=a||o,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Xk(i,{touchMultiplier:m,wheelMultiplier:w}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,r){return this.emitter.on(e,r)}off(e,r){return this.emitter.off(e,r)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const r=e-(this.time||e);this.time=e,this.animate.advance(.001*r)}scrollTo(e,{offset:r=0,immediate:n=!1,lock:i=!1,duration:o=this.options.duration,easing:a=this.options.easing,lerp:l=!o&&this.options.lerp,onComplete:c,force:h=!1,programmatic:f=!0}={}){if(!this.isStopped&&!this.isLocked||h){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let p;if(typeof e=="string"?p=document.querySelector(e):e!=null&&e.nodeType&&(p=e),p){if(this.options.wrapper!==window){const v=this.options.wrapper.getBoundingClientRect();r-=this.isHorizontal?v.left:v.top}const y=p.getBoundingClientRect();e=(this.isHorizontal?y.left:y.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=r,e=Math.round(e),this.options.infinite?f&&(this.targetScroll=this.animatedScroll=this.scroll):e=lb(0,e,this.limit),n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!f){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:o,easing:a,lerp:l,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(p,y)=>{this.isScrolling=!0,this.velocity=p-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=p,this.setScroll(this.scroll),f&&(this.targetScroll=p),y||this.emit(),y&&(this.reset(),this.emit(),c==null||c(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,r=this.limit,(e%r+r)%r):this.animatedScroll;var e,r}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,r){this.rootElement.classList.toggle(e,r),this.emitter.emit("className change",this)}}const Yk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ms);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class rf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class H_ extends rf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class K_ extends rf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class X_ extends rf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kh||(Kh={}));var Jk=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};class Zk{constructor(e,{headers:r={},customFetch:n,region:i=Kh.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Yk(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return Jk(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:o,method:a,body:l,signal:c}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL("".concat(this.url,"/").concat(r));f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let y;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(h["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(h["Content-Type"]="application/json",y=JSON.stringify(l)));const v=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new H_(C)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new K_(v);if(!v.ok)throw new X_(v);let m=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield v.json():m==="application/octet-stream"?w=yield v.blob():m==="text/event-stream"?w=v:m==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new H_(o)}:{data:null,error:o,response:o instanceof X_||o instanceof K_?o.context:void 0}}})}}var bt={},Pi={},Di={},Li={},Ni={},Ui={},Qk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},us=Qk();const ex=us.fetch,cb=us.fetch.bind(us),hb=us.Headers,tx=us.Request,rx=us.Response,ms=Object.freeze(Object.defineProperty({__proto__:null,Headers:hb,Request:tx,Response:rx,default:cb,fetch:ex},Symbol.toStringTag,{value:"Module"})),nx=CT(ms);var ol={},Y_;function db(){if(Y_)return ol;Y_=1,Object.defineProperty(ol,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ol.default=t,ol}var J_;function fb(){if(J_)return Ui;J_=1;var t=Ui&&Ui.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ui,"__esModule",{value:!0});const e=t(nx),r=t(db());class n{constructor(o){var a,l;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(l=o.isMaybeSingle)!==null&&l!==void 0?l:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,p,y,v;let b=null,m=null,w=null,C=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const T=await h.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?m=T:m=JSON.parse(T))}const k=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),S=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&S&&S.length>1&&(w=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(b={code:"PGRST116",details:"Results contain ".concat(m.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,w=null,C=406,E="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const k=await h.text();try{b=JSON.parse(k),Array.isArray(b)&&h.status===404&&(m=[],b=null,C=200,E="OK")}catch(S){h.status===404&&k===""?(C=204,E="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((v=b==null?void 0:b.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,C=200,E="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:m,count:w,status:C,statusText:E}});return this.shouldThrowOnError||(c=c.catch(h=>{var f,p,y;return{error:{message:"".concat((f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError",": ").concat(h==null?void 0:h.message),details:"".concat((p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""),hint:"",code:"".concat((y=h==null?void 0:h.code)!==null&&y!==void 0?y:"")},data:null,count:null,status:0,statusText:""}})),c.then(o,a)}returns(){return this}overrideTypes(){return this}}return Ui.default=n,Ui}var Z_;function pb(){if(Z_)return Ni;Z_=1;var t=Ni&&Ni.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ni,"__esModule",{value:!0});const e=t(fb());class r extends e.default{select(i){let o=!1;const a=(i!=null?i:"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const h=c?"".concat(c,".order"):"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,"".concat(f?"".concat(f,","):"").concat(i,".").concat(o?"asc":"desc").concat(a===void 0?"":a?".nullsfirst":".nullslast")),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"limit":"".concat(a,".limit");return this.url.searchParams.set(l,"".concat(i)),this}range(i,o,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":"".concat(l,".offset"),h=typeof l>"u"?"limit":"".concat(l,".limit");return this.url.searchParams.set(c,"".concat(i)),this.url.searchParams.set(h,"".concat(o-i+1)),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,o?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(h,'; for="').concat(y,'"; options=').concat(p,";")),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(i)),this}}return Ni.default=r,Ni}var Q_;function nf(){if(Q_)return Li;Q_=1;var t=Li&&Li.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Li,"__esModule",{value:!0});const e=t(pb());class r extends e.default{eq(i,o){return this.url.searchParams.append(i,"eq.".concat(o)),this}neq(i,o){return this.url.searchParams.append(i,"neq.".concat(o)),this}gt(i,o){return this.url.searchParams.append(i,"gt.".concat(o)),this}gte(i,o){return this.url.searchParams.append(i,"gte.".concat(o)),this}lt(i,o){return this.url.searchParams.append(i,"lt.".concat(o)),this}lte(i,o){return this.url.searchParams.append(i,"lte.".concat(o)),this}like(i,o){return this.url.searchParams.append(i,"like.".concat(o)),this}likeAllOf(i,o){return this.url.searchParams.append(i,"like(all).{".concat(o.join(","),"}")),this}likeAnyOf(i,o){return this.url.searchParams.append(i,"like(any).{".concat(o.join(","),"}")),this}ilike(i,o){return this.url.searchParams.append(i,"ilike.".concat(o)),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,"ilike(all).{".concat(o.join(","),"}")),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,"ilike(any).{".concat(o.join(","),"}")),this}is(i,o){return this.url.searchParams.append(i,"is.".concat(o)),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?'"'.concat(l,'"'):"".concat(l)).join(",");return this.url.searchParams.append(i,"in.(".concat(a,")")),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,"cs.".concat(o)):Array.isArray(o)?this.url.searchParams.append(i,"cs.{".concat(o.join(","),"}")):this.url.searchParams.append(i,"cs.".concat(JSON.stringify(o))),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,"cd.".concat(o)):Array.isArray(o)?this.url.searchParams.append(i,"cd.{".concat(o.join(","),"}")):this.url.searchParams.append(i,"cd.".concat(JSON.stringify(o))),this}rangeGt(i,o){return this.url.searchParams.append(i,"sr.".concat(o)),this}rangeGte(i,o){return this.url.searchParams.append(i,"nxl.".concat(o)),this}rangeLt(i,o){return this.url.searchParams.append(i,"sl.".concat(o)),this}rangeLte(i,o){return this.url.searchParams.append(i,"nxr.".concat(o)),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,"adj.".concat(o)),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,"ov.".concat(o)):this.url.searchParams.append(i,"ov.{".concat(o.join(","),"}")),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=a===void 0?"":"(".concat(a,")");return this.url.searchParams.append(i,"".concat(c,"fts").concat(h,".").concat(o)),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,"eq.".concat(a))}),this}not(i,o,a){return this.url.searchParams.append(i,"not.".concat(o,".").concat(a)),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?"".concat(a,".or"):"or";return this.url.searchParams.append(l,"(".concat(i,")")),this}filter(i,o,a){return this.url.searchParams.append(i,"".concat(o,".").concat(a)),this}}return Li.default=r,Li}var ey;function gb(){if(ey)return Di;ey=1;var t=Di&&Di.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Di,"__esModule",{value:!0});const e=t(nf());class r{constructor(i,{headers:o={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=l}select(i,o){const{head:a=!1,count:l}=o!=null?o:{},c=a?"HEAD":"GET";let h=!1;const f=(i!=null?i:"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer","count=".concat(l)),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var l;const c="POST";if(o&&this.headers.append("Prefer","count=".concat(o)),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>'"'.concat(p,'"'));this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var h;const f="POST";if(this.headers.append("Prefer","resolution=".concat(a?"ignore":"merge","-duplicates")),o!==void 0&&this.url.searchParams.set("on_conflict",o),l&&this.headers.append("Prefer","count=".concat(l)),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>'"'.concat(v,'"'));this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:o}={}){var a;const l="PATCH";return o&&this.headers.append("Prefer","count=".concat(o)),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer","count=".concat(i)),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Di.default=r,Di}var ty;function ix(){if(ty)return Pi;ty=1;var t=Pi&&Pi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Pi,"__esModule",{value:!0});const e=t(gb()),r=t(nf());class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(o){const a=new URL("".concat(this.url,"/").concat(o));return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:h}={}){var f;let p;const y=new URL("".concat(this.url,"/rpc/").concat(o));let v;l||c?(p=l?"HEAD":"GET",Object.entries(a).filter(([m,w])=>w!==void 0).map(([m,w])=>[m,Array.isArray(w)?"{".concat(w.join(","),"}"):"".concat(w)]).forEach(([m,w])=>{y.searchParams.append(m,w)})):(p="POST",v=a);const b=new Headers(this.headers);return h&&b.set("Prefer","count=".concat(h)),new r.default({method:p,url:y,headers:b,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Pi.default=n,Pi}var ry;function sx(){if(ry)return bt;ry=1;var t=bt&&bt.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const e=t(ix());bt.PostgrestClient=e.default;const r=t(gb());bt.PostgrestQueryBuilder=r.default;const n=t(nf());bt.PostgrestFilterBuilder=n.default;const i=t(pb());bt.PostgrestTransformBuilder=i.default;const o=t(fb());bt.PostgrestBuilder=o.default;const a=t(db());return bt.PostgrestError=a.default,bt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:a.default},bt}var ox=sx();const ax=ET(ox),{PostgrestClient:lx,PostgrestQueryBuilder:ZU,PostgrestFilterBuilder:QU,PostgrestTransformBuilder:ej,PostgrestBuilder:tj,PostgrestError:rj}=ax;class ux{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(i," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(i," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+="\n\nSuggested solution: ".concat(e.workaround)),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const cx="2.75.0",hx="realtime-js/".concat(cx),dx="1.0.0",Xh=1e4,fx=1e3,px=100;var Co;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Co||(Co={}));var gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gt||(gt={}));var yr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yr||(yr={}));var Yh;(function(t){t.websocket="websocket"})(Yh||(Yh={}));var Yn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yn||(Yn={}));class gx{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+o));a=a+o;const h=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:h}}}class mb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const ny=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=mx(a,t,e,i),o),{}):{}},mx=(t,e,r,n)=>{const i=e.find(l=>l.name===t),o=i==null?void 0:i.type,a=r[t];return o&&!n.includes(o)?_b(o,a):Jh(a)},_b=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return bx(e,r)}switch(t){case ze.bool:return _x(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return yx(e);case ze.json:case ze.jsonb:return vx(e);case ze.timestamp:return wx(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Jh(e);default:return Jh(e)}},Jh=t=>t,_x=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log("JSON parse error: ".concat(e)),t}return t},bx=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch(l){o=a?a.split(","):[]}return o.map(l=>_b(e,l))}return t},wx=t=>typeof t=="string"?t.replace(" ","T"):t,yb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ih{constructor(e,r,n={},i=Xh){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iy||(iy={}));class To{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=To.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=To.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=To.syncDiff(this.state,i,o,a),l())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(o,(h,f)=>{a[h]||(c[h]=f)}),this.map(a,(h,f)=>{const p=o[h];if(p){const y=f.map(w=>w.presence_ref),v=p.map(w=>w.presence_ref),b=f.filter(w=>v.indexOf(w.presence_ref)<0),m=p.filter(w=>y.indexOf(w.presence_ref)<0);b.length>0&&(l[h]=b),m.length>0&&(c[h]=m)}else l[h]=f}),this.syncDiff(o,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(l,c)=>{var h;const f=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(c),f.length>0){const p=e[l].map(v=>v.presence_ref),y=f.filter(v=>p.indexOf(v.presence_ref)<0);e[l].unshift(...y)}n(l,f,c)}),this.map(a,(l,c)=>{let h=e[l];if(!h)return;const f=c.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),e[l]=h,i(l,h,c),h.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sy||(sy={}));var Oo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Oo||(Oo={}));var Gr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gr||(Gr={}));class sf{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ih(this,yr.join,this.params,this.timeout),this.rejoinTimer=new mb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=gt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),a),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),a),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new To(this),this.broadcastEndpointURL=yb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Oo.PRESENCE]&&this.bindings[Oo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},y={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Gr.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Gr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){e==null||e(Gr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(b=m==null?void 0:m.length)!==null&&b!==void 0?b:0,C=[];for(let E=0;E<w;E++){const R=m[E],{filter:{event:k,schema:S,table:T,filter:A}}=R,I=v&&v[E];if(I&&I.event===k&&I.schema===S&&I.table===T&&I.filter===A)C.push(Object.assign(Object.assign({},R),{id:I.id}));else{this.unsubscribe(),this.state=gt.errored,e==null||e(Gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Gr.SUBSCRIBED);return}}).receive("error",v=>{this.state=gt.errored,e==null||e(Gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gt.joined&&e===Oo.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const r=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ih(this,yr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let i=new ih(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>px){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(r.event),r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:h,join:f}=yr;if(n&&[l,c,h,f].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,m,w;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(m=v.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(y,n)):(o=this.bindings[a])===null||o===void 0||o.filter(v=>{var b,m,w,C,E,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const k=v.id,S=(b=v.filter)===null||b===void 0?void 0:b.event;return k&&((m=r.ids)===null||m===void 0?void 0:m.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(E=(C=v==null?void 0:v.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return k==="*"||k===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:m,table:w,commit_timestamp:C,type:E,errors:R}=b;y=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:C,eventType:E,new:{},old:{},errors:R}),this._getPayloadRecords(b))}v.callback(y,n)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&sf.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yr.close,{},e)}_onError(e){this._on(yr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ny(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ny(e.columns,e.old_record)),r}}const sh=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sx=[1e3,2e3,5e3,1e4],Ex=1e4,Cx='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class Tx{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xh,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sh,this.ref=0,this.reconnectTimer=null,this.logger=sh,this.conn=null,this.sendBuffer=[],this.serializer=new gx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>zo(async()=>{const{default:l}=await Promise.resolve().then(()=>ms);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(l.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")}):o=fetch,(...a)=>o(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint="".concat(e,"/").concat(Yh.websocket),this.httpEndpoint=yb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ux.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error("".concat(r,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })'):new Error("WebSocket not available: ".concat(r))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dx}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r!=null?r:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Co.connecting:return Yn.Connecting;case Co.open:return Yn.Open;case Co.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n="realtime:".concat(e),i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new sf("realtime:".concat(e),r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push","".concat(r," ").concat(n," (").concat(o,")"),i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=r,l=a?"(".concat(a,")"):"",c=o.status||"";this.log("receive","".concat(c," ").concat(n," ").concat(i," ").concat(l).trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return"".concat(e).concat(n).concat(i)}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Cx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:hx};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(yr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error","error setting auth in ".concat(e),r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error","error in ".concat(e," callback"),i)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new mb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,a,l,c,h,f;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Xh,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:al.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:sh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(p=>Sx[p-1]||Ex),this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((p,y)=>y(JSON.stringify(p))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class of extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ox extends of{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zh extends of{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Rx=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};const vb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ms);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kx=()=>Rx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zo(()=>Promise.resolve().then(()=>ms),void 0)).Response:Response}),Qh=t=>{if(Array.isArray(t))return t.map(r=>Qh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Qh(n)}),e},xx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mi=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};const oh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ax=(t,e,r)=>mi(void 0,void 0,void 0,function*(){const n=yield kx();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new Ox(oh(i),o,a))}).catch(i=>{e(new Zh(oh(i),i))}):e(new Zh(oh(t),t))}),Ix=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(xx(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Vo(t,e,r,n,i,o){return mi(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,Ix(e,n,i,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Ax(c,l,n))})})}function Ml(t,e,r,n){return mi(this,void 0,void 0,function*(){return Vo(t,"GET",e,r,n)})}function kr(t,e,r,n,i){return mi(this,void 0,void 0,function*(){return Vo(t,"POST",e,n,i,r)})}function ed(t,e,r,n,i){return mi(this,void 0,void 0,function*(){return Vo(t,"PUT",e,n,i,r)})}function Mx(t,e,r,n){return mi(this,void 0,void 0,function*(){return Vo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function bb(t,e,r,n,i){return mi(this,void 0,void 0,function*(){return Vo(t,"DELETE",e,n,i,r)})}var Px=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};class Dx{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Px(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var Lx=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};class Nx{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new Dx(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Lx(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var Ut=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};const Ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jx{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=vb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Ut(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},oy),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]="max-age=".concat(a.cacheControl),l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),p=yield(e=="PUT"?ed:kr)(this.fetch,"".concat(this.url,"/object/").concat(f),o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ut(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),l=new URL(this.url+"/object/upload/sign/".concat(a));l.searchParams.set("token",r);try{let c;const h=Object.assign({upsert:oy.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",h.cacheControl)):(c=n,f["cache-control"]="max-age=".concat(h.cacheControl),f["content-type"]=h.contentType);const p=yield ed(this.fetch,l.toString(),c,{headers:f});return{data:{path:o,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield kr(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:i}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new of("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield kr(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ut(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield kr(this.fetch,"".concat(this.url,"/object/sign/").concat(i),Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?"&download=".concat(n.download===!0?"":n.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(a))},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ut(this,void 0,void 0,function*(){try{const i=yield kr(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?"&download=".concat(n.download===!0?"":n.download):"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI("".concat(this.url).concat(a.signedURL).concat(o)):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?"?".concat(o):"",l=this._getFinalPath(e),c=()=>Ml(this.fetch,"".concat(this.url,"/").concat(i,"/").concat(l).concat(a),{headers:this.headers,noResolveJson:!0});return new Nx(c,this.shouldThrowOnError)}info(e){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ml(this.fetch,"".concat(this.url,"/object/info/").concat(r),{headers:this.headers});return{data:Qh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(e){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Mx(this.fetch,"".concat(this.url,"/object/").concat(r),{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof Zh){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?"download=".concat(r.download===!0?"":r.download):"";o!==""&&i.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h="?".concat(h)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(l,"/public/").concat(n).concat(h))}}}remove(e){return Ut(this,void 0,void 0,function*(){try{return{data:yield bb(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ut(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ux),r),{prefix:e||""});return{data:yield kr(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Ut(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield kr(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push("width=".concat(e.width)),e.height&&r.push("height=".concat(e.height)),e.resize&&r.push("resize=".concat(e.resize)),e.format&&r.push("format=".concat(e.format)),e.quality&&r.push("quality=".concat(e.quality)),r.join("&")}}const $x="2.75.0",Fx={"X-Client-Info":"storage-js/".concat($x)};var ji=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};class Bx{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fx),r),this.fetch=vb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ji(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}getBucket(e){return ji(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e){return ji(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield kr(this.fetch,"".concat(this.url,"/bucket"),{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return ji(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ji(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ji(this,void 0,void 0,function*(){try{return{data:yield bb(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class zx extends Bx{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new jx(this.url,this.headers,e,this.fetch)}}const Wx="2.75.0";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const qx={"X-Client-Info":"supabase-js-".concat(_o,"/").concat(Wx)},Vx={headers:qx},Gx={schema:"public"},Hx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kx={};var Xx=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};const Yx=t=>{let e;return t?e=t:typeof fetch>"u"?e=cb:e=fetch,(...r)=>e(...r)},Jx=()=>typeof Headers>"u"?hb:Headers,Zx=(t,e,r)=>{const n=Yx(r),i=Jx();return(o,a)=>Xx(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization","Bearer ".concat(c)),n(o,Object.assign(Object.assign({},a),{headers:h}))})};var Qx=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};function eA(t){return t.endsWith("/")?t:t+"/"}function tA(t,e){var r,n;const{db:i,auth:o,realtime:a,global:l}=t,{db:c,auth:h,realtime:f,global:p}=e,y={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Qx(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function rA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eA(e))}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wb="2.75.0",Vi=30*1e3,td=3,ah=td*Vi,nA="http://localhost:9999",iA="supabase.auth.token",sA={"X-Client-Info":"gotrue-js/".concat(wb)},rd="X-Supabase-Api-Version",Sb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aA=600*1e3;class Uo extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lA extends Uo{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uA(t){return ve(t)&&t.name==="AuthApiError"}class Jn extends Uo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wn extends Uo{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class sn extends wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cA(t){return ve(t)&&t.name==="AuthSessionMissingError"}class $i extends wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ul extends wn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hA(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class ay extends wn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nd extends wn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lh(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class ly extends wn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class id extends wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uy=" 	\n\r=".split(""),dA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uy.length;e+=1)t[uy[e].charCodeAt(0)]=-2;for(let e=0;e<Pl.length;e+=1)t[Pl[e].charCodeAt(0)]=e;return t})();function cy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pl[n]),e.queuedBits-=6}}function Eb(t,e,r){const n=dA[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(t),'"'))}}function hy(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{gA(a,n,r)};for(let a=0;a<t.length;a+=1)Eb(t.charCodeAt(a),i,o);return e.join("")}function fA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(t.toString(16)))}function pA(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}fA(n,e)}}function gA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function es(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Eb(t.charCodeAt(i),r,n);return new Uint8Array(e)}function mA(t){const e=[];return pA(t,r=>e.push(r)),new Uint8Array(e)}function Qn(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>cy(i,r,n)),cy(null,r,n),e.join("")}function _A(t){return Math.round(Date.now()/1e3)+t}function yA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",Gn={tested:!1,writable:!1},Cb=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Gn.tested)return Gn.writable;const t="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gn.tested=!0,Gn.writable=!0}catch(e){Gn.tested=!0,Gn.writable=!1}return Gn.writable};function vA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch(n){}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Tb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ms);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},bA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Hn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},nn=async(t,e)=>{await t.removeItem(e)};class Xl{constructor(){this.promise=new Xl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Xl.promiseConstructor=Promise;function uh(t){const e=t.split(".");if(e.length!==3)throw new id("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!oA.test(e[n]))throw new id("JWT not in base64url format");return{header:JSON.parse(hy(e[0])),payload:JSON.parse(hy(e[1])),signature:es(e[2]),raw:{header:e[0],payload:e[1]}}}async function wA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function SA(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function EA(t){return("0"+t.toString(16)).substr(-2)}function CA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,EA).join("")}async function TA(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function OA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await TA(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(t,e,r=!1){const n=CA();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Gi(t,"".concat(e,"-code-verifier"),i);const o=await OA(n);return[o,n===o?"plain":"s256"]}const RA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kA(t){const e=t.headers.get(rd);if(!e||!e.match(RA))return null;try{return new Date("".concat(e,"T00:00:00.0Z"))}catch(r){return null}}function xA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(t){if(!IA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ch(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(r,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,r)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(r,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,r)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(r,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function dy(t){return JSON.parse(JSON.stringify(t))}var MA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Xn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PA=[502,503,504];async function fy(t){var e;if(!bA(t))throw new nd(Xn(t),0);if(PA.includes(t.status))throw new nd(Xn(t),t.status);let r;try{r=await t.json()}catch(o){throw new Jn(Xn(o),o)}let n;const i=kA(t);if(i&&i.getTime()>=Sb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ly(Xn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new sn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new ly(Xn(r),t.status,r.weak_password.reasons);throw new lA(Xn(r),t.status||500,n)}const DA=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Se(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[rd]||(o[rd]=Sb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization="Bearer ".concat(n.jwt));const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await LA(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function LA(t,e,r,n,i,o){const a=DA(e,n,i,o);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new nd(Xn(c),0)}if(l.ok||await fy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await fy(c)}}function mr(t){var e;let r=null;jA(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=_A(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function py(t){const e=mr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ln(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function NA(t){return{data:t,error:null}}function UA(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,a=MA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function gy(t){return t}function jA(t){return t.access_token&&t.refresh_token&&t.expires_in}const hh=["global","local","others"];var $A=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class FA{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Tb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=hh[0]){if(hh.indexOf(r)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(hh.join(", ")));try{return await Se(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(r),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Se(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ln})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=$A(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Se(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:i,headers:this.headers,xform:UA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Se(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ln})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,a,l,c;try{const h={nextPage:null,lastPage:0,total:0},f=await Se(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:gy});if(f.error)throw f.error;const p=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);h["".concat(w,"Page")]=m}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ve(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Bi(e);try{return await Se(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ln})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Bi(e);try{return await Se(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:r,headers:this.headers,xform:ln})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Bi(e);try{return await Se(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:r},xform:ln})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Bi(e.userId);try{const{data:r,error:n}=await Se(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Bi(e.userId),Bi(e.id);try{return{data:await Se(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,a,l,c;try{const h={nextPage:null,lastPage:0,total:0},f=await Se(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:gy});if(f.error)throw f.error;const p=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);h["".concat(w,"Page")]=m}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ve(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function my(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const zi={debug:!!(globalThis&&Cb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ob extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BA extends Ob{}async function zA(t,e,r){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BA('Acquiring an exclusive Navigator LockManager lock "'.concat(t,'" immediately failed'));if(zi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self<"u"&&(self.globalThis=self)}}function Rb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error('@supabase/auth-js: Address "'.concat(t,'" is invalid.'));return t.toLowerCase()}function qA(t){return parseInt(t,16)}function VA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function GA(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:l,requestId:c,resources:h,scheme:f,uri:p,version:y}=t;{if(!Number.isInteger(r))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(r));if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(a));if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(y));if(!((e=t.statement)===null||e===void 0)&&e.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(t.statement))}const v=Rb(t.address),b=f?"".concat(f,"://").concat(n):n,m=t.statement?"".concat(t.statement,"\n"):"",w="".concat(b," wants you to sign in with your Ethereum account:\n").concat(v,"\n\n").concat(m);let C="URI: ".concat(p,"\nVersion: ").concat(y,"\nChain ID: ").concat(r).concat(a?"\nNonce: ".concat(a):"","\nIssued At: ").concat(o.toISOString());if(i&&(C+="\nExpiration Time: ".concat(i.toISOString())),l&&(C+="\nNot Before: ".concat(l.toISOString())),c&&(C+="\nRequest ID: ".concat(c)),h){let E="\nResources:";for(const R of h){if(!R||typeof R!="string")throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(R));E+="\n- ".concat(R)}C+=E}return"".concat(w,"\n").concat(C)}class at extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i!=null?i:n instanceof Error?n.name:void 0)!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Dl extends at{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function HA({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(xb(a)){if(o.rp.id!==a)return new at({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KA({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(xb(n)){if(r.rpId!==n)return new at({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var kb=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class XA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const YA=new XA;function JA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=kb(t,["challenge","user","excludeCredentials"]),o=es(e).buffer,a=Object.assign(Object.assign({},r),{id:es(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:o,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:es(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function ZA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=kb(t,["challenge","allowCredentials"]),i=es(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},l),{id:es(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function QA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qn(new Uint8Array(i.authenticatorData)),clientDataJSON:Qn(new Uint8Array(i.clientDataJSON)),signature:Qn(new Uint8Array(i.signature)),userHandle:i.userHandle?Qn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _y(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dl("Browser returned unexpected credential type",e)}:{data:null,error:new Dl("Empty credential response",e)}}catch(e){return{data:null,error:HA({error:e,options:t})}}}async function rI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dl("Browser returned unexpected credential type",e)}:{data:null,error:new Dl("Empty credential response",e)}}catch(e){return{data:null,error:KA({error:e,options:t})}}}const nI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},iI={userVerification:"preferred",hints:["security-key"]};function Ll(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const l=n[o];e(l)?n[o]=Ll(l,a):n[o]=Ll(a)}else n[o]=a}return n}function sI(t,e){return Ll(nI,t,e||{})}function oI(t,e){return Ll(iI,t,e||{})}class aI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=i!=null?i:YA.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name="".concat(h.id,":").concat(n)),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=sI(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:p}=await tI({publicKey:h,signal:c});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=oI(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:p}=await rI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:c}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return ve(a)?{data:null,error:a}:{data:null,error:new Jn("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!r)return{data:null,error:new Uo("rpId is required for WebAuthn authentication")};try{if(!_y())return{data:null,error:new Jn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return ve(a)?{data:null,error:a}:{data:null,error:new Jn("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!r)return{data:null,error:new Uo("rpId is required for WebAuthn registration")};try{if(!_y())return{data:null,error:new Jn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(a){return ve(a)?{data:null,error:a}:{data:null,error:new Jn("Unexpected error in register",a)}}}}WA();const lI={url:nA,storageKey:iA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yy(t,e,r){return await r()}const Wi={};class jo{get jwks(){var e,r;return(r=(e=Wi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Wi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jo.nextInstanceID,jo.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},lI),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Tb(i.fetch),this.lock=i.lock||yy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ht()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zA:this.lock=yy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aI(this)},this.persistSession?(i.storage?this.storage=i.storage:Cb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=my(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=my(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger("GoTrueClient@".concat(this.instanceID," (").concat(wb,") ").concat(new Date().toISOString()),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=vA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),hA(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new Jn("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await Se(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mr}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:f,password:p,options:y}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Fi(this.storage,this.storageKey)),o=await Se(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:f,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:b},xform:mr})}else if("phone"in e){const{phone:f,password:p,options:y}=e;o=await Se(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:f,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:mr})}else throw new ll("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:l}=e;r=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:py})}else if("phone"in e){const{phone:o,password:a,options:l}=e;r=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:py})}else throw new ll("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $i}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(r,'"'))}}async signInWithEthereum(e){var r,n,i,o,a,l,c,h,f,p,y;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:m,wallet:w,statement:C,options:E}=e;let R;if(Ht())if(typeof w=="object")R=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")R=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const k=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),S=await R.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Rb(S[0]);let A=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const P=await R.request({method:"eth_chainId"});A=qA(P)}const I={domain:k.host,address:T,statement:C,uri:k.href,version:"1",chainId:A,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=E==null?void 0:E.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=GA(I),b=await R.request({method:"personal_sign",params:[VA(v),T]})}try{const{data:m,error:w}=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:mr});if(w)throw w;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new $i}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:w})}catch(m){if(ve(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var r,n,i,o,a,l,c,h,f,p,y,v;let b,m;if("message"in e)b=e.message,m=e.signature;else{const{chain:w,wallet:C,statement:E,options:R}=e;let k;if(Ht())if(typeof C=="object")k=C;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))k=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const S=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const T=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),E?{statement:E}:null));let A;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")A=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)A=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)b=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=["".concat(S.host," wants you to sign in with your Solana account:"),k.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1","URI: ".concat(S.href),"Issued At: ".concat((i=(n=R==null?void 0:R.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()),...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?["Not Before: ".concat(R.signInWithSolana.notBefore)]:[],...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.expirationTime?["Expiration Time: ".concat(R.signInWithSolana.expirationTime)]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.chainId?["Chain ID: ".concat(R.signInWithSolana.chainId)]:[],...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.nonce?["Nonce: ".concat(R.signInWithSolana.nonce)]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.requestId?["Request ID: ".concat(R.signInWithSolana.requestId)]:[],...!((p=(f=R==null?void 0:R.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...R.signInWithSolana.resources.map(A=>"- ".concat(A))]:[]].join("\n");const T=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=T}}try{const{data:w,error:C}=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Qn(m)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mr});if(C)throw C;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new $i}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:C})}catch(w){if(ve(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await Hn(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,i]=(r!=null?r:"").split("/");try{const{data:o,error:a}=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mr});if(await nn(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new $i}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i!=null?i:null}),error:a})}catch(o){if(ve(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=e,l=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mr}),{data:c,error:h}=l;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $i}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,o,a;try{if("email"in e){const{email:l,options:c}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Fi(this.storage,this.storageKey));const{error:p}=await Se(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:c}=e,{data:h,error:f}=await Se(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new ll("You must provide either an email or phone number.")}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Se(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:mr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,h=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Fi(this.storage,this.storageKey)),await Se(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:NA})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new sn;const{error:i}=await Se(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r="".concat(this.url,"/resend");if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:l}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ll("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch(o){}})()),i}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch(i){}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ah:!1;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Hn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ch()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,h,f)=>(!a&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,f))})}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Se(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ln}):await this._useSession(async r=>{var n,i,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await Se(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ln})})}catch(r){if(ve(r))return cA(r)&&(await this._removeSession(),await nn(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new sn;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Fi(this.storage,this.storageKey));const{data:h,error:f}=await Se(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ln});if(f)throw f;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=uh(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new sn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new ul("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ul(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ay("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ay("No code detected.");const{data:E,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:h}=e;if(!o||!l||!a||!h)throw new ul("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let y=f+p;c&&(y=parseInt(c));const v=y-f;v*1e3<=Vi&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(v,"s, should have been closer to ").concat(p,"s"));const b=y-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,f);const{data:m,error:w}=await this._getUser(o);if(w)throw w;const C={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:y,refresh_token:a,token_type:h,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Hn(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(uA(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await nn(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const r=yA(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Fi(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var a,l,c,h,f;const{data:p,error:y}=o;if(y)throw y;const v=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:a,provider:l,token:c,access_token:h,nonce:f}=e,p=await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mr}),{data:y,error:v}=p;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new $i}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:v})}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)throw a;return await Se(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{const n=Date.now();return await SA(async i=>(i>0&&await wA(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Se(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:mr})),(i,o)=>{const a=200*Math.pow(2,i);return o&&lh(o)&&Date.now()+a-n<Vi})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Hn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Gi(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ch()}else if(i&&!i.user&&!i.user){const a=await Hn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await nn(this.storage,this.storageKey+"-user"),await Gi(this.storage,this.storageKey,i)):i.user=ch()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ah;if(this._debug(n,"session has".concat(o?"":" not"," expired with margin of ").concat(ah,"s")),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),lh(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(i,"begin");try{this.refreshingDeferred=new Xl;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new sn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(i,"error",o),ve(o)){const a={data:null,error:o};return lh(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i="#_notifyAllSubscribers(".concat(e,")");this._debug(i,"begin",r,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gi(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=dy(i);await Gi(this.storage,this.storageKey,o)}else{const i=dy(r);await Gi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Vi);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(i," ticks, a tick lasts ").concat(Vi,"ms, refresh threshold is ").concat(td," ticks")),i<=td&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ob)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r="#_onVisibilityChanged(".concat(e,")");this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=["provider=".concat(encodeURIComponent(r))];if(n!=null&&n.redirectTo&&i.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),n!=null&&n.scopes&&i.push("scopes=".concat(encodeURIComponent(n.scopes))),this.flowType==="pkce"){const[o,a]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(a))});i.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(i.join("&"))}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await Se(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await Se(this.fetch,"POST","".concat(this.url,"/factors"),{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code="data:image/svg+xml;utf-8,".concat(c.totp.qr_code)),{data:c,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?QA(e.webauthn.credential_response):eI(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Se(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=await Se(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JA(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ZA(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=uh(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+aA>i)return n;const{data:o,error:a}=await Se(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};n=v.session.access_token}const{header:i,payload:o,signature:a,raw:{header:l,payload:c}}=uh(n);r!=null&&r.allowExpired||xA(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:i,signature:a},error:null}}const f=AA(i.alg),p=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,mA("".concat(l,".").concat(c))))throw new id("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}jo.nextInstanceID=0;const uI=jo;class cI extends uI{constructor(e){super(e)}}var hI=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{h(n.next(f))}catch(p){a(p)}}function c(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?o(f.value):i(f.value).then(l,c)}h((n=n.apply(t,e||[])).next())})};class dI{constructor(e,r,n){var i,o,a;this.supabaseUrl=e,this.supabaseKey=r;const l=rA(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),h={db:Gx,realtime:Kx,auth:Object.assign(Object.assign({},Hx),{storageKey:c}),global:Vx},f=tA(n!=null?n:{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(y)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Zx(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new lx(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new zx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Zk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return hI(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:a,flowType:l,lock:c,debug:h},f,p){const y={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new cI({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),f),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:l,lock:c,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nj=(t,e,r)=>new dI(t,e,r);function fI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Et=[];for(let t=0;t<256;++t)Et.push((t+256).toString(16).slice(1));function pI(t,e=0){return(Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]).toLowerCase()}let dh;const gI=new Uint8Array(16);function mI(){if(!dh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dh=crypto.getRandomValues.bind(crypto)}return dh(gI)}const _I=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vy={randomUUID:_I};function yI(t,e,r){var i,o,a;t=t||{};const n=(a=(o=t.random)!=null?o:(i=t.rng)==null?void 0:i.call(t))!=null?a:mI();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,pI(n)}function ij(t,e,r){return vy.randomUUID&&!t?vy.randomUUID():yI(t)}function vI(t,e){t.indexOf(e)===-1&&t.push(e)}function bI(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const di=(t,e,r)=>r>e?e:r<t?t:r;let af=()=>{};const $o={},wI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ab(t){return typeof t=="object"&&t!==null}const SI=t=>/^0[^.\s]+$/u.test(t);function lf(t){let e;return()=>(e===void 0&&(e=t()),e)}const _s=t=>t,EI=(t,e)=>r=>e(t(r)),uf=(...t)=>t.reduce(EI),Ib=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class CI{constructor(){this.subscriptions=[]}add(e){return vI(this.subscriptions,e),()=>bI(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=t=>t*1e3,vr=t=>t/1e3;function Mb(t,e){return e?t*(1e3/e):0}const Pb=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,TI=1e-7,OI=12;function RI(t,e,r,n,i){let o,a,l=0;do a=e+(r-e)/2,o=Pb(a,n,i)-t,o>0?r=a:e=a;while(Math.abs(o)>TI&&++l<OI);return a}function Go(t,e,r,n){if(t===e&&r===n)return _s;const i=o=>RI(o,0,1,t,r);return o=>o===0||o===1?o:Pb(i(o),e,n)}const Db=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Lb=t=>e=>1-t(1-e),Nb=Go(.33,1.53,.69,.99),cf=Lb(Nb),Ub=Db(cf),jb=t=>(t*=2)<1?.5*cf(t):.5*(2-Math.pow(2,-10*(t-1))),hf=t=>1-Math.sin(Math.acos(t)),kI=Lb(hf),$b=Db(hf),xI=Go(.42,0,1,1),AI=Go(0,0,.58,1),Fb=Go(.42,0,.58,1),II=t=>Array.isArray(t)&&typeof t[0]!="number",Bb=t=>Array.isArray(t)&&typeof t[0]=="number",MI={linear:_s,easeIn:xI,easeInOut:Fb,easeOut:AI,circIn:hf,circInOut:$b,circOut:kI,backIn:cf,backInOut:Ub,backOut:Nb,anticipate:jb},PI=t=>typeof t=="string",by=t=>{if(Bb(t)){af(t.length===4);const[e,r,n,i]=t;return Go(e,r,n,i)}else if(PI(t))return MI[t];return t},cl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DI(t,e){let r=new Set,n=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,p=!1,y=!1)=>{const b=y&&i?r:n;return p&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){o=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,o&&(o=!1,h.process(f))}};return h}const LI=40;function zb(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,a=cl.reduce((R,k)=>(R[k]=DI(o),R),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:f,update:p,preRender:y,render:v,postRender:b}=a,m=()=>{const R=$o.useManualTiming?i.timestamp:performance.now();r=!1,$o.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(R-i.timestamp,LI),1)),i.timestamp=R,i.isProcessing=!0,l.process(i),c.process(i),h.process(i),f.process(i),p.process(i),y.process(i),v.process(i),b.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(m))},w=()=>{r=!0,n=!0,i.isProcessing||t(m)};return{schedule:cl.reduce((R,k)=>{const S=a[k];return R[k]=(T,A=!1,I=!1)=>(r||w(),S.schedule(T,A,I)),R},{}),cancel:R=>{for(let k=0;k<cl.length;k++)a[cl[k]].cancel(R)},state:i,steps:a}}const{schedule:cs,cancel:Wb,state:Nl,steps:sj}=zb(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0);let _l;function NI(){_l=void 0}const br={now:()=>(_l===void 0&&br.set(Nl.isProcessing||$o.useManualTiming?Nl.timestamp:performance.now()),_l),set:t=>{_l=t,queueMicrotask(NI)}},qb=t=>e=>typeof e=="string"&&e.startsWith(t),oj=qb("--"),UI=qb("var(--"),df=t=>UI(t)?jI.test(t.split("/*")[0].trim()):!1,jI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fo={...vs,transform:t=>di(0,1,t)},hl={...vs,default:1},Ro=t=>Math.round(t*1e5)/1e5,ff=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $I(t){return t==null}const FI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pf=(t,e)=>r=>!!(typeof r=="string"&&FI.test(r)&&r.startsWith(t)||e&&!$I(r)&&Object.prototype.hasOwnProperty.call(r,e)),Vb=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,o,a,l]=n.match(ff);return{[t]:parseFloat(i),[e]:parseFloat(o),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},BI=t=>di(0,255,t),fh={...vs,transform:t=>Math.round(BI(t))},ei={test:pf("rgb","red"),parse:Vb("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+fh.transform(t)+", "+fh.transform(e)+", "+fh.transform(r)+", "+Ro(Fo.transform(n))+")"};function zI(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const sd={test:pf("#"),parse:zI,transform:ei.transform},Ho=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),on=Ho("deg"),ts=Ho("%"),Ee=Ho("px"),WI=Ho("vh"),qI=Ho("vw"),wy={...ts,parse:t=>ts.parse(t)/100,transform:t=>ts.transform(t*100)},Xi={test:pf("hsl","hue"),parse:Vb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ts.transform(Ro(e))+", "+ts.transform(Ro(r))+", "+Ro(Fo.transform(n))+")"},ut={test:t=>ei.test(t)||sd.test(t)||Xi.test(t),parse:t=>ei.test(t)?ei.parse(t):Xi.test(t)?Xi.parse(t):sd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ei.transform(t):Xi.transform(t),getAnimatableNone:t=>{const e=ut.parse(t);return e.alpha=0,ut.transform(e)}},VI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GI(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ff))==null?void 0:e.length)||0)+(((r=t.match(VI))==null?void 0:r.length)||0)>0}const Gb="number",Hb="color",HI="var",KI="var(",Sy="${}",XI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bo(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(XI,c=>(ut.test(c)?(n.color.push(o),i.push(Hb),r.push(ut.parse(c))):c.startsWith(KI)?(n.var.push(o),i.push(HI),r.push(c)):(n.number.push(o),i.push(Gb),r.push(parseFloat(c))),++o,Sy)).split(Sy);return{values:r,split:l,indexes:n,types:i}}function Kb(t){return Bo(t).values}function Xb(t){const{split:e,types:r}=Bo(t),n=e.length;return i=>{let o="";for(let a=0;a<n;a++)if(o+=e[a],i[a]!==void 0){const l=r[a];l===Gb?o+=Ro(i[a]):l===Hb?o+=ut.transform(i[a]):o+=i[a]}return o}}const YI=t=>typeof t=="number"?0:ut.test(t)?ut.getAnimatableNone(t):t;function JI(t){const e=Kb(t);return Xb(t)(e.map(YI))}const Ko={test:GI,parse:Kb,createTransformer:Xb,getAnimatableNone:JI};function ph(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ZI({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,o=0,a=0;if(!e)i=o=a=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=ph(c,l,t+1/3),o=ph(c,l,t),a=ph(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function Ul(t,e){return r=>r>0?e:t}const Yl=(t,e,r)=>t+(e-t)*r,gh=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},QI=[sd,ei,Xi],eM=t=>QI.find(e=>e.test(t));function Ey(t){const e=eM(t);if(!e)return!1;let r=e.parse(t);return e===Xi&&(r=ZI(r)),r}const Cy=(t,e)=>{const r=Ey(t),n=Ey(e);if(!r||!n)return Ul(t,e);const i={...r};return o=>(i.red=gh(r.red,n.red,o),i.green=gh(r.green,n.green,o),i.blue=gh(r.blue,n.blue,o),i.alpha=Yl(r.alpha,n.alpha,o),ei.transform(i))},od=new Set(["none","hidden"]);function tM(t,e){return od.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function rM(t,e){return r=>Yl(t,e,r)}function gf(t){return typeof t=="number"?rM:typeof t=="string"?df(t)?Ul:ut.test(t)?Cy:sM:Array.isArray(t)?Yb:typeof t=="object"?ut.test(t)?Cy:nM:Ul}function Yb(t,e){const r=[...t],n=r.length,i=t.map((o,a)=>gf(o)(o,e[a]));return o=>{for(let a=0;a<n;a++)r[a]=i[a](o);return r}}function nM(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=gf(t[i])(t[i],e[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}}function iM(t,e){var i;const r=[],n={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],l=t.indexes[a][n[a]],c=(i=t.values[l])!=null?i:0;r[o]=c,n[a]++}return r}const sM=(t,e)=>{const r=Ko.createTransformer(e),n=Bo(t),i=Bo(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?od.has(t)&&!i.values.length||od.has(e)&&!n.values.length?tM(t,e):uf(Yb(iM(n,i),i.values),r):Ul(t,e)};function Jb(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Yl(t,e,r):gf(t)(t,e)}const oM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>cs.update(e,r),stop:()=>Wb(e),now:()=>Nl.isProcessing?Nl.timestamp:br.now()}},Zb=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let o=0;o<i;o++)n+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return"linear(".concat(n.substring(0,n.length-2),")")},jl=2e4;function mf(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<jl;)e+=r,n=t.next(e);return e>=jl?1/0:e}function aM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(mf(n),jl);return{type:"keyframes",ease:o=>n.next(i*o).value/e,duration:vr(i)}}const lM=5;function Qb(t,e,r){const n=Math.max(e-lM,0);return Mb(r-t(n),e-n)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mh=.001;function uM({duration:t=tt.duration,bounce:e=tt.bounce,velocity:r=tt.velocity,mass:n=tt.mass}){let i,o,a=1-e;a=di(tt.minDamping,tt.maxDamping,a),t=di(tt.minDuration,tt.maxDuration,vr(t)),a<1?(i=h=>{const f=h*a,p=f*t,y=f-r,v=ad(h,a),b=Math.exp(-p);return mh-y/v*b},o=h=>{const p=h*a*t,y=p*r+r,v=Math.pow(a,2)*Math.pow(h,2)*t,b=Math.exp(-p),m=ad(Math.pow(h,2),a);return(-i(h)+mh>0?-1:1)*((y-v)*b)/m}):(i=h=>{const f=Math.exp(-h*t),p=(h-r)*t+1;return-mh+f*p},o=h=>{const f=Math.exp(-h*t),p=(r-h)*(t*t);return f*p});const l=5/t,c=hM(i,o,l);if(t=ys(t),isNaN(c))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const h=Math.pow(c,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:t}}}const cM=12;function hM(t,e,r){let n=r;for(let i=1;i<cM;i++)n=n-t(n)/e(n);return n}function ad(t,e){return t*Math.sqrt(1-e*e)}const dM=["duration","bounce"],fM=["stiffness","damping","mass"];function Ty(t,e){return e.some(r=>t[r]!==void 0)}function pM(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!Ty(t,fM)&&Ty(t,dM))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,o=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:tt.mass,stiffness:i,damping:o}}else{const r=uM(t);e={...e,...r,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function $l(t=tt.visualDuration,e=tt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const o=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:h,mass:f,duration:p,velocity:y,isResolvedFromDuration:v}=pM({...r,velocity:-vr(r.velocity||0)}),b=y||0,m=h/(2*Math.sqrt(c*f)),w=a-o,C=vr(Math.sqrt(c/f)),E=Math.abs(w)<5;n||(n=E?tt.restSpeed.granular:tt.restSpeed.default),i||(i=E?tt.restDelta.granular:tt.restDelta.default);let R;if(m<1){const S=ad(C,m);R=T=>{const A=Math.exp(-m*C*T);return a-A*((b+m*C*w)/S*Math.sin(S*T)+w*Math.cos(S*T))}}else if(m===1)R=S=>a-Math.exp(-C*S)*(w+(b+C*w)*S);else{const S=C*Math.sqrt(m*m-1);R=T=>{const A=Math.exp(-m*C*T),I=Math.min(S*T,300);return a-A*((b+m*C*w)*Math.sinh(I)+S*w*Math.cosh(I))/S}}const k={calculatedDuration:v&&p||null,next:S=>{const T=R(S);if(v)l.done=S>=p;else{let A=S===0?b:0;m<1&&(A=S===0?ys(b):Qb(R,S,T));const I=Math.abs(A)<=n,P=Math.abs(a-T)<=i;l.done=I&&P}return l.value=l.done?a:T,l},toString:()=>{const S=Math.min(mf(k),jl),T=Zb(A=>k.next(S*A).value,S,30);return S+"ms "+T},toTransition:()=>{}};return k}$l.applyToOptions=t=>{const e=aM(t,100,$l);return t.ease=e.ease,t.duration=ys(e.duration),t.type="keyframes",t};function ld({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:f}){const p=t[0],y={done:!1,value:p},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,b=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let m=r*e;const w=p+m,C=a===void 0?w:a(w);C!==w&&(m=C-p);const E=I=>-m*Math.exp(-I/n),R=I=>C+E(I),k=I=>{const P=E(I),U=R(I);y.done=Math.abs(P)<=h,y.value=y.done?C:U};let S,T;const A=I=>{v(y.value)&&(S=I,T=$l({keyframes:[y.value,b(y.value)],velocity:Qb(R,I,y.value),damping:i,stiffness:o,restDelta:h,restSpeed:f}))};return A(0),{calculatedDuration:null,next:I=>{let P=!1;return!T&&S===void 0&&(P=!0,k(I),A(I)),S!==void 0&&I>=S?T.next(I-S):(!P&&k(I),y)}}}function gM(t,e,r){const n=[],i=r||$o.mix||Jb,o=t.length-1;for(let a=0;a<o;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||_s:e;l=uf(c,l)}n.push(l)}return n}function ew(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const o=t.length;if(af(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=gM(e,n,i),c=l.length,h=f=>{if(a&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const y=Ib(t[p],t[p+1],f);return l[p](y)};return r?f=>h(di(t[0],t[o-1],f)):h}function mM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Ib(0,e,n);t.push(Yl(r,1,i))}}function _M(t){const e=[0];return mM(e,t.length-1),e}function yM(t,e){return t.map(r=>r*e)}function vM(t,e){return t.map(()=>e||Fb).splice(0,t.length-1)}function ko({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=II(n)?n.map(by):by(n),o={done:!1,value:e[0]},a=yM(r&&r.length===e.length?r:_M(e),t),l=ew(a,e,{ease:Array.isArray(i)?i:vM(e,i)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const bM=t=>t!==null;function _f(t,{repeat:e,repeatType:r="loop"},n,i=1){const o=t.filter(bM),l=i<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const wM={decay:ld,inertia:ld,tween:ko,keyframes:ko,spring:$l};function tw(t){typeof t.type=="string"&&(t.type=wM[t.type])}class yf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const SM=t=>t/100;class vf extends yf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tw(e);const{type:r=ko,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:l}=e;const c=r||ko;c!==ko&&typeof l[0]!="number"&&(this.mixKeyframes=uf(SM,Jb(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=mf(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:y,repeatDelay:v,type:b,onUpdate:m,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,k=n;if(p){const I=Math.min(this.currentTime,i)/l;let P=Math.floor(I),U=I%1;!U&&I>=1&&(U=1),U===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(y==="reverse"?(U=1-U,v&&(U-=v/l)):y==="mirror"&&(k=a)),R=di(0,1,U)*l}const S=E?{done:!1,value:f[0]}:k.next(R);o&&(S.value=o(S.value));let{done:T}=S;!E&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&b!==ld&&(S.value=_f(f,this.options,w,this.speed)),m&&m(S.value),A&&this.finish(),S}then(e,r){return this.finished.then(e,r)}get duration(){return vr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vr(e)}get time(){return vr(this.currentTime)}set time(e){var r;e=ys(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(br.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=vr(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=oM,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r!=null?r:n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function EM(t){var e;for(let r=1;r<t.length;r++)(e=t[r])!=null||(t[r]=t[r-1])}const ti=t=>t*180/Math.PI,ud=t=>{const e=ti(Math.atan2(t[1],t[0]));return cd(e)},CM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ud,rotateZ:ud,skewX:t=>ti(Math.atan(t[1])),skewY:t=>ti(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cd=t=>(t=t%360,t<0&&(t+=360),t),Oy=ud,Ry=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ky=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ry,scaleY:ky,scale:t=>(Ry(t)+ky(t))/2,rotateX:t=>cd(ti(Math.atan2(t[6],t[5]))),rotateY:t=>cd(ti(Math.atan2(-t[2],t[0]))),rotateZ:Oy,rotate:Oy,skewX:t=>ti(Math.atan(t[4])),skewY:t=>ti(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xy(t){return t.includes("scale")?1:0}function hd(t,e){if(!t||t==="none")return xy(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=TM,i=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=CM,i=l}if(!i)return xy(e);const o=n[e],a=i[1].split(",").map(OM);return typeof o=="function"?o(a):a[o]}const aj=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return hd(r,e)};function OM(t){return parseFloat(t.trim())}const bf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lj=new Set(bf),Ay=t=>t===vs||t===Ee,RM=new Set(["x","y","z"]),kM=bf.filter(t=>!RM.has(t));function xM(t){const e=[];return kM.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const li={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hd(e,"x"),y:(t,{transform:e})=>hd(e,"y")};li.translateX=li.x;li.translateY=li.y;const ui=new Set;let dd=!1,fd=!1,pd=!1;function rw(){if(fd){const t=Array.from(ui).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=xM(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([o,a])=>{var l;(l=n.getValue(o))==null||l.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fd=!1,dd=!1,ui.forEach(t=>t.complete(pd)),ui.clear()}function nw(){ui.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fd=!0)})}function AM(){pd=!0,nw(),rw(),pd=!1}class iw{constructor(e,r,n,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ui.add(this),dd||(dd=!0,cs.read(nw),cs.resolveKeyframes(rw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}EM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ui.delete(this)}cancel(){this.state==="scheduled"&&(ui.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IM=t=>t.startsWith("--");function MM(t,e,r){IM(e)?t.style.setProperty(e,r):t.style[e]=r}const PM=lf(()=>window.ScrollTimeline!==void 0),DM={};function LM(t,e){const r=lf(t);return()=>{var n;return(n=DM[e])!=null?n:r()}}const sw=LM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),yo=([t,e,r,n])=>"cubic-bezier(".concat(t,", ").concat(e,", ").concat(r,", ").concat(n,")"),Iy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yo([0,.65,.55,1]),circOut:yo([.55,0,1,.45]),backIn:yo([.31,.01,.66,-.59]),backOut:yo([.33,1.53,.69,.99])};function ow(t,e){if(t)return typeof t=="function"?sw()?Zb(t,e):"ease-out":Bb(t)?yo(t):Array.isArray(t)?t.map(r=>ow(r,e)||Iy.easeOut):Iy[t]}function NM(t,e,r,{delay:n=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:c}={},h=void 0){const f={[e]:r};c&&(f.offset=c);const p=ow(l,i);Array.isArray(p)&&(f.easing=p);const y={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(f,y)}function aw(t){return typeof t=="function"&&"applyToOptions"in t}function UM({type:t,...e}){var r,n;return aw(t)&&sw()?t.applyToOptions(e):((r=e.duration)!=null||(e.duration=300),(n=e.ease)!=null||(e.ease="easeOut"),e)}class jM extends yf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,af(typeof e.type!="string");const h=UM(e);this.animation=NM(r,n,i,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=_f(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):MM(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return vr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vr(e)}get time(){return vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&PM()?(this.animation.timeline=e,_s):r(this)}}const lw={anticipate:jb,backInOut:Ub,circInOut:$b};function $M(t){return t in lw}function FM(t){typeof t.ease=="string"&&$M(t.ease)&&(t.ease=lw[t.ease])}const My=10;class BM extends jM{constructor(e){FM(e),tw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var h;const{motionValue:r,onUpdate:n,onComplete:i,element:o,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new vf({...a,autoplay:!1}),c=ys((h=this.finishedTime)!=null?h:this.time);r.setWithVelocity(l.sample(c-My).value,l.sample(c).value,My),l.stop()}}const Py=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ko.test(t)||t==="0")&&!t.startsWith("url("));function zM(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function WM(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=Py(i,e),l=Py(o,e);return!a||!l?!1:zM(t)||(r==="spring"||aw(r))&&n}function qM(t){t.duration=0,t.type="keyframes"}const VM=new Set(["opacity","clipPath","filter","transform"]),GM=lf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HM(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:o,type:a}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=e.owner.getProps();return GM()&&r&&VM.has(r)&&(r!=="transform"||!h)&&!c&&!n&&i!=="mirror"&&o!==0&&a!=="inertia"}const KM=40;class uj extends yf{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:c,motionValue:h,element:f,...p}){var b;super(),this.stop=()=>{var m,w;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=br.now();const y={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:o,repeatType:a,name:c,motionValue:h,element:f,...p},v=(f==null?void 0:f.KeyframeResolver)||iw;this.keyframeResolver=new v(l,(m,w,C)=>this.onKeyframesResolved(m,w,y,!C),c,h,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:c,isHandoff:h,onUpdate:f}=n;this.resolvedAt=br.now(),WM(e,o,a,l)||(($o.instantAnimations||!c)&&(f==null||f(_f(e,n,r))),e[0]=e[e.length-1],qM(n),n.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>KM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&HM(y)?new BM({...y,element:y.motionValue.owner.current}):new vf(y);v.finished.then(()=>this.notifyFinished()).catch(_s),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),AM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const XM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YM(t){const e=XM.exec(t);if(!e)return[,];const[,r,n,i]=e;return["--".concat(r!=null?r:n),i]}function uw(t,e,r=1){const[n,i]=YM(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const a=o.trim();return wI(a)?parseFloat(a):a}return df(i)?uw(i,e,r+1):i}function cj(t,e){var r,n;return(n=(r=t==null?void 0:t[e])!=null?r:t==null?void 0:t.default)!=null?n:t}const JM=new Set(["width","height","top","left","right","bottom",...bf]),ZM={test:t=>t==="auto",parse:t=>t},cw=t=>e=>e.test(t),hw=[vs,Ee,ts,on,qI,WI,ZM],Dy=t=>hw.find(cw(t));function QM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SI(t):!0}const eP=new Set(["brightness","contrast","saturate","opacity"]);function tP(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ff)||[];if(!n)return t;const i=r.replace(n,"");let o=eP.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+i+")"}const rP=/\b([a-z-]*)\(.*?\)/gu,gd={...Ko,getAnimatableNone:t=>{const e=t.match(rP);return e?e.map(tP).join(" "):t}},Ly={...vs,transform:Math.round},nP={rotate:on,rotateX:on,rotateY:on,rotateZ:on,scale:hl,scaleX:hl,scaleY:hl,scaleZ:hl,skew:on,skewX:on,skewY:on,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Fo,originX:wy,originY:wy,originZ:Ee},iP={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...nP,zIndex:Ly,fillOpacity:Fo,strokeOpacity:Fo,numOctaves:Ly},sP={...iP,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:gd,WebkitFilter:gd},oP=t=>sP[t];function aP(t,e){let r=oP(t);return r!==gd&&(r=Ko),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const lP=new Set(["auto","none","0"]);function uP(t,e,r){let n=0,i;for(;n<t.length&&!i;){const o=t[n];typeof o=="string"&&!lP.has(o)&&Bo(o).values.length&&(i=t[n]),n++}if(i&&r)for(const o of e)t[o]=aP(r,i)}class hj extends iw{constructor(e,r,n,i,o){super(e,r,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),df(h))){const f=uw(h,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!JM.has(n)||e.length!==2)return;const[i,o]=e,a=Dy(i),l=Dy(o);if(a!==l)if(Ay(a)&&Ay(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else li[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||QM(e[i]))&&n.push(i);n.length&&uP(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=li[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,a=n[o];n[o]=li[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function dw(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const dj=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function cP(t){return Ab(t)&&"offsetHeight"in t}const Ny=30,hP=t=>!isNaN(parseFloat(t)),Uy={current:void 0};class dP{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const i=br.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new CI);const n=this.events[e].add(r);return e==="change"?()=>{n(),cs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Uy.current&&Uy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ny)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Ny);return Mb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fj(t,e){return new dP(t,e)}const{schedule:pj}=zb(queueMicrotask,!1),_r={x:!1,y:!1};function fw(){return _r.x||_r.y}function gj(t){return t==="x"||t==="y"?_r[t]?null:(_r[t]=!0,()=>{_r[t]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}function pw(t,e){const r=dw(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function jy(t){return!(t.pointerType==="touch"||fw())}function mj(t,e,r={}){const[n,i,o]=pw(t,r),a=l=>{if(!jy(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const f=p=>{jy(p)&&(h(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),o}const gw=(t,e)=>e?t===e?!0:gw(t,e.parentElement):!1,fP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gP(t){return pP.has(t.tagName)||t.tabIndex!==-1}const yl=new WeakSet;function $y(t){return e=>{e.key==="Enter"&&t(e)}}function _h(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mP=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=$y(()=>{if(yl.has(r))return;_h(r,"down");const i=$y(()=>{_h(r,"up")}),o=()=>_h(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Fy(t){return fP(t)&&!fw()}function _j(t,e,r={}){const[n,i,o]=pw(t,r),a=l=>{const c=l.currentTarget;if(!Fy(l))return;yl.add(c);const h=e(c,l),f=(v,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),yl.has(c)&&yl.delete(c),Fy(v)&&typeof h=="function"&&h(v,{success:b})},p=v=>{f(v,c===window||c===document||r.useGlobalTarget||gw(c,v.target))},y=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",y,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),cP(l)&&(l.addEventListener("focus",h=>mP(h,i)),!gP(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function mw(t){return Ab(t)&&"ownerSVGElement"in t}const vl=new WeakMap;let an;const _w=(t,e,r)=>(n,i)=>i&&i[0]?i[0][t+"Size"]:mw(n)&&"getBBox"in n?n.getBBox()[e]:n[r],_P=_w("inline","width","offsetWidth"),yP=_w("block","height","offsetHeight");function vP({target:t,borderBoxSize:e}){var r;(r=vl.get(t))==null||r.forEach(n=>{n(t,{get width(){return _P(t,e)},get height(){return yP(t,e)}})})}function bP(t){t.forEach(vP)}function wP(){typeof ResizeObserver>"u"||(an=new ResizeObserver(bP))}function SP(t,e){an||wP();const r=dw(t);return r.forEach(n=>{let i=vl.get(n);i||(i=new Set,vl.set(n,i)),i.add(e),an==null||an.observe(n)}),()=>{r.forEach(n=>{const i=vl.get(n);i==null||i.delete(e),i!=null&&i.size||an==null||an.unobserve(n)})}}const bl=new Set;let Yi;function EP(){Yi=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};bl.forEach(e=>e(t))},window.addEventListener("resize",Yi)}function CP(t){return bl.add(t),Yi||EP(),()=>{bl.delete(t),!bl.size&&typeof Yi=="function"&&(window.removeEventListener("resize",Yi),Yi=void 0)}}function yj(t,e){return typeof t=="function"?CP(t):SP(t,e)}function vj(t,e){let r;const n=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;r!==a&&t(a),r=a};return cs.preUpdate(n,!0),()=>Wb(n)}function bj(t){return mw(t)&&t.tagName==="svg"}function wj(...t){const e=!Array.isArray(t[0]),r=e?0:-1,n=t[0+r],i=t[1+r],o=t[2+r],a=t[3+r],l=ew(i,o,a);return e?l(n):l}const TP=t=>!!(t&&t.getVelocity);function Sj(t,e,r){const n=t.get();let i=null,o=n,a;const l=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,c=()=>{i&&(i.stop(),i=null)},h=()=>{c(),i=new vf({keyframes:[zy(t.get()),zy(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:a})};if(t.attach((f,p)=>(o=f,a=y=>p(By(y,l)),cs.postRender(h),t.get()),c),TP(e)){const f=e.on("change",y=>t.set(By(y,l))),p=t.on("destroy",f);return()=>{f(),p()}}return c}function By(t,e){return e?t+e:t}function zy(t){return typeof t=="number"?t:parseFloat(t)}const OP=[...hw,ut,Ko],Ej=t=>OP.find(cw(t));var RP=1e-6,Lt=typeof Float32Array<"u"?Float32Array:Array;function kP(){var t=new Lt(9);return Lt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Cj(){var t=new Lt(16);return Lt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Tj(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Oj(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],f=e[8],p=e[9],y=e[10],v=e[11],b=e[12],m=e[13],w=e[14],C=e[15],E=r*l-n*a,R=r*c-i*a,k=r*h-o*a,S=n*c-i*l,T=n*h-o*l,A=i*h-o*c,I=f*m-p*b,P=f*w-y*b,U=f*C-v*b,j=p*w-y*m,W=p*C-v*m,q=y*C-v*w,B=E*q-R*W+k*j+S*U-T*P+A*I;return B?(B=1/B,t[0]=(l*q-c*W+h*j)*B,t[1]=(i*W-n*q-o*j)*B,t[2]=(m*A-w*T+C*S)*B,t[3]=(y*T-p*A-v*S)*B,t[4]=(c*U-a*q-h*P)*B,t[5]=(r*q-i*U+o*P)*B,t[6]=(w*k-b*A-C*R)*B,t[7]=(f*A-y*k+v*R)*B,t[8]=(a*W-l*U+h*I)*B,t[9]=(n*U-r*W-o*I)*B,t[10]=(b*T-m*k+C*E)*B,t[11]=(p*k-f*T-v*E)*B,t[12]=(l*P-a*j-c*I)*B,t[13]=(r*j-n*P+i*I)*B,t[14]=(m*R-b*S-w*E)*B,t[15]=(f*S-p*R+y*E)*B,t):null}function Rj(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8],y=e[9],v=e[10],b=e[11],m=e[12],w=e[13],C=e[14],E=e[15],R=r[0],k=r[1],S=r[2],T=r[3];return t[0]=R*n+k*l+S*p+T*m,t[1]=R*i+k*c+S*y+T*w,t[2]=R*o+k*h+S*v+T*C,t[3]=R*a+k*f+S*b+T*E,R=r[4],k=r[5],S=r[6],T=r[7],t[4]=R*n+k*l+S*p+T*m,t[5]=R*i+k*c+S*y+T*w,t[6]=R*o+k*h+S*v+T*C,t[7]=R*a+k*f+S*b+T*E,R=r[8],k=r[9],S=r[10],T=r[11],t[8]=R*n+k*l+S*p+T*m,t[9]=R*i+k*c+S*y+T*w,t[10]=R*o+k*h+S*v+T*C,t[11]=R*a+k*f+S*b+T*E,R=r[12],k=r[13],S=r[14],T=r[15],t[12]=R*n+k*l+S*p+T*m,t[13]=R*i+k*c+S*y+T*w,t[14]=R*o+k*h+S*v+T*C,t[15]=R*a+k*f+S*b+T*E,t}function kj(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function xj(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xP(t,e,r,n,i){var o=1/Math.tan(e/2);if(t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var a=1/(n-i);t[10]=(i+n)*a,t[14]=2*i*n*a}else t[10]=-1,t[14]=-2*n;return t}var Aj=xP;function Ij(t,e,r,n){var i=e[0],o=e[1],a=e[2],l=n[0],c=n[1],h=n[2],f=i-r[0],p=o-r[1],y=a-r[2],v=f*f+p*p+y*y;v>0&&(v=1/Math.sqrt(v),f*=v,p*=v,y*=v);var b=c*y-h*p,m=h*f-l*y,w=l*p-c*f;return v=b*b+m*m+w*w,v>0&&(v=1/Math.sqrt(v),b*=v,m*=v,w*=v),t[0]=b,t[1]=m,t[2]=w,t[3]=0,t[4]=p*w-y*m,t[5]=y*b-f*w,t[6]=f*m-p*b,t[7]=0,t[8]=f,t[9]=p,t[10]=y,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function yw(){var t=new Lt(3);return Lt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function AP(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function Wy(t,e,r){var n=new Lt(3);return n[0]=t,n[1]=e,n[2]=r,n}function Mj(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Pj(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function Dj(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function IP(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function MP(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function yh(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],l=r[1],c=r[2];return t[0]=i*c-o*l,t[1]=o*a-n*c,t[2]=n*l-i*a,t}function Lj(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],l=e[0],c=e[1],h=e[2],f=i*h-o*c,p=o*l-n*h,y=n*c-i*l;return f=f+f,p=p+p,y=y+y,t[0]=l+a*f+i*y-o*p,t[1]=c+a*p+o*f-n*y,t[2]=h+a*y+n*p-i*f,t}var PP=AP;(function(){var t=yw();return function(e,r,n,i,o,a){var l,c;for(r||(r=3),n||(n=0),i?c=Math.min(i*r+n,e.length):c=e.length,l=n;l<c;l+=r)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],o(t,t,a),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2];return e}})();function DP(){var t=new Lt(4);return Lt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function LP(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a,t}(function(){var t=DP();return function(e,r,n,i,o,a){var l,c;for(r||(r=4),n||(n=0),i?c=Math.min(i*r+n,e.length):c=e.length,l=n;l<c;l+=r)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],t[3]=e[l+3],o(t,t,a),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2],e[l+3]=t[3];return e}})();function qy(){var t=new Lt(4);return Lt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function NP(t,e,r){r=r*.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Nj(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],l=r[0],c=r[1],h=r[2],f=r[3];return t[0]=n*f+a*l+i*h-o*c,t[1]=i*f+a*c+o*l-n*h,t[2]=o*f+a*h+n*c-i*l,t[3]=a*f-n*l-i*c-o*h,t}function vh(t,e,r,n){var i=e[0],o=e[1],a=e[2],l=e[3],c=r[0],h=r[1],f=r[2],p=r[3],y,v,b,m,w;return v=i*c+o*h+a*f+l*p,v<0&&(v=-v,c=-c,h=-h,f=-f,p=-p),1-v>RP?(y=Math.acos(v),b=Math.sin(y),m=Math.sin((1-n)*y)/b,w=Math.sin(n*y)/b):(m=1-n,w=n),t[0]=m*i+w*c,t[1]=m*o+w*h,t[2]=m*a+w*f,t[3]=m*l+w*p,t}function Uj(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function UP(t,e){var r=e[0]+e[4]+e[8],n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[i*3+i]-e[o*3+o]-e[a*3+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[o*3+a]-e[a*3+o])*n,t[o]=(e[o*3+i]+e[i*3+o])*n,t[a]=(e[a*3+i]+e[i*3+a])*n}return t}var vw=LP;(function(){var t=yw(),e=Wy(1,0,0),r=Wy(0,1,0);return function(n,i,o){var a=MP(i,o);return a<-.999999?(yh(t,e,i),PP(t)<1e-6&&yh(t,r,i),IP(t,t),NP(n,t,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(yh(t,i,o),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+a,vw(n,n))}})();(function(){var t=qy(),e=qy();return function(r,n,i,o,a,l){return vh(t,n,a,l),vh(e,i,o,l),vh(r,t,e,2*l*(1-l)),r}})();(function(){var t=kP();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],vw(e,UP(e,t))}})();function jP(){var t=new Lt(2);return Lt!=Float32Array&&(t[0]=0,t[1]=0),t}function jj(t){var e=new Lt(2);return e[0]=t[0],e[1]=t[1],e}function $j(t,e){var r=new Lt(2);return r[0]=t,r[1]=e,r}function Fj(t,e){return t[0]=e[0],t[1]=e[1],t}function Bj(t,e,r){return t[0]=e,t[1]=r,t}function zj(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function $P(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function Wj(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function FP(t){var e=t[0],r=t[1];return e*e+r*r}var qj=$P,Vj=FP;(function(){var t=jP();return function(e,r,n,i,o,a){var l,c;for(r||(r=2),n||(n=0),i?c=Math.min(i*r+n,e.length):c=e.length,l=n;l<c;l+=r)t[0]=e[l],t[1]=e[l+1],o(t,t,a),e[l]=t[0],e[l+1]=t[1];return e}})();function bw(t,e){return function(){return t.apply(e,arguments)}}const{toString:BP}=Object.prototype,{getPrototypeOf:wf}=Object,{iterator:Jl,toStringTag:ww}=Symbol,Zl=(t=>e=>{const r=BP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),wr=t=>(t=t.toLowerCase(),e=>Zl(e)===t),Ql=t=>e=>typeof e===t,{isArray:bs}=Array,hs=Ql("undefined");function Xo(t){return t!==null&&!hs(t)&&t.constructor!==null&&!hs(t.constructor)&&zt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Sw=wr("ArrayBuffer");function zP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Sw(t.buffer),e}const WP=Ql("string"),zt=Ql("function"),Ew=Ql("number"),Yo=t=>t!==null&&typeof t=="object",qP=t=>t===!0||t===!1,wl=t=>{if(Zl(t)!=="object")return!1;const e=wf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ww in t)&&!(Jl in t)},VP=t=>{if(!Yo(t)||Xo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch(e){return!1}},GP=wr("Date"),HP=wr("File"),KP=wr("Blob"),XP=wr("FileList"),YP=t=>Yo(t)&&zt(t.pipe),JP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zt(t.append)&&((e=Zl(t))==="formdata"||e==="object"&&zt(t.toString)&&t.toString()==="[object FormData]"))},ZP=wr("URLSearchParams"),[QP,eD,tD,rD]=["ReadableStream","Request","Response","Headers"].map(wr),nD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jo(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),bs(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Xo(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let l;for(n=0;n<a;n++)l=o[n],e.call(null,t[l],l,t)}}function Cw(t,e){if(Xo(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tw=t=>!hs(t)&&t!==ri;function md(){const{caseless:t,skipUndefined:e}=Tw(this)&&this||{},r={},n=(i,o)=>{const a=t&&Cw(r,o)||o;wl(r[a])&&wl(i)?r[a]=md(r[a],i):wl(i)?r[a]=md({},i):bs(i)?r[a]=i.slice():(!e||!hs(i))&&(r[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Jo(arguments[i],n);return r}const iD=(t,e,r,{allOwnKeys:n}={})=>(Jo(e,(i,o)=>{r&&zt(i)?t[o]=bw(i,r):t[o]=i},{allOwnKeys:n}),t),sD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),oD=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},aD=(t,e,r,n)=>{let i,o,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!n||n(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=r!==!1&&wf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},lD=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},uD=t=>{if(!t)return null;if(bs(t))return t;let e=t.length;if(!Ew(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},cD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wf(Uint8Array)),hD=(t,e)=>{const n=(t&&t[Jl]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},dD=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},fD=wr("HTMLFormElement"),pD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Vy=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),gD=wr("RegExp"),Ow=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Jo(r,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(n[o]=a||i)}),Object.defineProperties(t,n)},mD=t=>{Ow(t,(e,r)=>{if(zt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(zt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_D=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return bs(t)?n(t):n(String(t).split(e)),r},yD=()=>{},vD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bD(t){return!!(t&&zt(t.append)&&t[ww]==="FormData"&&t[Jl])}const wD=t=>{const e=new Array(10),r=(n,i)=>{if(Yo(n)){if(e.indexOf(n)>=0)return;if(Xo(n))return n;if(!("toJSON"in n)){e[i]=n;const o=bs(n)?[]:{};return Jo(n,(a,l)=>{const c=r(a,i+1);!hs(c)&&(o[l]=c)}),e[i]=void 0,o}}return n};return r(t,0)},SD=wr("AsyncFunction"),ED=t=>t&&(Yo(t)||zt(t))&&zt(t.then)&&zt(t.catch),Rw=((t,e)=>t?setImmediate:e?((r,n)=>(ri.addEventListener("message",({source:i,data:o})=>{i===ri&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ri.postMessage(r,"*")}))("axios@".concat(Math.random()),[]):r=>setTimeout(r))(typeof setImmediate=="function",zt(ri.postMessage)),CD=typeof queueMicrotask<"u"?queueMicrotask.bind(ri):typeof process<"u"&&process.nextTick||Rw,TD=t=>t!=null&&zt(t[Jl]),K={isArray:bs,isArrayBuffer:Sw,isBuffer:Xo,isFormData:JP,isArrayBufferView:zP,isString:WP,isNumber:Ew,isBoolean:qP,isObject:Yo,isPlainObject:wl,isEmptyObject:VP,isReadableStream:QP,isRequest:eD,isResponse:tD,isHeaders:rD,isUndefined:hs,isDate:GP,isFile:HP,isBlob:KP,isRegExp:gD,isFunction:zt,isStream:YP,isURLSearchParams:ZP,isTypedArray:cD,isFileList:XP,forEach:Jo,merge:md,extend:iD,trim:nD,stripBOM:sD,inherits:oD,toFlatObject:aD,kindOf:Zl,kindOfTest:wr,endsWith:lD,toArray:uD,forEachEntry:hD,matchAll:dD,isHTMLForm:fD,hasOwnProperty:Vy,hasOwnProp:Vy,reduceDescriptors:Ow,freezeMethods:mD,toObjectSet:_D,toCamelCase:pD,noop:yD,toFiniteNumber:vD,findKey:Cw,global:ri,isContextDefined:Tw,isSpecCompliantForm:bD,toJSONObject:wD,isAsyncFn:SD,isThenable:ED,setImmediate:Rw,asap:CD,isIterable:TD};function Ce(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}K.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const kw=Ce.prototype,xw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xw[t]={value:t}});Object.defineProperties(Ce,xw);Object.defineProperty(kw,"isAxiosError",{value:!0});Ce.from=(t,e,r,n,i,o)=>{const a=Object.create(kw);K.toFlatObject(t,a,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return Ce.call(a,l,c,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const OD=null;function _d(t){return K.isPlainObject(t)||K.isArray(t)}function Aw(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function Gy(t,e,r){return t?t.concat(e).map(function(i,o){return i=Aw(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function RD(t){return K.isArray(t)&&!t.some(_d)}const kD=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function eu(t,e,r){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!K.isUndefined(w[m])});const n=r.metaTokens,i=r.visitor||f,o=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(K.isDate(b))return b.toISOString();if(K.isBoolean(b))return b.toString();if(!c&&K.isBlob(b))throw new Ce("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(b)||K.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,m,w){let C=b;if(b&&!w&&typeof b=="object"){if(K.endsWith(m,"{}"))m=n?m:m.slice(0,-2),b=JSON.stringify(b);else if(K.isArray(b)&&RD(b)||(K.isFileList(b)||K.endsWith(m,"[]"))&&(C=K.toArray(b)))return m=Aw(m),C.forEach(function(R,k){!(K.isUndefined(R)||R===null)&&e.append(a===!0?Gy([m],k,o):a===null?m:m+"[]",h(R))}),!1}return _d(b)?!0:(e.append(Gy(w,m,o),h(b)),!1)}const p=[],y=Object.assign(kD,{defaultVisitor:f,convertValue:h,isVisitable:_d});function v(b,m){if(!K.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+m.join("."));p.push(b),K.forEach(b,function(C,E){(!(K.isUndefined(C)||C===null)&&i.call(e,C,K.isString(E)?E.trim():E,m,y))===!0&&v(C,m?m.concat(E):[E])}),p.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Hy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Sf(t,e){this._pairs=[],t&&eu(t,this,e)}const Iw=Sf.prototype;Iw.append=function(e,r){this._pairs.push([e,r])};Iw.toString=function(e){const r=e?function(n){return e.call(this,n,Hy)}:Hy;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function xD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mw(t,e,r){if(!e)return t;const n=r&&r.encode||xD;K.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(e,r):o=K.isURLSearchParams(e)?e.toString():new Sf(e,r).toString(n),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ky{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Pw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AD=typeof URLSearchParams<"u"?URLSearchParams:Sf,ID=typeof FormData<"u"?FormData:null,MD=typeof Blob<"u"?Blob:null,PD={isBrowser:!0,classes:{URLSearchParams:AD,FormData:ID,Blob:MD},protocols:["http","https","file","blob","url","data"]},Ef=typeof window<"u"&&typeof document<"u",yd=typeof navigator=="object"&&navigator||void 0,DD=Ef&&(!yd||["ReactNative","NativeScript","NS"].indexOf(yd.product)<0),LD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ND=Ef&&window.location.href||"http://localhost",UD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ef,hasStandardBrowserEnv:DD,hasStandardBrowserWebWorkerEnv:LD,navigator:yd,origin:ND},Symbol.toStringTag,{value:"Module"})),Ot={...UD,...PD};function jD(t,e){return eu(t,new Ot.classes.URLSearchParams,{visitor:function(r,n,i,o){return Ot.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function $D(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FD(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function Dw(t){function e(r,n,i,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=r.length;return a=!a&&K.isArray(i)?i.length:a,c?(K.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!K.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],o)&&K.isArray(i[a])&&(i[a]=FD(i[a])),!l)}if(K.isFormData(t)&&K.isFunction(t.entries)){const r={};return K.forEachEntry(t,(n,i)=>{e($D(n),i,r,0)}),r}return null}function BD(t,e,r){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Zo={transitional:Pw,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=K.isObject(e);if(o&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return i?JSON.stringify(Dw(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jD(e,this.formSerializer).toString();if((l=K.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return eu(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),BD(e)):e}],transformResponse:[function(e){const r=this.transitional||Zo.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],t=>{Zo.headers[t]={}});const zD=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WD=t=>{const e={};let r,n,i;return t&&t.split("\n").forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&zD[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Xy=Symbol("internals");function fo(t){return t&&String(t).trim().toLowerCase()}function Sl(t){return t===!1||t==null?t:K.isArray(t)?t.map(Sl):String(t)}function qD(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const VD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function bh(t,e,r,n,i){if(K.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!K.isString(e)){if(K.isString(n))return e.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(e)}}function GD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function HD(t,e){const r=K.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}let Wt=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(l,c,h){const f=fo(c);if(!f)throw new Error("header name must be a non-empty string");const p=K.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=Sl(l))}const a=(l,c)=>K.forEach(l,(h,f)=>o(h,f,c));if(K.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(K.isString(e)&&(e=e.trim())&&!VD(e))a(WD(e),r);else if(K.isObject(e)&&K.isIterable(e)){let l={},c,h;for(const f of e){if(!K.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(c=l[h])?K.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}a(l,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=fo(e),e){const n=K.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return qD(i);if(K.isFunction(r))return r.call(this,i,n);if(K.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=fo(e),e){const n=K.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||bh(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(a){if(a=fo(a),a){const l=K.findKey(n,a);l&&(!r||bh(n,n[l],l,r))&&(delete n[l],i=!0)}}return K.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||bh(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return K.forEach(this,(i,o)=>{const a=K.findKey(n,o);if(a){r[a]=Sl(i),delete r[o];return}const l=e?GD(o):String(o).trim();l!==o&&delete r[o],r[l]=Sl(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return K.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Xy]=this[Xy]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=fo(a);n[l]||(HD(i,a),n[l]=!0)}return K.isArray(e)?e.forEach(o):o(e),this}};Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Wt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});K.freezeMethods(Wt);function wh(t,e){const r=this||Zo,n=e||r,i=Wt.from(n.headers);let o=n.data;return K.forEach(t,function(l){o=l.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Lw(t){return!!(t&&t.__CANCEL__)}function ws(t,e,r){Ce.call(this,t==null?"canceled":t,Ce.ERR_CANCELED,e,r),this.name="CanceledError"}K.inherits(ws,Ce,{__CANCEL__:!0});function Nw(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function KD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XD(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=n[o];a||(a=h),r[i]=c,n[i]=h;let p=o,y=0;for(;p!==i;)y+=r[p++],p=p%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-a<e)return;const v=f&&h-f;return v?Math.round(y*1e3/v):void 0}}function YD(t,e){let r=0,n=1e3/e,i,o;const a=(h,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const f=Date.now(),p=f-r;p>=n?a(h,f):(i=h,o||(o=setTimeout(()=>{o=null,a(i)},n-p)))},()=>i&&a(i)]}const Fl=(t,e,r=3)=>{let n=0;const i=XD(50,250);return YD(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-n,h=i(c),f=a<=l;n=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&f?(l-a)/h:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},r)},Yy=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Jy=t=>(...e)=>K.asap(()=>t(...e)),JD=Ot.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ot.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,ZD=Ot.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const a=[t+"="+encodeURIComponent(e)];K.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),K.isString(n)&&a.push("path="+n),K.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Uw(t,e,r){let n=!QD(e);return t&&(n||r==!1)?eL(t,e):e}const Zy=t=>t instanceof Wt?{...t}:t;function fi(t,e){e=e||{};const r={};function n(h,f,p,y){return K.isPlainObject(h)&&K.isPlainObject(f)?K.merge.call({caseless:y},h,f):K.isPlainObject(f)?K.merge({},f):K.isArray(f)?f.slice():f}function i(h,f,p,y){if(K.isUndefined(f)){if(!K.isUndefined(h))return n(void 0,h,p,y)}else return n(h,f,p,y)}function o(h,f){if(!K.isUndefined(f))return n(void 0,f)}function a(h,f){if(K.isUndefined(f)){if(!K.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function l(h,f,p){if(p in e)return n(h,f);if(p in t)return n(void 0,h)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,f,p)=>i(Zy(h),Zy(f),p,!0)};return K.forEach(Object.keys({...t,...e}),function(f){const p=c[f]||i,y=p(t[f],e[f],f);K.isUndefined(y)&&p!==l||(r[f]=y)}),r}const jw=t=>{const e=fi({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=e;if(e.headers=a=Wt.from(a),e.url=Mw(Uw(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),K.isFormData(r)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(K.isFunction(r.getHeaders)){const c=r.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([f,p])=>{h.includes(f.toLowerCase())&&a.set(f,p)})}}if(Ot.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(e)),n||n!==!1&&JD(e.url))){const c=i&&o&&ZD.read(o);c&&a.set(i,c)}return e},tL=typeof XMLHttpRequest<"u",rL=tL&&function(t){return new Promise(function(r,n){const i=jw(t);let o=i.data;const a=Wt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=i,f,p,y,v,b;function m(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function C(){if(!w)return;const R=Wt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:R,config:t,request:w};Nw(function(A){r(A),m()},function(A){n(A),m()},S),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(n(new Ce("Request aborted",Ce.ECONNABORTED,t,w)),w=null)},w.onerror=function(k){const S=k&&k.message?k.message:"Network Error",T=new Ce(S,Ce.ERR_NETWORK,t,w);T.event=k||null,n(T),w=null},w.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||Pw;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new Ce(k,S.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,w)),w=null},o===void 0&&a.setContentType(null),"setRequestHeader"in w&&K.forEach(a.toJSON(),function(k,S){w.setRequestHeader(S,k)}),K.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),h&&([y,b]=Fl(h,!0),w.addEventListener("progress",y)),c&&w.upload&&([p,v]=Fl(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=R=>{w&&(n(!R||R.type?new ws(null,t,w):R),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const E=KD(i.url);if(E&&Ot.protocols.indexOf(E)===-1){n(new Ce("Unsupported protocol "+E+":",Ce.ERR_BAD_REQUEST,t));return}w.send(o||null)})},nL=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const o=function(h){if(!i){i=!0,l();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Ce?f:new ws(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,o(new Ce("timeout ".concat(e," of ms exceeded"),Ce.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>K.asap(l),c}},iL=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},sL=async function*(t,e){for await(const r of oL(t))yield*iL(r,e)},oL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Qy=(t,e,r,n)=>{const i=sL(t,e);let o=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:f}=await i.next();if(h){l(),c.close();return}let p=f.byteLength;if(r){let y=o+=p;r(y)}c.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},ev=64*1024,{isFunction:dl}=K,aL=(({Request:t,Response:e})=>({Request:t,Response:e}))(K.global),{ReadableStream:tv,TextEncoder:rv}=K.global,nv=(t,...e)=>{try{return!!t(...e)}catch(r){return!1}},lL=t=>{t=K.merge.call({skipUndefined:!0},aL,t);const{fetch:e,Request:r,Response:n}=t,i=e?dl(e):typeof fetch=="function",o=dl(r),a=dl(n);if(!i)return!1;const l=i&&dl(tv),c=i&&(typeof rv=="function"?(b=>m=>b.encode(m))(new rv):async b=>new Uint8Array(await new r(b).arrayBuffer())),h=o&&l&&nv(()=>{let b=!1;const m=new r(Ot.origin,{body:new tv,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!m}),f=a&&l&&nv(()=>K.isReadableStream(new n("").body)),p={stream:f&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(m,w)=>{let C=m&&m[b];if(C)return C.call(m);throw new Ce("Response type '".concat(b,"' is not supported"),Ce.ERR_NOT_SUPPORT,w)})});const y=async b=>{if(b==null)return 0;if(K.isBlob(b))return b.size;if(K.isSpecCompliantForm(b))return(await new r(Ot.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(K.isArrayBufferView(b)||K.isArrayBuffer(b))return b.byteLength;if(K.isURLSearchParams(b)&&(b=b+""),K.isString(b))return(await c(b)).byteLength},v=async(b,m)=>{const w=K.toFiniteNumber(b.getContentLength());return w==null?y(m):w};return async b=>{let{url:m,method:w,data:C,signal:E,cancelToken:R,timeout:k,onDownloadProgress:S,onUploadProgress:T,responseType:A,headers:I,withCredentials:P="same-origin",fetchOptions:U}=jw(b),j=e||fetch;A=A?(A+"").toLowerCase():"text";let W=nL([E,R&&R.toAbortSignal()],k),q=null;const B=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let te;try{if(T&&h&&w!=="get"&&w!=="head"&&(te=await v(I,C))!==0){let ce=new r(m,{method:"POST",body:C,duplex:"half"}),_e;if(K.isFormData(C)&&(_e=ce.headers.get("content-type"))&&I.setContentType(_e),ce.body){const[ge,Z]=Yy(te,Fl(Jy(T)));C=Qy(ce.body,ev,ge,Z)}}K.isString(P)||(P=P?"include":"omit");const N=o&&"credentials"in r.prototype,F={...U,signal:W,method:w.toUpperCase(),headers:I.normalize().toJSON(),body:C,duplex:"half",credentials:N?P:void 0};q=o&&new r(m,F);let z=await(o?j(q,U):j(m,F));const Q=f&&(A==="stream"||A==="response");if(f&&(S||Q&&B)){const ce={};["status","statusText","headers"].forEach(J=>{ce[J]=z[J]});const _e=K.toFiniteNumber(z.headers.get("content-length")),[ge,Z]=S&&Yy(_e,Fl(Jy(S),!0))||[];z=new n(Qy(z.body,ev,ge,()=>{Z&&Z(),B&&B()}),ce)}A=A||"text";let ne=await p[K.findKey(p,A)||"text"](z,b);return!Q&&B&&B(),await new Promise((ce,_e)=>{Nw(ce,_e,{data:ne,headers:Wt.from(z.headers),status:z.status,statusText:z.statusText,config:b,request:q})})}catch(N){throw B&&B(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,b,q),{cause:N.cause||N}):Ce.from(N,N&&N.code,b,q)}}},uL=new Map,$w=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:i}=e,o=[n,i,r];let a=o.length,l=a,c,h,f=uL;for(;l--;)c=o[l],h=f.get(c),h===void 0&&f.set(c,h=l?new Map:lL(e)),f=h;return h};$w();const vd={http:OD,xhr:rL,fetch:{get:$w}};K.forEach(vd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(r){}Object.defineProperty(t,"adapterName",{value:e})}});const iv=t=>"- ".concat(t),cL=t=>K.isFunction(t)||t===null||t===!1,Fw={getAdapter:(t,e)=>{t=K.isArray(t)?t:[t];const{length:r}=t;let n,i;const o={};for(let a=0;a<r;a++){n=t[a];let l;if(i=n,!cL(n)&&(i=vd[(l=String(n)).toLowerCase()],i===void 0))throw new Ce("Unknown adapter '".concat(l,"'"));if(i&&(K.isFunction(i)||(i=i.get(e))))break;o[l||"#"+a]=i}if(!i){const a=Object.entries(o).map(([c,h])=>"adapter ".concat(c," ")+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?"since :\n"+a.map(iv).join("\n"):" "+iv(a[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:vd};function Sh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ws(null,t)}function sv(t){return Sh(t),t.headers=Wt.from(t.headers),t.data=wh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fw.getAdapter(t.adapter||Zo.adapter,t)(t).then(function(n){return Sh(t),n.data=wh.call(t,t.transformResponse,n),n.headers=Wt.from(n.headers),n},function(n){return Lw(n)||(Sh(t),n&&n.response&&(n.response.data=wh.call(t,t.transformResponse,n.response),n.response.headers=Wt.from(n.response.headers))),Promise.reject(n)})}const Bw="1.12.2",tu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tu[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const ov={};tu.transitional=function(e,r,n){function i(o,a){return"[Axios v"+Bw+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,l)=>{if(e===!1)throw new Ce(i(a," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!ov[a]&&(ov[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,l):!0}};tu.spelling=function(e){return(r,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};function hL(t,e,r){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const l=t[o],c=l===void 0||a(l,o,t);if(c!==!0)throw new Ce("option "+o+" must be "+c,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+o,Ce.ERR_BAD_OPTION)}}const El={assertOptions:hL,validators:tu},Rr=El.validators;let ci=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ky,response:new Ky}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+o):n.stack=o}catch(a){}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=fi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&El.assertOptions(n,{silentJSONParsing:Rr.transitional(Rr.boolean),forcedJSONParsing:Rr.transitional(Rr.boolean),clarifyTimeoutError:Rr.transitional(Rr.boolean)},!1),i!=null&&(K.isFunction(i)?r.paramsSerializer={serialize:i}:El.assertOptions(i,{encode:Rr.function,serialize:Rr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),El.assertOptions(r,{baseUrl:Rr.spelling("baseURL"),withXsrfToken:Rr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&K.merge(o.common,o[r.method]);o&&K.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=Wt.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const h=[];this.interceptors.response.forEach(function(m){h.push(m.fulfilled,m.rejected)});let f,p=0,y;if(!c){const b=[sv.bind(this),void 0];for(b.unshift(...l),b.push(...h),y=b.length,f=Promise.resolve(r);p<y;)f=f.then(b[p++],b[p++]);return f}y=l.length;let v=r;for(;p<y;){const b=l[p++],m=l[p++];try{v=b(v)}catch(w){m.call(this,w);break}}try{f=sv.call(this,v)}catch(b){return Promise.reject(b)}for(p=0,y=h.length;p<y;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=fi(this.defaults,e);const r=Uw(e.baseURL,e.url,e.allowAbsoluteUrls);return Mw(r,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){ci.prototype[e]=function(r,n){return this.request(fi(n||{},{method:e,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(e){function r(n){return function(o,a,l){return this.request(fi(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ci.prototype[e]=r(),ci.prototype[e+"Form"]=r(!0)});let dL=class zw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{n.subscribe(l),o=l}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,l){n.reason||(n.reason=new ws(o,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new zw(function(i){e=i}),cancel:e}}};function fL(t){return function(r){return t.apply(null,r)}}function pL(t){return K.isObject(t)&&t.isAxiosError===!0}const bd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bd).forEach(([t,e])=>{bd[e]=t});function Ww(t){const e=new ci(t),r=bw(ci.prototype.request,e);return K.extend(r,ci.prototype,e,{allOwnKeys:!0}),K.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Ww(fi(t,i))},r}const ft=Ww(Zo);ft.Axios=ci;ft.CanceledError=ws;ft.CancelToken=dL;ft.isCancel=Lw;ft.VERSION=Bw;ft.toFormData=eu;ft.AxiosError=Ce;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=fL;ft.isAxiosError=pL;ft.mergeConfig=fi;ft.AxiosHeaders=Wt;ft.formToJSON=t=>Dw(K.isHTMLForm(t)?new FormData(t):t);ft.getAdapter=Fw.getAdapter;ft.HttpStatusCode=bd;ft.default=ft;const{Axios:Kj,AxiosError:Xj,CanceledError:Yj,isCancel:Jj,CancelToken:Zj,VERSION:Qj,all:e$,Cancel:t$,isAxiosError:r$,spread:n$,toFormData:i$,AxiosHeaders:s$,HttpStatusCode:o$,formToJSON:a$,getAdapter:l$,mergeConfig:u$}=ft;function xo(t){let e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function wd(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function gL(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function av(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function lv(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function mL(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function _L(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Eh(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function yL(t,e){let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function vL(t,e){let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function uv(t){let e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function bL(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function wL(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Sd(t,e){let r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function qw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cv(t,e,r){let n=e[0],i=e[1],o=e[2],a=r[0],l=r[1],c=r[2];return t[0]=i*c-o*l,t[1]=o*a-n*c,t[2]=n*l-i*a,t}function SL(t,e,r,n){let i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t}function EL(t,e,r,n,i){const o=Math.exp(-n*i);let a=e[0],l=e[1],c=e[2];return t[0]=r[0]+(a-r[0])*o,t[1]=r[1]+(l-r[1])*o,t[2]=r[2]+(c-r[2])*o,t}function CL(t,e,r){let n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t}function TL(t,e,r){let n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o)/a,t[1]=(r[1]*n+r[5]*i+r[9]*o)/a,t[2]=(r[2]*n+r[6]*i+r[10]*o)/a,t}function OL(t,e,r){let n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function RL(t,e,r){let n=e[0],i=e[1],o=e[2],a=r[0],l=r[1],c=r[2],h=r[3],f=l*o-c*i,p=c*n-a*o,y=a*i-l*n,v=l*y-c*p,b=c*f-a*y,m=a*p-l*f,w=h*2;return f*=w,p*=w,y*=w,v*=2,b*=2,m*=2,t[0]=n+f+v,t[1]=i+p+b,t[2]=o+y+m,t}const kL=(function(){const t=[0,0,0],e=[0,0,0];return function(r,n){wd(t,r),wd(e,n),Sd(t,t),Sd(e,e);let i=qw(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function xL(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class dt extends Array{constructor(e=0,r=e,n=e){return super(e,r,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,n=e){return e.length?this.copy(e):(gL(this,e,r,n),this)}copy(e){return wd(this,e),this}add(e,r){return r?av(this,e,r):av(this,this,e),this}sub(e,r){return r?lv(this,e,r):lv(this,this,e),this}multiply(e){return e.length?mL(this,this,e):Eh(this,this,e),this}divide(e){return e.length?_L(this,this,e):Eh(this,this,1/e),this}inverse(e=this){return wL(this,e),this}len(){return xo(this)}distance(e){return e?yL(this,e):xo(this)}squaredLen(){return uv(this)}squaredDistance(e){return e?vL(this,e):uv(this)}negate(e=this){return bL(this,e),this}cross(e,r){return r?cv(this,e,r):cv(this,this,e),this}scale(e){return Eh(this,this,e),this}normalize(){return Sd(this,this),this}dot(e){return qw(this,e)}equals(e){return xL(this,e)}applyMatrix3(e){return OL(this,this,e),this}applyMatrix4(e){return CL(this,this,e),this}scaleRotateMatrix4(e){return TL(this,this,e),this}applyQuaternion(e){return RL(this,this,e),this}angle(e){return kL(this,e)}lerp(e,r){return SL(this,this,e,r),this}smoothLerp(e,r,n){return EL(this,this,e,r,n),this}clone(){return new dt(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],n=this[1],i=this[2];return this[0]=e[0]*r+e[4]*n+e[8]*i,this[1]=e[1]*r+e[5]*n+e[9]*i,this[2]=e[2]*r+e[6]*n+e[10]*i,this.normalize()}}const hv=new dt;let AL=1,IL=1,dv=!1;class Vw{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=AL++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in r)this.addAttribute(n,r[n])}addAttribute(e,r){if(this.attributes[e]=r,r.id=IL++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:n,type:i})=>{if(!this.attributes[n]){console.warn("active attribute ".concat(n," not being supplied"));return}const o=this.attributes[n];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const l=o.size/a,c=a===1?0:a*a*4,h=a===1?0:a*4;for(let f=0;f<a;f++)this.gl.vertexAttribPointer(r+f,l,o.type,o.normalized,o.stride+c,o.offset+f*h),this.gl.enableVertexAttribArray(r+f),this.gl.renderer.vertexAttribDivisor(r+f,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!=="".concat(this.id,"_").concat(e.attributeOrder)&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry="".concat(this.id,"_").concat(e.attributeOrder)),e.attributeLocations.forEach((o,{name:a})=>{const l=this.attributes[a];l.needsUpdate&&this.updateAttribute(l)});let n=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!dv)return console.warn("No position buffer data found to compute bounds"),dv=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,n=e.size;this.bounds||(this.bounds={min:new dt,max:new dt,center:new dt,scale:new dt,radius:1/0});const i=this.bounds.min,o=this.bounds.max,a=this.bounds.center,l=this.bounds.scale;i.set(1/0),o.set(-1/0);for(let c=0,h=r.length;c<h;c+=n){const f=r[c],p=r[c+1],y=r[c+2];i.x=Math.min(f,i.x),i.y=Math.min(p,i.y),i.z=Math.min(y,i.z),o.x=Math.max(f,o.x),o.y=Math.max(p,o.y),o.z=Math.max(y,o.z)}l.sub(o,i),a.add(i,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let o=0,a=r.length;o<a;o+=n)hv.fromArray(r,o),i=Math.max(i,this.bounds.center.squaredDistance(hv));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let ML=1;const fv={};class c${constructor(e,{vertex:r,fragment:n,uniforms:i={},transparent:o=!1,cullFace:a=e.BACK,frontFace:l=e.CCW,depthTest:c=!0,depthWrite:h=!0,depthFunc:f=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=ML++,r||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=a,this.frontFace=l,this.depthTest=c,this.depthWrite=h,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:n})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn("".concat(this.gl.getShaderInfoLog(this.vertexShader),"\nVertex Shader\n").concat(pv(e)))),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn("".concat(this.gl.getShaderInfoLog(this.fragmentShader),"\nFragment Shader\n").concat(pv(r)))),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<n;a++){let l=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const c=l.name.match(/(\w+)/g);l.uniformName=c[0],l.nameComponents=c.slice(1)}this.attributeLocations=new Map;const i=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<o;a++){const l=this.gl.getActiveAttrib(this.program,a),c=this.gl.getAttribLocation(this.program,l.name);c!==-1&&(i[c]=l.name,this.attributeLocations.set(l,c))}this.attributeOrder=i.join("")}setBlendFunc(e,r,n,i){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,n){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=n}setStencilOp(e,r,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,o)=>{let a=this.uniforms[o.uniformName];for(const l of o.nameComponents){if(!a)break;if(l in a)a=a[l];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return gv("Active uniform ".concat(o.name," has not been supplied"));if(a&&a.value===void 0)return gv("".concat(o.name," uniform is missing a value parameter"));if(a.value.texture)return r=r+1,a.value.update(r),Ch(this.gl,o.type,i,r);if(a.value.length&&a.value[0].texture){const l=[];return a.value.forEach(c=>{r=r+1,c.update(r),l.push(r)}),Ch(this.gl,o.type,i,l)}Ch(this.gl,o.type,i,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Ch(t,e,r,n){n=n.length?PL(n):n;const i=t.renderer.state.uniformLocations.get(r);if(n.length)if(i===void 0||i.length!==n.length)t.renderer.state.uniformLocations.set(r,n.slice(0));else{if(DL(i,n))return;i.set?i.set(n):LL(i,n),t.renderer.state.uniformLocations.set(r,i)}else{if(i===n)return;t.renderer.state.uniformLocations.set(r,n)}switch(e){case 5126:return n.length?t.uniform1fv(r,n):t.uniform1f(r,n);case 35664:return t.uniform2fv(r,n);case 35665:return t.uniform3fv(r,n);case 35666:return t.uniform4fv(r,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?t.uniform1iv(r,n):t.uniform1i(r,n);case 35671:case 35667:return t.uniform2iv(r,n);case 35672:case 35668:return t.uniform3iv(r,n);case 35673:case 35669:return t.uniform4iv(r,n);case 35674:return t.uniformMatrix2fv(r,!1,n);case 35675:return t.uniformMatrix3fv(r,!1,n);case 35676:return t.uniformMatrix4fv(r,!1,n)}}function pv(t){let e=t.split("\n");for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}function PL(t){const e=t.length,r=t[0].length;if(r===void 0)return t;const n=e*r;let i=fv[n];i||(fv[n]=i=new Float32Array(n));for(let o=0;o<e;o++)i.set(t[o],o*r);return i}function DL(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function LL(t,e){for(let r=0,n=t.length;r<n;r++)t[r]=e[r]}let Th=0;function gv(t){Th>100||(console.warn(t),Th++,Th>100&&console.warn("More than 100 program warnings - stopping logs."))}const Oh=new dt;let NL=1;class h${constructor({canvas:e=document.createElement("canvas"),width:r=300,height:n=150,dpr:i=1,alpha:o=!1,depth:a=!0,stencil:l=!1,antialias:c=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:f=!1,powerPreference:p="default",autoClear:y=!0,webgl:v=2}={}){const b={alpha:o,depth:a,stencil:l,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:f,powerPreference:p};this.dpr=i,this.alpha=o,this.color=!0,this.depth=a,this.stencil=l,this.premultipliedAlpha=h,this.autoClear=y,this.id=NL++,v===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,n=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=n,this.state.viewport.y=i,this.gl.viewport(n,i,e,r))}setScissor(e,r,n=0,i=0){this.gl.scissor(n,i,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,n,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=i,n!==void 0?this.gl.blendFuncSeparate(e,r,n,i):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,n){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,n||0))}setStencilOp(e,r,n){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=n,this.gl.stencilOp(e,r,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,n){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:n,sort:i}){let o=[];if(r&&n&&r.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(n&&a.frustumCulled&&r&&!r.frustumIntersectsMesh(a)||o.push(a))}),i){const a=[],l=[],c=[];o.forEach(h=>{h.program.transparent?h.program.depthTest?l.push(h):c.push(h):a.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!r)&&(h.worldMatrix.getTranslation(Oh),Oh.applyMatrix4(r.projectionViewMatrix),h.zDepth=Oh.z)}),a.sort(this.sortOpaque),l.sort(this.sortTransparent),c.sort(this.sortUI),o=a.concat(l,c)}return o}render({scene:e,camera:r,target:n=null,update:i=!0,sort:o=!0,frustumCull:a=!0,clear:l}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:a,sort:o}).forEach(h=>{h.draw({camera:r})})}}function UL(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function jL(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function $L(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a,t}function FL(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function BL(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function zL(t,e,r){r=r*.5;let n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function mv(t,e,r){let n=e[0],i=e[1],o=e[2],a=e[3],l=r[0],c=r[1],h=r[2],f=r[3];return t[0]=n*f+a*l+i*h-o*c,t[1]=i*f+a*c+o*l-n*h,t[2]=o*f+a*h+n*c-i*l,t[3]=a*f-n*l-i*c-o*h,t}function WL(t,e,r){r*=.5;let n=e[0],i=e[1],o=e[2],a=e[3],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*l,t[1]=i*c+o*l,t[2]=o*c-i*l,t[3]=a*c-n*l,t}function qL(t,e,r){r*=.5;let n=e[0],i=e[1],o=e[2],a=e[3],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c-o*l,t[1]=i*c+a*l,t[2]=o*c+n*l,t[3]=a*c-i*l,t}function VL(t,e,r){r*=.5;let n=e[0],i=e[1],o=e[2],a=e[3],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*l,t[1]=i*c-n*l,t[2]=o*c+a*l,t[3]=a*c-o*l,t}function GL(t,e,r,n){let i=e[0],o=e[1],a=e[2],l=e[3],c=r[0],h=r[1],f=r[2],p=r[3],y,v,b,m,w;return v=i*c+o*h+a*f+l*p,v<0&&(v=-v,c=-c,h=-h,f=-f,p=-p),1-v>1e-6?(y=Math.acos(v),b=Math.sin(y),m=Math.sin((1-n)*y)/b,w=Math.sin(n*y)/b):(m=1-n,w=n),t[0]=m*i+w*c,t[1]=m*o+w*h,t[2]=m*a+w*f,t[3]=m*l+w*p,t}function HL(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o,l=a?1/a:0;return t[0]=-r*l,t[1]=-n*l,t[2]=-i*l,t[3]=o*l,t}function KL(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function XL(t,e){let r=e[0]+e[4]+e[8],n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[i*3+i]-e[o*3+o]-e[a*3+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[o*3+a]-e[a*3+o])*n,t[o]=(e[o*3+i]+e[i*3+o])*n,t[a]=(e[a*3+i]+e[i*3+a])*n}return t}function YL(t,e,r="YXZ"){let n=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),o=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return r==="XYZ"?(t[0]=n*a*c+i*o*l,t[1]=i*o*c-n*a*l,t[2]=i*a*l+n*o*c,t[3]=i*a*c-n*o*l):r==="YXZ"?(t[0]=n*a*c+i*o*l,t[1]=i*o*c-n*a*l,t[2]=i*a*l-n*o*c,t[3]=i*a*c+n*o*l):r==="ZXY"?(t[0]=n*a*c-i*o*l,t[1]=i*o*c+n*a*l,t[2]=i*a*l+n*o*c,t[3]=i*a*c-n*o*l):r==="ZYX"?(t[0]=n*a*c-i*o*l,t[1]=i*o*c+n*a*l,t[2]=i*a*l-n*o*c,t[3]=i*a*c+n*o*l):r==="YZX"?(t[0]=n*a*c+i*o*l,t[1]=i*o*c+n*a*l,t[2]=i*a*l-n*o*c,t[3]=i*a*c-n*o*l):r==="XZY"&&(t[0]=n*a*c-i*o*l,t[1]=i*o*c-n*a*l,t[2]=i*a*l+n*o*c,t[3]=i*a*c+n*o*l),t}const JL=UL,ZL=jL,QL=FL,eN=$L;class tN extends Array{constructor(e=0,r=0,n=0,i=1){super(e,r,n,i),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(a,l){const c=Reflect.set(...arguments);return c&&o.includes(l)&&a.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return BL(this._target),this.onChange(),this}set(e,r,n,i){return e.length?this.copy(e):(ZL(this._target,e,r,n,i),this.onChange(),this)}rotateX(e){return WL(this._target,this._target,e),this.onChange(),this}rotateY(e){return qL(this._target,this._target,e),this.onChange(),this}rotateZ(e){return VL(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return HL(this._target,e),this.onChange(),this}conjugate(e=this._target){return KL(this._target,e),this.onChange(),this}copy(e){return JL(this._target,e),this.onChange(),this}normalize(e=this._target){return eN(this._target,e),this.onChange(),this}multiply(e,r){return r?mv(this._target,e,r):mv(this._target,this._target,e),this.onChange(),this}dot(e){return QL(this._target,e)}fromMatrix3(e){return XL(this._target,e),this.onChange(),this}fromEuler(e,r){return YL(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return zL(this._target,e,r),this.onChange(),this}slerp(e,r){return GL(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const rN=1e-6;function nN(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function iN(t,e,r,n,i,o,a,l,c,h,f,p,y,v,b,m,w){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=y,t[12]=v,t[13]=b,t[14]=m,t[15]=w,t}function sN(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function oN(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],f=e[8],p=e[9],y=e[10],v=e[11],b=e[12],m=e[13],w=e[14],C=e[15],E=r*l-n*a,R=r*c-i*a,k=r*h-o*a,S=n*c-i*l,T=n*h-o*l,A=i*h-o*c,I=f*m-p*b,P=f*w-y*b,U=f*C-v*b,j=p*w-y*m,W=p*C-v*m,q=y*C-v*w,B=E*q-R*W+k*j+S*U-T*P+A*I;return B?(B=1/B,t[0]=(l*q-c*W+h*j)*B,t[1]=(i*W-n*q-o*j)*B,t[2]=(m*A-w*T+C*S)*B,t[3]=(y*T-p*A-v*S)*B,t[4]=(c*U-a*q-h*P)*B,t[5]=(r*q-i*U+o*P)*B,t[6]=(w*k-b*A-C*R)*B,t[7]=(f*A-y*k+v*R)*B,t[8]=(a*W-l*U+h*I)*B,t[9]=(n*U-r*W-o*I)*B,t[10]=(b*T-m*k+C*E)*B,t[11]=(p*k-f*T-v*E)*B,t[12]=(l*P-a*j-c*I)*B,t[13]=(r*j-n*P+i*I)*B,t[14]=(m*R-b*S-w*E)*B,t[15]=(f*S-p*R+y*E)*B,t):null}function Gw(t){let e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8],f=t[9],p=t[10],y=t[11],v=t[12],b=t[13],m=t[14],w=t[15],C=e*a-r*o,E=e*l-n*o,R=e*c-i*o,k=r*l-n*a,S=r*c-i*a,T=n*c-i*l,A=h*b-f*v,I=h*m-p*v,P=h*w-y*v,U=f*m-p*b,j=f*w-y*b,W=p*w-y*m;return C*W-E*j+R*U+k*P-S*I+T*A}function _v(t,e,r){let n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8],y=e[9],v=e[10],b=e[11],m=e[12],w=e[13],C=e[14],E=e[15],R=r[0],k=r[1],S=r[2],T=r[3];return t[0]=R*n+k*l+S*p+T*m,t[1]=R*i+k*c+S*y+T*w,t[2]=R*o+k*h+S*v+T*C,t[3]=R*a+k*f+S*b+T*E,R=r[4],k=r[5],S=r[6],T=r[7],t[4]=R*n+k*l+S*p+T*m,t[5]=R*i+k*c+S*y+T*w,t[6]=R*o+k*h+S*v+T*C,t[7]=R*a+k*f+S*b+T*E,R=r[8],k=r[9],S=r[10],T=r[11],t[8]=R*n+k*l+S*p+T*m,t[9]=R*i+k*c+S*y+T*w,t[10]=R*o+k*h+S*v+T*C,t[11]=R*a+k*f+S*b+T*E,R=r[12],k=r[13],S=r[14],T=r[15],t[12]=R*n+k*l+S*p+T*m,t[13]=R*i+k*c+S*y+T*w,t[14]=R*o+k*h+S*v+T*C,t[15]=R*a+k*f+S*b+T*E,t}function aN(t,e,r){let n=r[0],i=r[1],o=r[2],a,l,c,h,f,p,y,v,b,m,w,C;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*o+e[12],t[13]=e[1]*n+e[5]*i+e[9]*o+e[13],t[14]=e[2]*n+e[6]*i+e[10]*o+e[14],t[15]=e[3]*n+e[7]*i+e[11]*o+e[15]):(a=e[0],l=e[1],c=e[2],h=e[3],f=e[4],p=e[5],y=e[6],v=e[7],b=e[8],m=e[9],w=e[10],C=e[11],t[0]=a,t[1]=l,t[2]=c,t[3]=h,t[4]=f,t[5]=p,t[6]=y,t[7]=v,t[8]=b,t[9]=m,t[10]=w,t[11]=C,t[12]=a*n+f*i+b*o+e[12],t[13]=l*n+p*i+m*o+e[13],t[14]=c*n+y*i+w*o+e[14],t[15]=h*n+v*i+C*o+e[15]),t}function lN(t,e,r){let n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function uN(t,e,r,n){let i=n[0],o=n[1],a=n[2],l=Math.hypot(i,o,a),c,h,f,p,y,v,b,m,w,C,E,R,k,S,T,A,I,P,U,j,W,q,B,te;return Math.abs(l)<rN?null:(l=1/l,i*=l,o*=l,a*=l,c=Math.sin(r),h=Math.cos(r),f=1-h,p=e[0],y=e[1],v=e[2],b=e[3],m=e[4],w=e[5],C=e[6],E=e[7],R=e[8],k=e[9],S=e[10],T=e[11],A=i*i*f+h,I=o*i*f+a*c,P=a*i*f-o*c,U=i*o*f-a*c,j=o*o*f+h,W=a*o*f+i*c,q=i*a*f+o*c,B=o*a*f-i*c,te=a*a*f+h,t[0]=p*A+m*I+R*P,t[1]=y*A+w*I+k*P,t[2]=v*A+C*I+S*P,t[3]=b*A+E*I+T*P,t[4]=p*U+m*j+R*W,t[5]=y*U+w*j+k*W,t[6]=v*U+C*j+S*W,t[7]=b*U+E*j+T*W,t[8]=p*q+m*B+R*te,t[9]=y*q+w*B+k*te,t[10]=v*q+C*B+S*te,t[11]=b*q+E*B+T*te,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function cN(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Hw(t,e){let r=e[0],n=e[1],i=e[2],o=e[4],a=e[5],l=e[6],c=e[8],h=e[9],f=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(o,a,l),t[2]=Math.hypot(c,h,f),t}function hN(t){let e=t[0],r=t[1],n=t[2],i=t[4],o=t[5],a=t[6],l=t[8],c=t[9],h=t[10];const f=e*e+r*r+n*n,p=i*i+o*o+a*a,y=l*l+c*c+h*h;return Math.sqrt(Math.max(f,p,y))}const Kw=(function(){const t=[1,1,1];return function(e,r){let n=t;Hw(n,r);let i=1/n[0],o=1/n[1],a=1/n[2],l=r[0]*i,c=r[1]*o,h=r[2]*a,f=r[4]*i,p=r[5]*o,y=r[6]*a,v=r[8]*i,b=r[9]*o,m=r[10]*a,w=l+p+m,C=0;return w>0?(C=Math.sqrt(w+1)*2,e[3]=.25*C,e[0]=(y-b)/C,e[1]=(v-h)/C,e[2]=(c-f)/C):l>p&&l>m?(C=Math.sqrt(1+l-p-m)*2,e[3]=(y-b)/C,e[0]=.25*C,e[1]=(c+f)/C,e[2]=(v+h)/C):p>m?(C=Math.sqrt(1+p-l-m)*2,e[3]=(v-h)/C,e[0]=(c+f)/C,e[1]=.25*C,e[2]=(y+b)/C):(C=Math.sqrt(1+m-l-p)*2,e[3]=(c-f)/C,e[0]=(v+h)/C,e[1]=(y+b)/C,e[2]=.25*C),e}})();function dN(t,e,r,n){let i=xo([t[0],t[1],t[2]]);const o=xo([t[4],t[5],t[6]]),a=xo([t[8],t[9],t[10]]);Gw(t)<0&&(i=-i),r[0]=t[12],r[1]=t[13],r[2]=t[14];const c=t.slice(),h=1/i,f=1/o,p=1/a;c[0]*=h,c[1]*=h,c[2]*=h,c[4]*=f,c[5]*=f,c[6]*=f,c[8]*=p,c[9]*=p,c[10]*=p,Kw(e,c),n[0]=i,n[1]=o,n[2]=a}function fN(t,e,r,n){const i=t,o=e[0],a=e[1],l=e[2],c=e[3],h=o+o,f=a+a,p=l+l,y=o*h,v=o*f,b=o*p,m=a*f,w=a*p,C=l*p,E=c*h,R=c*f,k=c*p,S=n[0],T=n[1],A=n[2];return i[0]=(1-(m+C))*S,i[1]=(v+k)*S,i[2]=(b-R)*S,i[3]=0,i[4]=(v-k)*T,i[5]=(1-(y+C))*T,i[6]=(w+E)*T,i[7]=0,i[8]=(b+R)*A,i[9]=(w-E)*A,i[10]=(1-(y+m))*A,i[11]=0,i[12]=r[0],i[13]=r[1],i[14]=r[2],i[15]=1,i}function pN(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,l=n+n,c=i+i,h=r*a,f=n*a,p=n*l,y=i*a,v=i*l,b=i*c,m=o*a,w=o*l,C=o*c;return t[0]=1-p-b,t[1]=f+C,t[2]=y-w,t[3]=0,t[4]=f-C,t[5]=1-h-b,t[6]=v+m,t[7]=0,t[8]=y+w,t[9]=v-m,t[10]=1-h-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gN(t,e,r,n,i){let o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}function mN(t,e,r,n,i,o,a){let l=1/(e-r),c=1/(n-i),h=1/(o-a);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*l,t[13]=(i+n)*c,t[14]=(a+o)*h,t[15]=1,t}function _N(t,e,r,n){let i=e[0],o=e[1],a=e[2],l=n[0],c=n[1],h=n[2],f=i-r[0],p=o-r[1],y=a-r[2],v=f*f+p*p+y*y;v===0?y=1:(v=1/Math.sqrt(v),f*=v,p*=v,y*=v);let b=c*y-h*p,m=h*f-l*y,w=l*p-c*f;return v=b*b+m*m+w*w,v===0&&(h?l+=1e-6:c?h+=1e-6:c+=1e-6,b=c*y-h*p,m=h*f-l*y,w=l*p-c*f,v=b*b+m*m+w*w),v=1/Math.sqrt(v),b*=v,m*=v,w*=v,t[0]=b,t[1]=m,t[2]=w,t[3]=0,t[4]=p*w-y*m,t[5]=y*b-f*w,t[6]=f*m-p*b,t[7]=0,t[8]=f,t[9]=p,t[10]=y,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function yv(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function vv(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function yN(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}class gn extends Array{constructor(e=1,r=0,n=0,i=0,o=0,a=1,l=0,c=0,h=0,f=0,p=1,y=0,v=0,b=0,m=0,w=1){return super(e,r,n,i,o,a,l,c,h,f,p,y,v,b,m,w),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,n,i,o,a,l,c,h,f,p,y,v,b,m,w){return e.length?this.copy(e):(iN(this,e,r,n,i,o,a,l,c,h,f,p,y,v,b,m,w),this)}translate(e,r=this){return aN(this,r,e),this}rotate(e,r,n=this){return uN(this,n,e,r),this}scale(e,r=this){return lN(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?yv(this,e,r):yv(this,this,e),this}sub(e,r){return r?vv(this,e,r):vv(this,this,e),this}multiply(e,r){return e.length?r?_v(this,e,r):_v(this,this,e):yN(this,this,e),this}identity(){return sN(this),this}copy(e){return nN(this,e),this}fromPerspective({fov:e,aspect:r,near:n,far:i}={}){return gN(this,e,r,n,i),this}fromOrthogonal({left:e,right:r,bottom:n,top:i,near:o,far:a}){return mN(this,e,r,n,i,o,a),this}fromQuaternion(e){return pN(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return oN(this,e),this}compose(e,r,n){return fN(this,e,r,n),this}decompose(e,r,n){return dN(this,e,r,n),this}getRotation(e){return Kw(e,this),this}getTranslation(e){return cN(e,this),this}getScaling(e){return Hw(e,this),this}getMaxScaleOnAxis(){return hN(this)}lookAt(e,r,n){return _N(this,e,r,n),this}determinant(){return Gw(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function vN(t,e,r="YXZ"){return r==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):r==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):r==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const bv=new gn;class bN extends Array{constructor(e=0,r=e,n=e,i="YXZ"){super(e,r,n),this.order=i,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(a,l){const c=Reflect.set(...arguments);return c&&o.includes(l)&&a.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,n=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return vN(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,n){return bv.fromQuaternion(e),this._target.fromRotationMatrix(bv,r),n||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class Xw{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new gn,this.worldMatrix=new gn,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new dt,this.quaternion=new tN,this.scale=new dt(1),this.rotation=new bN,this.up=new dt(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,n=this.children.length;r<n;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,n=this.children.length;r<n;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const wN=new gn,SN=new dt,EN=new dt;class d$ extends Xw{constructor(e,{near:r=.1,far:n=100,fov:i=45,aspect:o=1,left:a,right:l,bottom:c,top:h,zoom:f=1}={}){super(),Object.assign(this,{near:r,far:n,fov:i,aspect:o,left:a,right:l,bottom:c,top:h,zoom:f}),this.projectionMatrix=new gn,this.viewMatrix=new gn,this.projectionViewMatrix=new gn,this.worldPosition=new dt,this.type=a||l?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:e=this.near,far:r=this.far,fov:n=this.fov,aspect:i=this.aspect}={}){return Object.assign(this,{near:e,far:r,fov:n,aspect:i}),this.projectionMatrix.fromPerspective({fov:n*(Math.PI/180),aspect:i,near:e,far:r}),this.type="perspective",this}orthographic({near:e=this.near,far:r=this.far,left:n=this.left||-1,right:i=this.right||1,bottom:o=this.bottom||-1,top:a=this.top||1,zoom:l=this.zoom}={}){return Object.assign(this,{near:e,far:r,left:n,right:i,bottom:o,top:a,zoom:l}),n/=l,i/=l,o/=l,a/=l,this.projectionMatrix.fromOrthogonal({left:n,right:i,bottom:o,top:a,near:e,far:r}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(e){return super.lookAt(e,!0),this}project(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}unproject(e){return e.applyMatrix4(wN.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new dt,new dt,new dt,new dt,new dt,new dt]);const e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(let r=0;r<6;r++){const n=1/this.frustum[r].distance();this.frustum[r].multiply(n),this.frustum[r].constant*=n}}frustumIntersectsMesh(e,r=e.worldMatrix){if(!e.geometry.attributes.position||((!e.geometry.bounds||e.geometry.bounds.radius===1/0)&&e.geometry.computeBoundingSphere(),!e.geometry.bounds))return!0;const n=SN;n.copy(e.geometry.bounds.center),n.applyMatrix4(r);const i=e.geometry.bounds.radius*r.getMaxScaleOnAxis();return this.frustumIntersectsSphere(n,i)}frustumIntersectsSphere(e,r){const n=EN;for(let i=0;i<6;i++){const o=this.frustum[i];if(n.copy(o).dot(e)+o.constant<-r)return!1}return!0}}function CN(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function TN(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,l=n+n,c=i+i,h=r*a,f=n*a,p=n*l,y=i*a,v=i*l,b=i*c,m=o*a,w=o*l,C=o*c;return t[0]=1-p-b,t[3]=f-C,t[6]=y+w,t[1]=f+C,t[4]=1-h-b,t[7]=v-m,t[2]=y-w,t[5]=v+m,t[8]=1-h-p,t}function ON(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function RN(t,e,r,n,i,o,a,l,c,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=l,t[7]=c,t[8]=h,t}function kN(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xN(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],f=e[8],p=f*a-l*h,y=-f*o+l*c,v=h*o-a*c,b=r*p+n*y+i*v;return b?(b=1/b,t[0]=p*b,t[1]=(-f*n+i*h)*b,t[2]=(l*n-i*a)*b,t[3]=y*b,t[4]=(f*r-i*c)*b,t[5]=(-l*r+i*o)*b,t[6]=v*b,t[7]=(-h*r+n*c)*b,t[8]=(a*r-n*o)*b,t):null}function wv(t,e,r){let n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8],y=r[0],v=r[1],b=r[2],m=r[3],w=r[4],C=r[5],E=r[6],R=r[7],k=r[8];return t[0]=y*n+v*a+b*h,t[1]=y*i+v*l+b*f,t[2]=y*o+v*c+b*p,t[3]=m*n+w*a+C*h,t[4]=m*i+w*l+C*f,t[5]=m*o+w*c+C*p,t[6]=E*n+R*a+k*h,t[7]=E*i+R*l+k*f,t[8]=E*o+R*c+k*p,t}function AN(t,e,r){let n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8],y=r[0],v=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=l,t[5]=c,t[6]=y*n+v*a+h,t[7]=y*i+v*l+f,t[8]=y*o+v*c+p,t}function IN(t,e,r){let n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8],y=Math.sin(r),v=Math.cos(r);return t[0]=v*n+y*a,t[1]=v*i+y*l,t[2]=v*o+y*c,t[3]=v*a-y*n,t[4]=v*l-y*i,t[5]=v*c-y*o,t[6]=h,t[7]=f,t[8]=p,t}function MN(t,e,r){let n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function PN(t,e){let r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],f=e[8],p=e[9],y=e[10],v=e[11],b=e[12],m=e[13],w=e[14],C=e[15],E=r*l-n*a,R=r*c-i*a,k=r*h-o*a,S=n*c-i*l,T=n*h-o*l,A=i*h-o*c,I=f*m-p*b,P=f*w-y*b,U=f*C-v*b,j=p*w-y*m,W=p*C-v*m,q=y*C-v*w,B=E*q-R*W+k*j+S*U-T*P+A*I;return B?(B=1/B,t[0]=(l*q-c*W+h*j)*B,t[1]=(c*U-a*q-h*P)*B,t[2]=(a*W-l*U+h*I)*B,t[3]=(i*W-n*q-o*j)*B,t[4]=(r*q-i*U+o*P)*B,t[5]=(n*U-r*W-o*I)*B,t[6]=(m*A-w*T+C*S)*B,t[7]=(w*k-b*A-C*R)*B,t[8]=(b*T-m*k+C*E)*B,t):null}class DN extends Array{constructor(e=1,r=0,n=0,i=0,o=1,a=0,l=0,c=0,h=1){return super(e,r,n,i,o,a,l,c,h),this}set(e,r,n,i,o,a,l,c,h){return e.length?this.copy(e):(RN(this,e,r,n,i,o,a,l,c,h),this)}translate(e,r=this){return AN(this,r,e),this}rotate(e,r=this){return IN(this,r,e),this}scale(e,r=this){return MN(this,r,e),this}multiply(e,r){return r?wv(this,e,r):wv(this,this,e),this}identity(){return kN(this),this}copy(e){return ON(this,e),this}fromMatrix4(e){return CN(this,e),this}fromQuaternion(e){return TN(this,e),this}fromBasis(e,r,n){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],n[0],n[1],n[2]),this}inverse(e=this){return xN(this,e),this}getNormalMatrix(e){return PN(this,e),this}}let LN=0;class f$ extends Xw{constructor(e,{geometry:r,program:n,mode:i=e.TRIANGLES,frustumCulled:o=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=LN++,this.geometry=r,this.program=n,this.mode=i,this.frustumCulled=o,this.renderOrder=a,this.modelViewMatrix=new gn,this.normalMatrix=new DN,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}))}}const Sv=new Uint8Array(4);function Ev(t){return(t&t-1)===0}let NN=1;class p${constructor(e,{image:r,target:n=e.TEXTURE_2D,type:i=e.UNSIGNED_BYTE,format:o=e.RGBA,internalFormat:a=o,wrapS:l=e.CLAMP_TO_EDGE,wrapT:c=e.CLAMP_TO_EDGE,wrapR:h=e.CLAMP_TO_EDGE,generateMipmaps:f=n===(e.TEXTURE_2D||e.TEXTURE_CUBE_MAP),minFilter:p=f?e.NEAREST_MIPMAP_LINEAR:e.LINEAR,magFilter:y=e.LINEAR,premultiplyAlpha:v=!1,unpackAlignment:b=4,flipY:m=n==(e.TEXTURE_2D||e.TEXTURE_3D),anisotropy:w=0,level:C=0,width:E,height:R=E,length:k=1}={}){this.gl=e,this.id=NN++,this.image=r,this.target=n,this.type=i,this.format=o,this.internalFormat=a,this.minFilter=p,this.magFilter=y,this.wrapS=l,this.wrapT=c,this.wrapR=h,this.generateMipmaps=f,this.premultiplyAlpha=v,this.unpackAlignment=b,this.flipY=m,this.anisotropy=Math.min(w,this.gl.renderer.parameters.maxAnisotropy),this.level=C,this.width=E,this.height=R,this.length=k,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(e=0){const r=!(this.image===this.store.image&&!this.needsUpdate);if((r||this.glState.textureUnits[e]!==this.id)&&(this.gl.renderer.activeTexture(e),this.bind()),!!r){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,this.level,this.internalFormat,this.format,this.type,this.image[n]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):(this.target===this.gl.TEXTURE_2D_ARRAY||this.target===this.gl.TEXTURE_3D)&&this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let n=0;n<this.image.length;n++)this.gl.compressedTexImage2D(this.target,n,this.internalFormat,this.image[n].width,this.image[n].height,0,this.image[n].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!Ev(this.image.width)||!Ev(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Sv);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Sv);this.store.image=this.image}}}class Yw extends Vw{constructor(e,{width:r=1,height:n=1,widthSegments:i=1,heightSegments:o=1,attributes:a={}}={}){const l=i,c=o,h=(l+1)*(c+1),f=l*c*6,p=new Float32Array(h*3),y=new Float32Array(h*3),v=new Float32Array(h*2),b=f>65536?new Uint32Array(f):new Uint16Array(f);Yw.buildPlane(p,y,v,b,r,n,0,l,c),Object.assign(a,{position:{size:3,data:p},normal:{size:3,data:y},uv:{size:2,data:v},index:{data:b}}),super(e,a)}static buildPlane(e,r,n,i,o,a,l,c,h,f=0,p=1,y=2,v=1,b=-1,m=0,w=0){const C=m,E=o/c,R=a/h;for(let k=0;k<=h;k++){let S=k*R-a/2;for(let T=0;T<=c;T++,m++){let A=T*E-o/2;if(e[m*3+f]=A*v,e[m*3+p]=S*b,e[m*3+y]=l/2,r[m*3+f]=0,r[m*3+p]=0,r[m*3+y]=l>=0?1:-1,n[m*2]=T/c,n[m*2+1]=1-k/h,k===h||T===c)continue;let I=C+T+k*(c+1),P=C+T+(k+1)*(c+1),U=C+T+(k+1)*(c+1)+1,j=C+T+k*(c+1)+1;i[w*6]=I,i[w*6+1]=P,i[w*6+2]=j,i[w*6+3]=P,i[w*6+4]=U,i[w*6+5]=j,w++}}}}class g$ extends Vw{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}const Cv=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Tv=xR,m$=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Tv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(h=>{const f=r==null?void 0:r[h],p=o==null?void 0:o[h];if(f===null)return null;const y=Cv(f)||Cv(p);return i[h][y]}),l=r&&Object.entries(r).reduce((h,f)=>{let[p,y]=f;return y===void 0||(h[p]=y),h},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,f)=>{let{class:p,className:y,...v}=f;return Object.entries(v).every(b=>{let[m,w]=b;return Array.isArray(w)?w.includes({...o,...l}[m]):{...o,...l}[m]===w})?[...h,p,y]:h},[]);return Tv(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};export{PM as $,uj as A,fP as B,Nl as C,hj as D,uf as E,vr as F,Ib as G,di as H,gj as I,vf as J,iw as K,ts as L,$o as M,_s as N,vI as O,bI as P,kI as Q,mw as R,CI as S,bj as T,sj as U,mj as V,_j as W,Mb as X,ew as Y,_M as Z,yj as _,oj as a,m$ as a$,vj as a0,af as a1,Uy as a2,wj as a3,Sj as a4,ET as a5,XN as a6,YN as a7,JN as a8,ZT as a9,Tj as aA,Oj as aB,Aj as aC,IP as aD,Uj as aE,qy as aF,MP as aG,Fj as aH,qj as aI,Wj as aJ,Vj as aK,zj as aL,vh as aM,Pj as aN,Nj as aO,vw as aP,yh as aQ,NP as aR,Mj as aS,ft as aT,h$ as aU,d$ as aV,Xw as aW,Yw as aX,p$ as aY,c$ as aZ,f$ as a_,ZN as aa,Ir as ab,kR as ac,Je as ad,Mk as ae,KN as af,zo as ag,lU as ah,qU as ai,YU as aj,JU as ak,nj as al,ij as am,Cj as an,Wy as ao,Bj as ap,jP as aq,$j as ar,jj as as,Lj as at,yw as au,Rj as av,kj as aw,Dj as ax,Ij as ay,xj as az,bf as b,QN as b0,xR as b1,g$ as b2,TP as c,fj as d,br as e,cs as f,dj as g,Wb as h,cP as i,wI as j,SI as k,Ej as l,Yl as m,iP as n,Ko as o,Ee as p,aP as q,pj as r,xy as s,lj as t,aj as u,oP as v,cj as w,ys as x,qM as y,JM as z};
