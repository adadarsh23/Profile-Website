import{a as Q,j as et,R as nt}from"./vendor_react-DEryzbDj.js";import"./vendor_react-dom-DbhJvmym.js";import"./vendor-COdUY4iT.js";const it=({children:E,fontSize:c="clamp(2rem, 10vw, 10rem)",fontWeight:p=900,fontFamily:v="inherit",color:L="#fff",enableHover:a=!0,baseIntensity:R=.18,hoverIntensity:C=.5})=>{const F=Q.useRef(null);return Q.useEffect(()=>{let x,g=!1;const t=F.current;return t?((async()=>{var G,J,K,N,P;if((G=document.fonts)!=null&&G.ready&&await document.fonts.ready,g)return;const m=t.getContext("2d");if(!m)return;const z=v==="inherit"?window.getComputedStyle(t).fontFamily||"sans-serif":v,M=typeof c=="number"?"".concat(c,"px"):c;let f;if(typeof c=="number")f=c;else{const e=document.createElement("span");e.style.fontSize=c,document.body.appendChild(e);const n=window.getComputedStyle(e).fontSize;f=parseFloat(n),document.body.removeChild(e)}const T=nt.Children.toArray(E).join(""),h=document.createElement("canvas"),o=h.getContext("2d");if(!o)return;o.font="".concat(p," ").concat(M," ").concat(z),o.textBaseline="alphabetic";const i=o.measureText(T),A=(J=i.actualBoundingBoxLeft)!=null?J:0,U=(K=i.actualBoundingBoxRight)!=null?K:i.width,$=(N=i.actualBoundingBoxAscent)!=null?N:f,V=(P=i.actualBoundingBoxDescent)!=null?P:f*.2,j=Math.ceil(A+U),r=Math.ceil($+V),D=10,u=j+D;h.width=u,h.height=r;const S=D/2;o.font="".concat(p," ").concat(M," ").concat(z),o.textBaseline="alphabetic",o.fillStyle=L,o.fillText(T,S-A,$);const w=50,y=0;t.width=u+w*2,t.height=r+y*2,m.translate(w,y);const X=w+S,Y=y,Z=X+j,_=Y+r;let l=!1;const d=30,b=()=>{if(g)return;m.clearRect(-d,-d,u+2*d,r+2*d);const e=l?C:R;for(let n=0;n<r;n++){const s=Math.floor(e*(Math.random()-.5)*d);m.drawImage(h,0,n,u,1,s,n,u,1)}x=window.requestAnimationFrame(b)};b();const q=(e,n)=>e>=X&&e<=Z&&n>=Y&&n<=_,I=e=>{if(!a)return;const n=t.getBoundingClientRect(),s=e.clientX-n.left,B=e.clientY-n.top;l=q(s,B)},O=()=>{l=!1},W=e=>{if(!a)return;e.preventDefault();const n=t.getBoundingClientRect(),s=e.touches[0],B=s.clientX-n.left,tt=s.clientY-n.top;l=q(B,tt)},k=()=>{l=!1};a&&(t.addEventListener("mousemove",I),t.addEventListener("mouseleave",O),t.addEventListener("touchmove",W,{passive:!1}),t.addEventListener("touchend",k));const H=()=>{window.cancelAnimationFrame(x),a&&(t.removeEventListener("mousemove",I),t.removeEventListener("mouseleave",O),t.removeEventListener("touchmove",W),t.removeEventListener("touchend",k))};t.cleanupFuzzyText=H})(),()=>{g=!0,window.cancelAnimationFrame(x),t&&t.cleanupFuzzyText&&t.cleanupFuzzyText()}):void 0},[E,c,p,v,L,a,R,C]),et.jsx("canvas",{ref:F})};export{it as default};
