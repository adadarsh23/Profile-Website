{"version":3,"file":"ScrollToTopButton-CqNuQ6hB.js","sources":["../../src/components/ScrollToTopButton.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { ChevronUp } from 'lucide-react';\n\nconst ScrollToTopButton = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const rafRef = useRef(null);\n  const docHeightRef = useRef(0);\n\n  // Function to calculate and cache document height for performance\n  const calculateHeight = useCallback(() => {\n    docHeightRef.current =\n      document.documentElement.scrollHeight -\n      document.documentElement.clientHeight;\n  }, []);\n\n  const handleScroll = useCallback(() => {\n    if (rafRef.current) {\n      cancelAnimationFrame(rafRef.current);\n    }\n\n    rafRef.current = requestAnimationFrame(() => {\n      // Ensure docHeight is calculated\n      if (docHeightRef.current === 0) {\n        calculateHeight();\n      }\n\n      const winScroll =\n        document.body.scrollTop || document.documentElement.scrollTop;\n      // Prevent division by zero if height is not yet calculated or is zero\n      const scrolled =\n        docHeightRef.current > 0 ? (winScroll / docHeightRef.current) * 100 : 0;\n\n      setScrollProgress(scrolled);\n      setIsVisible(winScroll > 300);\n    });\n  }, [calculateHeight]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    window.addEventListener('resize', calculateHeight, { passive: true });\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current);\n      }\n    };\n  }, [handleScroll]);\n\n  const handleScrollToTop = useCallback(() => {\n    const start = window.scrollY;\n    const startTime = performance.now();\n    const duration = Math.max(400, Math.min(800, start / 2));\n\n    const easeOutCubic = (t) => 1 - Math.pow(1 - t, 3);\n\n    const scroll = (currentTime) => {\n      const elapsedTime = currentTime - startTime;\n      const progress = Math.min(elapsedTime / duration, 1);\n      const easedProgress = easeOutCubic(progress);\n\n      window.scrollTo(0, start * (1 - easedProgress));\n\n      if (progress < 1) {\n        requestAnimationFrame(scroll);\n      }\n    };\n    requestAnimationFrame(scroll);\n  }, []);\n\n  const radius = 22;\n  const circumference = 2 * Math.PI * radius;\n  const strokeDashoffset =\n    circumference - (scrollProgress / 100) * circumference;\n\n  return (\n    <button\n      onClick={handleScrollToTop}\n      aria-label=\"Scroll to top\"\n      className={`group fixed z-50 flex items-center justify-center rounded-full\n      bg-white-900/80 dark:bg-gray-900/80 backdrop-blur-md\n      border-2 border-gray-200 dark:border-gray-700\n      shadow-lg dark:shadow-2xl dark:shadow-black/25\n      transition-all duration-300 ease-out\n      hover:scale-110 hover:shadow-xl hover:border-black dark:hover:border-white\n      active:scale-100\n      \n      /* Mobile devices */\n      w-6 h-6 bottom-4 right-4\n      /* Tablets */\n      sm:w-8 sm:h-8 sm:bottom-6 sm:right-6\n      /* Desktop */\n      lg:w-8 lg:h-8 lg:bottom-8 lg:right-8\n      ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`}\n    >\n      <svg className=\"absolute w-full h-full -rotate-90\" viewBox=\"0 0 50 50\">\n        {/* Background track for the progress circle */}\n        <circle\n          className=\"text-gray-200/50 dark:text-gray-700/50\"\n          stroke=\"currentColor\"\n          strokeWidth=\"3\"\n          fill=\"transparent\"\n          r={radius}\n          cx=\"25\"\n          cy=\"25\"\n        />\n        {/* Progress circle */}\n        <circle\n          className=\"text-black dark:text-white transition-colors duration-300\"\n          stroke=\"currentColor\"\n          strokeWidth=\"3\"\n          fill=\"transparent\"\n          r={radius}\n          cx=\"25\"\n          cy=\"25\"\n          strokeDasharray={circumference}\n          strokeDashoffset={strokeDashoffset}\n          strokeLinecap=\"round\"\n        />\n      </svg>\n\n      <div className=\"relative flex items-center justify-center w-full h-full\">\n        <ChevronUp className=\"absolute w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-gray-200 dark:text-gray-800 transition-all duration-200 ease-in-out group-hover:opacity-0 group-hover:scale-75 group-hover:-translate-y-1\" />\n        <span className=\"absolute text-xs sm:text-sm lg:text-base font-bold text-gray-800 dark:text-gray-200 opacity-0 scale-75 transition-all duration-200 ease-in-out group-hover:opacity-100 group-hover:scale-100\">\n          {Math.round(scrollProgress)}%\n        </span>\n      </div>\n    </button>\n  );\n};\n\nexport default ScrollToTopButton;\n"],"names":["ScrollToTopButton","isVisible","setIsVisible","useState","scrollProgress","setScrollProgress","rafRef","useRef","docHeightRef","calculateHeight","useCallback","handleScroll","winScroll","scrolled","useEffect","handleScrollToTop","start","startTime","duration","easeOutCubic","t","scroll","currentTime","elapsedTime","progress","easedProgress","radius","circumference","strokeDashoffset","jsxs","jsx","ChevronUp"],"mappings":"iIAGA,MAAMA,EAAoB,IAAM,CAC9B,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1C,CAACC,EAAgBC,CAAiB,EAAIF,EAAAA,SAAS,CAAC,EAChDG,EAASC,EAAAA,OAAO,IAAI,EACpBC,EAAeD,EAAAA,OAAO,CAAC,EAGvBE,EAAkBC,EAAAA,YAAY,IAAM,CACxCF,EAAa,QACX,SAAS,gBAAgB,aACzB,SAAS,gBAAgB,YAC7B,EAAG,CAAA,CAAE,EAECG,EAAeD,EAAAA,YAAY,IAAM,CACjCJ,EAAO,SACT,qBAAqBA,EAAO,OAAO,EAGrCA,EAAO,QAAU,sBAAsB,IAAM,CAEvCE,EAAa,UAAY,GAC3BC,EAAA,EAGF,MAAMG,EACJ,SAAS,KAAK,WAAa,SAAS,gBAAgB,UAEhDC,EACJL,EAAa,QAAU,EAAKI,EAAYJ,EAAa,QAAW,IAAM,EAExEH,EAAkBQ,CAAQ,EAC1BX,EAAaU,EAAY,GAAG,CAC9B,CAAC,CACH,EAAG,CAACH,CAAe,CAAC,EAEpBK,EAAAA,UAAU,KACR,OAAO,iBAAiB,SAAUH,EAAc,CAAE,QAAS,GAAM,EACjE,OAAO,iBAAiB,SAAUF,EAAiB,CAAE,QAAS,GAAM,EAC7D,IAAM,CACX,OAAO,oBAAoB,SAAUE,CAAY,EAC7CL,EAAO,SACT,qBAAqBA,EAAO,OAAO,CAEvC,GACC,CAACK,CAAY,CAAC,EAEjB,MAAMI,EAAoBL,EAAAA,YAAY,IAAM,CAC1C,MAAMM,EAAQ,OAAO,QACfC,EAAY,YAAY,IAAA,EACxBC,EAAW,KAAK,IAAI,IAAK,KAAK,IAAI,IAAKF,EAAQ,CAAC,CAAC,EAEjDG,EAAgBC,GAAM,EAAI,KAAK,IAAI,EAAIA,EAAG,CAAC,EAE3CC,EAAUC,GAAgB,CAC9B,MAAMC,EAAcD,EAAcL,EAC5BO,EAAW,KAAK,IAAID,EAAcL,EAAU,CAAC,EAC7CO,EAAgBN,EAAaK,CAAQ,EAE3C,OAAO,SAAS,EAAGR,GAAS,EAAIS,EAAc,EAE1CD,EAAW,GACb,sBAAsBH,CAAM,CAEhC,EACA,sBAAsBA,CAAM,CAC9B,EAAG,CAAA,CAAE,EAECK,EAAS,GACTC,EAAgB,EAAI,KAAK,GAAKD,EAC9BE,EACJD,EAAiBvB,EAAiB,IAAOuB,EAE3C,OACEE,EAAAA,KAAC,SAAA,CACC,QAASd,EACT,aAAW,gBACX,UAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAcTd,EAAY,4BAA8B,8CAA8C,GAE1F,SAAA,CAAA4B,EAAAA,KAAC,MAAA,CAAI,UAAU,oCAAoC,QAAQ,YAEzD,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,UAAU,yCACV,OAAO,eACP,YAAY,IACZ,KAAK,cACL,EAAGJ,EACH,GAAG,KACH,GAAG,IAAA,CAAA,EAGLI,EAAAA,IAAC,SAAA,CACC,UAAU,4DACV,OAAO,eACP,YAAY,IACZ,KAAK,cACL,EAAGJ,EACH,GAAG,KACH,GAAG,KACH,gBAAiBC,EACjB,iBAAAC,EACA,cAAc,OAAA,CAAA,CAChB,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,0DACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAU,UAAU,6LAAA,CAA8L,EACnNF,EAAAA,KAAC,OAAA,CAAK,UAAU,+LACb,SAAA,CAAA,KAAK,MAAMzB,CAAc,EAAE,GAAA,CAAA,CAC9B,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAGN"}