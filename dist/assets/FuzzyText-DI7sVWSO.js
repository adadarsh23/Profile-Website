import{r as Q,j as et,D as nt}from"./vendor_react-EtwKvNYT.js";import"./vendor-CBjGBlE2.js";const at=({children:E,fontSize:c="clamp(2rem, 10vw, 10rem)",fontWeight:v=900,fontFamily:p="inherit",color:L="#fff",enableHover:a=!0,baseIntensity:C=.18,hoverIntensity:F=.5})=>{const R=Q.useRef(null);return Q.useEffect(()=>{let x,g=!1;const t=R.current;return t?((async()=>{var G,J,K,N,P;if((G=document.fonts)!=null&&G.ready&&await document.fonts.ready,g)return;const f=t.getContext("2d");if(!f)return;const z=p==="inherit"?window.getComputedStyle(t).fontFamily||"sans-serif":p,M=typeof c=="number"?"".concat(c,"px"):c;let m;if(typeof c=="number")m=c;else{const e=document.createElement("span");e.style.fontSize=c,document.body.appendChild(e);const n=window.getComputedStyle(e).fontSize;m=parseFloat(n),document.body.removeChild(e)}const T=nt.Children.toArray(E).join(""),h=document.createElement("canvas"),o=h.getContext("2d");if(!o)return;o.font="".concat(v," ").concat(M," ").concat(z),o.textBaseline="alphabetic";const i=o.measureText(T),A=(J=i.actualBoundingBoxLeft)!=null?J:0,U=(K=i.actualBoundingBoxRight)!=null?K:i.width,$=(N=i.actualBoundingBoxAscent)!=null?N:m,V=(P=i.actualBoundingBoxDescent)!=null?P:m*.2,j=Math.ceil(A+U),r=Math.ceil($+V),D=10,u=j+D;h.width=u,h.height=r;const S=D/2;o.font="".concat(v," ").concat(M," ").concat(z),o.textBaseline="alphabetic",o.fillStyle=L,o.fillText(T,S-A,$);const w=50,y=0;t.width=u+w*2,t.height=r+y*2,f.translate(w,y);const X=w+S,Y=y,Z=X+j,_=Y+r;let l=!1;const d=30,b=()=>{if(g)return;f.clearRect(-d,-d,u+2*d,r+2*d);const e=l?F:C;for(let n=0;n<r;n++){const s=Math.floor(e*(Math.random()-.5)*d);f.drawImage(h,0,n,u,1,s,n,u,1)}x=window.requestAnimationFrame(b)};b();const q=(e,n)=>e>=X&&e<=Z&&n>=Y&&n<=_,I=e=>{if(!a)return;const n=t.getBoundingClientRect(),s=e.clientX-n.left,B=e.clientY-n.top;l=q(s,B)},O=()=>{l=!1},W=e=>{if(!a)return;e.preventDefault();const n=t.getBoundingClientRect(),s=e.touches[0],B=s.clientX-n.left,tt=s.clientY-n.top;l=q(B,tt)},k=()=>{l=!1};a&&(t.addEventListener("mousemove",I),t.addEventListener("mouseleave",O),t.addEventListener("touchmove",W,{passive:!1}),t.addEventListener("touchend",k));const H=()=>{window.cancelAnimationFrame(x),a&&(t.removeEventListener("mousemove",I),t.removeEventListener("mouseleave",O),t.removeEventListener("touchmove",W),t.removeEventListener("touchend",k))};t.cleanupFuzzyText=H})(),()=>{g=!0,window.cancelAnimationFrame(x),t&&t.cleanupFuzzyText&&t.cleanupFuzzyText()}):void 0},[E,c,v,p,L,a,C,F]),et.jsx("canvas",{ref:R})};export{at as default};
