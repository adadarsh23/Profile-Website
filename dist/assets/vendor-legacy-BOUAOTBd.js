!function(){var e=["inputs"],l=["inputId"],_=["inputs"],k=["inputId"],S=["type"],E=["type"],T=["motionValue","onUpdate","onComplete","element"],O=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"],I=["class","className"];function _objectWithoutProperties3(e,l){if(null==e)return{};var _,k,S=function(e,l){if(null==e)return{};var _={};for(var k in e)if({}.hasOwnProperty.call(e,k)){if(-1!==l.indexOf(k))continue;_[k]=e[k]}return _}(e,l);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(e);for(k=0;k<E.length;k++)_=E[k],-1===l.indexOf(_)&&{}.propertyIsEnumerable.call(e,_)&&(S[_]=e[_])}return S}function _regeneratorValues(e){if(null!=e){var l=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],_=0;if(l)return l.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&_>=e.length&&(e=void 0),{value:e&&e[_++],done:!e}}}}throw new TypeError(_typeof3(e)+" is not iterable")}function asyncGeneratorStep(e,l,_,k,S,E,T){try{var O=e[E](T),I=O.value}catch(e){return void _(e)}O.done?l(I):Promise.resolve(I).then(k,S)}function _asyncToGenerator(e){return function(){var l=this,_=arguments;return new Promise(function(k,S){var E=e.apply(l,_);function _next(e){asyncGeneratorStep(E,k,S,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(E,k,S,_next,_throw,"throw",e)}_next(void 0)})}}function _wrapNativeSuper(e){var l="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(l){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==l){if(l.has(e))return l.get(e);l.set(e,Wrapper)}function Wrapper(){return function(e,l,_){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var k=[null];k.push.apply(k,l);var S=new(e.bind.apply(e,k));return _&&_setPrototypeOf(S,_.prototype),S}(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)},_wrapNativeSuper(e)}function _superPropGet(e,l,_,k){var S=_get2(_getPrototypeOf(1&k?e.prototype:e),l,_);return 2&k&&"function"==typeof S?function(e){return S.apply(_,e)}:S}function _get2(){return _get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,l,_){var k=function(e,l){for(;!{}.hasOwnProperty.call(e,l)&&null!==(e=_getPrototypeOf(e)););return e}(e,l);if(k){var S=Object.getOwnPropertyDescriptor(k,l);return S.get?S.get.call(arguments.length<3?e:_):S.value}},_get2.apply(null,arguments)}function _callSuper(e,l,_){return l=_getPrototypeOf(l),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(l,_||[],_getPrototypeOf(e).constructor):l.apply(e,_))}function _possibleConstructorReturn(e,l){if(l&&("object"==_typeof3(l)||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(l&&l.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),l&&_setPrototypeOf(e,l)}function _setPrototypeOf(e,l){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,l){return e.__proto__=l,e},_setPrototypeOf(e,l)}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,l,_="function"==typeof Symbol?Symbol:{},k=_.iterator||"@@iterator",S=_.toStringTag||"@@toStringTag";function i(_,k,S,T){var O=k&&k.prototype instanceof Generator?k:Generator,I=Object.create(O.prototype);return _regeneratorDefine2(I,"_invoke",function(_,k,S){var T,O,I,R=0,M=S||[],j=!1,D={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(l,_){return T=l,O=0,I=e,D.n=_,E}};function d(_,k){for(O=_,I=k,l=0;!j&&R&&!S&&l<M.length;l++){var S,T=M[l],L=D.p,U=T[2];_>3?(S=U===k)&&(I=T[(O=T[4])?5:(O=3,3)],T[4]=T[5]=e):T[0]<=L&&((S=_<2&&L<T[1])?(O=0,D.v=k,D.n=T[1]):L<U&&(S=_<3||T[0]>k||k>U)&&(T[4]=_,T[5]=k,D.n=U,O=0))}if(S||_>1)return E;throw j=!0,k}return function(S,M,L){if(R>1)throw TypeError("Generator is already running");for(j&&1===M&&d(M,L),O=M,I=L;(l=O<2?e:I)||!j;){T||(O?O<3?(O>1&&(D.n=-1),d(O,I)):D.n=I:D.v=I);try{if(R=2,T){if(O||(S="next"),l=T[S]){if(!(l=l.call(T,I)))throw TypeError("iterator result is not an object");if(!l.done)return l;I=l.value,O<2&&(O=0)}else 1===O&&(l=T.return)&&l.call(T),O<2&&(I=TypeError("The iterator does not provide a '"+S+"' method"),O=1);T=e}else if((l=(j=D.n<0)?I:_.call(k,D))!==E)break}catch(l){T=e,O=1,I=l}finally{R=1}}return{value:l,done:j}}}(_,S,T),!0),I}var E={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}l=Object.getPrototypeOf;var T=[][k]?l(l([][k]())):(_regeneratorDefine2(l={},k,function(){return this}),l),O=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(T);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,S,"GeneratorFunction")),e.prototype=Object.create(O),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(O,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,S,"GeneratorFunction"),_regeneratorDefine2(O),_regeneratorDefine2(O,S,"Generator"),_regeneratorDefine2(O,k,function(){return this}),_regeneratorDefine2(O,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:i,m:f}})()}function _regeneratorDefine2(e,l,_,k){var S=Object.defineProperty;try{S({},"",{})}catch(e){S=0}_regeneratorDefine2=function(e,l,_,k){function o(l,_){_regeneratorDefine2(e,l,function(e){return this._invoke(l,_,e)})}l?S?S(e,l,{value:_,enumerable:!k,configurable:!k,writable:!k}):e[l]=_:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,l,_,k)}function _slicedToArray(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var _=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=_){var k,S,E,T,O=[],I=!0,R=!1;try{if(E=(_=_.call(e)).next,0===l){if(Object(_)!==_)return;I=!1}else for(;!(I=(k=E.call(_)).done)&&(O.push(k.value),O.length!==l);I=!0);}catch(e){R=!0,S=e}finally{try{if(!I&&null!=_.return&&(T=_.return(),Object(T)!==T))return}finally{if(R)throw S}}return O}}(e,l)||_unsupportedIterableToArray2(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray3(e){return function(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray2(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _classCallCheck3(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,l){for(var _=0;_<l.length;_++){var k=l[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(e,_toPropertyKey2(k.key),k)}}function _createClass3(e,l,_){return l&&_defineProperties(e.prototype,l),_&&_defineProperties(e,_),Object.defineProperty(e,"prototype",{writable:!1}),e}function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread2(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){_defineProperty3(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}function _defineProperty3(e,l,_){return(l=_toPropertyKey2(l))in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}function _toPropertyKey2(e){var l=function(e,l){if("object"!=_typeof3(e)||!e)return e;var _=e[Symbol.toPrimitive];if(void 0!==_){var k=_.call(e,l||"default");if("object"!=_typeof3(k))return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(e,"string");return"symbol"==_typeof3(l)?l:l+""}function _createForOfIteratorHelper2(e,l){var _="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!_){if(Array.isArray(e)||(_=_unsupportedIterableToArray2(e))||l&&e&&"number"==typeof e.length){_&&(e=_);var k=0,F=function(){};return{s:F,n:function(){return k>=e.length?{done:!0}:{done:!1,value:e[k++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S,E=!0,T=!1;return{s:function(){_=_.call(e)},n:function(){var e=_.next();return E=e.done,e},e:function(e){T=!0,S=e},f:function(){try{E||null==_.return||_.return()}finally{if(T)throw S}}}}function _unsupportedIterableToArray2(e,l){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,l);var _={}.toString.call(e).slice(8,-1);return"Object"===_&&e.constructor&&(_=e.constructor.name),"Map"===_||"Set"===_?Array.from(e):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray2(e,l):void 0}}function _arrayLikeToArray2(e,l){(null==l||l>e.length)&&(l=e.length);for(var _=0,k=Array(l);_<l;_++)k[_]=e[_];return k}function _typeof3(e){return _typeof3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof3(e)}function _wrapAsyncGenerator(e){return function(){return new AsyncGenerator(e.apply(this,arguments))}}function AsyncGenerator(e){var l,_;function resume(l,_){try{var k=e[l](_),S=k.value,E=S instanceof _OverloadYield;Promise.resolve(E?S.v:S).then(function(_){if(E){var T="return"===l?"return":"next";if(!S.k||_.done)return resume(T,_);_=e[T](_).value}settle(k.done?"return":"normal",_)},function(e){resume("throw",e)})}catch(e){settle("throw",e)}}function settle(e,k){switch(e){case"return":l.resolve({value:k,done:!0});break;case"throw":l.reject(k);break;default:l.resolve({value:k,done:!1})}(l=l.next)?resume(l.key,l.arg):_=null}this._invoke=function(e,k){return new Promise(function(S,E){var T={key:e,arg:k,resolve:S,reject:E,next:null};_?_=_.next=T:(l=_=T,resume(e,k))})},"function"!=typeof e.return&&(this.return=void 0)}function _awaitAsyncGenerator(e){return new _OverloadYield(e,0)}function _asyncGeneratorDelegate(e){var l={},_=!1;function pump(l,k){return _=!0,k=new Promise(function(_){_(e[l](k))}),{done:!1,value:new _OverloadYield(k,1)}}return l["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},l.next=function(e){return _?(_=!1,e):pump("next",e)},"function"==typeof e.throw&&(l.throw=function(e){if(_)throw _=!1,e;return pump("throw",e)}),"function"==typeof e.return&&(l.return=function(e){return _?(_=!1,e):pump("return",e)}),l}function _OverloadYield(e,l){this.v=e,this.k=l}function _asyncIterator(e){var l,_,k,S=2;for("undefined"!=typeof Symbol&&(_=Symbol.asyncIterator,k=Symbol.iterator);S--;){if(_&&null!=(l=e[_]))return l.call(e);if(k&&null!=(l=e[k]))return new AsyncFromSyncIterator(l.call(e));_="@@asyncIterator",k="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function AsyncFromSyncIteratorContinuation(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var l=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:l}})}return AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function(e){var l=this.s.return;return void 0===l?Promise.resolve({value:e,done:!0}):AsyncFromSyncIteratorContinuation(l.apply(this.s,arguments))},throw:function(e){var l=this.s.return;return void 0===l?Promise.reject(e):AsyncFromSyncIteratorContinuation(l.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)},System.register([],function(R,M){"use strict";return{execute:function(){R({I:function(e){return"x"===e||"y"===e?wl[e]?null:(wl[e]=!0,function(){wl[e]=!1}):wl.x||wl.y?null:(wl.x=wl.y=!0,function(){wl.x=wl.y=!1})},O:addUniqueItem,P:removeItem,R:isSVGElement,T:function(e){return isSVGElement(e)&&"svg"===e.tagName},V:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=_slicedToArray(setupGesture(e,_),3),S=k[0],E=k[1],T=k[2],onPointerEnter=function(e){if(isValidHover(e)){var _=e.target,k=l(_,e);if("function"==typeof k&&_){var _onPointerLeave=function(e){isValidHover(e)&&(k(e),_.removeEventListener("pointerleave",_onPointerLeave))};_.addEventListener("pointerleave",_onPointerLeave,E)}}};return S.forEach(function(e){e.addEventListener("pointerenter",onPointerEnter,E)}),T},W:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=_slicedToArray(setupGesture(e,_),3),S=k[0],E=k[1],T=k[2],startPress=function(e){var k=e.currentTarget;if(isValidPressEvent(e)){El.add(k);var S=l(k,e),onPointerEnd=function(e,l){window.removeEventListener("pointerup",onPointerUp),window.removeEventListener("pointercancel",onPointerCancel),El.has(k)&&El.delete(k),isValidPressEvent(e)&&"function"==typeof S&&S(e,{success:l})},onPointerUp=function(e){onPointerEnd(e,k===window||k===document||_.useGlobalTarget||_isNodeOrChild(k,e.target))},onPointerCancel=function(e){onPointerEnd(e,!1)};window.addEventListener("pointerup",onPointerUp,E),window.addEventListener("pointercancel",onPointerCancel,E)}};return S.forEach(function(e){var l;(_.useGlobalTarget?window:e).addEventListener("pointerdown",startPress,E),isHTMLElement(e)&&(e.addEventListener("focus",function(e){return enableKeyboardPress(e,E)}),l=e,Cl.has(l.tagName)||-1!==l.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),T},X:velocityPerSecond,Y:interpolate,Z:defaultOffset,_:function(e,l){return"function"==typeof e?function(e){Rl.add(e),Il||(Il=function(){var e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Rl.forEach(function(l){return l(e)})},window.addEventListener("resize",Il));return function(){Rl.delete(e),Rl.size||"function"!=typeof Il||(window.removeEventListener("resize",Il),Il=void 0)}}(e):function(e,l){Tl||function(){if("undefined"==typeof ResizeObserver)return;Tl=new ResizeObserver(notifyAll)}();var _=resolveElements(e);return _.forEach(function(e){var _,k=Al.get(e);k||(k=new Set,Al.set(e,k)),k.add(l),null===(_=Tl)||void 0===_||_.observe(e)}),function(){_.forEach(function(e){var _,k=Al.get(e);(null==k||k.delete(l),null!=k&&k.size)||(null===(_=Tl)||void 0===_||_.unobserve(e))})}}(e,l)},a0:function(e,l){var _,onFrame=function(){var k=l.currentTime,S=(null===k?0:k.value)/100;_!==S&&e(S),_=S};return qs.preUpdate(onFrame,!0),function(){return zs(onFrame)}},a3:function(){var e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),l=e?0:-1,_=0+l<0||arguments.length<=0+l?void 0:arguments[0+l],k=1+l<0||arguments.length<=1+l?void 0:arguments[1+l],S=2+l<0||arguments.length<=2+l?void 0:arguments[2+l],E=3+l<0||arguments.length<=3+l?void 0:arguments[3+l],T=interpolate(k,S,E);return e?T(_):T},a4:function(e,l,_){var k,S=e.get(),E=null,T=S,O="string"==typeof S?S.replace(/[\d.-]/g,""):void 0,stopAnimation=function(){E&&(E.stop(),E=null)},startAnimation=function(){stopAnimation(),E=new Nu(_objectSpread2(_objectSpread2({keyframes:[asNumber(e.get()),asNumber(T)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},_),{},{onUpdate:k}))};if(e.attach(function(l,_){return T=l,k=function(e){return _(parseValue(e,O))},qs.postRender(startAnimation),e.get()},stopAnimation),Pl(l)){var I=l.on("change",function(l){return e.set(parseValue(l,O))}),R=e.on("destroy",I);return function(){I(),R()}}return stopAnimation},a5:getDefaultExportFromCjs,a6:function(e){switch(K.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return function(e,l){try{return e instanceof l}catch(_){return!1}}(e,Error)}},a7:function(){for(var e=getAsyncContextStrategy(getMainCarrier()),l=arguments.length,_=new Array(l),k=0;k<l;k++)_[k]=arguments[k];if(2===_.length){var S=_[0],E=_[1];return S?e.withSetScope(S,E):e.withScope(E)}return e.withScope(_[0])},a8:function(e,l){return getCurrentScope().captureException(e,function(e){if(!e)return;if(function(e){return e instanceof J||"function"==typeof e}(e))return{captureContext:e};if(function(e){return Object.keys(e).some(function(e){return Z.includes(e)})}(e))return{captureContext:e};return e}(l))},a9:getClient,aA:function(e,l){return e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e[4]=l[4],e[5]=l[5],e[6]=l[6],e[7]=l[7],e[8]=l[8],e[9]=l[9],e[10]=l[10],e[11]=l[11],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15],e},aB:function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=l[4],O=l[5],I=l[6],R=l[7],M=l[8],j=l[9],D=l[10],L=l[11],U=l[12],B=l[13],q=l[14],z=l[15],G=_*O-k*T,W=_*I-S*T,V=_*R-E*T,K=k*I-S*O,H=k*R-E*O,$=S*R-E*I,J=M*B-j*U,Y=M*q-D*U,X=M*z-L*U,Z=j*q-D*B,Q=j*z-L*B,ee=D*z-L*q,te=G*ee-W*Q+V*Z+K*X-H*Y+$*J;if(!te)return null;return te=1/te,e[0]=(O*ee-I*Q+R*Z)*te,e[1]=(S*Q-k*ee-E*Z)*te,e[2]=(B*$-q*H+z*K)*te,e[3]=(D*H-j*$-L*K)*te,e[4]=(I*X-T*ee-R*Y)*te,e[5]=(_*ee-S*X+E*Y)*te,e[6]=(q*V-U*$-z*W)*te,e[7]=(M*$-D*V+L*W)*te,e[8]=(T*Q-O*X+R*J)*te,e[9]=(k*X-_*Q-E*J)*te,e[10]=(U*H-B*V+z*G)*te,e[11]=(j*V-M*H-L*G)*te,e[12]=(O*Y-T*Z-I*J)*te,e[13]=(_*Z-k*Y+S*J)*te,e[14]=(B*W-U*K-q*G)*te,e[15]=(M*K-j*W+D*G)*te,e},aD:normalize$5,aE:function(e,l){return e[0]=-l[0],e[1]=-l[1],e[2]=-l[2],e[3]=l[3],e},aF:create$1,aG:dot$3,aH:function(e,l){return e[0]=l[0],e[1]=l[1],e},aJ:function(e,l,_){return e[0]=l[0]*_,e[1]=l[1]*_,e},aL:function(e,l,_){return e[0]=l[0]+_[0],e[1]=l[1]+_[1],e},aM:slerp$1,aN:function(e,l){var _=l[0]-e[0],k=l[1]-e[1],S=l[2]-e[2];return _*_+k*k+S*S},aO:function(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=_[0],I=_[1],R=_[2],M=_[3];return e[0]=k*M+T*O+S*R-E*I,e[1]=S*M+T*I+E*O-k*R,e[2]=E*M+T*R+k*I-S*O,e[3]=T*M-k*O-S*I-E*R,e},aQ:cross$1,aR:setAxisAngle$1,aS:function(e,l,_){return e[0]=l[0]*_,e[1]=l[1]*_,e[2]=l[2]*_,e},aa:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=Q.document,_=(null==l?void 0:l.head)||(null==l?void 0:l.body);if(!_)return void(ee&&V.error("[showReportDialog] Global document not defined"));var k=getCurrentScope(),S=getClient(),E=null==S?void 0:S.getDsn();if(!E)return void(ee&&V.error("[showReportDialog] DSN not configured"));var T=_objectSpread2(_objectSpread2({},e),{},{user:_objectSpread2(_objectSpread2({},k.getUser()),e.user),eventId:e.eventId||(I=getMainCarrier(),R=getAsyncContextStrategy(I),R.getIsolationScope()).lastEventId()}),O=Q.document.createElement("script");var I,R;O.async=!0,O.crossOrigin="anonymous",O.src=function(e,l){var _=function(e){var l="string"==typeof e?function(e){var l=X.exec(e);if(!l)return void consoleSandbox(function(){});var _=_slicedToArray(l.slice(1),6),k=_[0],S=_[1],E=_[2],T=void 0===E?"":E,O=_[3],I=void 0===O?"":O,R=_[4],M=void 0===R?"":R,j=_[5],D="",L=void 0===j?"":j,U=L.split("/");U.length>1&&(D=U.slice(0,-1).join("/"),L=U.pop());if(L){var B=L.match(/^\d+/);B&&(L=B[0])}return dsnFromComponents({host:I,pass:T,path:D,projectId:L,port:M,protocol:k,publicKey:S})}(e):dsnFromComponents(e);if(!l||!function(e){if(!q)return!0;var l=e.port,_=e.projectId,k=e.protocol,S=["protocol","publicKey","host","projectId"].find(function(l){return!e[l]&&(V.error("Invalid Sentry Dsn: ".concat(l," missing")),!0)});if(S)return!1;if(!_.match(/^\d+$/))return V.error("Invalid Sentry Dsn: Invalid projectId ".concat(_)),!1;if(!function(e){return"http"===e||"https"===e}(k))return V.error("Invalid Sentry Dsn: Invalid protocol ".concat(k)),!1;if(l&&isNaN(parseInt(l,10)))return V.error("Invalid Sentry Dsn: Invalid port ".concat(l)),!1;return!0}(l))return;return l}(e);if(!_)return"";var k="".concat(function(e){var l=e.protocol?"".concat(e.protocol,":"):"",_=e.port?":".concat(e.port):"";return"".concat(l,"//").concat(e.host).concat(_).concat(e.path?"/".concat(e.path):"","/api/")}(_),"embed/error-page/"),S="dsn=".concat(function(e){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=e.host,k=e.path,S=e.pass,E=e.port,T=e.projectId,O=e.protocol,I=e.publicKey;return"".concat(O,"://").concat(I).concat(l&&S?":".concat(S):"")+"@".concat(_).concat(E?":".concat(E):"","/").concat(k?"".concat(k,"/"):k).concat(T)}(_));for(var E in l)if("dsn"!==E&&"onClose"!==E)if("user"===E){var T=l.user;if(!T)continue;T.name&&(S+="&name=".concat(encodeURIComponent(T.name))),T.email&&(S+="&email=".concat(encodeURIComponent(T.email)))}else S+="&".concat(encodeURIComponent(E),"=").concat(encodeURIComponent(l[E]));return"".concat(k,"?").concat(S)}(E,T);var M=T.onLoad,j=T.onClose;M&&(O.onload=M);if(j){var _reportDialogClosedMessageHandler=function(e){if("__sentry_reportdialog_closed__"===e.data)try{j()}finally{Q.removeEventListener("message",_reportDialogClosedMessageHandler)}};Q.addEventListener("message",_reportDialogClosedMessageHandler)}_.appendChild(O)},ad:requireSrc$3,ae:requireSrc$2,af:function(){return D||(D=1,L.exports=requireScheduler_production()),L.exports},am:function(e,l,_){if(ms.randomUUID&&!e)return ms.randomUUID();return function(e){var l,_,k,S;e=e||{};var E=null!==(l=null!==(_=e.random)&&void 0!==_?_:null===(k=(S=e).rng)||void 0===k?void 0:k.call(S))&&void 0!==l?l:function(){if(!fs){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fs=crypto.getRandomValues.bind(crypto)}return fs(gs)}();if(E.length<16)throw new Error("Random bytes length must be >= 16");return E[6]=15&E[6]|64,E[8]=63&E[8]|128,function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ps[e[l+0]]+ps[e[l+1]]+ps[e[l+2]]+ps[e[l+3]]+"-"+ps[e[l+4]]+ps[e[l+5]]+"-"+ps[e[l+6]]+ps[e[l+7]]+"-"+ps[e[l+8]]+ps[e[l+9]]+"-"+ps[e[l+10]]+ps[e[l+11]]+ps[e[l+12]]+ps[e[l+13]]+ps[e[l+14]]+ps[e[l+15]]).toLowerCase()}(E)}(e)},an:function(){var e=new Dl(16);Dl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},ao:fromValues$1,ap:function(e,l,_){return e[0]=l,e[1]=_,e},aq:create,ar:function(e,l){var _=new Dl(2);return _[0]=e,_[1]=l,_},as:function(e){var l=new Dl(2);return l[0]=e[0],l[1]=e[1],l},at:function(e,l,_){var k=_[0],S=_[1],E=_[2],T=_[3],O=l[0],I=l[1],R=l[2],M=S*R-E*I,j=E*O-k*R,D=k*I-S*O;return M+=M,j+=j,D+=D,e[0]=O+T*M+S*D-E*j,e[1]=I+T*j+E*M-k*D,e[2]=R+T*D+k*j-S*M,e},au:create$3,av:function(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=l[4],I=l[5],R=l[6],M=l[7],j=l[8],D=l[9],L=l[10],U=l[11],B=l[12],q=l[13],z=l[14],G=l[15],W=_[0],V=_[1],K=_[2],H=_[3];return e[0]=W*k+V*O+K*j+H*B,e[1]=W*S+V*I+K*D+H*q,e[2]=W*E+V*R+K*L+H*z,e[3]=W*T+V*M+K*U+H*G,W=_[4],V=_[5],K=_[6],H=_[7],e[4]=W*k+V*O+K*j+H*B,e[5]=W*S+V*I+K*D+H*q,e[6]=W*E+V*R+K*L+H*z,e[7]=W*T+V*M+K*U+H*G,W=_[8],V=_[9],K=_[10],H=_[11],e[8]=W*k+V*O+K*j+H*B,e[9]=W*S+V*I+K*D+H*q,e[10]=W*E+V*R+K*L+H*z,e[11]=W*T+V*M+K*U+H*G,W=_[12],V=_[13],K=_[14],H=_[15],e[12]=W*k+V*O+K*j+H*B,e[13]=W*S+V*I+K*D+H*q,e[14]=W*E+V*R+K*L+H*z,e[15]=W*T+V*M+K*U+H*G,e},aw:function(e,l){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=l[0],e[13]=l[1],e[14]=l[2],e[15]=1,e},ax:function(e,l){return e[0]=-l[0],e[1]=-l[1],e[2]=-l[2],e},ay:function(e,l,_,k){var S=l[0],E=l[1],T=l[2],O=k[0],I=k[1],R=k[2],M=S-_[0],j=E-_[1],D=T-_[2],L=M*M+j*j+D*D;L>0&&(M*=L=1/Math.sqrt(L),j*=L,D*=L);var U=I*D-R*j,B=R*M-O*D,q=O*j-I*M;L=U*U+B*B+q*q,L>0&&(U*=L=1/Math.sqrt(L),B*=L,q*=L);return e[0]=U,e[1]=B,e[2]=q,e[3]=0,e[4]=j*q-D*B,e[5]=D*U-M*q,e[6]=M*B-j*U,e[7]=0,e[8]=M,e[9]=j,e[10]=D,e[11]=0,e[12]=S,e[13]=E,e[14]=T,e[15]=1,e},az:function(e,l){return e[0]=l[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=l[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},b1:clsx,d:function(e,l){return new bl(e,l)},i:isHTMLElement,q:getAnimatableNone,s:defaultTransformValue,w:function(e,l){var _,k;return null!==(_=null!==(k=null==e?void 0:e[l])&&void 0!==k?k:null==e?void 0:e.default)&&void 0!==_?_:e},y:makeAnimationInstant});var M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var l=e.default;if("function"==typeof l){var _=function a(){var e=!1;try{e=this instanceof a}catch(_){}return e?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};_.prototype=l.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var k=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(_,l,k.get?k:{enumerable:!0,get:function(){return e[l]}})}),_}var j,D,L={exports:{}},U={};function requireScheduler_production(){return j||(j=1,function(e){function push(e,l){var _=e.length;e.push(l);e:for(;0<_;){var k=_-1>>>1,S=e[k];if(!(0<compare(S,l)))break e;e[k]=l,e[_]=S,_=k}}function peek(e){return 0===e.length?null:e[0]}function pop(e){if(0===e.length)return null;var l=e[0],_=e.pop();if(_!==l){e[0]=_;e:for(var k=0,S=e.length,E=S>>>1;k<E;){var T=2*(k+1)-1,O=e[T],I=T+1,R=e[I];if(0>compare(O,_))I<S&&0>compare(R,O)?(e[k]=R,e[I]=_,k=I):(e[k]=O,e[T]=_,k=T);else{if(!(I<S&&0>compare(R,_)))break e;e[k]=R,e[I]=_,k=I}}}return l}function compare(e,l){var _=e.sortIndex-l.sortIndex;return 0!==_?_:e.id-l.id}if(e.unstable_now=void 0,"object"===("undefined"==typeof performance?"undefined":_typeof3(performance))&&"function"==typeof performance.now){var l=performance;e.unstable_now=function(){return l.now()}}else{var _=Date,k=_.now();e.unstable_now=function(){return _.now()-k}}var S=[],E=[],T=1,O=null,I=3,R=!1,M=!1,j=!1,D=!1,L="function"==typeof setTimeout?setTimeout:null,U="function"==typeof clearTimeout?clearTimeout:null,B="undefined"!=typeof setImmediate?setImmediate:null;function advanceTimers(e){for(var l=peek(E);null!==l;){if(null===l.callback)pop(E);else{if(!(l.startTime<=e))break;pop(E),l.sortIndex=l.expirationTime,push(S,l)}l=peek(E)}}function handleTimeout(e){if(j=!1,advanceTimers(e),!M)if(null!==peek(S))M=!0,z||(z=!0,q());else{var l=peek(E);null!==l&&requestHostTimeout(handleTimeout,l.startTime-e)}}var q,z=!1,G=-1,W=5,V=-1;function shouldYieldToHost(){return!!D||!(e.unstable_now()-V<W)}function performWorkUntilDeadline(){if(D=!1,z){var l=e.unstable_now();V=l;var _=!0;try{e:{M=!1,j&&(j=!1,U(G),G=-1),R=!0;var k=I;try{t:{for(advanceTimers(l),O=peek(S);null!==O&&!(O.expirationTime>l&&shouldYieldToHost());){var T=O.callback;if("function"==typeof T){O.callback=null,I=O.priorityLevel;var L=T(O.expirationTime<=l);if(l=e.unstable_now(),"function"==typeof L){O.callback=L,advanceTimers(l),_=!0;break t}O===peek(S)&&pop(S),advanceTimers(l)}else pop(S);O=peek(S)}if(null!==O)_=!0;else{var B=peek(E);null!==B&&requestHostTimeout(handleTimeout,B.startTime-l),_=!1}}break e}finally{O=null,I=k,R=!1}_=void 0}}finally{_?q():z=!1}}}if("function"==typeof B)q=function(){B(performWorkUntilDeadline)};else if("undefined"!=typeof MessageChannel){var K=new MessageChannel,H=K.port2;K.port1.onmessage=performWorkUntilDeadline,q=function(){H.postMessage(null)}}else q=function(){L(performWorkUntilDeadline,0)};function requestHostTimeout(l,_){G=L(function(){l(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(W=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_next=function(e){switch(I){case 1:case 2:case 3:var l=3;break;default:l=I}var _=I;I=l;try{return e()}finally{I=_}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(e,l){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var _=I;I=e;try{return l()}finally{I=_}},e.unstable_scheduleCallback=function(l,_,k){var O=e.unstable_now();switch("object"===_typeof3(k)&&null!==k?k="number"==typeof(k=k.delay)&&0<k?O+k:O:k=O,l){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return l={id:T++,callback:_,priorityLevel:l,startTime:k,expirationTime:I=k+I,sortIndex:-1},k>O?(l.sortIndex=k,push(E,l),null===peek(S)&&l===peek(E)&&(j?(U(G),G=-1):j=!0,requestHostTimeout(handleTimeout,k-O))):(l.sortIndex=I,push(S,l),M||R||(M=!0,z||(z=!0,q()))),l},e.unstable_shouldYield=shouldYieldToHost,e.unstable_wrapCallback=function(e){var l=I;return function(){var _=I;I=l;try{return e.apply(this,arguments)}finally{I=_}}}}(U)),U}var B=R("ag",function(e,l,_){var k=Promise.resolve();function handlePreloadError(e){var l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=e,window.dispatchEvent(l),!l.defaultPrevented)throw e}return k.then(function(l){var _,k=_createForOfIteratorHelper2(l||[]);try{for(k.s();!(_=k.n()).done;){var S=_.value;"rejected"===S.status&&handlePreloadError(S.reason)}}catch(E){k.e(E)}finally{k.f()}return e().catch(handlePreloadError)})}),q="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,z=globalThis,G="10.18.0";function getMainCarrier(){return getSentryCarrier(z),z}function getSentryCarrier(e){var l=e.__SENTRY__=e.__SENTRY__||{};return l.version=l.version||G,l[G]=l[G]||{}}function getGlobalSingleton(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,k=_.__SENTRY__=_.__SENTRY__||{},S=k[G]=k[G]||{};return S[e]||(S[e]=l())}var W={};function consoleSandbox(e){if(!("console"in z))return e();var l=z.console,_={},k=Object.keys(W);k.forEach(function(e){var k=W[e];_[e]=l[e],l[e]=k});try{return e()}finally{k.forEach(function(e){l[e]=_[e]})}}function isEnabled(){return _getLoggerSettings().enabled}function _maybeLog(e){for(var l=arguments.length,_=new Array(l>1?l-1:0),k=1;k<l;k++)_[k-1]=arguments[k];q&&isEnabled()&&consoleSandbox(function(){var l;(l=z.console)[e].apply(l,["".concat("Sentry Logger ","[").concat(e,"]:")].concat(_))})}function _getLoggerSettings(){return q?getGlobalSingleton("loggerSettings",function(){return{enabled:!1}}):{enabled:!1}}var V=R("ab",{enable:function(){_getLoggerSettings().enabled=!0},disable:function(){_getLoggerSettings().enabled=!1},isEnabled:isEnabled,log:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];_maybeLog.apply(void 0,["log"].concat(l))},warn:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];_maybeLog.apply(void 0,["warn"].concat(l))},error:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];_maybeLog.apply(void 0,["error"].concat(l))}}),K=Object.prototype.toString;function isPlainObject$2(e){return function(e,l){return K.call(e)==="[object ".concat(l,"]")}(e,"Object")}function truncate(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e||0===l||e.length<=l?e:"".concat(e.slice(0,l),"...")}function uuid4(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e=z).crypto||e.msCrypto,getRandomByte=function(){return 16*Math.random()};try{if(null!=l&&l.randomUUID)return l.randomUUID().replace(/-/g,"");null!=l&&l.getRandomValues&&(getRandomByte=function(){var e=new Uint8Array(1);return l.getRandomValues(e),e[0]})}catch(_){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,function(e){return(e^(15&getRandomByte())>>e/4).toString(16)})}var H;function dateTimestampInSeconds(){return Date.now()/1e3}function timestampInSeconds(){return(null!=H?H:H=function(){var e=z.performance;if(null==e||!e.now||!e.timeOrigin)return dateTimestampInSeconds;var l=e.timeOrigin;return function(){return(l+e.now())/1e3}}())()}function merge$1(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!l||"object"!==_typeof3(l)||_<=0)return l;if(e&&0===Object.keys(l).length)return e;var k=_objectSpread2({},e);for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(k[S]=merge$1(k[S],l[S],_-1));return k}function generateTraceId(){return uuid4()}var $="_sentrySpan";function _setSpanForScope(e,l){l?function(e,l,_){try{Object.defineProperty(e,l,{value:_,writable:!0,configurable:!0})}catch(k){q&&V.log('Failed to add non-enumerable property "'.concat(l,'" to object'),e)}}(e,$,l):delete e[$]}function _getSpanForScope(e){return e[$]}var J=function(){function Scope(){_classCallCheck3(this,Scope),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:generateTraceId(),sampleRand:Math.random()}}return _createClass3(Scope,[{key:"clone",value:function(){var e=new Scope;return e._breadcrumbs=_toConsumableArray3(this._breadcrumbs),e._tags=_objectSpread2({},this._tags),e._extra=_objectSpread2({},this._extra),e._contexts=_objectSpread2({},this._contexts),this._contexts.flags&&(e._contexts.flags={values:_toConsumableArray3(this._contexts.flags.values)}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=_toConsumableArray3(this._eventProcessors),e._attachments=_toConsumableArray3(this._attachments),e._sdkProcessingMetadata=_objectSpread2({},this._sdkProcessingMetadata),e._propagationContext=_objectSpread2({},this._propagationContext),e._client=this._client,e._lastEventId=this._lastEventId,_setSpanForScope(e,_getSpanForScope(this)),e}},{key:"setClient",value:function(e){this._client=e}},{key:"setLastEventId",value:function(e){this._lastEventId=e}},{key:"getClient",value:function(){return this._client}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l.user&&(!e.ipAddress&&l.user.ip_address&&(e.ipAddress=l.user.ip_address),e.did||l.did||(e.did=l.user.id||l.user.email||l.user.username)),e.timestamp=l.timestamp||timestampInSeconds(),l.abnormal_mechanism&&(e.abnormal_mechanism=l.abnormal_mechanism),l.ignoreDuration&&(e.ignoreDuration=l.ignoreDuration),l.sid&&(e.sid=32===l.sid.length?l.sid:uuid4()),void 0!==l.init&&(e.init=l.init),!e.did&&l.did&&(e.did="".concat(l.did)),"number"==typeof l.started&&(e.started=l.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof l.duration)e.duration=l.duration;else{var _=e.timestamp-e.started;e.duration=_>=0?_:0}l.release&&(e.release=l.release),l.environment&&(e.environment=l.environment),!e.ipAddress&&l.ipAddress&&(e.ipAddress=l.ipAddress),!e.userAgent&&l.userAgent&&(e.userAgent=l.userAgent),"number"==typeof l.errors&&(e.errors=l.errors),l.status&&(e.status=l.status)}(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"setTags",value:function(e){return this._tags=_objectSpread2(_objectSpread2({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,l){return this._tags=_objectSpread2(_objectSpread2({},this._tags),{},_defineProperty3({},e,l)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=_objectSpread2(_objectSpread2({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,l){return this._extra=_objectSpread2(_objectSpread2({},this._extra),{},_defineProperty3({},e,l)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,l){return null===l?delete this._contexts[e]:this._contexts[e]=l,this._notifyScopeListeners(),this}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(e){if(!e)return this;var l="function"==typeof e?e(this):e,_=(l instanceof Scope?l.getScopeData():isPlainObject$2(l)?e:void 0)||{},k=_.tags,S=_.extra,E=_.user,T=_.contexts,O=_.level,I=_.fingerprint,R=void 0===I?[]:I,M=_.propagationContext;return this._tags=_objectSpread2(_objectSpread2({},this._tags),k),this._extra=_objectSpread2(_objectSpread2({},this._extra),S),this._contexts=_objectSpread2(_objectSpread2({},this._contexts),T),E&&Object.keys(E).length&&(this._user=E),O&&(this._level=O),R.length&&(this._fingerprint=R),M&&(this._propagationContext=M),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,_setSpanForScope(this,void 0),this._attachments=[],this.setPropagationContext({traceId:generateTraceId(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}},{key:"addBreadcrumb",value:function(e,l){var _="number"==typeof l?l:100;if(_<=0)return this;var k,S=_objectSpread2(_objectSpread2({timestamp:dateTimestampInSeconds()},e),{},{message:e.message?truncate(e.message,2048):e.message});(this._breadcrumbs.push(S),this._breadcrumbs.length>_)&&(this._breadcrumbs=this._breadcrumbs.slice(-_),null===(k=this._client)||void 0===k||k.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"getScopeData",value:function(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_getSpanForScope(this)}}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=merge$1(this._sdkProcessingMetadata,e,2),this}},{key:"setPropagationContext",value:function(e){return this._propagationContext=e,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"captureException",value:function(e,l){var _=(null==l?void 0:l.event_id)||uuid4();if(!this._client)return q&&V.warn("No client configured on scope - will not capture exception!"),_;var k=new Error("Sentry syntheticException");return this._client.captureException(e,_objectSpread2(_objectSpread2({originalException:e,syntheticException:k},l),{},{event_id:_}),this),_}},{key:"captureMessage",value:function(e,l,_){var k=(null==_?void 0:_.event_id)||uuid4();if(!this._client)return q&&V.warn("No client configured on scope - will not capture message!"),k;var S=new Error(e);return this._client.captureMessage(e,l,_objectSpread2(_objectSpread2({originalException:e,syntheticException:S},_),{},{event_id:k}),this),k}},{key:"captureEvent",value:function(e,l){var _=(null==l?void 0:l.event_id)||uuid4();return this._client?(this._client.captureEvent(e,_objectSpread2(_objectSpread2({},l),{},{event_id:_}),this),_):(q&&V.warn("No client configured on scope - will not capture event!"),_)}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(l){l(e)}),this._notifyingListeners=!1)}}])}();var Y=function(){return _createClass3(function AsyncContextStack(e,l){var _,k;_classCallCheck3(this,AsyncContextStack),_=e||new J,k=l||new J,this._stack=[{scope:_}],this._isolationScope=k},[{key:"withScope",value:function(e){var l,_,k=this,S=this._pushScope();try{l=e(S)}catch(ta){throw this._popScope(),ta}return _=l,Boolean((null==_?void 0:_.then)&&"function"==typeof _.then)?l.then(function(e){return k._popScope(),e},function(e){throw k._popScope(),e}):(this._popScope(),l)}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getIsolationScope",value:function(){return this._isolationScope}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"_pushScope",value:function(){var e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}},{key:"_popScope",value:function(){return!(this._stack.length<=1)&&!!this._stack.pop()}}])}();function getAsyncContextStack(){var e=getSentryCarrier(getMainCarrier());return e.stack=e.stack||new Y(getGlobalSingleton("defaultCurrentScope",function(){return new J}),getGlobalSingleton("defaultIsolationScope",function(){return new J}))}function withScope$1(e){return getAsyncContextStack().withScope(e)}function withSetScope(e,l){var _=getAsyncContextStack();return _.withScope(function(){return _.getStackTop().scope=e,l(e)})}function withIsolationScope(e){return getAsyncContextStack().withScope(function(){return e(getAsyncContextStack().getIsolationScope())})}function getAsyncContextStrategy(e){var l=getSentryCarrier(e);return l.acs?l.acs:{withIsolationScope:withIsolationScope,withScope:withScope$1,withSetScope:withSetScope,withSetIsolationScope:function(e,l){return withIsolationScope(l)},getCurrentScope:function(){return getAsyncContextStack().getScope()},getIsolationScope:function(){return getAsyncContextStack().getIsolationScope()}}}function getCurrentScope(){return getAsyncContextStrategy(getMainCarrier()).getCurrentScope()}function getClient(){return getCurrentScope().getClient()}var X=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dsnFromComponents(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var Z=["user","level","extra","contexts","tags","fingerprint","propagationContext"];var Q=z,ee="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var te,re={exports:{}};function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inheritsLoose(e,l){e.prototype=Object.create(l.prototype),e.prototype.constructor=e,e.__proto__=l}
/*!
			 * GSAP 3.13.0
			 * https://gsap.com
			 *
			 * @license Copyright 2008-2025, GreenSock. All rights reserved.
			 * Subject to the terms at https://gsap.com/standard-license
			 * @author: Jack Doyle, jack@greensock.com
			*/te||(te=1,function(e){!function(l,_){e.exports=_()}(0,function(){return function(){var e={"./packages/@logrocket/console/src/index.js":
/*!**************************************************!*\
					  !*** ./packages/@logrocket/console/src/index.js ***!
					  \**************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var S=k(_(/*! ./registerConsole */"./packages/@logrocket/console/src/registerConsole.js")).default;l.default=S},"./packages/@logrocket/console/src/registerConsole.js":
/*!************************************************************!*\
					  !*** ./packages/@logrocket/console/src/registerConsole.js ***!
					  \************************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=[];return["log","warn","info","error","debug"].forEach(function(_){l.push((0,E.default)(console,_,function(){for(var l=arguments.length,k=new Array(l),E=0;E<l;E++)k[E]=arguments[E];e.addEvent("lr.core.LogEvent",function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=l.isEnabled;if("object"===(0,S.default)(E)&&!1===E[_]||!1===E)return null;if("error"===_&&l.shouldAggregateConsoleErrors)if(k&&k.length>=2&&"ERROR"===k[0]){var O="";try{O=" ".concat(k[1])}catch(I){}T.Capture.captureMessage(e,"".concat(k[0]).concat(O),k,{},!0)}else T.Capture.captureMessage(e,k[0],k,{},!0);return{logLevel:_.toUpperCase(),args:k}})}))}),function(){l.forEach(function(e){return e()})}};var S=k(_(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js")),E=k(_(/*! @logrocket/utils/src/enhanceFunc */"./packages/@logrocket/utils/src/enhanceFunc.ts")),T=_(/*! @logrocket/exceptions */"./packages/@logrocket/exceptions/src/index.js")},"./packages/@logrocket/exceptions/src/Capture.js":
/*!*******************************************************!*\
					  !*** ./packages/@logrocket/exceptions/src/Capture.js ***!
					  \*******************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.captureMessage=function(e,l,_){var k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],T={exceptionType:E?"CONSOLE":"MESSAGE",message:l,messageArgs:_,browserHref:window.location?window.location.href:""};(0,S.scrubException)(T,k),e.addEvent("lr.core.Exception",function(){return T})},l.captureException=function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,O=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"WINDOW",I=k||E.default.computeStackTrace(l),R={exceptionType:O,errorType:I.name,message:I.message,browserHref:window.location?window.location.href:""};(0,S.scrubException)(R,_);var M={_stackTrace:(0,T.default)(I)};e.addEvent("lr.core.Exception",function(){return R},M)};var S=_(/*! @logrocket/utils/src/scrubException */"./packages/@logrocket/utils/src/scrubException.ts"),E=k(_(/*! @logrocket/utils/src/TraceKit */"./packages/@logrocket/utils/src/TraceKit.js")),T=k(_(/*! ./stackTraceFromError */"./packages/@logrocket/exceptions/src/stackTraceFromError.js"))},"./packages/@logrocket/exceptions/src/index.js":
/*!*****************************************************!*\
					  !*** ./packages/@logrocket/exceptions/src/index.js ***!
					  \*****************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),S=_(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"registerExceptions",{enumerable:!0,get:function(){return E.default}}),l.Capture=void 0;var E=k(_(/*! ./registerExceptions */"./packages/@logrocket/exceptions/src/registerExceptions.js")),T=function(e,l){if(e&&e.__esModule)return e;if(null===e||"object"!==S(e)&&"function"!=typeof e)return{default:e};var _=_getRequireWildcardCache(l);if(_&&_.has(e))return _.get(e);var k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in e)if("default"!==T&&Object.prototype.hasOwnProperty.call(e,T)){var O=E?Object.getOwnPropertyDescriptor(e,T):null;O&&(O.get||O.set)?Object.defineProperty(k,T,O):k[T]=e[T]}return k.default=e,_&&_.set(e,k),k}(_(/*! ./Capture */"./packages/@logrocket/exceptions/src/Capture.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var l=new WeakMap,_=new WeakMap;return(_getRequireWildcardCache=function(e){return e?_:l})(e)}l.Capture=T},"./packages/@logrocket/exceptions/src/raven/raven.js":
/*!***********************************************************!*\
					  !*** ./packages/@logrocket/exceptions/src/raven/raven.js ***!
					  \***********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var S=k(_(/*! @babel/runtime/helpers/classCallCheck */"./node_modules/@babel/runtime/helpers/classCallCheck.js")),E=k(_(/*! @babel/runtime/helpers/createClass */"./node_modules/@babel/runtime/helpers/createClass.js")),T=k(_(/*! @logrocket/utils/src/TraceKit */"./packages/@logrocket/utils/src/TraceKit.js")),O=Object.prototype;function isFunction(e){return"function"==typeof e}function hasKey(e,l){return O.hasOwnProperty.call(e,l)}function fill(e,l,_,k){var S=e[l];e[l]=_(S),k&&k.push([e,l,S])}var I="undefined"!=typeof window?window:void 0!==_.g?_.g:"undefined"!=typeof self?self:{};I.document;var R=function(){function Handler(e){var l=e.captureException;(0,S.default)(this,Handler),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=l,T.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,E.default)(Handler,[{key:"uninstall",value:function(){var e;for(T.default.report.unsubscribe(this._errorHandler);this._wrappedBuiltIns.length;){var l=(e=this._wrappedBuiltIns.shift())[0],_=e[1],k=e[2];l[_]=k}}},{key:"_errorHandler",value:function(e){this._ignoreOnError||this.captureException(e)}},{key:"_ignoreNextOnError",value:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})}},{key:"context",value:function(e,l,_){return isFunction(e)&&(_=l||[],l=e,e=void 0),this.wrap(e,l).apply(this,_)}},{key:"wrap",value:function(e,l,_){var k=this;if(void 0===l&&!isFunction(e))return e;if(isFunction(e)&&(l=e,e=void 0),!isFunction(l))return l;try{if(l.__lr__)return l;if(l.__lr_wrapper__)return l.__lr_wrapper__;if(!Object.isExtensible(l))return l}catch(ta){return l}function wrapped(){var S=[],E=arguments.length,O=!e||e&&!1!==e.deep;for(_&&isFunction(_)&&_.apply(this,arguments);E--;)S[E]=O?k.wrap(e,arguments[E]):arguments[E];try{return l.apply(this,S)}catch(ta){throw k._ignoreNextOnError(),k.captureException(T.default.computeStackTrace(ta),e),ta}}for(var S in l)hasKey(l,S)&&(wrapped[S]=l[S]);return wrapped.prototype=l.prototype,l.__lr_wrapper__=wrapped,wrapped.__lr__=!0,wrapped.__inner__=l,wrapped}},{key:"_instrumentTryCatch",value:function(){var e=this,l=e._wrappedBuiltIns;function wrapTimeFn(l){return function(_,k){for(var S=new Array(arguments.length),E=0;E<S.length;++E)S[E]=arguments[E];var T=S[0];return isFunction(T)&&(S[0]=e.wrap(T)),l.apply?l.apply(this,S):l(S[0],S[1])}}function wrapEventTarget(_){var k=I[_]&&I[_].prototype;k&&k.hasOwnProperty&&k.hasOwnProperty("addEventListener")&&(fill(k,"addEventListener",function(l){return function(_,k,S,E){try{k&&k.handleEvent&&(k.handleEvent=e.wrap(k.handleEvent))}catch(T){}return l.call(this,_,e.wrap(k,void 0,void 0),S,E)}},l),fill(k,"removeEventListener",function(e){return function(l,_,k,S){try{var E=null==_?void 0:_.__lr_wrapper__;E&&e.call(this,l,E,k,S)}catch(ta){}return e.call(this,l,_,k,S)}},void 0))}fill(I,"setTimeout",wrapTimeFn,l),fill(I,"setInterval",wrapTimeFn,l),I.requestAnimationFrame&&fill(I,"requestAnimationFrame",function(l){return function(_){return l(e.wrap(_))}},l);for(var _=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],k=0;k<_.length;k++)wrapEventTarget(_[k]);var S=I.jQuery||I.$;S&&S.fn&&S.fn.ready&&fill(S.fn,"ready",function(l){return function(_){return l.call(this,e.wrap(_))}},l)}}]),Handler}();l.default=R},"./packages/@logrocket/exceptions/src/registerExceptions.js":
/*!******************************************************************!*\
					  !*** ./packages/@logrocket/exceptions/src/registerExceptions.js ***!
					  \******************************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),S=_(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=new E.default({captureException:function(l){T.captureException(e,null,null,l)}}),rejectionHandler=function(l){l.reason instanceof Error?T.captureException(e,l.reason,null,null,"UNHANDLED_REJECTION"):e.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:l.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",rejectionHandler),function(){window.removeEventListener("unhandledrejection",rejectionHandler),l.uninstall()}};var E=k(_(/*! ./raven/raven */"./packages/@logrocket/exceptions/src/raven/raven.js")),T=function(e,l){if(e&&e.__esModule)return e;if(null===e||"object"!==S(e)&&"function"!=typeof e)return{default:e};var _=_getRequireWildcardCache(l);if(_&&_.has(e))return _.get(e);var k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in e)if("default"!==T&&Object.prototype.hasOwnProperty.call(e,T)){var O=E?Object.getOwnPropertyDescriptor(e,T):null;O&&(O.get||O.set)?Object.defineProperty(k,T,O):k[T]=e[T]}return k.default=e,_&&_.set(e,k),k}(_(/*! ./Capture */"./packages/@logrocket/exceptions/src/Capture.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var l=new WeakMap,_=new WeakMap;return(_getRequireWildcardCache=function(e){return e?_:l})(e)}},"./packages/@logrocket/exceptions/src/stackTraceFromError.js":
/*!*******************************************************************!*\
					  !*** ./packages/@logrocket/exceptions/src/stackTraceFromError.js ***!
					  \*******************************************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){function makeNotNull(e){return null===e?void 0:e}return e.stack?e.stack.map(function(e){return{lineNumber:makeNotNull(e.line),columnNumber:makeNotNull(e.column),fileName:makeNotNull(e.url),functionName:makeNotNull(e.func)}}):void 0}},"./packages/@logrocket/network/src/fetchIntercept.js":
/*!***********************************************************!*\
					  !*** ./packages/@logrocket/network/src/fetchIntercept.js ***!
					  \***********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var S=k(_(/*! @babel/runtime/helpers/toConsumableArray */"./node_modules/@babel/runtime/helpers/toConsumableArray.js")),E=_(/*! ./registerXHR */"./packages/@logrocket/network/src/registerXHR.js"),T=[];function makeInterceptor(e,l){for(var _=T.reduce(function(e,l){return[l].concat(e)},[]),k=arguments.length,O=new Array(k>2?k-2:0),I=2;I<k;I++)O[I-2]=arguments[I];var R=Promise.resolve(O);return _.forEach(function(e){var _=e.request,k=e.requestError;(_||k)&&(R=R.then(function(e){return _.apply(void 0,[l].concat((0,S.default)(e)))},function(e){return k.apply(void 0,[l].concat((0,S.default)(e)))}))}),R=R.then(function(l){var _,k;(0,E.setActive)(!1);try{_=e.apply(void 0,(0,S.default)(l))}catch(T){k=T}if((0,E.setActive)(!0),k)throw k;return _}),_.forEach(function(e){var _=e.response,k=e.responseError;(_||k)&&(R=R.then(function(e){return _(l,e)},function(e){return k&&k(l,e)}))}),R}function attach(e){if(e.fetch&&e.Promise){var l=e.fetch.polyfill;e.fetch=function(e){var l=0;return function(){for(var _=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];return makeInterceptor.apply(void 0,[e,l++].concat(k))}}(e.fetch),l&&(e.fetch.polyfill=l)}}var O=!1,I={register:function(e){return O||(O=!0,attach(window)),T.push(e),function(){var l=T.indexOf(e);l>=0&&T.splice(l,1)}},clear:function(){T=[]}};l.default=I},"./packages/@logrocket/network/src/index.js":
/*!**************************************************!*\
					  !*** ./packages/@logrocket/network/src/index.js ***!
					  \**************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isReactNative:!1,isDisabled:!1};if(!0===(null==l?void 0:l.isDisabled))return function(){};var _=l.isReactNative,k=l.shouldAugmentNPS,S=l.shouldParseXHRBlob,j={},truncate=function(e){var l=e;if("object"===(0,E.default)(e)&&null!=e){var _=Object.getPrototypeOf(e);_!==Object.prototype&&null!==_||(l=JSON.stringify(e))}if(l&&l.length&&l.length>4096e3&&"string"==typeof l){var k=l.substring(0,1e3);return"".concat(k," ... LogRocket truncating to first 1000 characters.\n      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network")}return e},addRequest=function(l,_){var k=_.method;e.addEvent("lr.network.RequestEvent",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=e.isEnabled,E=void 0===S||S,T=e.requestSanitizer,O=void 0===T?function(e){return e}:T;if(!E)return null;var I=null;try{I=O(_objectSpread(_objectSpread({},_),{},{reqId:l}))}catch(L){}if(I){var R=I.url;if("undefined"!=typeof document&&"function"==typeof document.createElement){var D=document.createElement("a");D.href=I.url,R=D.href}return{reqId:l,url:R,headers:(0,M.default)(I.headers,function(e){return"".concat(e)}),body:truncate(I.body),method:k,referrer:I.referrer||void 0,mode:I.mode||void 0,credentials:I.credentials||void 0}}return j[l]=!0,null})},addResponse=function(l,_){var k=_.method,S=_.status,E=_.responseType;e.addEvent("lr.network.ResponseEvent",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},T=e.isEnabled,O=void 0===T||T,I=e.responseSanitizer,R=void 0===I?function(e){return e}:I;if(!O)return null;if(j[l])return delete j[l],null;var D=null;try{D=R(_objectSpread(_objectSpread({},_),{},{reqId:l}))}catch(L){}return D?{reqId:l,responseType:E,status:D.status,headers:(0,M.default)(D.headers,function(e){return"".concat(e)}),body:truncate(D.body),method:k}:{reqId:l,responseType:E,status:S,headers:{},body:null,method:k}})},isIgnored=function(l){return e.isDisabled||!0===j[l]},D=(0,T.default)({addRequest:addRequest,addResponse:addResponse,isIgnored:isIgnored}),L=(0,R.default)({addRequest:addRequest,addResponse:addResponse,isIgnored:isIgnored,logger:e,shouldAugmentNPS:k,shouldParseXHRBlob:S}),U=(0,O.registerIonic)({addRequest:addRequest,addResponse:addResponse,isIgnored:isIgnored}),B=_?function(){}:(0,I.default)(e);return function(){B(),D(),L(),U()}};var S=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),E=k(_(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js")),T=k(_(/*! ./registerFetch */"./packages/@logrocket/network/src/registerFetch.js")),O=_(/*! ./registerIonic */"./packages/@logrocket/network/src/registerIonic.ts"),I=k(_(/*! ./registerNetworkInformation */"./packages/@logrocket/network/src/registerNetworkInformation.js")),R=k(_(/*! ./registerXHR */"./packages/@logrocket/network/src/registerXHR.js")),M=k(_(/*! @logrocket/utils/src/mapValues */"./packages/@logrocket/utils/src/mapValues.ts"));function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){(0,S.default)(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}},"./packages/@logrocket/network/src/registerFetch.js":
/*!**********************************************************!*\
					  !*** ./packages/@logrocket/network/src/registerFetch.js ***!
					  \**********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=e.addRequest,_=e.addResponse,k=e.isIgnored,S="fetch-",E={},O=T.default.register({request:function(e){for(var _=arguments.length,k=new Array(_>1?_-1:0),T=1;T<_;T++)k[T-1]=arguments[T];var O;if("undefined"!=typeof Request&&k[0]instanceof Request){var I;try{I=k[0].clone().text()}catch(R){I=Promise.resolve("LogRocket fetch error: ".concat(R.message))}O=I.then(function(e){return _objectSpread(_objectSpread({},pluckFetchFields(k[0])),{},{body:e})},function(e){return _objectSpread(_objectSpread({},pluckFetchFields(k[0])),{},{body:"LogRocket fetch error: ".concat(e.message)})})}else O=Promise.resolve(_objectSpread(_objectSpread({},pluckFetchFields(k[1])),{},{url:"".concat(k[0]),body:(k[1]||{}).body}));return O.then(function(_){return E[e]=_.method,l("".concat(S).concat(e),_),k})},requestError:function(e,l){return Promise.reject(l)},response:function(e,l){var T,O;if(k("".concat(S).concat(e)))return l;if("text/event-stream"===l.headers.get("content-type"))O=Promise.resolve("LogRocket skipped consuming an event-stream body.");else{try{T=l.clone()}catch(D){var I={url:l.url,responseType:l.type.toUpperCase(),status:l.status,headers:stringifyHeaders(l.headers),body:"LogRocket fetch error: ".concat(D.message),method:E[e]};return delete E[e],_("".concat(S).concat(e),I),l}try{if(window.TextDecoder&&T.body){var R=T.body.getReader(),M=new window.TextDecoder("utf-8"),j="";O=R.read().then(function readResponseBody(e){var l=e.done,_=e.value;if(l)return j;var k=_?M.decode(_,{stream:!0}):"";return j+=k,R.read().then(readResponseBody)})}else O=T.text()}catch(L){O=Promise.resolve("LogRocket error reading body: ".concat(L.message))}}return O.catch(function(e){if(!("AbortError"===e.name&&e instanceof DOMException))return"LogRocket error reading body: ".concat(e.message)}).then(function(k){var T={url:l.url,responseType:l.type.toUpperCase(),status:l.status,headers:stringifyHeaders(l.headers),body:k,method:E[e]};delete E[e],_("".concat(S).concat(e),T)}),l},responseError:function(e,l){var k={url:void 0,status:0,headers:{},body:"".concat(l)};return _("".concat(S).concat(e),k),Promise.reject(l)}});return O};var S=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),E=k(_(/*! @logrocket/utils/src/mapValues */"./packages/@logrocket/utils/src/mapValues.ts")),T=k(_(/*! ./fetchIntercept */"./packages/@logrocket/network/src/fetchIntercept.js"));function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){(0,S.default)(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}var stringifyHeaders=function(e){return(0,E.default)(function(e){if(null==e||"function"!=typeof e.forEach)return e;var l={};return e.forEach(function(e,_){l[_]?l[_]="".concat(l[_],",").concat(e):l[_]="".concat(e)}),l}(e),function(e){return"".concat(e)})};function pluckFetchFields(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:e.url,headers:stringifyHeaders(e.headers),method:e.method&&e.method.toUpperCase(),referrer:e.referrer||void 0,mode:e.mode||void 0,credentials:e.credentials||void 0}}},"./packages/@logrocket/network/src/registerIonic.ts":
/*!**********************************************************!*\
					  !*** ./packages/@logrocket/network/src/registerIonic.ts ***!
					  \**********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.mergeHeaders=mergeHeaders,l.serializeQueryParams=function(e,l){return serializeObject("",e,l)},l.appendQueryParamsString=appendQueryParamsString,l.processData=processData,l.registerIonic=function(e){var l,_,k,S=e.addRequest,E=e.addResponse,T=e.isIgnored,L=null===(l=window.cordova)||void 0===l||null===(_=l.plugin)||void 0===_?void 0:_.http,U={},z=!1;if(void 0===L)return function(){};var W=null===(k=window.ionic)||void 0===k?void 0:k.platforms;if(void 0!==W&&"function"==typeof W.some&&W.some(function(e){return D.has(e)}))return function(){};var V=L.sendRequest,K=(0,O.default)(function(e,l,_){if(!T("".concat(j).concat(_)))try{var k={url:e.url||"",status:e.status<600&&e.status>=100?e.status:0,headers:e.headers||{},body:l?e.data:e.error,method:U[_].toUpperCase()};E("".concat(j).concat(_),k)}catch(O){var S={url:e.url||"",status:e.status<600&&e.status>=100?e.status:0,headers:e.headers||{},body:"LogRocket fetch error: ".concat(O.message),method:U[_].toUpperCase()};E("".concat(j).concat(_),S)}});return L.sendRequest=function(e,l,_,k){var E=++G;if(!z)try{var T=function(e,l){var _,k=(e=e||{}).data;try{_=checkForValidStringValue(R,e.serializer||l.getDataSerializer(),"serializer / data payload type")}catch(S){_=checkForValidStringValue(M,e.serializer||l.getDataSerializer(),"serializer / data payload type"),k={}}return{data:k,filePath:e.filePath,followRedirect:e.followRedirect,headers:checkKeyValuePairObject(e.headers||{},B,"Invalid header type, must be string"),method:checkForValidStringValue(I,e.method||I[0],"method"),name:e.name,params:checkKeyValuePairObject(e.params||{},q,"Invalid param, must be of type string or array"),responseType:e.responseType,serializer:_,connectTimeout:e.connectTimeout,readTimeout:e.readTimeout,timeout:e.timeout}}(l,L),O=appendQueryParamsString(e,serializeObject("",T.params,!0)),D=function(e,l,_){var k=_.getHeaders("*")||{},S=function(e,l){var _=new URL(e),k=_.host;return l.getHeaders(k)||null}(e,_)||{};return mergeHeaders(mergeHeaders(k,S),l)}(e,T.headers,L),W=T.method||"get";U[E]=W;var H={url:O,method:W.toUpperCase(),headers:D||{},body:processData(T.data||{},T.serializer)};S("".concat(j).concat(E),H)}catch(J){var $={url:e,method:(l.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(J.message)};S("".concat(j).concat(E),$)}return V(e,l,function(e){z||(K(e,!0,E),delete U[E]),_(e)},function(e){z||(K(e,!1,E),delete U[E]),k(e)})},function(){z=!0,L.sendRequest=V,U={}}};var S=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),E=k(_(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js")),T=k(_(/*! @babel/runtime/helpers/toConsumableArray */"./node_modules/@babel/runtime/helpers/toConsumableArray.js")),O=k(_(/*! @logrocket/utils/src/protectFunc */"./packages/@logrocket/utils/src/protectFunc.ts"));function _createForOfIteratorHelper(e,l){var _="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!_){if(Array.isArray(e)||(_=function(e,l){if(e){if("string"==typeof e)return _arrayLikeToArray(e,l);var _=Object.prototype.toString.call(e).slice(8,-1);return"Object"===_&&e.constructor&&(_=e.constructor.name),"Map"===_||"Set"===_?Array.from(e):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray(e,l):void 0}}(e))||l){_&&(e=_);var k=0,F=function(){};return{s:F,n:function(){return k>=e.length?{done:!0}:{done:!1,value:e[k++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S,E=!0,T=!1;return{s:function(){_=_.call(e)},n:function(){var e=_.next();return E=e.done,e},e:function(e){T=!0,S=e},f:function(){try{E||null==_.return||_.return()}finally{if(T)throw S}}}}function _arrayLikeToArray(e,l){(null==l||l>e.length)&&(l=e.length);for(var _=0,k=new Array(l);_<l;_++)k[_]=e[_];return k}function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){(0,S.default)(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}var I=new Set(["get","put","post","patch","head","delete","options","upload","download"]),R=new Set(["urlencoded","json","utf8"]),M=new Set(["raw","multipart"]),j="ionic-",D=new Set(["desktop","mobileweb","pwa"]),L=new Set(["FormData"]),U=new Set,B=new Set(["string"]),q=new Set(["string","array"]),z={utf8:B,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:U};function checkForValidStringValue(e,l,_){if("string"!=typeof l)throw new Error("".concat(_," must be one of: ").concat((0,T.default)(e).join(", ")));if(l=l.trim().toLowerCase(),!e.has(l))throw new Error("".concat(_," must be one of: ").concat((0,T.default)(e).join(", ")));return l}function checkKeyValuePairObject(e,l,_){if("object"!==(0,E.default)(e))throw new Error(_);for(var k=0,S=Object.keys(e);k<S.length;k++){var T=S[k];if(!l.has((0,E.default)(e[T])))throw new Error(_)}return e}function mergeHeaders(e,l){return _objectSpread(_objectSpread({},e),l)}function serializeValue(e,l){return l?encodeURIComponent(e):e}function serializeIdentifier(e,l,_){return e.length?_?"".concat(encodeURIComponent(e),"[").concat(encodeURIComponent(l),"]"):"".concat(e,"[").concat(l,"]"):_?encodeURIComponent(l):l}function serializeArray(e,l,_){var k,S=[],T=_createForOfIteratorHelper(l);try{for(T.s();!(k=T.n()).done;){var O=k.value;Array.isArray(O)?S.push(serializeArray("".concat(e,"[]"),O,_)):"object"!==(0,E.default)(O)?S.push("".concat(serializeIdentifier(e,"",_),"=").concat(serializeValue(O,_))):S.push(serializeObject("".concat(e,"[]").concat(O),_,void 0))}}catch(I){T.e(I)}finally{T.f()}return S.join("&")}function serializeObject(e,l,_){var k=[];for(var S in l)if(l.hasOwnProperty(S)){var T=e.length?"".concat(e,"[").concat(S,"]"):S;Array.isArray(l[S])?k.push(serializeArray(T,l[S],_)):"object"!==(0,E.default)(l[S])||null===l[S]?k.push("".concat(serializeIdentifier(e,S,_),"=").concat(serializeValue(l[S],_))):k.push(serializeObject(T,l[S],_))}return k.join("&")}function appendQueryParamsString(e,l){if(!e.length||!l.length)return e;var _=new URL(e),k=_.host,S=_.pathname,E=_.search,T=_.hash,O=_.protocol;return"".concat(O,"//").concat(k).concat(S).concat(E.length?"".concat(E,"&").concat(l):"?".concat(l)).concat(T)}function processData(e,l){var k=(0,E.default)(e),S=function(e){return z[e]||z.default}(l),O=function(e){return"multipart"===e?L:U}(l);if(O.size>0){var I=!1;if(O.forEach(function(l){_.g[l]&&e instanceof _.g[l]&&(I=!0)}),!I)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,T.default)(O).join(", ")))}if(0===O.size&&!S.has(k))throw new Error("TYPE_MISMATCH_DATA ".concat((0,T.default)(S).join(", ")));return"utf8"===l?e:JSON.stringify(e,void 0,2)}var G=0},"./packages/@logrocket/network/src/registerNetworkInformation.js":
/*!***********************************************************************!*\
					  !*** ./packages/@logrocket/network/src/registerNetworkInformation.js ***!
					  \***********************************************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=void 0;function sendNetworkInformation(){var k={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(k.effectiveType=_[window.navigator.connection.effectiveType]||"UNKNOWN"):k.effectiveType="NONE",l&&k.online===l.online&&k.effectiveType===l.effectiveType||(l=k,e.addEvent("lr.network.NetworkStatusEvent",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isEnabled;return void 0===e||e?k:null}))}return setTimeout(sendNetworkInformation),window.navigator.connection&&"function"==typeof window.navigator.connection.addEventListener&&window.navigator.connection.addEventListener("change",sendNetworkInformation),window.addEventListener("online",sendNetworkInformation),window.addEventListener("offline",sendNetworkInformation),function(){window.removeEventListener("offline",sendNetworkInformation),window.removeEventListener("online",sendNetworkInformation),window.navigator.connection&&"function"==typeof window.navigator.connection.removeEventListener&&window.navigator.connection.removeEventListener("change",sendNetworkInformation)}};var _={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"}},"./packages/@logrocket/network/src/registerXHR.js":
/*!********************************************************!*\
					  !*** ./packages/@logrocket/network/src/registerXHR.js ***!
					  \********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.setActive=function(e){M=e},l.default=function(e){var l=e.addRequest,_=e.addResponse,k=e.isIgnored,D=e.logger,L=e.shouldAugmentNPS,U=void 0===L||L,B=e.shouldParseXHRBlob,q=void 0!==B&&B,z=XMLHttpRequest,G=new WeakMap,W=!1,V="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(e,L){var B=new z(e,L);if(!M)return B;G.set(B,{xhrId:++j,requestHeaders:{},sent:!1,done:!1});var K=B.open,H=B.send;U&&(B.open=function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];try{var k=l[1];if(window.URL&&"function"==typeof window.URL&&0===k.search(I.WOOTRIC_RESPONSES_REGEX)){var S=new window.URL(D.recordingURL);S.searchParams.set("nps","wootric");var E=new window.URL(k),T=E.searchParams.get("response[text]"),O=T?"".concat(T,"\n\n"):"";E.searchParams.set("response[text]","".concat(O,"<").concat(S.href,"|View LogRocket session>")),l[1]=E.href}}catch(ta){}return K.apply(this,l)},B.send=function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];try{var k=G.get(B);if(window.URL&&"function"==typeof window.URL&&k&&k.url&&0===k.url.search(I.DELIGHTED_RESPONSES_REGEX)&&l.length&&-1!==l[0].indexOf(I.DELIGHTED_FEEDBACK_PREFIX)){var S=new window.URL(D.recordingURL);S.searchParams.set("nps","delighted");var E=encodeURIComponent(S.href),T=l[0].split("&").map(function(e){if((0,O.default)(e,I.DELIGHTED_FEEDBACK_PREFIX)){var l=e===I.DELIGHTED_FEEDBACK_PREFIX;return"".concat(e).concat(l?"":"\n\n","<").concat(E,"|View LogRocket session>")}return e}).join("&");l[0]=T}}catch(ta){}return H.apply(this,l)});var captureResponse=function(){var e;if(!W){var l=G.get(B);if(l&&!k("".concat(V).concat(l.xhrId))&&l.sent&&l.done){var S=l.status||R.XHR_CUSTOM_STATUS_CODES.error;S===R.XHR_CUSTOM_STATUS_CODES.error&&!1===(null===(e=window.navigator)||void 0===e?void 0:e.onLine)&&(S=R.XHR_CUSTOM_STATUS_CODES.offline);var E={url:l.url,status:S,headers:l.responseHeaders,body:l.responseBody,method:(l.method||"").toUpperCase()};if(q&&E.body instanceof Blob){var T=new FileReader;T.readAsText(E.body),T.onload=function(){try{E.body=JSON.parse(T.result)}catch(e){}_("".concat(V).concat(l.xhrId),E)}}else _("".concat(V).concat(l.xhrId),E)}}};(0,E.default)(B,"open",(0,T.default)(function(e,l){if(!W){var _=G.get(B);_.method=e,_.url=l}})),(0,E.default)(B,"send",(0,T.default)(function(e){if(!W){var _=G.get(B);if(_){var k={url:_.url,method:_.method&&_.method.toUpperCase(),headers:(0,S.default)(_.requestHeaders||{},function(e){return e.join(", ")}),body:e};l("".concat(V).concat(_.xhrId),k),_.sent=!0,captureResponse()}}})),(0,E.default)(B,"setRequestHeader",(0,T.default)(function(e,l){if(!W){var _=G.get(B);_&&(_.requestHeaders=_.requestHeaders||{},_.requestHeaders[e]=_.requestHeaders[e]||[],_.requestHeaders[e].push(l))}}));var $={readystatechange:(0,T.default)(function(){if(!W&&4===B.readyState){var e=G.get(B);if(!e)return;if(k("".concat(V).concat(e.xhrId)))return;var l,_=B.getAllResponseHeaders()||"";e.responseHeaders=_.split(/[\r\n]+/).reduce(function(e,l){var _=e,k=l.split(": ");if(k.length>0){var S=k.shift(),E=k.join(": ");e[S]?_[S]+=", ".concat(E):_[S]=E}return _},{});try{switch(B.responseType){case"json":l=D._shouldCloneResponse?JSON.parse(JSON.stringify(B.response)):B.response;break;case"arraybuffer":case"blob":l=B.response;break;case"document":l=B.responseXML;break;case"text":case"":l=B.responseText;break;default:l=""}}catch(S){l="LogRocket: Error accessing response."}e.responseBody=l,e.status=B.status,e.done=!0}}),abort:(0,T.default)(function(){var e=G.get(B);e&&(e.status=R.XHR_CUSTOM_STATUS_CODES.aborted)}),timeout:(0,T.default)(function(){var e=G.get(B);e&&(e.status=R.XHR_CUSTOM_STATUS_CODES.timeout)}),loadend:(0,T.default)(function(){captureResponse()})};return Object.keys($).forEach(function(e){B.addEventListener(e,$[e])}),B},XMLHttpRequest.prototype=z.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(e){XMLHttpRequest[e]=z[e]}),function(){W=!0,XMLHttpRequest=z}};var S=k(_(/*! @logrocket/utils/src/mapValues */"./packages/@logrocket/utils/src/mapValues.ts")),E=k(_(/*! @logrocket/utils/src/enhanceFunc */"./packages/@logrocket/utils/src/enhanceFunc.ts")),T=k(_(/*! @logrocket/utils/src/protectFunc */"./packages/@logrocket/utils/src/protectFunc.ts")),O=k(_(/*! @logrocket/utils/src/startsWith */"./packages/@logrocket/utils/src/startsWith.js")),I=_(/*! @logrocket/utils/src/constants/nps */"./packages/@logrocket/utils/src/constants/nps.js"),R=_(/*! @logrocket/utils/src/constants/statusCodes */"./packages/@logrocket/utils/src/constants/statusCodes.ts"),M=!0,j=0},"./packages/@logrocket/now/src/index.js":
/*!**********************************************!*\
					  !*** ./packages/@logrocket/now/src/index.js ***!
					  \**********************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var _=Date.now.bind(Date),k=_(),S="undefined"!=typeof performance&&performance.now?performance.now.bind(performance):function(){return _()-k};l.default=S},"./packages/@logrocket/redux/src/createEnhancer.js":
/*!*********************************************************!*\
					  !*** ./packages/@logrocket/redux/src/createEnhancer.js ***!
					  \*********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.stateSanitizer,k=void 0===_?function(e){return e}:_,S=l.actionSanitizer,O=void 0===S?function(e){return e}:S;return function(l){return function(_,S,I){var R=l(_,S,I),M=R.dispatch,j=T++;return e.addEvent("lr.redux.InitialState",function(){var e;try{e=k(R.getState())}catch(l){}return{state:e,storeId:j}}),_objectSpread(_objectSpread({},R),{},{dispatch:function(l){var _,S,T=(0,E.default)();try{S=M(l)}catch(D){_=D}finally{var I=(0,E.default)()-T;e.addEvent("lr.redux.ReduxAction",function(){var e=null,S=null;try{e=k(R.getState()),S=O(l)}catch(_){}return e&&S?{storeId:j,action:S,duration:I,stateDelta:e}:null})}if(_)throw _;return S}})}}};var S=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),E=k(_(/*! @logrocket/now */"./packages/@logrocket/now/src/index.js"));function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){(0,S.default)(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}var T=0},"./packages/@logrocket/redux/src/createMiddleware.js":
/*!***********************************************************!*\
					  !*** ./packages/@logrocket/redux/src/createMiddleware.js ***!
					  \***********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.stateSanitizer,k=void 0===_?function(e){return e}:_,T=l.actionSanitizer,O=void 0===T?function(e){return e}:T;return function(l){var _=E++;return e.addEvent("lr.redux.InitialState",function(){var e;try{e=k(l.getState())}catch(S){}return{state:e,storeId:_}}),function(E){return function(T){var I,R,M=(0,S.default)();try{R=E(T)}catch(D){I=D}finally{var j=(0,S.default)()-M;e.addEvent("lr.redux.ReduxAction",function(){var e=null,S=null;try{e=k(l.getState()),S=O(T)}catch(I){}return e&&S?{storeId:_,action:S,duration:j,stateDelta:e}:null})}if(I)throw I;return R}}}};var S=k(_(/*! @logrocket/now */"./packages/@logrocket/now/src/index.js")),E=0},"./packages/@logrocket/redux/src/index.js":
/*!************************************************!*\
					  !*** ./packages/@logrocket/redux/src/index.js ***!
					  \************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"createEnhancer",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(l,"createMiddleware",{enumerable:!0,get:function(){return E.default}});var S=k(_(/*! ./createEnhancer */"./packages/@logrocket/redux/src/createEnhancer.js")),E=k(_(/*! ./createMiddleware */"./packages/@logrocket/redux/src/createMiddleware.js"))},"./packages/@logrocket/utils/src/TraceKit.js":
/*!***************************************************!*\
					  !*** ./packages/@logrocket/utils/src/TraceKit.js ***!
					  \***************************************************/function(e,l,_){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var k={collectWindowErrors:!0,debug:!1},S="undefined"!=typeof window?window:void 0!==_.g?_.g:"undefined"!=typeof self?self:{},E=[].slice,T="?",O=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function getLocationHref(){return"undefined"==typeof document||void 0===document.location?"":document.location.href}k.report=function(){var e,l,_=[],I=null,R=null,M=null;function notifyHandlers(e,l){var S=null;if(!l||k.collectWindowErrors){for(var T in _)if(_.hasOwnProperty(T))try{_[T].apply(null,[e].concat(E.call(arguments,2)))}catch(O){S=O}if(S)throw S}}function traceKitWindowOnError(l,_,S,E,I){if(M)k.computeStackTrace.augmentStackTraceWithInitialElement(M,_,S,l),processLastException();else if(I)notifyHandlers(k.computeStackTrace(I),!0);else{var R,j={url:_,line:S,column:E},D=void 0,L=l;"[object String]"==={}.toString.call(l)&&(R=l.match(O))&&(D=R[1],L=R[2]),j.func=T,notifyHandlers({name:D,message:L,url:getLocationHref(),stack:[j]},!0)}return!!e&&e.apply(this,arguments)}function processLastException(){var e=M,l=I;I=null,M=null,R=null,notifyHandlers.apply(null,[e,!1].concat(l))}function report(e,l){var _=E.call(arguments,1);if(M){if(R===e)return;processLastException()}var S=k.computeStackTrace(e);if(M=S,R=e,I=_,setTimeout(function(){R===e&&processLastException()},S.incomplete?2e3:0),!1!==l)throw e}return report.subscribe=function(k){l||(e=S.onerror,S.onerror=traceKitWindowOnError,l=!0),_.push(k)},report.unsubscribe=function(e){for(var l=_.length-1;l>=0;--l)_[l]===e&&_.splice(l,1)},report.uninstall=function(){l&&(S.onerror=e,l=!1,e=void 0),_=[]},report}(),k.computeStackTrace=function(){function computeStackTraceFromStackProp(e){if(void 0!==e.stack&&e.stack){var l,_,k=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,S=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,E=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,O=e.stack.split("\n"),I=[];/^(.*) is undefined$/.exec(e.message);for(var R=0,M=O.length;R<M;++R){if(l=k.exec(O[R])){var j=l[2]&&-1!==l[2].indexOf("native");_={url:j?null:l[2],func:l[1]||T,args:j?[l[2]]:[],line:l[3]?+l[3]:null,column:l[4]?+l[4]:null}}else if(l=E.exec(O[R]))_={url:l[2],func:l[1]||T,args:[],line:+l[3],column:l[4]?+l[4]:null};else{if(!(l=S.exec(O[R])))continue;_={url:l[3],func:l[1]||T,args:l[2]?l[2].split(","):[],line:l[4]?+l[4]:null,column:l[5]?+l[5]:null}}!_.func&&_.line&&(_.func=T),I.push(_)}return I.length?(I[0].column||void 0===e.columnNumber||(I[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:getLocationHref(),stack:I}):null}}function augmentStackTraceWithInitialElement(e,l,_,k){var S={url:l,line:_};if(S.url&&S.line){if(e.incomplete=!1,S.func||(S.func=T),e.stack.length>0&&e.stack[0].url===S.url){if(e.stack[0].line===S.line)return!1;if(!e.stack[0].line&&e.stack[0].func===S.func)return e.stack[0].line=S.line,!1}return e.stack.unshift(S),e.partial=!0,!0}return e.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(e,l){for(var _,S,E=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,O=[],I={},R=!1,M=computeStackTraceByWalkingCallerChain.caller;M&&!R;M=M.caller)if(M!==computeStackTrace&&M!==k.report){if(S={url:null,func:T,line:null,column:null},M.name?S.func=M.name:(_=E.exec(M.toString()))&&(S.func=_[1]),void 0===S.func)try{S.func=_.input.substring(0,_.input.indexOf("{"))}catch(ta){}I[""+M]?R=!0:I[""+M]=!0,O.push(S)}l&&O.splice(0,l);var j={name:e.name,message:e.message,url:getLocationHref(),stack:O};return augmentStackTraceWithInitialElement(j,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),j}function computeStackTrace(e,l){var _=null;l=null==l?0:+l;try{if(_=computeStackTraceFromStackProp(e))return _}catch(ta){if(k.debug)throw ta}try{if(_=computeStackTraceByWalkingCallerChain(e,l+1))return _}catch(ta){if(k.debug)throw ta}return{name:e.name,message:e.message,url:getLocationHref()}}return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace}();var I=k;l.default=I},"./packages/@logrocket/utils/src/constants/nps.js":
/*!********************************************************!*\
					  !*** ./packages/@logrocket/utils/src/constants/nps.js ***!
					  \********************************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DELIGHTED_FEEDBACK_PREFIX=l.DELIGHTED_RESPONSES_REGEX=l.WOOTRIC_RESPONSES_REGEX=void 0,l.WOOTRIC_RESPONSES_REGEX=/^https:\/\/production.wootric.com\/responses/,l.DELIGHTED_RESPONSES_REGEX=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/,l.DELIGHTED_FEEDBACK_PREFIX="comment="},"./packages/@logrocket/utils/src/constants/statusCodes.ts":
/*!****************************************************************!*\
					  !*** ./packages/@logrocket/utils/src/constants/statusCodes.ts ***!
					  \****************************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.getStatusText=function(e){return T[String(e)]},l.XHR_CUSTOM_FAILURE_STATUSES=l.XHR_CUSTOM_STATUS_CODES=l.STATUS_CODES=void 0;var S,E=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),T={0:"",100:"Continue",101:"Switching Protocol",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"unused",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};l.STATUS_CODES=T;var O={error:0,timeout:444,aborted:499,offline:1001};l.XHR_CUSTOM_STATUS_CODES=O;var I=(S={},(0,E.default)(S,O.error,"Error"),(0,E.default)(S,O.timeout,"Timeout"),(0,E.default)(S,O.aborted,"Aborted"),(0,E.default)(S,O.offline,"Offline"),S);l.XHR_CUSTOM_FAILURE_STATUSES=I},"./packages/@logrocket/utils/src/createUnsubListener.ts":
/*!**************************************************************!*\
					  !*** ./packages/@logrocket/utils/src/createUnsubListener.ts ***!
					  \**************************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.createUnsubListener=function(e){return function(){e.clear()}},l.Handler=void 0;var S=k(_(/*! @babel/runtime/helpers/classCallCheck */"./node_modules/@babel/runtime/helpers/classCallCheck.js")),E=k(_(/*! @babel/runtime/helpers/createClass */"./node_modules/@babel/runtime/helpers/createClass.js")),T=function(){function Handler(e){(0,S.default)(this,Handler),this._value=void 0,this._value=e}return(0,E.default)(Handler,[{key:"get",value:function(){return this._value}},{key:"clear",value:function(){this._value=void 0}}]),Handler}();l.Handler=T},"./packages/@logrocket/utils/src/enhanceFunc.ts":
/*!******************************************************!*\
					  !*** ./packages/@logrocket/utils/src/enhanceFunc.ts ***!
					  \******************************************************/function(e,l,_){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,l,_){if("function"!=typeof e[l])return NO_OP_UNREGISTER;try{var shim=function(){for(var e,l=arguments.length,_=new Array(l),k=0;k<l;k++)_[k]=arguments[k];var T=S.apply(this,_);return null===(e=E.get())||void 0===e||e.apply(this,_),T},S=e[l],E=new k.Handler(_);return e[l]=shim,function(){E.clear(),e[l]===shim&&(e[l]=S)}}catch(T){return NO_OP_UNREGISTER}};var k=_(/*! ./createUnsubListener */"./packages/@logrocket/utils/src/createUnsubListener.ts"),NO_OP_UNREGISTER=function(){}},"./packages/@logrocket/utils/src/logError.js":
/*!***************************************************!*\
					  !*** ./packages/@logrocket/utils/src/logError.js ***!
					  \***************************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var _="undefined"!=typeof console&&console.error&&console.error.bind?function(){}.bind():function(){};l.default=_},"./packages/@logrocket/utils/src/mapValues.ts":
/*!****************************************************!*\
					  !*** ./packages/@logrocket/utils/src/mapValues.ts ***!
					  \****************************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,l){if(null==e)return{};var _={};return Object.keys(e).forEach(function(k){_[k]=l(e[k])}),_}},"./packages/@logrocket/utils/src/protectFunc.ts":
/*!******************************************************!*\
					  !*** ./packages/@logrocket/utils/src/protectFunc.ts ***!
					  \******************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var _;try{_=e.apply(void 0,arguments)}catch(T){if("undefined"!=typeof window&&window._lrdebug)throw T;var k=l(T);(0,E.default)("LogRocket",T),(0,S.default)(T,k)}return _}};var S=k(_(/*! ./sendTelemetryData */"./packages/@logrocket/utils/src/sendTelemetryData.js")),E=k(_(/*! ./logError */"./packages/@logrocket/utils/src/logError.js"))},"./packages/@logrocket/utils/src/scrubException.ts":
/*!*********************************************************!*\
					  !*** ./packages/@logrocket/utils/src/scrubException.ts ***!
					  \*********************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.scrubException=function(e,l){if(l){var _,k=_createForOfIteratorHelper(E);try{for(k.s();!(_=k.n()).done;){var S=_.value,O=l[S];isScalar(O)&&(e[S]=O.toString())}}catch(z){k.e(z)}finally{k.f()}var I,R=_createForOfIteratorHelper(T);try{for(R.s();!(I=R.n()).done;){for(var M=I.value,j=l[M]||{},D={},L=0,U=Object.keys(j);L<U.length;L++){var B=U[L],q=j[B];isScalar(q)&&(D[B.toString()]=q.toString())}e[M]=D}}catch(z){R.e(z)}finally{R.f()}}};var S=k(_(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js"));function _createForOfIteratorHelper(e,l){var _="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!_){if(Array.isArray(e)||(_=function(e,l){if(e){if("string"==typeof e)return _arrayLikeToArray(e,l);var _=Object.prototype.toString.call(e).slice(8,-1);return"Object"===_&&e.constructor&&(_=e.constructor.name),"Map"===_||"Set"===_?Array.from(e):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray(e,l):void 0}}(e))||l){_&&(e=_);var k=0,F=function(){};return{s:F,n:function(){return k>=e.length?{done:!0}:{done:!1,value:e[k++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S,E=!0,T=!1;return{s:function(){_=_.call(e)},n:function(){var e=_.next();return E=e.done,e},e:function(e){T=!0,S=e},f:function(){try{E||null==_.return||_.return()}finally{if(T)throw S}}}}function _arrayLikeToArray(e,l){(null==l||l>e.length)&&(l=e.length);for(var _=0,k=new Array(l);_<l;_++)k[_]=e[_];return k}function isScalar(e){return/boolean|number|string/.test((0,S.default)(e))}var E=["level","logger"],T=["tags","extra"]},"./packages/@logrocket/utils/src/sendTelemetryData.js":
/*!************************************************************!*\
					  !*** ./packages/@logrocket/utils/src/sendTelemetryData.js ***!
					  \************************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.sendTelemetry=function(e,l){"undefined"!=typeof window&&window._lrdebug?(0,E.default)(e):l&&l.extra&&l.extra.appID&&"function"==typeof l.extra.appID.indexOf&&0===l.extra.appID.indexOf("au2drp/")&&Math.random()>=.25||_sendToSentry(_objectSpread({message:e},l))},l.default=function(e,l){try{var _,k,S=e.message;try{_=JSON.stringify(l).slice(0,1e3)}catch(e){try{_="Could not stringify payload: ".concat(Object.prototype.toString.call(l))}catch(e){}}try{k=T.default.computeStackTrace(e).stack.map(function(e){return{filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"}})}catch(e){}_sendToSentry({message:S,extra:{stringPayload:_},exception:{values:[{type:e.type,value:S,stacktrace:{frames:k}}]}})}catch(e){(0,E.default)("Failed to send",e)}};var S=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),E=k(_(/*! ./logError */"./packages/@logrocket/utils/src/logError.js")),T=k(_(/*! ./TraceKit */"./packages/@logrocket/utils/src/TraceKit.js"));function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){(0,S.default)(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}var O="8304d923ee86bbba88df4d491ccbc1c75ecfbe70";function _sendToSentry(e){try{var l,_,k=e.message,S="https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793",T=JSON.stringify(_objectSpread({message:k,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":"undefined"!=typeof navigator&&navigator.userAgent},url:"undefined"!=typeof location&&location.href},release:O,environment:(null===(l=window)||void 0===l||null===(_=l.__SDKCONFIG__)||void 0===_?void 0:_.scriptEnv)||"prod"},e));if("undefined"!=typeof window){var I=new(window._lrXMLHttpRequest||XMLHttpRequest);I.open("POST",S),I.send(T)}else"undefined"!=typeof fetch&&fetch(S,{method:"POST",body:T}).catch(function(e){(0,E.default)("Failed to send via fetch",e)})}catch(R){(0,E.default)("Failed to send",R)}}},"./packages/@logrocket/utils/src/startsWith.js":
/*!*****************************************************!*\
					  !*** ./packages/@logrocket/utils/src/startsWith.js ***!
					  \*****************************************************/function(e,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e&&l&&e.substring(_,_+l.length)===l}},"./packages/logrocket/src/LogRocket.js":
/*!*********************************************!*\
					  !*** ./packages/logrocket/src/LogRocket.js ***!
					  \*********************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.MAX_QUEUE_SIZE=void 0;var S=k(_(/*! @babel/runtime/helpers/classCallCheck */"./node_modules/@babel/runtime/helpers/classCallCheck.js")),E=k(_(/*! @babel/runtime/helpers/createClass */"./node_modules/@babel/runtime/helpers/createClass.js")),T=k(_(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js")),O=k(_(/*! @babel/runtime/helpers/objectWithoutProperties */"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),I=k(_(/*! @logrocket/network */"./packages/@logrocket/network/src/index.js")),R=_(/*! @logrocket/exceptions */"./packages/@logrocket/exceptions/src/index.js"),M=k(_(/*! @logrocket/console */"./packages/@logrocket/console/src/index.js")),j=_(/*! @logrocket/redux */"./packages/@logrocket/redux/src/index.js");function ownKeys(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);l&&(k=k.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),_.push.apply(_,k)}return _}function _objectSpread(e){for(var l=1;l<arguments.length;l++){var _=null!=arguments[l]?arguments[l]:{};l%2?ownKeys(Object(_),!0).forEach(function(l){(0,T.default)(e,l,_[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(_,l))})}return e}l.MAX_QUEUE_SIZE=1e3;var D=function(){function LogRocket(){var e=this;(0,S.default)(this,LogRocket),this._buffer=[],["log","info","warn","error","debug"].forEach(function(l){e[l]=function(){for(var _=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];e.addEvent("lr.core.LogEvent",function(){return"error"===l&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldAggregateConsoleErrors&&R.Capture.captureMessage(e,k[0],k,{},!0),{logLevel:l.toUpperCase(),args:k}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,E.default)(LogRocket,[{key:"addEvent",value:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=Date.now();this._run(function(S){S.addEvent(e,l,_objectSpread(_objectSpread({},_),{},{timeOverride:k}))})}},{key:"onLogger",value:function(e){for(this._logger=e;this._buffer.length>0;)this._buffer.shift()(this._logger)}},{key:"_run",value:function(e){if(!this._isDisabled)if(this._logger)e(this._logger);else{if(this._buffer.length>=1e3)return this._isDisabled=!0,void this.uninstall();this._buffer.push(e.bind(this))}}},{key:"init",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._isInitialized){var _,k=l.shouldAugmentNPS,S=void 0===k||k,E=l.shouldParseXHRBlob,T=void 0!==E&&E,j=l.shouldDetectExceptions;(void 0===j||j)&&this._installed.push((0,R.registerExceptions)(this)),this._installed.push((0,I.default)(this,{shouldAugmentNPS:!!S,shouldParseXHRBlob:!!T,isDisabled:!1===(null==l||null===(_=l.network)||void 0===_?void 0:_.isEnabled)})),this._installed.push((0,M.default)(this)),this._isInitialized=!0,this._run(function(_){_.init(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.ingestServer,_=(0,O.default)(e,["ingestServer"]);return l?_objectSpread({serverURL:"".concat(l,"/i"),statsURL:"".concat(l,"/s")},_):_}(l))})}}},{key:"start",value:function(){this._run(function(e){e.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(e){return e()}),this._buffer=[],this._run(function(e){e.uninstall()})}},{key:"identify",value:function(e,l){this._run(function(_){_.identify(e,l)})}},{key:"startNewSession",value:function(){this._run(function(e){e.startNewSession()})}},{key:"track",value:function(e,l){this._run(function(_){_.track(e,l)})}},{key:"getSessionURL",value:function(e){if("function"!=typeof e)throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(l){l.getSessionURL?l.getSessionURL(e):e(l.recordingURL)})}},{key:"trackScrollEvent",value:function(e){this._logger&&this._logger.trackScrollEvent(e)}},{key:"getVersion",value:function(e){this._run(function(l){e(l.version)})}},{key:"captureMessage",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.Capture.captureMessage(this,e,[e],l)}},{key:"captureException",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.Capture.captureException(this,e,l)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,j.createEnhancer)(this,e)}},{key:"reduxMiddleware",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,j.createMiddleware)(this,e)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),LogRocket}();l.default=D},"./packages/logrocket/src/makeLogRocket.js":
/*!*************************************************!*\
					  !*** ./packages/logrocket/src/makeLogRocket.js ***!
					  \*************************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:makeNoopPolyfill,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return new S.default};if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)throw new Error(E);if("undefined"!=typeof window){if(window._disableLogRocket)return l();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var k=_();return e(k),k}}return makeNoopPolyfill()};var S=k(_(/*! ./LogRocket */"./packages/logrocket/src/LogRocket.js")),E="LogRocket on React Native requires the LogRocket React Native specific SDK. See setup guide here https://docs.logrocket.com/reference/react-native.",makeNoopPolyfill=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(e){return function(){return e.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(e){return function(l){return e(l)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}}},"./packages/logrocket/src/setup.js":
/*!*****************************************!*\
					  !*** ./packages/logrocket/src/setup.js ***!
					  \*****************************************/function(e,l,_){var k=_(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.getDomainsAndEnv=getDomainsAndEnv,l.setupBaseSDKCONFIG=setupBaseSDKCONFIG,l.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.enterpriseServer,_=e.sdkVersion,k=void 0===_?"10.1.0":_,T=(0,S.default)(e,["enterpriseServer","sdkVersion"]),O=getDomainsAndEnv(k),I=O.scriptEnv,R=O.scriptOrigin,M=O.scriptIngest,j=T.sdkServer||l,D=T.ingestServer||l||M,L=(0,E.default)(function(){var e=document.createElement("script");D&&(setupBaseSDKCONFIG(D),window.__SDKCONFIG__.scriptEnv=I),j?e.src="".concat(j,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?e.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?e.src=window._lrAsyncScript:e.src="".concat(R,"/logger-1.min.js"),e.async=!0,document.head.appendChild(e),e.onload=function(){"function"==typeof window._LRLogger?setTimeout(function(){L.onLogger(new window._LRLogger({sdkVersion:k}))}):L.uninstall()},e.onerror=function(){L.uninstall()}});return L};var S=k(_(/*! @babel/runtime/helpers/objectWithoutProperties */"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),E=k(_(/*! ./makeLogRocket */"./packages/logrocket/src/makeLogRocket.js")),T={"cdn.logrocket.com":"https://r.logrocket.io","cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn.ingest-lr.com":"https://r.ingest-lr.com","cdn.lr-intake.com":"https://r.lr-intake.com","cdn.intake-lr.com":"https://r.intake-lr.com","cdn.logr-ingest.com":"https://r.logr-ingest.com","cdn.lrkt-in.com":"https://r.lrkt-in.com","cdn.lgrckt-in.com":"https://r.lgrckt-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com","cdn-staging.ingest-lr.com":"https://staging-i.ingest-lr.com","cdn-staging.lr-intake.com":"https://staging-i.lr-intake.com","cdn-staging.intake-lr.com":"https://staging-i.intake-lr.com","cdn-staging.logr-ingest.com":"https://staging-i.logr-ingest.com","cdn-staging.lrkt-in.com":"https://staging-i.lrkt-in.com","cdn-staging.lgrckt-in.com":"https://staging-i.lgrckt-in.com"};function getDomainsAndEnv(e){if("script"===e||"shopify-pixel"===e){try{var l=document.currentScript.src.match(/^(https?:\/\/([^\\]+))\/.+$/),_=l&&l[2];if(_&&T[_])return{scriptEnv:(k=_,k.startsWith("cdn-staging")?"staging":k.startsWith("localhost")?"development":"prod"),scriptOrigin:l&&l[1],scriptIngest:T[_]}}catch(S){}return{scriptEnv:"prod",scriptOrigin:"https://cdn.logrocket.io"}}return{scriptEnv:void 0,scriptOrigin:"https://cdn.lgrckt-in.com",scriptIngest:"https://r.lgrckt-in.com"};var k}function setupBaseSDKCONFIG(e){void 0===window.__SDKCONFIG__&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(e,"/i"),window.__SDKCONFIG__.statsURL="".concat(e,"/s")}},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":
/*!*****************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
					  \*****************************************************************/function(e){e.exports=function(e,l){(null==l||l>e.length)&&(l=e.length);for(var _=0,k=new Array(l);_<l;_++)k[_]=e[_];return k},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!******************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
					  \******************************************************************/function(e,l,_){var k=_(/*! ./arrayLikeToArray.js */"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e){if(Array.isArray(e))return k(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
					  \***************************************************************/function(e){e.exports=function(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
					  \************************************************************/function(e,l,_){var k=_(/*! ./toPropertyKey.js */"./node_modules/@babel/runtime/helpers/toPropertyKey.js");function _defineProperties(e,l){for(var _=0;_<l.length;_++){var S=l[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(e,k(S.key),S)}}e.exports=function(e,l,_){return l&&_defineProperties(e.prototype,l),_&&_defineProperties(e,_),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
					  \***************************************************************/function(e,l,_){var k=_(/*! ./toPropertyKey.js */"./node_modules/@babel/runtime/helpers/toPropertyKey.js");e.exports=function(e,l,_){return(l=k(l))in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!**********************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
					  \**********************************************************************/function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!****************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/iterableToArray.js ***!
					  \****************************************************************/function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!******************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
					  \******************************************************************/function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":
/*!************************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js ***!
					  \************************************************************************/function(e,l,_){var k=_(/*! ./objectWithoutPropertiesLoose.js */"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,l){if(null==e)return{};var _,S,E=k(e,l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(e);for(S=0;S<T.length;S++)_=T[S],l.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(e,_)&&(E[_]=e[_])}return E},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":
/*!*****************************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
					  \*****************************************************************************/function(e){e.exports=function(e,l){if(null==e)return{};var _,k,S={},E=Object.keys(e);for(k=0;k<E.length;k++)_=E[k],l.indexOf(_)>=0||(S[_]=e[_]);return S},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!******************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
					  \******************************************************************/function(e,l,_){var k=_(/*! ./arrayWithoutHoles.js */"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),S=_(/*! ./iterableToArray.js */"./node_modules/@babel/runtime/helpers/iterableToArray.js"),E=_(/*! ./unsupportedIterableToArray.js */"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),T=_(/*! ./nonIterableSpread.js */"./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return k(e)||S(e)||E(e)||T()},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":
/*!************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/toPrimitive.js ***!
					  \************************************************************/function(e,l,_){var k=_(/*! ./typeof.js */"./node_modules/@babel/runtime/helpers/typeof.js").default;e.exports=function(e,l){if("object"!==k(e)||null===e)return e;var _=e[Symbol.toPrimitive];if(void 0!==_){var S=_.call(e,l||"default");if("object"!==k(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":
/*!**************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/toPropertyKey.js ***!
					  \**************************************************************/function(e,l,_){var k=_(/*! ./typeof.js */"./node_modules/@babel/runtime/helpers/typeof.js").default,S=_(/*! ./toPrimitive.js */"./node_modules/@babel/runtime/helpers/toPrimitive.js");e.exports=function(e){var l=S(e,"string");return"symbol"===k(l)?l:String(l)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
					  \*******************************************************/function(e){function _typeof(l){return e.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,_typeof(l)}e.exports=_typeof,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":
/*!***************************************************************************!*\
					  !*** ./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
					  \***************************************************************************/function(e,l,_){var k=_(/*! ./arrayLikeToArray.js */"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e,l){if(e){if("string"==typeof e)return k(e,l);var _=Object.prototype.toString.call(e).slice(8,-1);return"Object"===_&&e.constructor&&(_=e.constructor.name),"Map"===_||"Set"===_?Array.from(e):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?k(e,l):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},l={};function __webpack_require__(_){var k=l[_];if(void 0!==k)return k.exports;var S=l[_]={exports:{}};return e[_](S,S.exports,__webpack_require__),S.exports}__webpack_require__.g=function(){if("object"===("undefined"==typeof globalThis?"undefined":_typeof3(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(ta){if("object"===("undefined"==typeof window?"undefined":_typeof3(window)))return window}}();var _={};return function(){var e=_,l=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");
/*!**********************************************!*\
					  !*** ./packages/logrocket/src/module-npm.js ***!
					  \**********************************************/Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var k=(0,l(__webpack_require__(/*! ./setup */"./packages/logrocket/src/setup.js")).default)();e.default=k}(),_=_.default}()})}(re));var ne,ie,ae,oe,se,ue,le,ce,he,de,fe,pe={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ve={duration:.5,overwrite:!1,delay:0},ge=1e8,me=1e-8,ye=2*Math.PI,_e=ye/4,be=0,ke=Math.sqrt,we=Math.cos,Se=Math.sin,_isString=function(e){return"string"==typeof e},_isFunction=function(e){return"function"==typeof e},_isNumber=function(e){return"number"==typeof e},_isUndefined=function(e){return void 0===e},_isObject=function(e){return"object"===_typeof3(e)},_isNotFalse=function(e){return!1!==e},_windowExists$1=function(){return"undefined"!=typeof window},_isFuncOrString=function(e){return _isFunction(e)||_isString(e)},Ce="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ee=Array.isArray,Te=/(?:-?\.?\d|\.)+/gi,Ae=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Oe=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Ie=/[+-]=-?[.\d]+/,Re=/[^,'"\[\]\s]+/gi,Pe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Me={},je={},_install=function(e){return(je=_merge(e,Me))&&At},_missingPlugin=function(e,l){},_warn=function(e,l){return!l&&void 0},_addGlobal=function(e,l){return e&&(Me[e]=l)&&je&&(je[e]=l)||Me},_emptyFunc=function(){return 0},De={suppressEvents:!0,isStart:!0,kill:!1},Fe={suppressEvents:!0,kill:!1},Le={suppressEvents:!0},Ne={},Ue=[],Be={},qe={},ze={},Ge=30,We=[],Ve="",_harness=function(e){var l,_,k=e[0];if(_isObject(k)||_isFunction(k)||(e=[e]),!(l=(k._gsap||{}).harness)){for(_=We.length;_--&&!We[_].targetTest(k););l=We[_]}for(_=e.length;_--;)e[_]&&(e[_]._gsap||(e[_]._gsap=new GSCache(e[_],l)))||e.splice(_,1);return e},_getCache=function(e){return e._gsap||_harness(toArray$2(e))[0]._gsap},_getProperty=function(e,l,_){return(_=e[l])&&_isFunction(_)?e[l]():_isUndefined(_)&&e.getAttribute&&e.getAttribute(l)||_},_forEachName=function(e,l){return(e=e.split(",")).forEach(l)||e},_round=function(e){return Math.round(1e5*e)/1e5||0},_roundPrecise=function(e){return Math.round(1e7*e)/1e7||0},_parseRelative=function(e,l){var _=l.charAt(0),k=parseFloat(l.substr(2));return e=parseFloat(e),"+"===_?e+k:"-"===_?e-k:"*"===_?e*k:e/k},_arrayContainsAny=function(e,l){for(var _=l.length,k=0;e.indexOf(l[k])<0&&++k<_;);return k<_},_lazyRender=function(){var e,l,_=Ue.length,k=Ue.slice(0);for(Be={},Ue.length=0,e=0;e<_;e++)(l=k[e])&&l._lazy&&(l.render(l._lazy[0],l._lazy[1],!0)._lazy=0)},_isRevertWorthy=function(e){return!!(e._initted||e._startAt||e.add)},_lazySafeRender=function(e,l,_,k){Ue.length&&!ie&&_lazyRender(),e.render(l,_,!!(ie&&l<0&&_isRevertWorthy(e))),Ue.length&&!ie&&_lazyRender()},_numericIfPossible=function(e){var l=parseFloat(e);return(l||0===l)&&(e+"").match(Re).length<2?l:_isString(e)?e.trim():e},_passThrough=function(e){return e},_setDefaults=function(e,l){for(var _ in l)_ in e||(e[_]=l[_]);return e},_merge=function(e,l){for(var _ in l)e[_]=l[_];return e},Ke=function _mergeDeep(e,l){for(var _ in l)"__proto__"!==_&&"constructor"!==_&&"prototype"!==_&&(e[_]=_isObject(l[_])?_mergeDeep(e[_]||(e[_]={}),l[_]):l[_]);return e},_copyExcluding=function(e,l){var _,k={};for(_ in e)_ in l||(k[_]=e[_]);return k},_inheritDefaults=function(e){var l,_=e.parent||oe,k=e.keyframes?(l=Ee(e.keyframes),function(e,_){for(var k in _)k in e||"duration"===k&&l||"ease"===k||(e[k]=_[k])}):_setDefaults;if(_isNotFalse(e.inherit))for(;_;)k(e,_.vars.defaults),_=_.parent||_._dp;return e},_addLinkedListItem=function(e,l,_,k,S){var E,T=e[k];if(S)for(E=l[S];T&&T[S]>E;)T=T._prev;return T?(l._next=T._next,T._next=l):(l._next=e[_],e[_]=l),l._next?l._next._prev=l:e[k]=l,l._prev=T,l.parent=l._dp=e,l},_removeLinkedListItem=function(e,l,_,k){void 0===_&&(_="_first"),void 0===k&&(k="_last");var S=l._prev,E=l._next;S?S._next=E:e[_]===l&&(e[_]=E),E?E._prev=S:e[k]===l&&(e[k]=S),l._next=l._prev=l.parent=null},_removeFromParent=function(e,l){e.parent&&(!l||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_uncache=function(e,l){if(e&&(!l||l._end>e._dur||l._start<0))for(var _=e;_;)_._dirty=1,_=_.parent;return e},_rewindStartAt=function(e,l,_,k){return e._startAt&&(ie?e._startAt.revert(Fe):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(l,!0,k))},He=function _hasNoPausedAncestors(e){return!e||e._ts&&_hasNoPausedAncestors(e.parent)},_elapsedCycleDuration=function(e){return e._repeat?_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle=function(e,l){var _=Math.floor(e=_roundPrecise(e/l));return e&&_===e?_-1:_},_parentToChildTotalTime=function(e,l){return(e-l._start)*l._ts+(l._ts>=0?0:l._dirty?l.totalDuration():l._tDur)},_setEnd=function(e){return e._end=_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||me)||0))},_alignPlayhead=function(e,l){var _=e._dp;return _&&_.smoothChildTiming&&e._ts&&(e._start=_roundPrecise(_._time-(e._ts>0?l/e._ts:((e._dirty?e.totalDuration():e._tDur)-l)/-e._ts)),_setEnd(e),_._dirty||_uncache(_,e)),e},_postAddChecks=function(e,l){var _;if((l._time||!l._dur&&l._initted||l._start<e._time&&(l._dur||!l.add))&&(_=_parentToChildTotalTime(e.rawTime(),l),(!l._dur||_clamp(0,l.totalDuration(),_)-l._tTime>me)&&l.render(_,!0)),_uncache(e,l)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(_=e;_._dp;)_.rawTime()>=0&&_.totalTime(_._tTime),_=_._dp;e._zTime=-1e-8}},_addToTimeline=function(e,l,_,k){return l.parent&&_removeFromParent(l),l._start=_roundPrecise((_isNumber(_)?_:_||e!==oe?Ye(e,_,l):e._time)+l._delay),l._end=_roundPrecise(l._start+(l.totalDuration()/Math.abs(l.timeScale())||0)),_addLinkedListItem(e,l,"_first","_last",e._sort?"_start":0),_isFromOrFromStart(l)||(e._recent=l),k||_postAddChecks(e,l),e._ts<0&&_alignPlayhead(e,e._tTime),e},_scrollTrigger=function(e,l){return Me.ScrollTrigger?Me.ScrollTrigger.create(l,e):void 0},_attemptInitTween=function(e,l,_,k,S){return pt(e,l,S),e._initted?!_&&e._pt&&!ie&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&he!==nt.frame?(Ue.push(e),e._lazy=[S,k],1):void 0:1},$e=function _parentPlayheadIsBeforeStart(e){var l=e.parent;return l&&l._ts&&l._initted&&!l._lock&&(l.rawTime()<0||_parentPlayheadIsBeforeStart(l))},_isFromOrFromStart=function(e){var l=e.data;return"isFromStart"===l||"isStart"===l},_setDuration=function(e,l,_,k){var S=e._repeat,E=_roundPrecise(l)||0,T=e._tTime/e._tDur;return T&&!k&&(e._time*=E/e._dur),e._dur=E,e._tDur=S?S<0?1e10:_roundPrecise(E*(S+1)+e._rDelay*S):E,T>0&&!k&&_alignPlayhead(e,e._tTime=e._tDur*T),e.parent&&_setEnd(e),_||_uncache(e.parent,e),e},_onUpdateTotalDuration=function(e){return e instanceof ht?_uncache(e):_setDuration(e,e._dur)},Je={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},Ye=function _parsePosition(e,l,_){var k,S,E,T=e.labels,O=e._recent||Je,I=e.duration()>=ge?O.endTime(!1):e._dur;return _isString(l)&&(isNaN(l)||l in T)?(S=l.charAt(0),E="%"===l.substr(-1),k=l.indexOf("="),"<"===S||">"===S?(k>=0&&(l=l.replace(/=/,"")),("<"===S?O._start:O.endTime(O._repeat>=0))+(parseFloat(l.substr(1))||0)*(E?(k<0?O:_).totalDuration()/100:1)):k<0?(l in T||(T[l]=I),T[l]):(S=parseFloat(l.charAt(k-1)+l.substr(k+1)),E&&_&&(S=S/100*(Ee(_)?_[0]:_).totalDuration()),k>1?_parsePosition(e,l.substr(0,k-1),_)+S:I+S)):null==l?I:+l},_createTweenType=function(e,l,_){var k,S,E=_isNumber(l[1]),T=(E?2:1)+(e<2?0:1),O=l[T];if(E&&(O.duration=l[1]),O.parent=_,e){for(k=O,S=_;S&&!("immediateRender"in k);)k=S.vars.defaults||{},S=_isNotFalse(S.vars.inherit)&&S.parent;O.immediateRender=_isNotFalse(k.immediateRender),e<2?O.runBackwards=1:O.startAt=l[T-1]}return new mt(l[0],O,l[T+1])},_conditionalReturn=function(e,l){return e||0===e?l(e):l},_clamp=function(e,l,_){return _<e?e:_>l?l:_},getUnit=function(e,l){return _isString(e)&&(l=Pe.exec(e))?l[1]:""},Xe=[].slice,_isArrayLike=function(e,l){return e&&_isObject(e)&&"length"in e&&(!l&&!e.length||e.length-1 in e&&_isObject(e[0]))&&!e.nodeType&&e!==se},toArray$2=function(e,l,_){return ae&&!l&&ae.selector?ae.selector(e):!_isString(e)||_||!ue&&_wake()?Ee(e)?function(e,l,_){return void 0===_&&(_=[]),e.forEach(function(e){var k;return _isString(e)&&!l||_isArrayLike(e,1)?(k=_).push.apply(k,toArray$2(e)):_.push(e)})||_}(e,_):_isArrayLike(e)?Xe.call(e,0):e?[e]:[]:Xe.call((l||le).querySelectorAll(e),0)},selector=function(e){return e=toArray$2(e)[0]||_warn()||{},function(l){var _=e.current||e.nativeElement||e;return toArray$2(l,_.querySelectorAll?_:_===e?_warn()||le.createElement("div"):e)}},shuffle=function(e){return e.sort(function(){return.5-Math.random()})},distribute=function(e){if(_isFunction(e))return e;var l=_isObject(e)?e:{each:e},_=_parseEase(l.ease),k=l.from||0,S=parseFloat(l.base)||0,E={},T=k>0&&k<1,O=isNaN(k)||T,I=l.axis,R=k,M=k;return _isString(k)?R=M={center:.5,edges:.5,end:1}[k]||0:!T&&O&&(R=k[0],M=k[1]),function(e,T,j){var D,L,U,B,q,z,G,W,V,K=(j||l).length,H=E[K];if(!H){if(!(V="auto"===l.grid?0:(l.grid||[1,ge])[1])){for(G=-1e8;G<(G=j[V++].getBoundingClientRect().left)&&V<K;);V<K&&V--}for(H=E[K]=[],D=O?Math.min(V,K)*R-.5:k%V,L=V===ge?0:O?K*M/V-.5:k/V|0,G=0,W=ge,z=0;z<K;z++)U=z%V-D,B=L-(z/V|0),H[z]=q=I?Math.abs("y"===I?B:U):ke(U*U+B*B),q>G&&(G=q),q<W&&(W=q);"random"===k&&shuffle(H),H.max=G-W,H.min=W,H.v=K=(parseFloat(l.amount)||parseFloat(l.each)*(V>K?K-1:I?"y"===I?K/V:V:Math.max(V,K/V))||0)*("edges"===k?-1:1),H.b=K<0?S-K:S,H.u=getUnit(l.amount||l.each)||0,_=_&&K<0?_invertEase(_):_}return K=(H[e]-H.min)/H.max||0,_roundPrecise(H.b+(_?_(K):K)*H.v)+H.u}},_roundModifier=function(e){var l=Math.pow(10,((e+"").split(".")[1]||"").length);return function(_){var k=_roundPrecise(Math.round(parseFloat(_)/e)*e*l);return(k-k%1)/l+(_isNumber(_)?0:getUnit(_))}},snap=function(e,l){var _,k,S=Ee(e);return!S&&_isObject(e)&&(_=S=e.radius||ge,e.values?(e=toArray$2(e.values),(k=!_isNumber(e[0]))&&(_*=_)):e=_roundModifier(e.increment)),_conditionalReturn(l,S?_isFunction(e)?function(l){return k=e(l),Math.abs(k-l)<=_?k:l}:function(l){for(var S,E,T=parseFloat(k?l.x:l),O=parseFloat(k?l.y:0),I=ge,R=0,M=e.length;M--;)(S=k?(S=e[M].x-T)*S+(E=e[M].y-O)*E:Math.abs(e[M]-T))<I&&(I=S,R=M);return R=!_||I<=_?e[R]:l,k||R===l||_isNumber(l)?R:R+getUnit(l)}:_roundModifier(e))},random=function(e,l,_,k){return _conditionalReturn(Ee(e)?!l:!0===_?!!(_=0):!k,function(){return Ee(e)?e[~~(Math.random()*e.length)]:(_=_||1e-5)&&(k=_<1?Math.pow(10,(_+"").length-2):1)&&Math.floor(Math.round((e-_/2+Math.random()*(l-e+.99*_))/_)*_*k)/k})},_wrapArray=function(e,l,_){return _conditionalReturn(_,function(_){return e[~~l(_)]})},_replaceRandom=function(e){for(var l,_,k,S,E=0,T="";~(l=e.indexOf("random(",E));)k=e.indexOf(")",l),S="["===e.charAt(l+7),_=e.substr(l+7,k-l-7).match(S?Re:Te),T+=e.substr(E,l-E)+random(S?_:+_[0],S?0:+_[1],+_[2]||1e-5),E=k+1;return T+e.substr(E,e.length-E)},mapRange=function(e,l,_,k,S){var E=l-e,T=k-_;return _conditionalReturn(S,function(l){return _+((l-e)/E*T||0)})},_getLabelInDirection=function(e,l,_){var k,S,E,T=e.labels,O=ge;for(k in T)(S=T[k]-l)<0==!!_&&S&&O>(S=Math.abs(S))&&(E=k,O=S);return E},_callback=function(e,l,_){var k,S,E,T=e.vars,O=T[l],I=ae,R=e._ctx;if(O)return k=T[l+"Params"],S=T.callbackScope||e,_&&Ue.length&&_lazyRender(),R&&(ae=R),E=k?O.apply(S,k):O.call(S),ae=I,E},_interrupt=function(e){return _removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ie),e.progress()<1&&_callback(e,"onInterrupt"),e},Ze=[],_createPlugin=function(e){if(e)if(e=!e.name&&e.default||e,_windowExists$1()||e.headless){var l=e.name,_=_isFunction(e),k=l&&!_&&e.init?function(){this._props=[]}:e,S={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},E={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),e!==k){if(qe[l])return;_setDefaults(k,_setDefaults(_copyExcluding(e,S),E)),_merge(k.prototype,_merge(S,_copyExcluding(e,E))),qe[k.prop=l]=k,e.targetTest&&(We.push(k),Ne[l]=1),l=("css"===l?"CSS":l.charAt(0).toUpperCase()+l.substr(1))+"Plugin"}_addGlobal(l,k),e.register&&e.register(At,k,yt)}else Ze.push(e)},Qe=255,et={aqua:[0,Qe,Qe],lime:[0,Qe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Qe],navy:[0,0,128],white:[Qe,Qe,Qe],olive:[128,128,0],yellow:[Qe,Qe,0],orange:[Qe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Qe,0,0],pink:[Qe,192,203],cyan:[0,Qe,Qe],transparent:[Qe,Qe,Qe,0]},_hue=function(e,l,_){return(6*(e+=e<0?1:e>1?-1:0)<1?l+(_-l)*e*6:e<.5?_:3*e<2?l+(_-l)*(2/3-e)*6:l)*Qe+.5|0},splitColor$1=function(e,l,_){var k,S,E,T,O,I,R,M,j,D,L=e?_isNumber(e)?[e>>16,e>>8&Qe,e&Qe]:0:et.black;if(!L){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),et[e])L=et[e];else if("#"===e.charAt(0)){if(e.length<6&&(k=e.charAt(1),S=e.charAt(2),E=e.charAt(3),e="#"+k+k+S+S+E+E+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(L=parseInt(e.substr(1,6),16))>>16,L>>8&Qe,L&Qe,parseInt(e.substr(7),16)/255];L=[(e=parseInt(e.substr(1),16))>>16,e>>8&Qe,e&Qe]}else if("hsl"===e.substr(0,3))if(L=D=e.match(Te),l){if(~e.indexOf("="))return L=e.match(Ae),_&&L.length<4&&(L[3]=1),L}else T=+L[0]%360/360,O=+L[1]/100,k=2*(I=+L[2]/100)-(S=I<=.5?I*(O+1):I+O-I*O),L.length>3&&(L[3]*=1),L[0]=_hue(T+1/3,k,S),L[1]=_hue(T,k,S),L[2]=_hue(T-1/3,k,S);else L=e.match(Te)||et.transparent;L=L.map(Number)}return l&&!D&&(k=L[0]/Qe,S=L[1]/Qe,E=L[2]/Qe,I=((R=Math.max(k,S,E))+(M=Math.min(k,S,E)))/2,R===M?T=O=0:(j=R-M,O=I>.5?j/(2-R-M):j/(R+M),T=R===k?(S-E)/j+(S<E?6:0):R===S?(E-k)/j+2:(k-S)/j+4,T*=60),L[0]=~~(T+.5),L[1]=~~(100*O+.5),L[2]=~~(100*I+.5)),_&&L.length<4&&(L[3]=1),L},_colorOrderData=function(e){var l=[],_=[],k=-1;return e.split(tt).forEach(function(e){var S=e.match(xe)||[];l.push.apply(l,S),_.push(k+=S.length+1)}),l.c=_,l},_formatColors=function(e,l,_){var k,S,E,T,O="",I=(e+O).match(tt),R=l?"hsla(":"rgba(",M=0;if(!I)return e;if(I=I.map(function(e){return(e=splitColor$1(e,l,1))&&R+(l?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),_&&(E=_colorOrderData(e),(k=_.c).join(O)!==E.c.join(O)))for(T=(S=e.replace(tt,"1").split(xe)).length-1;M<T;M++)O+=S[M]+(~k.indexOf(M)?I.shift()||R+"0,0,0,0)":(E.length?E:I.length?I:_).shift());if(!S)for(T=(S=e.split(tt)).length-1;M<T;M++)O+=S[M]+I[M];return O+S[T]},tt=function(){var e,l="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in et)l+="|"+e+"\\b";return new RegExp(l+")","gi")}(),rt=/hsl[a]?\(/,_colorStringFilter=function(e){var l,_=e.join(" ");if(tt.lastIndex=0,tt.test(_))return l=rt.test(_),e[1]=_formatColors(e[1],l),e[0]=_formatColors(e[0],l,_colorOrderData(e[1])),!0},nt=function(){var e,l,_,k,S,E,T=Date.now,O=500,I=33,R=T(),M=R,j=1e3/240,D=j,L=[],U=function _tick(_){var U,B,q,z,G=T()-M,W=!0===_;if((G>O||G<0)&&(R+=G-I),((U=(q=(M+=G)-R)-D)>0||W)&&(z=++k.frame,S=q-1e3*k.time,k.time=q/=1e3,D+=U+(U>=j?4:j-U),B=1),W||(e=l(_tick)),B)for(E=0;E<L.length;E++)L[E](q,S,z,_)};return k={time:0,frame:0,tick:function(){U(!0)},deltaRatio:function(e){return S/(1e3/(e||60))},wake:function(){ce&&(!ue&&_windowExists$1()&&(se=ue=window,le=se.document||{},Me.gsap=At,(se.gsapVersions||(se.gsapVersions=[])).push(At.version),_install(je||se.GreenSockGlobals||!se.gsap&&se||{}),Ze.forEach(_createPlugin)),_="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,e&&k.sleep(),l=_||function(e){return setTimeout(e,D-1e3*k.time+1|0)},fe=1,U(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(e),fe=0,l=_emptyFunc},lagSmoothing:function(e,l){O=e||1/0,I=Math.min(l||33,O)},fps:function(e){j=1e3/(e||240),D=1e3*k.time+j},add:function(e,l,_){var S=l?function(l,_,E,T){e(l,_,E,T),k.remove(S)}:e;return k.remove(e),L[_?"unshift":"push"](S),_wake(),S},remove:function(e,l){~(l=L.indexOf(e))&&L.splice(l,1)&&E>=l&&E--},_listeners:L},k}(),_wake=function(){return!fe&&nt.wake()},it={},at=/^[\d.\-M][\d.\-,\s]/,ot=/["']/g,_parseObjectInString=function(e){for(var l,_,k,S={},E=e.substr(1,e.length-3).split(":"),T=E[0],O=1,I=E.length;O<I;O++)_=E[O],l=O!==I-1?_.lastIndexOf(","):_.length,k=_.substr(0,l),S[T]=isNaN(k)?k.replace(ot,"").trim():+k,T=_.substr(l+1).trim();return S},_invertEase=function(e){return function(l){return 1-e(1-l)}},st=function _propagateYoyoEase(e,l){for(var _,k=e._first;k;)k instanceof ht?_propagateYoyoEase(k,l):!k.vars.yoyoEase||k._yoyo&&k._repeat||k._yoyo===l||(k.timeline?_propagateYoyoEase(k.timeline,l):(_=k._ease,k._ease=k._yEase,k._yEase=_,k._yoyo=l)),k=k._next},_parseEase=function(e,l){return e&&(_isFunction(e)?e:it[e]||function(e){var l,_,k,S,E=(e+"").split("("),T=it[E[0]];return T&&E.length>1&&T.config?T.config.apply(null,~e.indexOf("{")?[_parseObjectInString(E[1])]:(l=e,_=l.indexOf("(")+1,k=l.indexOf(")"),S=l.indexOf("(",_),l.substring(_,~S&&S<k?l.indexOf(")",k+1):k)).split(",").map(_numericIfPossible)):it._CE&&at.test(e)?it._CE("",e):T}(e))||l},_insertEase=function(e,l,_,k){void 0===_&&(_=function(e){return 1-l(1-e)}),void 0===k&&(k=function(e){return e<.5?l(2*e)/2:1-l(2*(1-e))/2});var S,E={easeIn:l,easeOut:_,easeInOut:k};return _forEachName(e,function(e){for(var l in it[e]=Me[e]=E,it[S=e.toLowerCase()]=_,E)it[S+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=it[e+"."+l]=E[l]}),E},_easeInOutFromOut=function(e){return function(l){return l<.5?(1-e(1-2*l))/2:.5+e(2*(l-.5))/2}},ut=function _configElastic(e,l,_){var k=l>=1?l:1,S=(_||(e?.3:.45))/(l<1?l:1),E=S/ye*(Math.asin(1/k)||0),easeOut=function(e){return 1===e?1:k*Math.pow(2,-10*e)*Se((e-E)*S)+1},T="out"===e?easeOut:"in"===e?function(e){return 1-easeOut(1-e)}:_easeInOutFromOut(easeOut);return S=ye/S,T.config=function(l,_){return _configElastic(e,l,_)},T},lt=function _configBack(e,l){void 0===l&&(l=1.70158);var easeOut=function(e){return e?--e*e*((l+1)*e+l)+1:0},_="out"===e?easeOut:"in"===e?function(e){return 1-easeOut(1-e)}:_easeInOutFromOut(easeOut);return _.config=function(l){return _configBack(e,l)},_};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,l){var _=l<5?l+1:l;_insertEase(e+",Power"+(_-1),l?function(e){return Math.pow(e,_)}:function(e){return e},function(e){return 1-Math.pow(1-e,_)},function(e){return e<.5?Math.pow(2*e,_)/2:1-Math.pow(2*(1-e),_)/2})}),it.Linear.easeNone=it.none=it.Linear.easeIn,_insertEase("Elastic",ut("in"),ut("out"),ut()),function(e,l){var _=1/l,k=2*_,S=2.5*_,easeOut=function(E){return E<_?e*E*E:E<k?e*Math.pow(E-1.5/l,2)+.75:E<S?e*(E-=2.25/l)*E+.9375:e*Math.pow(E-2.625/l,2)+.984375};_insertEase("Bounce",function(e){return 1-easeOut(1-e)},easeOut)}(7.5625,2.75),_insertEase("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),_insertEase("Circ",function(e){return-(ke(1-e*e)-1)}),_insertEase("Sine",function(e){return 1===e?1:1-we(e*_e)}),_insertEase("Back",lt("in"),lt("out"),lt()),it.SteppedEase=it.steps=Me.SteppedEase={config:function(e,l){void 0===e&&(e=1);var _=1/e,k=e+(l?0:1),S=l?1:0;return function(e){return((k*_clamp(0,.99999999,e)|0)+S)*_}}},ve.ease=it["quad.out"],_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Ve+=e+","+e+"Params,"});var GSCache=function(e,l){this.id=be++,e._gsap=this,this.target=e,this.harness=l,this.get=l?l.get:_getProperty,this.set=l?l.getSetter:_getSetter},ct=function(){function Animation(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,_setDuration(this,+e.duration,1,1),this.data=e.data,ae&&(this._ctx=ae,ae.data.push(this)),fe||nt.wake()}var e=Animation.prototype;return e.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},e.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},e.totalDuration=function(e){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(e,l){if(_wake(),!arguments.length)return this._tTime;var _=this._dp;if(_&&_.smoothChildTiming&&this._ts){for(_alignPlayhead(this,e),!_._dp||_.parent||_postAddChecks(_,this);_&&_.parent;)_.parent._time!==_._start+(_._ts>=0?_._tTime/_._ts:(_.totalDuration()-_._tTime)/-_._ts)&&_.totalTime(_._tTime,!0),_=_.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!l||this._initted&&Math.abs(this._zTime)===me||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),_lazySafeRender(this,e,l)),this},e.time=function(e,l){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(e?this._dur:0),l):this._time},e.totalProgress=function(e,l){return arguments.length?this.totalTime(this.totalDuration()*e,l):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(e,l){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+_elapsedCycleDuration(this),l):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(e,l){var _=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*_,l):this._repeat?_animationCycle(this._tTime,_)+1:1},e.timeScale=function(e,l){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var _=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this.totalDuration(),_),!1!==l),_setEnd(this),function(e){for(var l=e.parent;l&&l.parent;)l._dirty=1,l.totalDuration(),l=l.parent;return e}(this)},e.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==me&&(this._tTime-=me)))),this):this._ps},e.startTime=function(e){if(arguments.length){this._start=e;var l=this.parent||this._dp;return l&&(l._sort||!this.parent)&&_addToTimeline(l,this,e-this._delay),this}return this._start},e.endTime=function(e){return this._start+(_isNotFalse(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(e){var l=this.parent||this._dp;return l?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(l.rawTime(e),this):this._tTime:this._tTime},e.revert=function(e){void 0===e&&(e=Le);var l=ie;return ie=e,_isRevertWorthy(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),ie=l,this},e.globalTime=function(e){for(var l=this,_=arguments.length?e:l.rawTime();l;)_=l._start+_/(Math.abs(l._ts)||1),l=l._dp;return!this.parent&&this._sat?this._sat.globalTime(e):_},e.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,_onUpdateTotalDuration(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(e){if(arguments.length){var l=this._time;return this._rDelay=e,_onUpdateTotalDuration(this),l?this.time(l):this}return this._rDelay},e.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},e.seek=function(e,l){return this.totalTime(Ye(this,e),_isNotFalse(l))},e.restart=function(e,l){return this.play().totalTime(e?-this._delay:0,_isNotFalse(l)),this._dur||(this._zTime=-1e-8),this},e.play=function(e,l){return null!=e&&this.seek(e,l),this.reversed(!1).paused(!1)},e.reverse=function(e,l){return null!=e&&this.seek(e||this.totalDuration(),l),this.reversed(!0).paused(!1)},e.pause=function(e,l){return null!=e&&this.seek(e,l),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var e,l=this.parent||this._dp,_=this._start;return!(l&&!(this._ts&&this._initted&&l.isActive()&&(e=l.rawTime(!0))>=_&&e<this.endTime(!0)-me))},e.eventCallback=function(e,l,_){var k=this.vars;return arguments.length>1?(l?(k[e]=l,_&&(k[e+"Params"]=_),"onUpdate"===e&&(this._onUpdate=l)):delete k[e],this):k[e]},e.then=function(e){var l=this;return new Promise(function(_){var k=_isFunction(e)?e:_passThrough,_resolve=function(){var e=l.then;l.then=null,_isFunction(k)&&(k=k(l))&&(k.then||k===l)&&(l.then=e),_(k),l.then=e};l._initted&&1===l.totalProgress()&&l._ts>=0||!l._tTime&&l._ts<0?_resolve():l._prom=_resolve})},e.kill=function(){_interrupt(this)},Animation}();_setDefaults(ct.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ht=function(e){function Timeline(l,_){var k;return void 0===l&&(l={}),(k=e.call(this,l)||this).labels={},k.smoothChildTiming=!!l.smoothChildTiming,k.autoRemoveChildren=!!l.autoRemoveChildren,k._sort=_isNotFalse(l.sortChildren),oe&&_addToTimeline(l.parent||oe,_assertThisInitialized(k),_),l.reversed&&k.reverse(),l.paused&&k.paused(!0),l.scrollTrigger&&_scrollTrigger(_assertThisInitialized(k),l.scrollTrigger),k}_inheritsLoose(Timeline,e);var l=Timeline.prototype;return l.to=function(e,l,_){return _createTweenType(0,arguments,this),this},l.from=function(e,l,_){return _createTweenType(1,arguments,this),this},l.fromTo=function(e,l,_,k){return _createTweenType(2,arguments,this),this},l.set=function(e,l,_){return l.duration=0,l.parent=this,_inheritDefaults(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new mt(e,l,Ye(this,_),1),this},l.call=function(e,l,_){return _addToTimeline(this,mt.delayedCall(0,e,l),_)},l.staggerTo=function(e,l,_,k,S,E,T){return _.duration=l,_.stagger=_.stagger||k,_.onComplete=E,_.onCompleteParams=T,_.parent=this,new mt(e,_,Ye(this,S)),this},l.staggerFrom=function(e,l,_,k,S,E,T){return _.runBackwards=1,_inheritDefaults(_).immediateRender=_isNotFalse(_.immediateRender),this.staggerTo(e,l,_,k,S,E,T)},l.staggerFromTo=function(e,l,_,k,S,E,T,O){return k.startAt=_,_inheritDefaults(k).immediateRender=_isNotFalse(k.immediateRender),this.staggerTo(e,l,k,S,E,T,O)},l.render=function(e,l,_){var k,S,E,T,O,I,R,M,j,D,L,U,B=this._time,q=this._dirty?this.totalDuration():this._tDur,z=this._dur,G=e<=0?0:_roundPrecise(e),W=this._zTime<0!=e<0&&(this._initted||!z);if(this!==oe&&G>q&&e>=0&&(G=q),G!==this._tTime||_||W){if(B!==this._time&&z&&(G+=this._time-B,e+=this._time-B),k=G,j=this._start,I=!(M=this._ts),W&&(z||(B=this._zTime),(e||!l)&&(this._zTime=e)),this._repeat){if(L=this._yoyo,O=z+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*O+e,l,_);if(k=_roundPrecise(G%O),G===q?(T=this._repeat,k=z):((T=~~(D=_roundPrecise(G/O)))&&T===D&&(k=z,T--),k>z&&(k=z)),D=_animationCycle(this._tTime,O),!B&&this._tTime&&D!==T&&this._tTime-D*O-this._dur<=0&&(D=T),L&&1&T&&(k=z-k,U=1),T!==D&&!this._lock){var V=L&&1&D,K=V===(L&&1&T);if(T<D&&(V=!V),B=V?0:G%z?z:G,this._lock=1,this.render(B||(U?0:_roundPrecise(T*O)),l,!z)._lock=0,this._tTime=G,!l&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!U&&(this.invalidate()._lock=1),B&&B!==this._time||I!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(z=this._dur,q=this._tDur,K&&(this._lock=2,B=V?z:-1e-4,this.render(B,!0),this.vars.repeatRefresh&&!U&&this.invalidate()),this._lock=0,!this._ts&&!I)return this;st(this,U)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=function(e,l,_){var k;if(_>l)for(k=e._first;k&&k._start<=_;){if("isPause"===k.data&&k._start>l)return k;k=k._next}else for(k=e._last;k&&k._start>=_;){if("isPause"===k.data&&k._start<l)return k;k=k._prev}}(this,_roundPrecise(B),_roundPrecise(k)),R&&(G-=k-(k=R._start))),this._tTime=G,this._time=k,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,B=0),!B&&G&&!l&&!D&&(_callback(this,"onStart"),this._tTime!==G))return this;if(k>=B&&e>=0)for(S=this._first;S;){if(E=S._next,(S._act||k>=S._start)&&S._ts&&R!==S){if(S.parent!==this)return this.render(e,l,_);if(S.render(S._ts>0?(k-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(k-S._start)*S._ts,l,_),k!==this._time||!this._ts&&!I){R=0,E&&(G+=this._zTime=-1e-8);break}}S=E}else{S=this._last;for(var H=e<0?e:k;S;){if(E=S._prev,(S._act||H<=S._end)&&S._ts&&R!==S){if(S.parent!==this)return this.render(e,l,_);if(S.render(S._ts>0?(H-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(H-S._start)*S._ts,l,_||ie&&_isRevertWorthy(S)),k!==this._time||!this._ts&&!I){R=0,E&&(G+=this._zTime=H?-1e-8:me);break}}S=E}}if(R&&!l&&(this.pause(),R.render(k>=B?0:-1e-8)._zTime=k>=B?1:-1,this._ts))return this._start=j,_setEnd(this),this.render(e,l,_);this._onUpdate&&!l&&_callback(this,"onUpdate",!0),(G===q&&this._tTime>=this.totalDuration()||!G&&B)&&(j!==this._start&&Math.abs(M)===Math.abs(this._ts)||this._lock||((e||!z)&&(G===q&&this._ts>0||!G&&this._ts<0)&&_removeFromParent(this,1),l||e<0&&!B||!G&&!B&&q||(_callback(this,G===q&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(G<q&&this.timeScale()>0)&&this._prom())))}return this},l.add=function(e,l){var _=this;if(_isNumber(l)||(l=Ye(this,l,e)),!(e instanceof ct)){if(Ee(e))return e.forEach(function(e){return _.add(e,l)}),this;if(_isString(e))return this.addLabel(e,l);if(!_isFunction(e))return this;e=mt.delayedCall(0,e)}return this!==e?_addToTimeline(this,e,l):this},l.getChildren=function(e,l,_,k){void 0===e&&(e=!0),void 0===l&&(l=!0),void 0===_&&(_=!0),void 0===k&&(k=-1e8);for(var S=[],E=this._first;E;)E._start>=k&&(E instanceof mt?l&&S.push(E):(_&&S.push(E),e&&S.push.apply(S,E.getChildren(!0,l,_)))),E=E._next;return S},l.getById=function(e){for(var l=this.getChildren(1,1,1),_=l.length;_--;)if(l[_].vars.id===e)return l[_]},l.remove=function(e){return _isString(e)?this.removeLabel(e):_isFunction(e)?this.killTweensOf(e):(e.parent===this&&_removeLinkedListItem(this,e),e===this._recent&&(this._recent=this._last),_uncache(this))},l.totalTime=function(l,_){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(nt.time-(this._ts>0?l/this._ts:(this.totalDuration()-l)/-this._ts))),e.prototype.totalTime.call(this,l,_),this._forcing=0,this):this._tTime},l.addLabel=function(e,l){return this.labels[e]=Ye(this,l),this},l.removeLabel=function(e){return delete this.labels[e],this},l.addPause=function(e,l,_){var k=mt.delayedCall(0,l||_emptyFunc,_);return k.data="isPause",this._hasPause=1,_addToTimeline(this,k,Ye(this,e))},l.removePause=function(e){var l=this._first;for(e=Ye(this,e);l;)l._start===e&&"isPause"===l.data&&_removeFromParent(l),l=l._next},l.killTweensOf=function(e,l,_){for(var k=this.getTweensOf(e,_),S=k.length;S--;)dt!==k[S]&&k[S].kill(e,l);return this},l.getTweensOf=function(e,l){for(var _,k=[],S=toArray$2(e),E=this._first,T=_isNumber(l);E;)E instanceof mt?_arrayContainsAny(E._targets,S)&&(T?(!dt||E._initted&&E._ts)&&E.globalTime(0)<=l&&E.globalTime(E.totalDuration())>l:!l||E.isActive())&&k.push(E):(_=E.getTweensOf(S,l)).length&&k.push.apply(k,_),E=E._next;return k},l.tweenTo=function(e,l){l=l||{};var _,k=this,S=Ye(k,e),E=l,T=E.startAt,O=E.onStart,I=E.onStartParams,R=E.immediateRender,M=mt.to(k,_setDefaults({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:S,overwrite:"auto",duration:l.duration||Math.abs((S-(T&&"time"in T?T.time:k._time))/k.timeScale())||me,onStart:function(){if(k.pause(),!_){var e=l.duration||Math.abs((S-(T&&"time"in T?T.time:k._time))/k.timeScale());M._dur!==e&&_setDuration(M,e,0,1).render(M._time,!0,!0),_=1}O&&O.apply(M,I||[])}},l));return R?M.render(0):M},l.tweenFromTo=function(e,l,_){return this.tweenTo(l,_setDefaults({startAt:{time:Ye(this,e)}},_))},l.recent=function(){return this._recent},l.nextLabel=function(e){return void 0===e&&(e=this._time),_getLabelInDirection(this,Ye(this,e))},l.previousLabel=function(e){return void 0===e&&(e=this._time),_getLabelInDirection(this,Ye(this,e),1)},l.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+me)},l.shiftChildren=function(e,l,_){void 0===_&&(_=0);for(var k,S=this._first,E=this.labels;S;)S._start>=_&&(S._start+=e,S._end+=e),S=S._next;if(l)for(k in E)E[k]>=_&&(E[k]+=e);return _uncache(this)},l.invalidate=function(l){var _=this._first;for(this._lock=0;_;)_.invalidate(l),_=_._next;return e.prototype.invalidate.call(this,l)},l.clear=function(e){void 0===e&&(e=!0);for(var l,_=this._first;_;)l=_._next,this.remove(_),_=l;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),_uncache(this)},l.totalDuration=function(e){var l,_,k,S=0,E=this,T=E._last,O=ge;if(arguments.length)return E.timeScale((E._repeat<0?E.duration():E.totalDuration())/(E.reversed()?-e:e));if(E._dirty){for(k=E.parent;T;)l=T._prev,T._dirty&&T.totalDuration(),(_=T._start)>O&&E._sort&&T._ts&&!E._lock?(E._lock=1,_addToTimeline(E,T,_-T._delay,1)._lock=0):O=_,_<0&&T._ts&&(S-=_,(!k&&!E._dp||k&&k.smoothChildTiming)&&(E._start+=_/E._ts,E._time-=_,E._tTime-=_),E.shiftChildren(-_,!1,-1/0),O=0),T._end>S&&T._ts&&(S=T._end),T=l;_setDuration(E,E===oe&&E._time>S?E._time:S,1,1),E._dirty=0}return E._tDur},Timeline.updateRoot=function(e){if(oe._ts&&(_lazySafeRender(oe,_parentToChildTotalTime(e,oe)),he=nt.frame),nt.frame>=Ge){Ge+=pe.autoSleep||120;var l=oe._first;if((!l||!l._ts)&&pe.autoSleep&&nt._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||nt.sleep()}}},Timeline}(ct);_setDefaults(ht.prototype,{_lock:0,_hasPause:0,_forcing:0});var dt,ft,_addComplexStringPropTween=function(e,l,_,k,S,E,T){var O,I,R,M,j,D,L,U,B=new yt(this._pt,e,l,0,1,_renderComplexString,null,S),q=0,z=0;for(B.b=_,B.e=k,_+="",(L=~(k+="").indexOf("random("))&&(k=_replaceRandom(k)),E&&(E(U=[_,k],e,l),_=U[0],k=U[1]),I=_.match(Oe)||[];O=Oe.exec(k);)M=O[0],j=k.substring(q,O.index),R?R=(R+1)%5:"rgba("===j.substr(-5)&&(R=1),M!==I[z++]&&(D=parseFloat(I[z-1])||0,B._pt={_next:B._pt,p:j||1===z?j:",",s:D,c:"="===M.charAt(1)?_parseRelative(D,M)-D:parseFloat(M)-D,m:R&&R<4?Math.round:0},q=Oe.lastIndex);return B.c=q<k.length?k.substring(q,k.length):"",B.fp=T,(Ie.test(k)||L)&&(B.e=0),this._pt=B,B},_addPropTween=function(e,l,_,k,S,E,T,O,I,R){_isFunction(k)&&(k=k(S||0,e,E));var M,j=e[l],D="get"!==_?_:_isFunction(j)?I?e[l.indexOf("set")||!_isFunction(e["get"+l.substr(3)])?l:"get"+l.substr(3)](I):e[l]():j,L=_isFunction(j)?I?_setterFuncWithParam:_setterFunc:_setterPlain;if(_isString(k)&&(~k.indexOf("random(")&&(k=_replaceRandom(k)),"="===k.charAt(1)&&((M=_parseRelative(D,k)+(getUnit(D)||0))||0===M)&&(k=M)),!R||D!==k||ft)return isNaN(D*k)||""===k?_addComplexStringPropTween.call(this,e,l,D,k,L,O||pe.stringFilter,I):(M=new yt(this._pt,e,l,+D||0,k-(D||0),"boolean"==typeof j?_renderBoolean:_renderPlain,0,L),I&&(M.fp=I),T&&M.modifier(T,this,e),this._pt=M)},_checkPlugin=function(e,l,_,k,S,E){var T,O,I,R;if(qe[e]&&!1!==(T=new qe[e]).init(S,T.rawVars?l[e]:function(e,l,_,k,S){if(_isFunction(e)&&(e=_parseFuncOrString(e,S,l,_,k)),!_isObject(e)||e.style&&e.nodeType||Ee(e)||Ce(e))return _isString(e)?_parseFuncOrString(e,S,l,_,k):e;var E,T={};for(E in e)T[E]=_parseFuncOrString(e[E],S,l,_,k);return T}(l[e],k,S,E,_),_,k,E)&&(_._pt=O=new yt(_._pt,S,e,0,1,T.render,T,0,T.priority),_!==de))for(I=_._ptLookup[_._targets.indexOf(S)],R=T._props.length;R--;)I[T._props[R]]=O;return T},pt=function _initTween(e,l,_){var k,S,E,T,O,I,R,M,j,D,L,U,B,q=e.vars,z=q.ease,G=q.startAt,W=q.immediateRender,V=q.lazy,K=q.onUpdate,H=q.runBackwards,$=q.yoyoEase,J=q.keyframes,Y=q.autoRevert,X=e._dur,Z=e._startAt,Q=e._targets,ee=e.parent,te=ee&&"nested"===ee.data?ee.vars.targets:Q,re="auto"===e._overwrite&&!ne,ae=e.timeline;if(ae&&(!J||!z)&&(z="none"),e._ease=_parseEase(z,ve.ease),e._yEase=$?_invertEase(_parseEase(!0===$?z:$,ve.ease)):0,$&&e._yoyo&&!e._repeat&&($=e._yEase,e._yEase=e._ease,e._ease=$),e._from=!ae&&!!q.runBackwards,!ae||J&&!q.stagger){if(U=(M=Q[0]?_getCache(Q[0]).harness:0)&&q[M.prop],k=_copyExcluding(q,Ne),Z&&(Z._zTime<0&&Z.progress(1),l<0&&H&&W&&!Y?Z.render(-1,!0):Z.revert(H&&X?Fe:De),Z._lazy=0),G){if(_removeFromParent(e._startAt=mt.set(Q,_setDefaults({data:"isStart",overwrite:!1,parent:ee,immediateRender:!0,lazy:!Z&&_isNotFalse(V),startAt:null,delay:0,onUpdate:K&&function(){return _callback(e,"onUpdate")},stagger:0},G))),e._startAt._dp=0,e._startAt._sat=e,l<0&&(ie||!W&&!Y)&&e._startAt.revert(Fe),W&&X&&l<=0&&_<=0)return void(l&&(e._zTime=l))}else if(H&&X&&!Z)if(l&&(W=!1),E=_setDefaults({overwrite:!1,data:"isFromStart",lazy:W&&!Z&&_isNotFalse(V),immediateRender:W,stagger:0,parent:ee},k),U&&(E[M.prop]=U),_removeFromParent(e._startAt=mt.set(Q,E)),e._startAt._dp=0,e._startAt._sat=e,l<0&&(ie?e._startAt.revert(Fe):e._startAt.render(-1,!0)),e._zTime=l,W){if(!l)return}else _initTween(e._startAt,me,me);for(e._pt=e._ptCache=0,V=X&&_isNotFalse(V)||V&&!X,S=0;S<Q.length;S++){if(R=(O=Q[S])._gsap||_harness(Q)[S]._gsap,e._ptLookup[S]=D={},Be[R.id]&&Ue.length&&_lazyRender(),L=te===Q?S:te.indexOf(O),M&&!1!==(j=new M).init(O,U||k,e,L,te)&&(e._pt=T=new yt(e._pt,O,j.name,0,1,j.render,j,0,j.priority),j._props.forEach(function(e){D[e]=T}),j.priority&&(I=1)),!M||U)for(E in k)qe[E]&&(j=_checkPlugin(E,k,e,L,O,te))?j.priority&&(I=1):D[E]=T=_addPropTween.call(e,O,E,"get",k[E],L,te,0,q.stringFilter);e._op&&e._op[S]&&e.kill(O,e._op[S]),re&&e._pt&&(dt=e,oe.killTweensOf(O,D,e.globalTime(l)),B=!e.parent,dt=0),e._pt&&V&&(Be[R.id]=1)}I&&_sortPropTweensByPriority(e),e._onInit&&e._onInit(e)}e._onUpdate=K,e._initted=(!e._op||e._pt)&&!B,J&&l<=0&&ae.render(ge,!0,!0)},_parseKeyframe=function(e,l,_,k){var S,E,T=l.ease||k||"power1.inOut";if(Ee(l))E=_[e]||(_[e]=[]),l.forEach(function(e,_){return E.push({t:_/(l.length-1)*100,v:e,e:T})});else for(S in l)E=_[S]||(_[S]=[]),"ease"===S||E.push({t:parseFloat(e),v:l[S],e:T})},_parseFuncOrString=function(e,l,_,k,S){return _isFunction(e)?e.call(l,_,k,S):_isString(e)&&~e.indexOf("random(")?_replaceRandom(e):e},vt=Ve+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gt={};_forEachName(vt+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return gt[e]=1});var mt=function(e){function Tween(l,_,k,S){var E;"number"==typeof _&&(k.duration=_,_=k,k=null);var T,O,I,R,M,j,D,L,U=(E=e.call(this,S?_:_inheritDefaults(_))||this).vars,B=U.duration,q=U.delay,z=U.immediateRender,G=U.stagger,W=U.overwrite,V=U.keyframes,K=U.defaults,H=U.scrollTrigger,$=U.yoyoEase,J=_.parent||oe,Y=(Ee(l)||Ce(l)?_isNumber(l[0]):"length"in _)?[l]:toArray$2(l);if(E._targets=Y.length?_harness(Y):_warn(0,!pe.nullTargetWarn)||[],E._ptLookup=[],E._overwrite=W,V||G||_isFuncOrString(B)||_isFuncOrString(q)){if(_=E.vars,(T=E.timeline=new ht({data:"nested",defaults:K||{},targets:J&&"nested"===J.data?J.vars.targets:Y})).kill(),T.parent=T._dp=_assertThisInitialized(E),T._start=0,G||_isFuncOrString(B)||_isFuncOrString(q)){if(R=Y.length,D=G&&distribute(G),_isObject(G))for(M in G)~vt.indexOf(M)&&(L||(L={}),L[M]=G[M]);for(O=0;O<R;O++)(I=_copyExcluding(_,gt)).stagger=0,$&&(I.yoyoEase=$),L&&_merge(I,L),j=Y[O],I.duration=+_parseFuncOrString(B,_assertThisInitialized(E),O,j,Y),I.delay=(+_parseFuncOrString(q,_assertThisInitialized(E),O,j,Y)||0)-E._delay,!G&&1===R&&I.delay&&(E._delay=q=I.delay,E._start+=q,I.delay=0),T.to(j,I,D?D(O,j,Y):0),T._ease=it.none;T.duration()?B=q=0:E.timeline=0}else if(V){_inheritDefaults(_setDefaults(T.vars.defaults,{ease:"none"})),T._ease=_parseEase(V.ease||_.ease||"none");var X,Z,Q,ee=0;if(Ee(V))V.forEach(function(e){return T.to(Y,e,">")}),T.duration();else{for(M in I={},V)"ease"===M||"easeEach"===M||_parseKeyframe(M,V[M],I,V.easeEach);for(M in I)for(X=I[M].sort(function(e,l){return e.t-l.t}),ee=0,O=0;O<X.length;O++)(Q={ease:(Z=X[O]).e,duration:(Z.t-(O?X[O-1].t:0))/100*B})[M]=Z.v,T.to(Y,Q,ee),ee+=Q.duration;T.duration()<B&&T.to({},{duration:B-T.duration()})}}B||E.duration(B=T.duration())}else E.timeline=0;return!0!==W||ne||(dt=_assertThisInitialized(E),oe.killTweensOf(Y),dt=0),_addToTimeline(J,_assertThisInitialized(E),k),_.reversed&&E.reverse(),_.paused&&E.paused(!0),(z||!B&&!V&&E._start===_roundPrecise(J._time)&&_isNotFalse(z)&&He(_assertThisInitialized(E))&&"nested"!==J.data)&&(E._tTime=-1e-8,E.render(Math.max(0,-q)||0)),H&&_scrollTrigger(_assertThisInitialized(E),H),E}_inheritsLoose(Tween,e);var l=Tween.prototype;return l.render=function(e,l,_){var k,S,E,T,O,I,R,M,j,D=this._time,L=this._tDur,U=this._dur,B=e<0,q=e>L-me&&!B?L:e<me?0:e;if(U){if(q!==this._tTime||!e||_||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==B||this._lazy){if(k=q,M=this.timeline,this._repeat){if(T=U+this._rDelay,this._repeat<-1&&B)return this.totalTime(100*T+e,l,_);if(k=_roundPrecise(q%T),q===L?(E=this._repeat,k=U):(E=~~(O=_roundPrecise(q/T)))&&E===O?(k=U,E--):k>U&&(k=U),(I=this._yoyo&&1&E)&&(j=this._yEase,k=U-k),O=_animationCycle(this._tTime,T),k===D&&!_&&this._initted&&E===O)return this._tTime=q,this;E!==O&&(M&&this._yEase&&st(M,I),this.vars.repeatRefresh&&!I&&!this._lock&&k!==T&&this._initted&&(this._lock=_=1,this.render(_roundPrecise(T*E),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,B?e:k,_,l,q))return this._tTime=0,this;if(!(D===this._time||_&&this.vars.repeatRefresh&&E!==O))return this;if(U!==this._dur)return this.render(e,l,_)}if(this._tTime=q,this._time=k,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(j||this._ease)(k/U),this._from&&(this.ratio=R=1-R),!D&&q&&!l&&!O&&(_callback(this,"onStart"),this._tTime!==q))return this;for(S=this._pt;S;)S.r(R,S.d),S=S._next;M&&M.render(e<0?e:M._dur*M._ease(k/this._dur),l,_)||this._startAt&&(this._zTime=e),this._onUpdate&&!l&&(B&&_rewindStartAt(this,e,0,_),_callback(this,"onUpdate")),this._repeat&&E!==O&&this.vars.onRepeat&&!l&&this.parent&&_callback(this,"onRepeat"),q!==this._tDur&&q||this._tTime!==q||(B&&!this._onUpdate&&_rewindStartAt(this,e,0,!0),(e||!U)&&(q===this._tDur&&this._ts>0||!q&&this._ts<0)&&_removeFromParent(this,1),l||B&&!D||!(q||D||I)||(_callback(this,q===L?"onComplete":"onReverseComplete",!0),this._prom&&!(q<L&&this.timeScale()>0)&&this._prom()))}}else!function(e,l,_,k){var S,E,T,O=e.ratio,I=l<0||!l&&(!e._start&&$e(e)&&(e._initted||!_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart(e))?0:1,R=e._rDelay,M=0;if(R&&e._repeat&&(M=_clamp(0,e._tDur,l),E=_animationCycle(M,R),e._yoyo&&1&E&&(I=1-I),E!==_animationCycle(e._tTime,R)&&(O=1-I,e.vars.repeatRefresh&&e._initted&&e.invalidate())),I!==O||ie||k||e._zTime===me||!l&&e._zTime){if(!e._initted&&_attemptInitTween(e,l,k,_,M))return;for(T=e._zTime,e._zTime=l||(_?me:0),_||(_=l&&!T),e.ratio=I,e._from&&(I=1-I),e._time=0,e._tTime=M,S=e._pt;S;)S.r(I,S.d),S=S._next;l<0&&_rewindStartAt(e,l,0,!0),e._onUpdate&&!_&&_callback(e,"onUpdate"),M&&e._repeat&&!_&&e.parent&&_callback(e,"onRepeat"),(l>=e._tDur||l<0)&&e.ratio===I&&(I&&_removeFromParent(e,1),_||ie||(_callback(e,I?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=l)}(this,e,l,_);return this},l.targets=function(){return this._targets},l.invalidate=function(l){return(!l||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(l),e.prototype.invalidate.call(this,l)},l.resetTo=function(e,l,_,k,S){fe||nt.wake(),this._ts||this.play();var E=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||pt(this,E),function(e,l,_,k,S,E,T,O){var I,R,M,j,D=(e._pt&&e._ptCache||(e._ptCache={}))[l];if(!D)for(D=e._ptCache[l]=[],M=e._ptLookup,j=e._targets.length;j--;){if((I=M[j][l])&&I.d&&I.d._pt)for(I=I.d._pt;I&&I.p!==l&&I.fp!==l;)I=I._next;if(!I)return ft=1,e.vars[l]="+=0",pt(e,T),ft=0,O?_warn():1;D.push(I)}for(j=D.length;j--;)(I=(R=D[j])._pt||R).s=!k&&0!==k||S?I.s+(k||0)+E*I.c:k,I.c=_-I.s,R.e&&(R.e=_round(_)+getUnit(R.e)),R.b&&(R.b=I.s+getUnit(R.b))}(this,e,l,_,k,this._ease(E/this._dur),E,S)?this.resetTo(e,l,_,k,1):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},l.kill=function(e,l){if(void 0===l&&(l="all"),!(e||l&&"all"!==l))return this._lazy=this._pt=0,this.parent?_interrupt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ie),this;if(this.timeline){var _=this.timeline.totalDuration();return this.timeline.killTweensOf(e,l,dt&&!0!==dt.vars.overwrite)._first||_interrupt(this),this.parent&&_!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/_,0,1),this}var k,S,E,T,O,I,R,M=this._targets,j=e?toArray$2(e):M,D=this._ptLookup,L=this._pt;if((!l||"all"===l)&&function(e,l){for(var _=e.length,k=_===l.length;k&&_--&&e[_]===l[_];);return _<0}(M,j))return"all"===l&&(this._pt=0),_interrupt(this);for(k=this._op=this._op||[],"all"!==l&&(_isString(l)&&(O={},_forEachName(l,function(e){return O[e]=1}),l=O),l=function(e,l){var _,k,S,E,T=e[0]?_getCache(e[0]).harness:0,O=T&&T.aliases;if(!O)return l;for(k in _=_merge({},l),O)if(k in _)for(S=(E=O[k].split(",")).length;S--;)_[E[S]]=_[k];return _}(M,l)),R=M.length;R--;)if(~j.indexOf(M[R]))for(O in S=D[R],"all"===l?(k[R]=l,T=S,E={}):(E=k[R]=k[R]||{},T=l),T)(I=S&&S[O])&&("kill"in I.d&&!0!==I.d.kill(O)||_removeLinkedListItem(this,I,"_pt"),delete S[O]),"all"!==E&&(E[O]=1);return this._initted&&!this._pt&&L&&_interrupt(this),this},Tween.to=function(e,l){return new Tween(e,l,arguments[2])},Tween.from=function(e,l){return _createTweenType(1,arguments)},Tween.delayedCall=function(e,l,_,k){return new Tween(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:l,onReverseComplete:l,onCompleteParams:_,onReverseCompleteParams:_,callbackScope:k})},Tween.fromTo=function(e,l,_){return _createTweenType(2,arguments)},Tween.set=function(e,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new Tween(e,l)},Tween.killTweensOf=function(e,l,_){return oe.killTweensOf(e,l,_)},Tween}(ct);_setDefaults(mt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_forEachName("staggerTo,staggerFrom,staggerFromTo",function(e){mt[e]=function(){var l=new ht,_=Xe.call(arguments,0);return _.splice("staggerFromTo"===e?5:4,0,0),l[e].apply(l,_)}});var _setterPlain=function(e,l,_){return e[l]=_},_setterFunc=function(e,l,_){return e[l](_)},_setterFuncWithParam=function(e,l,_,k){return e[l](k.fp,_)},_setterAttribute=function(e,l,_){return e.setAttribute(l,_)},_getSetter=function(e,l){return _isFunction(e[l])?_setterFunc:_isUndefined(e[l])&&e.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function(e,l){return l.set(l.t,l.p,Math.round(1e6*(l.s+l.c*e))/1e6,l)},_renderBoolean=function(e,l){return l.set(l.t,l.p,!!(l.s+l.c*e),l)},_renderComplexString=function(e,l){var _=l._pt,k="";if(!e&&l.b)k=l.b;else if(1===e&&l.e)k=l.e;else{for(;_;)k=_.p+(_.m?_.m(_.s+_.c*e):Math.round(1e4*(_.s+_.c*e))/1e4)+k,_=_._next;k+=l.c}l.set(l.t,l.p,k,l)},_renderPropTweens=function(e,l){for(var _=l._pt;_;)_.r(e,_.d),_=_._next},_addPluginModifier=function(e,l,_,k){for(var S,E=this._pt;E;)S=E._next,E.p===k&&E.modifier(e,l,_),E=S},_killPropTweensOf=function(e){for(var l,_,k=this._pt;k;)_=k._next,k.p===e&&!k.op||k.op===e?_removeLinkedListItem(this,k,"_pt"):k.dep||(l=1),k=_;return!l},_setterWithModifier=function(e,l,_,k){k.mSet(e,l,k.m.call(k.tween,_,k.mt),k)},_sortPropTweensByPriority=function(e){for(var l,_,k,S,E=e._pt;E;){for(l=E._next,_=k;_&&_.pr>E.pr;)_=_._next;(E._prev=_?_._prev:S)?E._prev._next=E:k=E,(E._next=_)?_._prev=E:S=E,E=l}e._pt=k},yt=function(){function PropTween(e,l,_,k,S,E,T,O,I){this.t=l,this.s=k,this.c=S,this.p=_,this.r=E||_renderPlain,this.d=T||this,this.set=O||_setterPlain,this.pr=I||0,this._next=e,e&&(e._prev=this)}return PropTween.prototype.modifier=function(e,l,_){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=e,this.mt=_,this.tween=l},PropTween}();_forEachName(Ve+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return Ne[e]=1}),Me.TweenMax=Me.TweenLite=mt,Me.TimelineLite=Me.TimelineMax=ht,oe=new ht({sortChildren:!1,defaults:ve,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),pe.stringFilter=_colorStringFilter;var _t=[],bt={},kt=[],wt=0,St=0,_dispatch=function(e){return(bt[e]||kt).map(function(e){return e()})},_onMediaChange=function(){var e=Date.now(),l=[];e-wt>2&&(_dispatch("matchMediaInit"),_t.forEach(function(e){var _,k,S,E,T=e.queries,O=e.conditions;for(k in T)(_=se.matchMedia(T[k]).matches)&&(S=1),_!==O[k]&&(O[k]=_,E=1);E&&(e.revert(),S&&l.push(e))}),_dispatch("matchMediaRevert"),l.forEach(function(e){return e.onMatch(e,function(l){return e.add(null,l)})}),wt=e,_dispatch("matchMedia"))},Ct=function(){function Context(e,l){this.selector=l&&selector(l),this.data=[],this._r=[],this.isReverted=!1,this.id=St++,e&&this.add(e)}var e=Context.prototype;return e.add=function(e,l,_){_isFunction(e)&&(_=l,l=e,e=_isFunction);var k=this,f=function(){var e,S=ae,E=k.selector;return S&&S!==k&&S.data.push(k),_&&(k.selector=selector(_)),ae=k,e=l.apply(k,arguments),_isFunction(e)&&k._r.push(e),ae=S,k.selector=E,k.isReverted=!1,e};return k.last=f,e===_isFunction?f(k,function(e){return k.add(null,e)}):e?k[e]=f:f},e.ignore=function(e){var l=ae;ae=null,e(this),ae=l},e.getTweens=function(){var e=[];return this.data.forEach(function(l){return l instanceof Context?e.push.apply(e,l.getTweens()):l instanceof mt&&!(l.parent&&"nested"===l.parent.data)&&e.push(l)}),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(e,l){var _=this;if(e?function(){for(var l,k=_.getTweens(),S=_.data.length;S--;)"isFlip"===(l=_.data[S]).data&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(e){return k.splice(k.indexOf(e),1)}));for(k.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,l){return l.g-e.g||-1/0}).forEach(function(l){return l.t.revert(e)}),S=_.data.length;S--;)(l=_.data[S])instanceof ht?"nested"!==l.data&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof mt)&&l.revert&&l.revert(e);_._r.forEach(function(l){return l(e,_)}),_.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),l)for(var k=_t.length;k--;)_t[k].id===this.id&&_t.splice(k,1)},e.revert=function(e){this.kill(e||{})},Context}(),Et=function(){function MatchMedia(e){this.contexts=[],this.scope=e,ae&&ae.data.push(this)}var e=MatchMedia.prototype;return e.add=function(e,l,_){_isObject(e)||(e={matches:e});var k,S,E,T=new Ct(0,_||this.scope),O=T.conditions={};for(S in ae&&!T.selector&&(T.selector=ae.selector),this.contexts.push(T),l=T.add("onMatch",l),T.queries=e,e)"all"===S?E=1:(k=se.matchMedia(e[S]))&&(_t.indexOf(T)<0&&_t.push(T),(O[S]=k.matches)&&(E=1),k.addListener?k.addListener(_onMediaChange):k.addEventListener("change",_onMediaChange));return E&&l(T,function(e){return T.add(null,e)}),this},e.revert=function(e){this.kill(e||{})},e.kill=function(e){this.contexts.forEach(function(l){return l.kill(e,!0)})},MatchMedia}(),Tt={registerPlugin:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];l.forEach(function(e){return _createPlugin(e)})},timeline:function(e){return new ht(e)},getTweensOf:function(e,l){return oe.getTweensOf(e,l)},getProperty:function(e,l,_,k){_isString(e)&&(e=toArray$2(e)[0]);var S=_getCache(e||{}).get,E=_?_passThrough:_numericIfPossible;return"native"===_&&(_=""),e?l?E((qe[l]&&qe[l].get||S)(e,l,_,k)):function(l,_,k){return E((qe[l]&&qe[l].get||S)(e,l,_,k))}:e},quickSetter:function(e,l,_){if((e=toArray$2(e)).length>1){var k=e.map(function(e){return At.quickSetter(e,l,_)}),S=k.length;return function(e){for(var l=S;l--;)k[l](e)}}e=e[0]||{};var E=qe[l],T=_getCache(e),O=T.harness&&(T.harness.aliases||{})[l]||l,I=E?function(l){var k=new E;de._pt=0,k.init(e,_?l+_:l,de,0,[e]),k.render(1,k),de._pt&&_renderPropTweens(1,de)}:T.set(e,O);return E?I:function(l){return I(e,O,_?l+_:l,T,1)}},quickTo:function(e,l,_){var k,S=At.to(e,_setDefaults(((k={})[l]="+=0.1",k.paused=!0,k.stagger=0,k),_||{})),func=function(e,_,k){return S.resetTo(l,e,_,k)};return func.tween=S,func},isTweening:function(e){return oe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_parseEase(e.ease,ve.ease)),Ke(ve,e||{})},config:function(e){return Ke(pe,e||{})},registerEffect:function(e){var l=e.name,_=e.effect,k=e.plugins,S=e.defaults,E=e.extendTimeline;(k||"").split(",").forEach(function(e){return e&&!qe[e]&&!Me[e]&&_warn()}),ze[l]=function(e,l,k){return _(toArray$2(e),_setDefaults(l||{},S),k)},E&&(ht.prototype[l]=function(e,_,k){return this.add(ze[l](e,_isObject(_)?_:(k=_)&&{},this),k)})},registerEase:function(e,l){it[e]=_parseEase(l)},parseEase:function(e,l){return arguments.length?_parseEase(e,l):it},getById:function(e){return oe.getById(e)},exportRoot:function(e,l){void 0===e&&(e={});var _,k,S=new ht(e);for(S.smoothChildTiming=_isNotFalse(e.smoothChildTiming),oe.remove(S),S._dp=0,S._time=S._tTime=oe._time,_=oe._first;_;)k=_._next,!l&&!_._dur&&_ instanceof mt&&_.vars.onComplete===_._targets[0]||_addToTimeline(S,_,_._start-_._delay),_=k;return _addToTimeline(oe,S,0),S},context:function(e,l){return e?new Ct(e,l):ae},matchMedia:function(e){return new Et(e)},matchMediaRefresh:function(){return _t.forEach(function(e){var l,_,k=e.conditions;for(_ in k)k[_]&&(k[_]=!1,l=1);l&&e.revert()})||_onMediaChange()},addEventListener:function(e,l){var _=bt[e]||(bt[e]=[]);~_.indexOf(l)||_.push(l)},removeEventListener:function(e,l){var _=bt[e],k=_&&_.indexOf(l);k>=0&&_.splice(k,1)},utils:{wrap:function wrap(e,l,_){var k=l-e;return Ee(e)?_wrapArray(e,wrap(0,e.length),l):_conditionalReturn(_,function(l){return(k+(l-e)%k)%k+e})},wrapYoyo:function wrapYoyo(e,l,_){var k=l-e,S=2*k;return Ee(e)?_wrapArray(e,wrapYoyo(0,e.length-1),l):_conditionalReturn(_,function(l){return e+((l=(S+(l-e)%S)%S||0)>k?S-l:l)})},distribute:distribute,random:random,snap:snap,normalize:function(e,l,_){return mapRange(e,l,0,1,_)},getUnit:getUnit,clamp:function(e,l,_){return _conditionalReturn(_,function(_){return _clamp(e,l,_)})},splitColor:splitColor$1,toArray:toArray$2,selector:selector,mapRange:mapRange,pipe:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return function(e){return l.reduce(function(e,l){return l(e)},e)}},unitize:function(e,l){return function(_){return e(parseFloat(_))+(l||getUnit(_))}},interpolate:function interpolate(e,l,_,k){var S=isNaN(e+l)?0:function(_){return(1-_)*e+_*l};if(!S){var E,T,O,I,R,M=_isString(e),j={};if(!0===_&&(k=1)&&(_=null),M)e={p:e},l={p:l};else if(Ee(e)&&!Ee(l)){for(O=[],I=e.length,R=I-2,T=1;T<I;T++)O.push(interpolate(e[T-1],e[T]));I--,S=function(e){e*=I;var l=Math.min(R,~~e);return O[l](e-l)},_=l}else k||(e=_merge(Ee(e)?[]:{},e));if(!O){for(E in l)_addPropTween.call(j,e,E,"get",l[E]);S=function(l){return _renderPropTweens(l,j)||(M?e.p:e)}}}return _conditionalReturn(_,S)},shuffle:shuffle},install:_install,effects:ze,ticker:nt,updateRoot:ht.updateRoot,plugins:qe,globalTimeline:oe,core:{PropTween:yt,globals:_addGlobal,Tween:mt,Timeline:ht,Animation:ct,getCache:_getCache,_removeLinkedListItem:_removeLinkedListItem,reverting:function(){return ie},context:function(e){return e&&ae&&(ae.data.push(e),e._ctx=ae),ae},suppressOverwrites:function(e){return ne=e}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Tt[e]=mt[e]}),nt.add(ht.updateRoot),de=Tt.to({},{duration:0});var _getPluginPropTween=function(e,l){for(var _=e._pt;_&&_.p!==l&&_.op!==l&&_.fp!==l;)_=_._next;return _},_buildModifierPlugin=function(e,l){return{name:e,headless:1,rawVars:1,init:function(e,_,k){k._onInit=function(e){var k,S;if(_isString(_)&&(k={},_forEachName(_,function(e){return k[e]=1}),_=k),l){for(S in k={},_)k[S]=l(_[S]);_=k}!function(e,l){var _,k,S,E=e._targets;for(_ in l)for(k=E.length;k--;)(S=e._ptLookup[k][_])&&(S=S.d)&&(S._pt&&(S=_getPluginPropTween(S,_)),S&&S.modifier&&S.modifier(l[_],e,E[k],_))}(e,_)}}}},At=Tt.registerPlugin({name:"attr",init:function(e,l,_,k,S){var E,T,O;for(E in this.tween=_,l)O=e.getAttribute(E)||"",(T=this.add(e,"setAttribute",(O||0)+"",l[E],k,S,0,0,E)).op=E,T.b=O,this._props.push(E)},render:function(e,l){for(var _=l._pt;_;)ie?_.set(_.t,_.p,_.b,_):_.r(e,_.d),_=_._next}},{name:"endArray",headless:1,init:function(e,l){for(var _=l.length;_--;)this.add(e,_,e[_]||0,l[_],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||Tt;mt.version=ht.version=At.version="3.13.0",ce=1,_windowExists$1()&&_wake(),it.Power0,it.Power1,it.Power2,it.Power3,it.Power4,it.Linear,it.Quad,it.Cubic,it.Quart,it.Quint,it.Strong,it.Elastic,it.Back,it.SteppedEase,it.Bounce,it.Sine,it.Expo,it.Circ;
/*!
			 * CSSPlugin 3.13.0
			 * https://gsap.com
			 *
			 * Copyright 2008-2025, GreenSock. All rights reserved.
			 * Subject to the terms at https://gsap.com/standard-license
			 * @author: Jack Doyle, jack@greensock.com
			*/
var xt,Ot,It,Rt,Pt,Mt,jt,Dt,Ft={},Lt=180/Math.PI,Nt=Math.PI/180,Ut=Math.atan2,Bt=/([A-Z])/g,qt=/(left|right|width|margin|padding|x)/i,zt=/[\s,\(]\S/,Gt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function(e,l){return l.set(l.t,l.p,Math.round(1e4*(l.s+l.c*e))/1e4+l.u,l)},_renderPropWithEnd=function(e,l){return l.set(l.t,l.p,1===e?l.e:Math.round(1e4*(l.s+l.c*e))/1e4+l.u,l)},_renderCSSPropWithBeginning=function(e,l){return l.set(l.t,l.p,e?Math.round(1e4*(l.s+l.c*e))/1e4+l.u:l.b,l)},_renderRoundedCSSProp=function(e,l){var _=l.s+l.c*e;l.set(l.t,l.p,~~(_+(_<0?-.5:.5))+l.u,l)},_renderNonTweeningValue=function(e,l){return l.set(l.t,l.p,e?l.e:l.b,l)},_renderNonTweeningValueOnlyAtEnd=function(e,l){return l.set(l.t,l.p,1!==e?l.b:l.e,l)},_setterCSSStyle=function(e,l,_){return e.style[l]=_},_setterCSSProp=function(e,l,_){return e.style.setProperty(l,_)},_setterTransform=function(e,l,_){return e._gsap[l]=_},_setterScale=function(e,l,_){return e._gsap.scaleX=e._gsap.scaleY=_},_setterScaleWithRender=function(e,l,_,k,S){var E=e._gsap;E.scaleX=E.scaleY=_,E.renderTransform(S,E)},_setterTransformWithRender=function(e,l,_,k,S){var E=e._gsap;E[l]=_,E.renderTransform(S,E)},Wt="transform",Vt=Wt+"Origin",Kt=function _saveStyle(e,l){var _=this,k=this.target,S=k.style,E=k._gsap;if(e in Ft&&S){if(this.tfm=this.tfm||{},"transform"===e)return Gt.transform.split(",").forEach(function(e){return _saveStyle.call(_,e,l)});if(~(e=Gt[e]||e).indexOf(",")?e.split(",").forEach(function(e){return _.tfm[e]=_get(k,e)}):this.tfm[e]=E.x?E[e]:_get(k,e),e===Vt&&(this.tfm.zOrigin=E.zOrigin),this.props.indexOf(Wt)>=0)return;E.svg&&(this.svgo=k.getAttribute("data-svg-origin"),this.props.push(Vt,l,"")),e=Wt}(S||l)&&this.props.push(e,l,S[e])},_removeIndependentTransforms=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle=function(){var e,l,_=this.props,k=this.target,S=k.style,E=k._gsap;for(e=0;e<_.length;e+=3)_[e+1]?2===_[e+1]?k[_[e]](_[e+2]):k[_[e]]=_[e+2]:_[e+2]?S[_[e]]=_[e+2]:S.removeProperty("--"===_[e].substr(0,2)?_[e]:_[e].replace(Bt,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)E[l]=this.tfm[l];E.svg&&(E.renderTransform(),k.setAttribute("data-svg-origin",this.svgo||"")),(e=jt())&&e.isStart||S[Wt]||(_removeIndependentTransforms(S),E.zOrigin&&S[Vt]&&(S[Vt]+=" "+E.zOrigin+"px",E.zOrigin=0,E.renderTransform()),E.uncache=1)}},_getStyleSaver=function(e,l){var _={target:e,props:[],revert:_revertStyle,save:Kt};return e._gsap||At.core.getCache(e),l&&e.style&&e.nodeType&&l.split(",").forEach(function(e){return _.save(e)}),_},_createElement=function(e,l){var _=Ot.createElementNS?Ot.createElementNS((l||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ot.createElement(e);return _&&_.style?_:Ot.createElement(e)},Ht=function _getComputedProperty(e,l,_){var k=getComputedStyle(e);return k[l]||k.getPropertyValue(l.replace(Bt,"-$1").toLowerCase())||k.getPropertyValue(l)||!_&&_getComputedProperty(e,_checkPropPrefix(l)||l,1)||""},$t="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function(e,l,_){var k=(l||Pt).style,S=5;if(e in k&&!_)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);S--&&!($t[S]+e in k););return S<0?null:(3===S?"ms":S>=0?$t[S]:"")+e},_initCore=function(){"undefined"!=typeof window&&window.document&&(xt=window,Ot=xt.document,It=Ot.documentElement,Pt=_createElement("div")||{style:{}},_createElement("div"),Wt=_checkPropPrefix(Wt),Vt=Wt+"Origin",Pt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Dt=!!_checkPropPrefix("perspective"),jt=At.core.reverting,Rt=1)},_getReparentedCloneBBox=function(e){var l,_=e.ownerSVGElement,k=_createElement("svg",_&&_.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),S=e.cloneNode(!0);S.style.display="block",k.appendChild(S),It.appendChild(k);try{l=S.getBBox()}catch(ta){}return k.removeChild(S),It.removeChild(k),l},_getAttributeFallbacks=function(e,l){for(var _=l.length;_--;)if(e.hasAttribute(l[_]))return e.getAttribute(l[_])},_getBBox=function(e){var l,_;try{l=e.getBBox()}catch(k){l=_getReparentedCloneBBox(e),_=1}return l&&(l.width||l.height)||_||(l=_getReparentedCloneBBox(e)),!l||l.width||l.x||l.y?l:{x:+_getAttributeFallbacks(e,["x","cx","x1"])||0,y:+_getAttributeFallbacks(e,["y","cy","y1"])||0,width:0,height:0}},_isSVG=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!_getBBox(e))},_removeProperty=function(e,l){if(l){var _,k=e.style;l in Ft&&l!==Vt&&(l=Wt),k.removeProperty?("ms"!==(_=l.substr(0,2))&&"webkit"!==l.substr(0,6)||(l="-"+l),k.removeProperty("--"===_?l:l.replace(Bt,"-$1").toLowerCase())):k.removeAttribute(l)}},_addNonTweeningPT=function(e,l,_,k,S,E){var T=new yt(e._pt,l,_,0,1,E?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return e._pt=T,T.b=k,T.e=S,e._props.push(_),T},Jt={deg:1,rad:1,turn:1},Yt={grid:1,flex:1},Xt=function _convertToUnit(e,l,_,k){var S,E,T,O,I=parseFloat(_)||0,R=(_+"").trim().substr((I+"").length)||"px",M=Pt.style,j=qt.test(l),D="svg"===e.tagName.toLowerCase(),L=(D?"client":"offset")+(j?"Width":"Height"),U=100,B="px"===k,q="%"===k;if(k===R||!I||Jt[k]||Jt[R])return I;if("px"!==R&&!B&&(I=_convertToUnit(e,l,_,"px")),O=e.getCTM&&_isSVG(e),(q||"%"===R)&&(Ft[l]||~l.indexOf("adius")))return S=O?e.getBBox()[j?"width":"height"]:e[L],_round(q?I/S*U:I/100*S);if(M[j?"width":"height"]=U+(B?R:k),E="rem"!==k&&~l.indexOf("adius")||"em"===k&&e.appendChild&&!D?e:e.parentNode,O&&(E=(e.ownerSVGElement||{}).parentNode),E&&E!==Ot&&E.appendChild||(E=Ot.body),(T=E._gsap)&&q&&T.width&&j&&T.time===nt.time&&!T.uncache)return _round(I/T.width*U);if(!q||"height"!==l&&"width"!==l)(q||"%"===R)&&!Yt[Ht(E,"display")]&&(M.position=Ht(e,"position")),E===e&&(M.position="static"),E.appendChild(Pt),S=Pt[L],E.removeChild(Pt),M.position="absolute";else{var z=e.style[l];e.style[l]=U+k,S=e[L],z?e.style[l]=z:_removeProperty(e,l)}return j&&q&&((T=_getCache(E)).time=nt.time,T.width=E[L]),_round(B?S*I/U:S&&I?U/S*I:0)},_get=function(e,l,_,k){var S;return Rt||_initCore(),l in Gt&&"transform"!==l&&~(l=Gt[l]).indexOf(",")&&(l=l.split(",")[0]),Ft[l]&&"transform"!==l?(S=_parseTransform(e,k),S="transformOrigin"!==l?S[l]:S.svg?S.origin:_firstTwoOnly(Ht(e,Vt))+" "+S.zOrigin+"px"):(!(S=e.style[l])||"auto"===S||k||~(S+"").indexOf("calc("))&&(S=Qt[l]&&Qt[l](e,l,_)||Ht(e,l)||_getProperty(e,l)||("opacity"===l?1:0)),_&&!~(S+"").trim().indexOf(" ")?Xt(e,l,S,_)+_:S},_tweenComplexCSSString=function(e,l,_,k){if(!_||"none"===_){var S=_checkPropPrefix(l,e,1),E=S&&Ht(e,S,1);E&&E!==_?(l=S,_=E):"borderColor"===l&&(_=Ht(e,"borderTopColor"))}var T,O,I,R,M,j,D,L,U,B,q,z=new yt(this._pt,e.style,l,0,1,_renderComplexString),G=0,W=0;if(z.b=_,z.e=k,_+="","var(--"===(k+="").substring(0,6)&&(k=Ht(e,k.substring(4,k.indexOf(")")))),"auto"===k&&(j=e.style[l],e.style[l]=k,k=Ht(e,l)||k,j?e.style[l]=j:_removeProperty(e,l)),_colorStringFilter(T=[_,k]),k=T[1],I=(_=T[0]).match(xe)||[],(k.match(xe)||[]).length){for(;O=xe.exec(k);)D=O[0],U=k.substring(G,O.index),M?M=(M+1)%5:"rgba("!==U.substr(-5)&&"hsla("!==U.substr(-5)||(M=1),D!==(j=I[W++]||"")&&(R=parseFloat(j)||0,q=j.substr((R+"").length),"="===D.charAt(1)&&(D=_parseRelative(R,D)+q),L=parseFloat(D),B=D.substr((L+"").length),G=xe.lastIndex-B.length,B||(B=B||pe.units[l]||q,G===k.length&&(k+=B,z.e+=B)),q!==B&&(R=Xt(e,l,j,B)||0),z._pt={_next:z._pt,p:U||1===W?U:",",s:R,c:L-R,m:M&&M<4||"zIndex"===l?Math.round:0});z.c=G<k.length?k.substring(G,k.length):""}else z.r="display"===l&&"none"===k?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return Ie.test(k)&&(z.e=0),this._pt=z,z},Zt={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function(e){var l=e.split(" "),_=l[0],k=l[1]||"50%";return"top"!==_&&"bottom"!==_&&"left"!==k&&"right"!==k||(e=_,_=k,k=e),l[0]=Zt[_]||_,l[1]=Zt[k]||k,l.join(" ")},_renderClearProps=function(e,l){if(l.tween&&l.tween._time===l.tween._dur){var _,k,S,E=l.t,T=E.style,O=l.u,I=E._gsap;if("all"===O||!0===O)T.cssText="",k=1;else for(S=(O=O.split(",")).length;--S>-1;)_=O[S],Ft[_]&&(k=1,_="transformOrigin"===_?Vt:Wt),_removeProperty(E,_);k&&(_removeProperty(E,Wt),I&&(I.svg&&E.removeAttribute("transform"),T.scale=T.rotate=T.translate="none",_parseTransform(E,1),I.uncache=1,_removeIndependentTransforms(T)))}},Qt={clearProps:function(e,l,_,k,S){if("isFromStart"!==S.data){var E=e._pt=new yt(e._pt,l,_,0,0,_renderClearProps);return E.u=k,E.pr=-10,E.tween=S,e._props.push(_),1}}},er=[1,0,0,1,0,0],tr={},_isNullTransform=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},_getComputedTransformMatrixAsArray=function(e){var l=Ht(e,Wt);return _isNullTransform(l)?er:l.substr(7).match(Ae).map(_round)},_getMatrix=function(e,l){var _,k,S,E,T=e._gsap||_getCache(e),O=e.style,I=_getComputedTransformMatrixAsArray(e);return T.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(I=[(S=e.transform.baseVal.consolidate().matrix).a,S.b,S.c,S.d,S.e,S.f]).join(",")?er:I:(I!==er||e.offsetParent||e===It||T.svg||(S=O.display,O.display="block",(_=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(E=1,k=e.nextElementSibling,It.appendChild(e)),I=_getComputedTransformMatrixAsArray(e),S?O.display=S:_removeProperty(e,"display"),E&&(k?_.insertBefore(e,k):_?_.appendChild(e):It.removeChild(e))),l&&I.length>6?[I[0],I[1],I[4],I[5],I[12],I[13]]:I)},_applySVGOrigin=function(e,l,_,k,S,E){var T,O,I,R=e._gsap,M=S||_getMatrix(e,!0),j=R.xOrigin||0,D=R.yOrigin||0,L=R.xOffset||0,U=R.yOffset||0,B=M[0],q=M[1],z=M[2],G=M[3],W=M[4],V=M[5],K=l.split(" "),H=parseFloat(K[0])||0,$=parseFloat(K[1])||0;_?M!==er&&(O=B*G-q*z)&&(I=H*(-q/O)+$*(B/O)-(B*V-q*W)/O,H=H*(G/O)+$*(-z/O)+(z*V-G*W)/O,$=I):(H=(T=_getBBox(e)).x+(~K[0].indexOf("%")?H/100*T.width:H),$=T.y+(~(K[1]||K[0]).indexOf("%")?$/100*T.height:$)),k||!1!==k&&R.smooth?(W=H-j,V=$-D,R.xOffset=L+(W*B+V*z)-W,R.yOffset=U+(W*q+V*G)-V):R.xOffset=R.yOffset=0,R.xOrigin=H,R.yOrigin=$,R.smooth=!!k,R.origin=l,R.originIsAbsolute=!!_,e.style[Vt]="0px 0px",E&&(_addNonTweeningPT(E,R,"xOrigin",j,H),_addNonTweeningPT(E,R,"yOrigin",D,$),_addNonTweeningPT(E,R,"xOffset",L,R.xOffset),_addNonTweeningPT(E,R,"yOffset",U,R.yOffset)),e.setAttribute("data-svg-origin",H+" "+$)},_parseTransform=function(e,l){var _=e._gsap||new GSCache(e);if("x"in _&&!l&&!_.uncache)return _;var k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K,H,$,J,Y,X,Z,Q,ee,te,re,ne,ie,ae,oe=e.style,se=_.scaleX<0,ue="px",le="deg",ce=getComputedStyle(e),he=Ht(e,Vt)||"0";return k=S=E=I=R=M=j=D=L=0,T=O=1,_.svg=!(!e.getCTM||!_isSVG(e)),ce.translate&&("none"===ce.translate&&"none"===ce.scale&&"none"===ce.rotate||(oe[Wt]=("none"!==ce.translate?"translate3d("+(ce.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==ce.rotate?"rotate("+ce.rotate+") ":"")+("none"!==ce.scale?"scale("+ce.scale.split(" ").join(",")+") ":"")+("none"!==ce[Wt]?ce[Wt]:"")),oe.scale=oe.rotate=oe.translate="none"),q=_getMatrix(e,_.svg),_.svg&&(_.uncache?(Z=e.getBBox(),he=_.xOrigin-Z.x+"px "+(_.yOrigin-Z.y)+"px",X=""):X=!l&&e.getAttribute("data-svg-origin"),_applySVGOrigin(e,X||he,!!X||_.originIsAbsolute,!1!==_.smooth,q)),U=_.xOrigin||0,B=_.yOrigin||0,q!==er&&(V=q[0],K=q[1],H=q[2],$=q[3],k=J=q[4],S=Y=q[5],6===q.length?(T=Math.sqrt(V*V+K*K),O=Math.sqrt($*$+H*H),I=V||K?Ut(K,V)*Lt:0,(j=H||$?Ut(H,$)*Lt+I:0)&&(O*=Math.abs(Math.cos(j*Nt))),_.svg&&(k-=U-(U*V+B*H),S-=B-(U*K+B*$))):(ae=q[6],ne=q[7],ee=q[8],te=q[9],re=q[10],ie=q[11],k=q[12],S=q[13],E=q[14],R=(z=Ut(ae,re))*Lt,z&&(X=J*(G=Math.cos(-z))+ee*(W=Math.sin(-z)),Z=Y*G+te*W,Q=ae*G+re*W,ee=J*-W+ee*G,te=Y*-W+te*G,re=ae*-W+re*G,ie=ne*-W+ie*G,J=X,Y=Z,ae=Q),M=(z=Ut(-H,re))*Lt,z&&(G=Math.cos(-z),ie=$*(W=Math.sin(-z))+ie*G,V=X=V*G-ee*W,K=Z=K*G-te*W,H=Q=H*G-re*W),I=(z=Ut(K,V))*Lt,z&&(X=V*(G=Math.cos(z))+K*(W=Math.sin(z)),Z=J*G+Y*W,K=K*G-V*W,Y=Y*G-J*W,V=X,J=Z),R&&Math.abs(R)+Math.abs(I)>359.9&&(R=I=0,M=180-M),T=_round(Math.sqrt(V*V+K*K+H*H)),O=_round(Math.sqrt(Y*Y+ae*ae)),z=Ut(J,Y),j=Math.abs(z)>2e-4?z*Lt:0,L=ie?1/(ie<0?-ie:ie):0),_.svg&&(X=e.getAttribute("transform"),_.forceCSS=e.setAttribute("transform","")||!_isNullTransform(Ht(e,Wt)),X&&e.setAttribute("transform",X))),Math.abs(j)>90&&Math.abs(j)<270&&(se?(T*=-1,j+=I<=0?180:-180,I+=I<=0?180:-180):(O*=-1,j+=j<=0?180:-180)),l=l||_.uncache,_.x=k-((_.xPercent=k&&(!l&&_.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-k)?-50:0)))?e.offsetWidth*_.xPercent/100:0)+ue,_.y=S-((_.yPercent=S&&(!l&&_.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-S)?-50:0)))?e.offsetHeight*_.yPercent/100:0)+ue,_.z=E+ue,_.scaleX=_round(T),_.scaleY=_round(O),_.rotation=_round(I)+le,_.rotationX=_round(R)+le,_.rotationY=_round(M)+le,_.skewX=j+le,_.skewY=D+le,_.transformPerspective=L+ue,(_.zOrigin=parseFloat(he.split(" ")[2])||!l&&_.zOrigin||0)&&(oe[Vt]=_firstTwoOnly(he)),_.xOffset=_.yOffset=0,_.force3D=pe.force3D,_.renderTransform=_.svg?_renderSVGTransforms:Dt?_renderCSSTransforms:_renderNon3DTransforms,_.uncache=0,_},_firstTwoOnly=function(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate=function(e,l,_){var k=getUnit(l);return _round(parseFloat(l)+parseFloat(Xt(e,"x",_+"px",k)))+k},_renderNon3DTransforms=function(e,l){l.z="0px",l.rotationY=l.rotationX="0deg",l.force3D=0,_renderCSSTransforms(e,l)},rr="0deg",nr="0px",ir=") ",_renderCSSTransforms=function(e,l){var _=l||this,k=_.xPercent,S=_.yPercent,E=_.x,T=_.y,O=_.z,I=_.rotation,R=_.rotationY,M=_.rotationX,j=_.skewX,D=_.skewY,L=_.scaleX,U=_.scaleY,B=_.transformPerspective,q=_.force3D,z=_.target,G=_.zOrigin,W="",V="auto"===q&&e&&1!==e||!0===q;if(G&&(M!==rr||R!==rr)){var K,H=parseFloat(R)*Nt,$=Math.sin(H),J=Math.cos(H);H=parseFloat(M)*Nt,K=Math.cos(H),E=_addPxTranslate(z,E,$*K*-G),T=_addPxTranslate(z,T,-Math.sin(H)*-G),O=_addPxTranslate(z,O,J*K*-G+G)}B!==nr&&(W+="perspective("+B+ir),(k||S)&&(W+="translate("+k+"%, "+S+"%) "),(V||E!==nr||T!==nr||O!==nr)&&(W+=O!==nr||V?"translate3d("+E+", "+T+", "+O+") ":"translate("+E+", "+T+ir),I!==rr&&(W+="rotate("+I+ir),R!==rr&&(W+="rotateY("+R+ir),M!==rr&&(W+="rotateX("+M+ir),j===rr&&D===rr||(W+="skew("+j+", "+D+ir),1===L&&1===U||(W+="scale("+L+", "+U+ir),z.style[Wt]=W||"translate(0, 0)"},_renderSVGTransforms=function(e,l){var _,k,S,E,T,O=l||this,I=O.xPercent,R=O.yPercent,M=O.x,j=O.y,D=O.rotation,L=O.skewX,U=O.skewY,B=O.scaleX,q=O.scaleY,z=O.target,G=O.xOrigin,W=O.yOrigin,V=O.xOffset,K=O.yOffset,H=O.forceCSS,$=parseFloat(M),J=parseFloat(j);D=parseFloat(D),L=parseFloat(L),(U=parseFloat(U))&&(L+=U=parseFloat(U),D+=U),D||L?(D*=Nt,L*=Nt,_=Math.cos(D)*B,k=Math.sin(D)*B,S=Math.sin(D-L)*-q,E=Math.cos(D-L)*q,L&&(U*=Nt,T=Math.tan(L-U),S*=T=Math.sqrt(1+T*T),E*=T,U&&(T=Math.tan(U),_*=T=Math.sqrt(1+T*T),k*=T)),_=_round(_),k=_round(k),S=_round(S),E=_round(E)):(_=B,E=q,k=S=0),($&&!~(M+"").indexOf("px")||J&&!~(j+"").indexOf("px"))&&($=Xt(z,"x",M,"px"),J=Xt(z,"y",j,"px")),(G||W||V||K)&&($=_round($+G-(G*_+W*S)+V),J=_round(J+W-(G*k+W*E)+K)),(I||R)&&(T=z.getBBox(),$=_round($+I/100*T.width),J=_round(J+R/100*T.height)),T="matrix("+_+","+k+","+S+","+E+","+$+","+J+")",z.setAttribute("transform",T),H&&(z.style[Wt]=T)},_addRotationalPropTween=function(e,l,_,k,S){var E,T,O=360,I=_isString(S),R=parseFloat(S)*(I&&~S.indexOf("rad")?Lt:1)-k,M=k+R+"deg";return I&&("short"===(E=S.split("_")[1])&&(R%=O)!==R%180&&(R+=R<0?O:-360),"cw"===E&&R<0?R=(R+36e9)%O-~~(R/O)*O:"ccw"===E&&R>0&&(R=(R-36e9)%O-~~(R/O)*O)),e._pt=T=new yt(e._pt,l,_,k,R,_renderPropWithEnd),T.e=M,T.u="deg",e._props.push(_),T},_assign=function(e,l){for(var _ in l)e[_]=l[_];return e},_addRawTransformPTs=function(e,l,_){var k,S,E,T,O,I,R,M=_assign({},_._gsap),j=_.style;for(S in M.svg?(E=_.getAttribute("transform"),_.setAttribute("transform",""),j[Wt]=l,k=_parseTransform(_,1),_removeProperty(_,Wt),_.setAttribute("transform",E)):(E=getComputedStyle(_)[Wt],j[Wt]=l,k=_parseTransform(_,1),j[Wt]=E),Ft)(E=M[S])!==(T=k[S])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(S)<0&&(O=getUnit(E)!==(R=getUnit(T))?Xt(_,S,E,R):parseFloat(E),I=parseFloat(T),e._pt=new yt(e._pt,k,S,O,I-O,_renderCSSProp),e._pt.u=R||0,e._props.push(S));_assign(k,M)};_forEachName("padding,margin,Width,Radius",function(e,l){var _="Top",k="Right",S="Bottom",E="Left",T=(l<3?[_,k,S,E]:[_+E,_+k,S+k,S+E]).map(function(_){return l<2?e+_:"border"+_+e});Qt[l>1?"border"+e:e]=function(e,l,_,k,S){var E,O;if(arguments.length<4)return E=T.map(function(l){return _get(e,l,_)}),5===(O=E.join(" ")).split(E[0]).length?E[0]:O;E=(k+"").split(" "),O={},T.forEach(function(e,l){return O[e]=E[l]=E[l]||E[(l-1)/2|0]}),e.init(l,O,S)}});var ar={name:"css",register:_initCore,targetTest:function(e){return e.style&&e.nodeType},init:function(e,l,_,k,S){var E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K=this._props,H=e.style,$=_.vars.startAt;for(j in Rt||_initCore(),this.styles=this.styles||_getStyleSaver(e),V=this.styles.props,this.tween=_,l)if("autoRound"!==j&&(T=l[j],!qe[j]||!_checkPlugin(j,l,_,k,e,S)))if(R=_typeof3(T),M=Qt[j],"function"===R&&(R=_typeof3(T=T.call(_,k,e,S))),"string"===R&&~T.indexOf("random(")&&(T=_replaceRandom(T)),M)M(this,e,j,T,_)&&(W=1);else if("--"===j.substr(0,2))E=(getComputedStyle(e).getPropertyValue(j)+"").trim(),T+="",tt.lastIndex=0,tt.test(E)||(D=getUnit(E),L=getUnit(T)),L?D!==L&&(E=Xt(e,j,E,L)+L):D&&(T+=D),this.add(H,"setProperty",E,T,k,S,0,0,j),K.push(j),V.push(j,0,H[j]);else if("undefined"!==R){if($&&j in $?(E="function"==typeof $[j]?$[j].call(_,k,e,S):$[j],_isString(E)&&~E.indexOf("random(")&&(E=_replaceRandom(E)),getUnit(E+"")||"auto"===E||(E+=pe.units[j]||getUnit(_get(e,j))||""),"="===(E+"").charAt(1)&&(E=_get(e,j))):E=_get(e,j),I=parseFloat(E),(U="string"===R&&"="===T.charAt(1)&&T.substr(0,2))&&(T=T.substr(2)),O=parseFloat(T),j in Gt&&("autoAlpha"===j&&(1===I&&"hidden"===_get(e,"visibility")&&O&&(I=0),V.push("visibility",0,H.visibility),_addNonTweeningPT(this,H,"visibility",I?"inherit":"hidden",O?"inherit":"hidden",!O)),"scale"!==j&&"transform"!==j&&~(j=Gt[j]).indexOf(",")&&(j=j.split(",")[0])),B=j in Ft)if(this.styles.save(j),"string"===R&&"var(--"===T.substring(0,6)&&(T=Ht(e,T.substring(4,T.indexOf(")"))),O=parseFloat(T)),q||((z=e._gsap).renderTransform&&!l.parseTransform||_parseTransform(e,l.parseTransform),G=!1!==l.smoothOrigin&&z.smooth,(q=this._pt=new yt(this._pt,H,Wt,0,1,z.renderTransform,z,0,-1)).dep=1),"scale"===j)this._pt=new yt(this._pt,z,"scaleY",z.scaleY,(U?_parseRelative(z.scaleY,U+O):O)-z.scaleY||0,_renderCSSProp),this._pt.u=0,K.push("scaleY",j),j+="X";else{if("transformOrigin"===j){V.push(Vt,0,H[Vt]),T=_convertKeywordsToPercentages(T),z.svg?_applySVGOrigin(e,T,0,G,0,this):((L=parseFloat(T.split(" ")[2])||0)!==z.zOrigin&&_addNonTweeningPT(this,z,"zOrigin",z.zOrigin,L),_addNonTweeningPT(this,H,j,_firstTwoOnly(E),_firstTwoOnly(T)));continue}if("svgOrigin"===j){_applySVGOrigin(e,T,1,G,0,this);continue}if(j in tr){_addRotationalPropTween(this,z,j,I,U?_parseRelative(I,U+T):T);continue}if("smoothOrigin"===j){_addNonTweeningPT(this,z,"smooth",z.smooth,T);continue}if("force3D"===j){z[j]=T;continue}if("transform"===j){_addRawTransformPTs(this,T,e);continue}}else j in H||(j=_checkPropPrefix(j)||j);if(B||(O||0===O)&&(I||0===I)&&!zt.test(T)&&j in H)O||(O=0),(D=(E+"").substr((I+"").length))!==(L=getUnit(T)||(j in pe.units?pe.units[j]:D))&&(I=Xt(e,j,E,L)),this._pt=new yt(this._pt,B?z:H,j,I,(U?_parseRelative(I,U+O):O)-I,B||"px"!==L&&"zIndex"!==j||!1===l.autoRound?_renderCSSProp:_renderRoundedCSSProp),this._pt.u=L||0,D!==L&&"%"!==L&&(this._pt.b=E,this._pt.r=_renderCSSPropWithBeginning);else if(j in H)_tweenComplexCSSString.call(this,e,j,E,U?U+T:T);else if(j in e)this.add(e,j,E||e[j],U?U+T:T,k,S);else if("parseTransform"!==j){_missingPlugin();continue}B||(j in H?V.push(j,0,H[j]):"function"==typeof e[j]?V.push(j,2,e[j]()):V.push(j,1,E||e[j])),K.push(j)}W&&_sortPropTweensByPriority(this)},render:function(e,l){if(l.tween._time||!jt())for(var _=l._pt;_;)_.r(e,_.d),_=_._next;else l.styles.revert()},get:_get,aliases:Gt,getSetter:function(e,l,_){var k=Gt[l];return k&&k.indexOf(",")<0&&(l=k),l in Ft&&l!==Vt&&(e._gsap.x||_get(e,"x"))?_&&Mt===_?"scale"===l?_setterScale:_setterTransform:(Mt=_||{})&&("scale"===l?_setterScaleWithRender:_setterTransformWithRender):e.style&&!_isUndefined(e.style[l])?_setterCSSStyle:~l.indexOf("-")?_setterCSSProp:_getSetter(e,l)},core:{_removeProperty:_removeProperty,_getMatrix:_getMatrix}};function r(e){var l,_,k="";if("string"==typeof e||"number"==typeof e)k+=e;else if("object"==_typeof3(e))if(Array.isArray(e)){var S=e.length;for(l=0;l<S;l++)e[l]&&(_=r(e[l]))&&(k&&(k+=" "),k+=_)}else for(_ in e)e[_]&&(k&&(k+=" "),k+=_);return k}function clsx(){for(var e,l,_=0,k="",S=arguments.length;_<S;_++)(e=arguments[_])&&(l=r(e))&&(k&&(k+=" "),k+=l);return k}At.utils.checkPrefix=_checkPropPrefix,At.core.getStyleSaver=_getStyleSaver,function(e,l){var _=_forEachName(e+","+l+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){Ft[e]=1});_forEachName(l,function(e){pe.units[e]="deg",tr[e]=1}),Gt[_[13]]=e+","+l,_forEachName("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var l=e.split(":");Gt[l[1]]=_[l[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){pe.units[e]="px"}),At.registerPlugin(ar),R("ac",At.registerPlugin(ar)||At).core.Tween;var _getGroupRecursive=function(e,l){var _;if(0===e.length)return l.classGroupId;var k=e[0],S=l.nextPart.get(k),E=S?_getGroupRecursive(e.slice(1),S):void 0;if(E)return E;if(0!==l.validators.length){var T=e.join("-");return null===(_=l.validators.find(function(e){return(0,e.validator)(T)}))||void 0===_?void 0:_.classGroupId}},or=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=function(e){if(or.test(e)){var l=or.exec(e)[1],_=null==l?void 0:l.substring(0,l.indexOf(":"));if(_)return"arbitrary.."+_}},createClassMap=function(e){var l=e.theme,_=e.classGroups,k={nextPart:new Map,validators:[]};for(var S in _)_processClassesRecursively(_[S],k,S,l);return k},_processClassesRecursively=function(e,l,_,k){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return isThemeGetter(e)?void _processClassesRecursively(e(k),l,_,k):void l.validators.push({validator:e,classGroupId:_});Object.entries(e).forEach(function(e){var S=_slicedToArray(e,2),E=S[0],T=S[1];_processClassesRecursively(T,getPart(l,E),_,k)})}else{(""===e?l:getPart(l,e)).classGroupId=_}})},getPart=function(e,l){var _=e;return l.split("-").forEach(function(e){_.nextPart.has(e)||_.nextPart.set(e,{nextPart:new Map,validators:[]}),_=_.nextPart.get(e)}),_},isThemeGetter=function(e){return e.isThemeGetter},createLruCache=function(e){if(e<1)return{get:function(){},set:function(){}};var l=0,_=new Map,k=new Map,update=function(S,E){_.set(S,E),++l>e&&(l=0,k=_,_=new Map)};return{get:function(e){var l=_.get(e);return void 0!==l?l:void 0!==(l=k.get(e))?(update(e,l),l):void 0},set:function(e,l){_.has(e)?_.set(e,l):update(e,l)}}},createParseClassName=function(e){var l=e.prefix,_=e.experimentalParseClassName,parseClassName=function(e){for(var l,_=[],k=0,S=0,E=0,T=0;T<e.length;T++){var O=e[T];if(0===k&&0===S){if(":"===O){_.push(e.slice(E,T)),E=T+1;continue}if("/"===O){l=T;continue}}"["===O?k++:"]"===O?k--:"("===O?S++:")"===O&&S--}var I=0===_.length?e:e.substring(E),R=stripImportantModifier(I);return{modifiers:_,hasImportantModifier:R!==I,baseClassName:R,maybePostfixModifierPosition:l&&l>E?l-E:void 0}};if(l){var k=l+":",S=parseClassName;parseClassName=function(e){return e.startsWith(k)?S(e.substring(k.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:e,maybePostfixModifierPosition:void 0}}}if(_){var E=parseClassName;parseClassName=function(e){return _({className:e,parseClassName:E})}}return parseClassName},stripImportantModifier=function(e){return e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e},createSortModifiers=function(e){var l=Object.fromEntries(e.orderSensitiveModifiers.map(function(e){return[e,!0]}));return function(e){if(e.length<=1)return e;var _=[],k=[];return e.forEach(function(e){"["===e[0]||l[e]?(_.push.apply(_,_toConsumableArray3(k.sort()).concat([e])),k=[]):k.push(e)}),_.push.apply(_,_toConsumableArray3(k.sort())),_}},createConfigUtils=function(e){return _objectSpread2({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e)},function(e){var l=createClassMap(e),_=e.conflictingClassGroups,k=e.conflictingClassGroupModifiers;return{getClassGroupId:function(e){var _=e.split("-");return""===_[0]&&1!==_.length&&_.shift(),_getGroupRecursive(_,l)||getGroupIdForArbitraryProperty(e)},getConflictingClassGroupIds:function(e,l){var S=_[e]||[];return l&&k[e]?[].concat(_toConsumableArray3(S),_toConsumableArray3(k[e])):S}}}(e))},sr=/\s+/;function twJoin(){for(var e,l,_=0,k="";_<arguments.length;)(e=arguments[_++])&&(l=_toValue(e))&&(k&&(k+=" "),k+=l);return k}var _toValue=function(e){if("string"==typeof e)return e;for(var l,_="",k=0;k<e.length;k++)e[k]&&(l=_toValue(e[k]))&&(_&&(_+=" "),_+=l);return _};function createTailwindMerge(e){for(var l=arguments.length,_=new Array(l>1?l-1:0),k=1;k<l;k++)_[k-1]=arguments[k];var S,E,T,functionToCall=function(l){var k=_.reduce(function(e,l){return l(e)},e());return S=createConfigUtils(k),E=S.cache.get,T=S.cache.set,functionToCall=tailwindMerge,tailwindMerge(l)};function tailwindMerge(e){var l=E(e);if(l)return l;var _=function(e,l){for(var _=l.parseClassName,k=l.getClassGroupId,S=l.getConflictingClassGroupIds,E=l.sortModifiers,T=[],O=e.trim().split(sr),I="",R=O.length-1;R>=0;R-=1){var M=O[R],j=_(M),D=j.isExternal,L=j.modifiers,U=j.hasImportantModifier,B=j.baseClassName,q=j.maybePostfixModifierPosition;if(D)I=M+(I.length>0?" "+I:I);else{var z=!!q,G=k(z?B.substring(0,q):B);if(!G){if(!z){I=M+(I.length>0?" "+I:I);continue}if(!(G=k(B))){I=M+(I.length>0?" "+I:I);continue}z=!1}var W=E(L).join(":"),V=U?W+"!":W,K=V+G;if(!T.includes(K)){T.push(K);for(var H=S(G,z),$=0;$<H.length;++$){var J=H[$];T.push(V+J)}I=M+(I.length>0?" "+I:I)}}}return I}(e,S);return T(e,_),_}return function(){return functionToCall(twJoin.apply(null,arguments))}}var ur,lr,fromTheme=function(e){var themeGetter=function(l){return l[e]||[]};return themeGetter.isThemeGetter=!0,themeGetter},cr=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hr=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dr=/^\d+\/\d+$/,fr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=function(e){return dr.test(e)},isNumber$1=function(e){return!!e&&!Number.isNaN(Number(e))},isInteger=function(e){return!!e&&Number.isInteger(Number(e))},isPercent=function(e){return e.endsWith("%")&&isNumber$1(e.slice(0,-1))},isTshirtSize=function(e){return fr.test(e)},isAny=function(){return!0},isLengthOnly=function(e){return pr.test(e)&&!vr.test(e)},isNever=function(){return!1},isShadow=function(e){return gr.test(e)},isImage=function(e){return mr.test(e)},isAnyNonArbitrary=function(e){return!isArbitraryValue(e)&&!isArbitraryVariable(e)},isArbitrarySize=function(e){return getIsArbitraryValue(e,isLabelSize,isNever)},isArbitraryValue=function(e){return cr.test(e)},isArbitraryLength=function(e){return getIsArbitraryValue(e,isLabelLength,isLengthOnly)},isArbitraryNumber=function(e){return getIsArbitraryValue(e,isLabelNumber,isNumber$1)},isArbitraryPosition=function(e){return getIsArbitraryValue(e,isLabelPosition,isNever)},isArbitraryImage=function(e){return getIsArbitraryValue(e,isLabelImage,isImage)},isArbitraryShadow=function(e){return getIsArbitraryValue(e,isLabelShadow,isShadow)},isArbitraryVariable=function(e){return hr.test(e)},isArbitraryVariableLength=function(e){return getIsArbitraryVariable(e,isLabelLength)},isArbitraryVariableFamilyName=function(e){return getIsArbitraryVariable(e,isLabelFamilyName)},isArbitraryVariablePosition=function(e){return getIsArbitraryVariable(e,isLabelPosition)},isArbitraryVariableSize=function(e){return getIsArbitraryVariable(e,isLabelSize)},isArbitraryVariableImage=function(e){return getIsArbitraryVariable(e,isLabelImage)},isArbitraryVariableShadow=function(e){return getIsArbitraryVariable(e,isLabelShadow,!0)},getIsArbitraryValue=function(e,l,_){var k=cr.exec(e);return!!k&&(k[1]?l(k[1]):_(k[2]))},getIsArbitraryVariable=function(e,l){var _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],k=hr.exec(e);return!!k&&(k[1]?l(k[1]):_)},isLabelPosition=function(e){return"position"===e||"percentage"===e},isLabelImage=function(e){return"image"===e||"url"===e},isLabelSize=function(e){return"length"===e||"size"===e||"bg-size"===e},isLabelLength=function(e){return"length"===e},isLabelNumber=function(e){return"number"===e},isLabelFamilyName=function(e){return"family-name"===e},isLabelShadow=function(e){return"shadow"===e},yr=(R("b0",createTailwindMerge(function(){var e=fromTheme("color"),l=fromTheme("font"),_=fromTheme("text"),k=fromTheme("font-weight"),S=fromTheme("tracking"),E=fromTheme("leading"),T=fromTheme("breakpoint"),O=fromTheme("container"),I=fromTheme("spacing"),R=fromTheme("radius"),M=fromTheme("shadow"),j=fromTheme("inset-shadow"),D=fromTheme("text-shadow"),L=fromTheme("drop-shadow"),U=fromTheme("blur"),B=fromTheme("perspective"),q=fromTheme("aspect"),z=fromTheme("ease"),G=fromTheme("animate"),scalePositionWithArbitrary=function(){return[].concat(_toConsumableArray3(["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]),[isArbitraryVariable,isArbitraryValue])},scaleUnambiguousSpacing=function(){return[isArbitraryVariable,isArbitraryValue,I]},scaleInset=function(){return[isFraction,"full","auto"].concat(_toConsumableArray3(scaleUnambiguousSpacing()))},scaleGridTemplateColsRows=function(){return[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue]},scaleGridColRowStartAndEnd=function(){return["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue]},scaleGridColRowStartOrEnd=function(){return[isInteger,"auto",isArbitraryVariable,isArbitraryValue]},scaleGridAutoColsRows=function(){return["auto","min","max","fr",isArbitraryVariable,isArbitraryValue]},scaleMargin=function(){return["auto"].concat(_toConsumableArray3(scaleUnambiguousSpacing()))},scaleSizing=function(){return[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit"].concat(_toConsumableArray3(scaleUnambiguousSpacing()))},scaleColor=function(){return[e,isArbitraryVariable,isArbitraryValue]},scaleBgPosition=function(){return[].concat(_toConsumableArray3(["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]),[isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}])},scaleBgSize=function(){return["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}]},scaleGradientStopPosition=function(){return[isPercent,isArbitraryVariableLength,isArbitraryLength]},scaleRadius=function(){return["","none","full",R,isArbitraryVariable,isArbitraryValue]},scaleBorderWidth=function(){return["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]},scaleMaskImagePosition=function(){return[isNumber$1,isPercent,isArbitraryVariablePosition,isArbitraryPosition]},scaleBlur=function(){return["","none",U,isArbitraryVariable,isArbitraryValue]},scaleRotate=function(){return["none",isNumber$1,isArbitraryVariable,isArbitraryValue]},scaleScale=function(){return["none",isNumber$1,isArbitraryVariable,isArbitraryValue]},scaleSkew=function(){return[isNumber$1,isArbitraryVariable,isArbitraryValue]},scaleTranslate=function(){return[isFraction,"full"].concat(_toConsumableArray3(scaleUnambiguousSpacing()))};return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,q]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,O]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:scalePositionWithArbitrary()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:scaleInset()}],"inset-x":[{"inset-x":scaleInset()}],"inset-y":[{"inset-y":scaleInset()}],start:[{start:scaleInset()}],end:[{end:scaleInset()}],top:[{top:scaleInset()}],right:[{right:scaleInset()}],bottom:[{bottom:scaleInset()}],left:[{left:scaleInset()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",O].concat(_toConsumableArray3(scaleUnambiguousSpacing()))}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":scaleGridTemplateColsRows()}],"col-start-end":[{col:scaleGridColRowStartAndEnd()}],"col-start":[{"col-start":scaleGridColRowStartOrEnd()}],"col-end":[{"col-end":scaleGridColRowStartOrEnd()}],"grid-rows":[{"grid-rows":scaleGridTemplateColsRows()}],"row-start-end":[{row:scaleGridColRowStartAndEnd()}],"row-start":[{"row-start":scaleGridColRowStartOrEnd()}],"row-end":[{"row-end":scaleGridColRowStartOrEnd()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":scaleGridAutoColsRows()}],"auto-rows":[{"auto-rows":scaleGridAutoColsRows()}],gap:[{gap:scaleUnambiguousSpacing()}],"gap-x":[{"gap-x":scaleUnambiguousSpacing()}],"gap-y":[{"gap-y":scaleUnambiguousSpacing()}],"justify-content":[{justify:[].concat(_toConsumableArray3(["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]),["normal"])}],"justify-items":[{"justify-items":[].concat(_toConsumableArray3(["start","end","center","stretch","center-safe","end-safe"]),["normal"])}],"justify-self":[{"justify-self":["auto"].concat(_toConsumableArray3(["start","end","center","stretch","center-safe","end-safe"]))}],"align-content":[{content:["normal"].concat(_toConsumableArray3(["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]))}],"align-items":[{items:[].concat(_toConsumableArray3(["start","end","center","stretch","center-safe","end-safe"]),[{baseline:["","last"]}])}],"align-self":[{self:["auto"].concat(_toConsumableArray3(["start","end","center","stretch","center-safe","end-safe"]),[{baseline:["","last"]}])}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":[].concat(_toConsumableArray3(["start","end","center","stretch","center-safe","end-safe"]),["baseline"])}],"place-self":[{"place-self":["auto"].concat(_toConsumableArray3(["start","end","center","stretch","center-safe","end-safe"]))}],p:[{p:scaleUnambiguousSpacing()}],px:[{px:scaleUnambiguousSpacing()}],py:[{py:scaleUnambiguousSpacing()}],ps:[{ps:scaleUnambiguousSpacing()}],pe:[{pe:scaleUnambiguousSpacing()}],pt:[{pt:scaleUnambiguousSpacing()}],pr:[{pr:scaleUnambiguousSpacing()}],pb:[{pb:scaleUnambiguousSpacing()}],pl:[{pl:scaleUnambiguousSpacing()}],m:[{m:scaleMargin()}],mx:[{mx:scaleMargin()}],my:[{my:scaleMargin()}],ms:[{ms:scaleMargin()}],me:[{me:scaleMargin()}],mt:[{mt:scaleMargin()}],mr:[{mr:scaleMargin()}],mb:[{mb:scaleMargin()}],ml:[{ml:scaleMargin()}],"space-x":[{"space-x":scaleUnambiguousSpacing()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":scaleUnambiguousSpacing()}],"space-y-reverse":["space-y-reverse"],size:[{size:scaleSizing()}],w:[{w:[O,"screen"].concat(_toConsumableArray3(scaleSizing()))}],"min-w":[{"min-w":[O,"screen","none"].concat(_toConsumableArray3(scaleSizing()))}],"max-w":[{"max-w":[O,"screen","none","prose",{screen:[T]}].concat(_toConsumableArray3(scaleSizing()))}],h:[{h:["screen","lh"].concat(_toConsumableArray3(scaleSizing()))}],"min-h":[{"min-h":["screen","lh","none"].concat(_toConsumableArray3(scaleSizing()))}],"max-h":[{"max-h":["screen","lh"].concat(_toConsumableArray3(scaleSizing()))}],"font-size":[{text:["base",_,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[k,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[S,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[E].concat(_toConsumableArray3(scaleUnambiguousSpacing()))}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:scaleColor()}],"text-color":[{text:scaleColor()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(_toConsumableArray3(["solid","dashed","dotted","double"]),["wavy"])}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:scaleColor()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:scaleUnambiguousSpacing()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:scaleBgPosition()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:scaleBgSize()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:scaleColor()}],"gradient-from-pos":[{from:scaleGradientStopPosition()}],"gradient-via-pos":[{via:scaleGradientStopPosition()}],"gradient-to-pos":[{to:scaleGradientStopPosition()}],"gradient-from":[{from:scaleColor()}],"gradient-via":[{via:scaleColor()}],"gradient-to":[{to:scaleColor()}],rounded:[{rounded:scaleRadius()}],"rounded-s":[{"rounded-s":scaleRadius()}],"rounded-e":[{"rounded-e":scaleRadius()}],"rounded-t":[{"rounded-t":scaleRadius()}],"rounded-r":[{"rounded-r":scaleRadius()}],"rounded-b":[{"rounded-b":scaleRadius()}],"rounded-l":[{"rounded-l":scaleRadius()}],"rounded-ss":[{"rounded-ss":scaleRadius()}],"rounded-se":[{"rounded-se":scaleRadius()}],"rounded-ee":[{"rounded-ee":scaleRadius()}],"rounded-es":[{"rounded-es":scaleRadius()}],"rounded-tl":[{"rounded-tl":scaleRadius()}],"rounded-tr":[{"rounded-tr":scaleRadius()}],"rounded-br":[{"rounded-br":scaleRadius()}],"rounded-bl":[{"rounded-bl":scaleRadius()}],"border-w":[{border:scaleBorderWidth()}],"border-w-x":[{"border-x":scaleBorderWidth()}],"border-w-y":[{"border-y":scaleBorderWidth()}],"border-w-s":[{"border-s":scaleBorderWidth()}],"border-w-e":[{"border-e":scaleBorderWidth()}],"border-w-t":[{"border-t":scaleBorderWidth()}],"border-w-r":[{"border-r":scaleBorderWidth()}],"border-w-b":[{"border-b":scaleBorderWidth()}],"border-w-l":[{"border-l":scaleBorderWidth()}],"divide-x":[{"divide-x":scaleBorderWidth()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":scaleBorderWidth()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[].concat(_toConsumableArray3(["solid","dashed","dotted","double"]),["hidden","none"])}],"divide-style":[{divide:[].concat(_toConsumableArray3(["solid","dashed","dotted","double"]),["hidden","none"])}],"border-color":[{border:scaleColor()}],"border-color-x":[{"border-x":scaleColor()}],"border-color-y":[{"border-y":scaleColor()}],"border-color-s":[{"border-s":scaleColor()}],"border-color-e":[{"border-e":scaleColor()}],"border-color-t":[{"border-t":scaleColor()}],"border-color-r":[{"border-r":scaleColor()}],"border-color-b":[{"border-b":scaleColor()}],"border-color-l":[{"border-l":scaleColor()}],"divide-color":[{divide:scaleColor()}],"outline-style":[{outline:[].concat(_toConsumableArray3(["solid","dashed","dotted","double"]),["none","hidden"])}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:scaleColor()}],shadow:[{shadow:["","none",M,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:scaleColor()}],"inset-shadow":[{"inset-shadow":["none",j,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":scaleColor()}],"ring-w":[{ring:scaleBorderWidth()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:scaleColor()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":scaleColor()}],"inset-ring-w":[{"inset-ring":scaleBorderWidth()}],"inset-ring-color":[{"inset-ring":scaleColor()}],"text-shadow":[{"text-shadow":["none",D,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":scaleColor()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[].concat(_toConsumableArray3(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),["plus-darker","plus-lighter"])}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":scaleMaskImagePosition()}],"mask-image-linear-to-pos":[{"mask-linear-to":scaleMaskImagePosition()}],"mask-image-linear-from-color":[{"mask-linear-from":scaleColor()}],"mask-image-linear-to-color":[{"mask-linear-to":scaleColor()}],"mask-image-t-from-pos":[{"mask-t-from":scaleMaskImagePosition()}],"mask-image-t-to-pos":[{"mask-t-to":scaleMaskImagePosition()}],"mask-image-t-from-color":[{"mask-t-from":scaleColor()}],"mask-image-t-to-color":[{"mask-t-to":scaleColor()}],"mask-image-r-from-pos":[{"mask-r-from":scaleMaskImagePosition()}],"mask-image-r-to-pos":[{"mask-r-to":scaleMaskImagePosition()}],"mask-image-r-from-color":[{"mask-r-from":scaleColor()}],"mask-image-r-to-color":[{"mask-r-to":scaleColor()}],"mask-image-b-from-pos":[{"mask-b-from":scaleMaskImagePosition()}],"mask-image-b-to-pos":[{"mask-b-to":scaleMaskImagePosition()}],"mask-image-b-from-color":[{"mask-b-from":scaleColor()}],"mask-image-b-to-color":[{"mask-b-to":scaleColor()}],"mask-image-l-from-pos":[{"mask-l-from":scaleMaskImagePosition()}],"mask-image-l-to-pos":[{"mask-l-to":scaleMaskImagePosition()}],"mask-image-l-from-color":[{"mask-l-from":scaleColor()}],"mask-image-l-to-color":[{"mask-l-to":scaleColor()}],"mask-image-x-from-pos":[{"mask-x-from":scaleMaskImagePosition()}],"mask-image-x-to-pos":[{"mask-x-to":scaleMaskImagePosition()}],"mask-image-x-from-color":[{"mask-x-from":scaleColor()}],"mask-image-x-to-color":[{"mask-x-to":scaleColor()}],"mask-image-y-from-pos":[{"mask-y-from":scaleMaskImagePosition()}],"mask-image-y-to-pos":[{"mask-y-to":scaleMaskImagePosition()}],"mask-image-y-from-color":[{"mask-y-from":scaleColor()}],"mask-image-y-to-color":[{"mask-y-to":scaleColor()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":scaleMaskImagePosition()}],"mask-image-radial-to-pos":[{"mask-radial-to":scaleMaskImagePosition()}],"mask-image-radial-from-color":[{"mask-radial-from":scaleColor()}],"mask-image-radial-to-color":[{"mask-radial-to":scaleColor()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":scaleMaskImagePosition()}],"mask-image-conic-to-pos":[{"mask-conic-to":scaleMaskImagePosition()}],"mask-image-conic-from-color":[{"mask-conic-from":scaleColor()}],"mask-image-conic-to-color":[{"mask-conic-to":scaleColor()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:scaleBgPosition()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:scaleBgSize()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:scaleBlur()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",L,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":scaleColor()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":scaleBlur()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":scaleUnambiguousSpacing()}],"border-spacing-x":[{"border-spacing-x":scaleUnambiguousSpacing()}],"border-spacing-y":[{"border-spacing-y":scaleUnambiguousSpacing()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",z,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",G,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[B,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":scalePositionWithArbitrary()}],rotate:[{rotate:scaleRotate()}],"rotate-x":[{"rotate-x":scaleRotate()}],"rotate-y":[{"rotate-y":scaleRotate()}],"rotate-z":[{"rotate-z":scaleRotate()}],scale:[{scale:scaleScale()}],"scale-x":[{"scale-x":scaleScale()}],"scale-y":[{"scale-y":scaleScale()}],"scale-z":[{"scale-z":scaleScale()}],"scale-3d":["scale-3d"],skew:[{skew:scaleSkew()}],"skew-x":[{"skew-x":scaleSkew()}],"skew-y":[{"skew-y":scaleSkew()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:scalePositionWithArbitrary()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:scaleTranslate()}],"translate-x":[{"translate-x":scaleTranslate()}],"translate-y":[{"translate-y":scaleTranslate()}],"translate-z":[{"translate-z":scaleTranslate()}],"translate-none":["translate-none"],accent:[{accent:scaleColor()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:scaleColor()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":scaleUnambiguousSpacing()}],"scroll-mx":[{"scroll-mx":scaleUnambiguousSpacing()}],"scroll-my":[{"scroll-my":scaleUnambiguousSpacing()}],"scroll-ms":[{"scroll-ms":scaleUnambiguousSpacing()}],"scroll-me":[{"scroll-me":scaleUnambiguousSpacing()}],"scroll-mt":[{"scroll-mt":scaleUnambiguousSpacing()}],"scroll-mr":[{"scroll-mr":scaleUnambiguousSpacing()}],"scroll-mb":[{"scroll-mb":scaleUnambiguousSpacing()}],"scroll-ml":[{"scroll-ml":scaleUnambiguousSpacing()}],"scroll-p":[{"scroll-p":scaleUnambiguousSpacing()}],"scroll-px":[{"scroll-px":scaleUnambiguousSpacing()}],"scroll-py":[{"scroll-py":scaleUnambiguousSpacing()}],"scroll-ps":[{"scroll-ps":scaleUnambiguousSpacing()}],"scroll-pe":[{"scroll-pe":scaleUnambiguousSpacing()}],"scroll-pt":[{"scroll-pt":scaleUnambiguousSpacing()}],"scroll-pr":[{"scroll-pr":scaleUnambiguousSpacing()}],"scroll-pb":[{"scroll-pb":scaleUnambiguousSpacing()}],"scroll-pl":[{"scroll-pl":scaleUnambiguousSpacing()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none"].concat(_toConsumableArray3(scaleColor()))}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none"].concat(_toConsumableArray3(scaleColor()))}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}})),{}),_r={},br={};function requireLog(){return ur||(ur=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Log=e.LogLevel=void 0;var l=" DEBUG ",_="  INFO ",k="  WARN ",S=" ERROR ";function addTag(e){return e.unshift("[Statsig]"),e}e.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};var E=function(){function Log(){_classCallCheck3(this,Log)}return _createClass3(Log,null,[{key:"info",value:function(){if(Log.level>=e.LogLevel.Info){for(var l,k=arguments.length,S=new Array(k),E=0;E<k;E++)S[E]=arguments[E];(l=console).info.apply(l,[_].concat(_toConsumableArray3(addTag(S))))}}},{key:"debug",value:function(){if(Log.level>=e.LogLevel.Debug){for(var _,k=arguments.length,S=new Array(k),E=0;E<k;E++)S[E]=arguments[E];(_=console).debug.apply(_,[l].concat(_toConsumableArray3(addTag(S))))}}},{key:"warn",value:function(){if(Log.level>=e.LogLevel.Warn){for(var l,_=arguments.length,S=new Array(_),E=0;E<_;E++)S[E]=arguments[E];(l=console).warn.apply(l,[k].concat(_toConsumableArray3(addTag(S))))}}},{key:"error",value:function(){if(Log.level>=e.LogLevel.Error){for(var l,_=arguments.length,k=new Array(_),E=0;E<_;E++)k[E]=arguments[E];(l=console).error.apply(l,[S].concat(_toConsumableArray3(addTag(k))))}}}])}();e.Log=E,E.level=e.LogLevel.Warn}(br)),br}function require$_StatsigGlobal(){return lr||(lr=1,function(e){var l,_,k;Object.defineProperty(e,"__esModule",{value:!0}),e._getInstance=e._getStatsigGlobalFlag=e._getStatsigGlobal=void 0;var S=requireLog();e._getStatsigGlobal=function(){try{return"undefined"!=typeof __STATSIG__?__STATSIG__:R}catch(ta){return R}};e._getStatsigGlobalFlag=function(l){return(0,e._getStatsigGlobal)()[l]};e._getInstance=function(l){var _=(0,e._getStatsigGlobal)();return l?_.instances&&_.instances[l]:(_.instances&&Object.keys(_.instances).length>1&&S.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),_.firstInstance)};var E="__STATSIG__",T="undefined"!=typeof window?window:{},O=void 0!==M?M:{},I="undefined"!=typeof globalThis?globalThis:{},R=null!==(k=null!==(_=null!==(l=T[E])&&void 0!==l?l:O[E])&&void 0!==_?_:I[E])&&void 0!==k?k:{instance:e._getInstance};T[E]=R,O[E]=R,I[E]=R}(_r)),_r}var kr,wr={};function requireDiagnostics(){return kr||(kr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Diagnostics=void 0;var l=new Map,_="start",k="end",S="statsig::diagnostics";function _createMarker(e,l,_,k){return Object.assign({key:_,action:l,step:k,timestamp:Date.now()},e)}function _addMarker(e,_){var k,S=null!==(k=l.get(e))&&void 0!==k?k:[];S.push(_),l.set(e,S)}function _safeGetField(e,l){if(l in e)return e[l]}e.Diagnostics={_getMarkers:function(e){return l.get(e)},_markInitOverallStart:function(e){_addMarker(e,_createMarker({},_,"overall"))},_markInitOverallEnd:function(e,l,_){_addMarker(e,_createMarker({success:l,error:l?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:_},k,"overall"))},_markInitNetworkReqStart:function(e,l){_addMarker(e,_createMarker(l,_,"initialize","network_request"))},_markInitNetworkReqEnd:function(e,l){_addMarker(e,_createMarker(l,k,"initialize","network_request"))},_markInitProcessStart:function(e){_addMarker(e,_createMarker({},_,"initialize","process"))},_markInitProcessEnd:function(e,l){_addMarker(e,_createMarker(l,k,"initialize","process"))},_clearMarkers:function(e){l.delete(e)},_formatError:function(e){if(e&&"object"===_typeof3(e))return{code:_safeGetField(e,"code"),name:_safeGetField(e,"name"),message:_safeGetField(e,"message")}},_getDiagnosticsData:function(l,_,k,S){var E;return{success:!0===(null==l?void 0:l.ok),statusCode:null==l?void 0:l.status,sdkRegion:null===(E=null==l?void 0:l.headers)||void 0===E?void 0:E.get("x-statsig-region"),isDelta:!0===k.includes('"is_delta":true')||void 0,attempt:_,error:e.Diagnostics._formatError(S)}},_enqueueDiagnosticsEvent:function(l,_,k,E){var T=e.Diagnostics._getMarkers(k);if(null==T||T.length<=0)return-1;var O=T[T.length-1].timestamp-T[0].timestamp;e.Diagnostics._clearMarkers(k);var I=function(e,l){var _={eventName:S,user:e,value:null,metadata:l,time:Date.now()};return _}(l,{context:"initialize",markers:T.slice(),statsigOptions:E});return _.enqueue(I),O}}}(wr)),wr}var Sr,Cr,Er,Tr={},Ar={},xr={},Or={};function requireTypingUtils(){if(Sr)return Or;return Sr=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or._isTypeMatch=Or._typeOf=void 0,Or._typeOf=function(e){return Array.isArray(e)?"array":_typeof3(e)},Or._isTypeMatch=function(e,l){var typeOf=function(e){return Array.isArray(e)?"array":null===e?"null":_typeof3(e)};return typeOf(e)===typeOf(l)},Or}function requireHashing(){return Cr||(Cr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._getSortedObject=e._DJB2Object=e._DJB2=void 0;var l=requireTypingUtils();e._DJB2=function(e){for(var l=0,_=0;_<e.length;_++){l=(l<<5)-l+e.charCodeAt(_),l&=l}return String(l>>>0)};e._DJB2Object=function(l,_){return(0,e._DJB2)(JSON.stringify((0,e._getSortedObject)(l,_)))};e._getSortedObject=function(_,k){if(null==_)return null;var S=Object.keys(_).sort(),E={};return S.forEach(function(S){var T=_[S];0!==k&&"object"===(0,l._typeOf)(T)?E[S]=(0,e._getSortedObject)(T,null!=k?k-1:k):E[S]=T}),E}}(xr)),xr}function requireCacheKey(){if(Er)return Ar;Er=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar._getStorageKey=Ar._getUserStorageKey=void 0;var e=requireHashing();function _getUserStorageKey(l,_,k){var S;if(k)return k(l,_);var E=_&&_.customIDs?_.customIDs:{},T=["uid:".concat(null!==(S=null==_?void 0:_.userID)&&void 0!==S?S:""),"cids:".concat(Object.keys(E).sort(function(e,l){return e.localeCompare(l)}).map(function(e){return"".concat(e,"-").concat(E[e])}).join(",")),"k:".concat(l)];return(0,e._DJB2)(T.join("|"))}return Ar._getUserStorageKey=_getUserStorageKey,Ar._getStorageKey=function(l,_,k){return _?_getUserStorageKey(l,_,k):(0,e._DJB2)("k:".concat(l))},Ar}var Ir,Rr={};function requireNetworkConfig(){return Ir||(Ir=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkParam=e.NetworkDefault=e.Endpoint=void 0,e.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},e.NetworkDefault=_defineProperty3(_defineProperty3(_defineProperty3({},e.Endpoint._rgstr,"https://prodregistryv2.org/v1"),e.Endpoint._initialize,"https://featureassets.org/v1"),e.Endpoint._download_config_specs,"https://api.statsigcdn.com/v1"),e.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}}(Rr)),Rr}var Pr,Mr={};function requireSafeJs(){return Pr||(Pr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._getUnloadEvent=e._getCurrentPageUrlSafe=e._addDocumentEventListenerSafe=e._addWindowEventListenerSafe=e._isServerEnv=e._getDocumentSafe=e._getWindowSafe=void 0;e._getWindowSafe=function(){return"undefined"!=typeof window?window:null};e._getDocumentSafe=function(){var l,_=(0,e._getWindowSafe)();return null!==(l=null==_?void 0:_.document)&&void 0!==l?l:null};e._isServerEnv=function(){if(null!==(0,e._getDocumentSafe)())return!1;var l="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||l};e._addWindowEventListenerSafe=function(l,_){var k=(0,e._getWindowSafe)();"function"==typeof(null==k?void 0:k.addEventListener)&&k.addEventListener(l,_)};e._addDocumentEventListenerSafe=function(l,_){var k=(0,e._getDocumentSafe)();"function"==typeof(null==k?void 0:k.addEventListener)&&k.addEventListener(l,_)};e._getCurrentPageUrlSafe=function(){var l;try{return null===(l=(0,e._getWindowSafe)())||void 0===l?void 0:l.location.href.split(/[?#]/)[0]}catch(_){return}};e._getUnloadEvent=function(){var l=(0,e._getWindowSafe)();return l&&"onpagehide"in l?"pagehide":"beforeunload"}}(Mr)),Mr}var jr,Dr={};function requireStatsigEvent(){if(jr)return Dr;jr=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr._createLayerParameterExposure=Dr._createConfigExposure=Dr._mapExposures=Dr._createGateExposure=Dr._isExposureEvent=void 0;var e="statsig::config_exposure",l="statsig::gate_exposure",_="statsig::layer_exposure",_createExposure=function(e,l,_,k,S){return _.bootstrapMetadata&&(k.bootstrapMetadata=_.bootstrapMetadata),{eventName:e,user:l,value:null,metadata:_addEvaluationDetailsToMetadata(_,k),secondaryExposures:S,time:Date.now()}};Dr._isExposureEvent=function(k){var S=k.eventName;return S===l||S===e||S===_};function _mapExposures(e,l){return e.map(function(e){return"string"==typeof e?(null!=l?l:{})[e]:e}).filter(function(e){return null!=e})}Dr._createGateExposure=function(e,_,k){var S,E,T,O={gate:_.name,gateValue:String(_.value),ruleID:_.ruleID};return null!=(null===(S=_.__evaluation)||void 0===S?void 0:S.version)&&(O.configVersion=_.__evaluation.version),_createExposure(l,e,_.details,O,_mapExposures(null!==(T=null===(E=_.__evaluation)||void 0===E?void 0:E.secondary_exposures)&&void 0!==T?T:[],k))},Dr._mapExposures=_mapExposures;Dr._createConfigExposure=function(l,_,k){var S,E,T,O,I={config:_.name,ruleID:_.ruleID};return null!=(null===(S=_.__evaluation)||void 0===S?void 0:S.version)&&(I.configVersion=_.__evaluation.version),null!=(null===(E=_.__evaluation)||void 0===E?void 0:E.passed)&&(I.rulePassed=String(_.__evaluation.passed)),_createExposure(e,l,_.details,I,_mapExposures(null!==(O=null===(T=_.__evaluation)||void 0===T?void 0:T.secondary_exposures)&&void 0!==O?O:[],k))};Dr._createLayerParameterExposure=function(e,l,k,S){var E,T,O,I,R,M,j,D=l.__evaluation,L=!0===(null===(E=null==D?void 0:D.explicit_parameters)||void 0===E?void 0:E.includes(k)),U="",B=null!==(T=null==D?void 0:D.undelegated_secondary_exposures)&&void 0!==T?T:[];L&&(U=null!==(O=D.allocated_experiment_name)&&void 0!==O?O:"",B=null!==(I=D.secondary_exposures)&&void 0!==I?I:[]);var q=null===(R=l.__evaluation)||void 0===R?void 0:R.parameter_rule_ids,z={config:l.name,parameterName:k,ruleID:null!==(M=null==q?void 0:q[k])&&void 0!==M?M:l.ruleID,allocatedExperiment:U,isExplicitParameter:String(L)};return null!=(null===(j=l.__evaluation)||void 0===j?void 0:j.version)&&(z.configVersion=l.__evaluation.version),_createExposure(_,e,l.details,z,_mapExposures(B,S))};var _addEvaluationDetailsToMetadata=function(e,l){return l.reason=e.reason,e.lcut&&(l.lcut=String(e.lcut)),e.receivedAt&&(l.receivedAt=String(e.receivedAt)),l};return Dr}var Fr,Lr={};function requireStatsigOptionsCommon(){return Fr||(Fr=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.LoggingEnabledOption=Lr.LogEventCompressionMode=void 0,Lr.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},Lr.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}),Lr}var Nr,Ur={};function requireStorageProvider(){return Nr||(Nr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._setObjectInStorage=e._getObjectFromStorage=e.Storage=void 0;var l=requireLog(),_=requireSafeJs(),k={},S={isReady:function(){return!0},isReadyResolver:function(){return null},getProviderName:function(){return"InMemory"},getItem:function(e){return k[e]?k[e]:null},setItem:function(e,l){k[e]=l},removeItem:function(e){delete k[e]},getAllKeys:function(){return Object.keys(k)}},E=null;try{var T=(0,_._getWindowSafe)();T&&T.localStorage&&"function"==typeof T.localStorage.getItem&&(E={isReady:function(){return!0},isReadyResolver:function(){return null},getProviderName:function(){return"LocalStorage"},getItem:function(e){return T.localStorage.getItem(e)},setItem:function(e,l){return T.localStorage.setItem(e,l)},removeItem:function(e){return T.localStorage.removeItem(e)},getAllKeys:function(){return Object.keys(T.localStorage)}})}catch(R){l.Log.warn("Failed to setup localStorageProvider.")}var O=null!=E?E:S,I=O;function _inMemoryBreaker(l){try{return l()}catch(R){if(R instanceof Error&&"SecurityError"===R.name)return e.Storage._setProvider(S),null;if(R instanceof Error&&"QuotaExceededError"===R.name){var _=e.Storage.getAllKeys().filter(function(e){return e.startsWith("statsig.")});R.message="".concat(R.message,". Statsig Keys: ").concat(_.length)}throw R}}e.Storage={isReady:function(){return I.isReady()},isReadyResolver:function(){return I.isReadyResolver()},getProviderName:function(){return I.getProviderName()},getItem:function(e){return _inMemoryBreaker(function(){return I.getItem(e)})},setItem:function(e,l){return _inMemoryBreaker(function(){return I.setItem(e,l)})},removeItem:function(e){return I.removeItem(e)},getAllKeys:function(){return I.getAllKeys()},_setProvider:function(e){O=e,I=e},_setDisabled:function(e){I=e?S:O}},e._getObjectFromStorage=function(l){var _=e.Storage.getItem(l);return JSON.parse(null!=_?_:"null")},e._setObjectInStorage=function(l,_){e.Storage.setItem(l,JSON.stringify(_))}}(Ur)),Ur}var Br,qr={};function requireUrlConfiguration(){if(Br)return qr;Br=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.UrlConfiguration=void 0;var e=requireHashing(),l=requireNetworkConfig(),_=_defineProperty3(_defineProperty3(_defineProperty3({},l.Endpoint._initialize,"i"),l.Endpoint._rgstr,"e"),l.Endpoint._download_config_specs,"d"),k=function(){return _createClass3(function UrlConfiguration(e,k,S,E){_classCallCheck3(this,UrlConfiguration),this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=_[e],k&&(this.customUrl=k),!k&&S&&(this.customUrl=S.endsWith("/")?"".concat(S).concat(e):"".concat(S,"/").concat(e)),E&&(this.fallbackUrls=E);var T=l.NetworkDefault[e];this.defaultUrl="".concat(T,"/").concat(e)},[{key:"getUrl",value:function(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}},{key:"getChecksum",value:function(){var l,_=(null!==(l=this.fallbackUrls)&&void 0!==l?l:[]).sort().join(",");return(0,e._DJB2)(this.customUrl+_)}}])}();return qr.UrlConfiguration=k,qr}var zr,Gr,Wr={};function requireVisibilityObserving(){return zr||(zr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._notifyVisibilityChanged=e._subscribeToVisiblityChanged=e._isUnloading=e._isCurrentlyVisible=void 0;var l=requireSafeJs(),_="foreground",k="background",S=[],E=_,T=!1;e._isCurrentlyVisible=function(){return E===_};e._isUnloading=function(){return T};e._subscribeToVisiblityChanged=function(e){S.unshift(e)};e._notifyVisibilityChanged=function(e){e!==E&&(E=e,S.forEach(function(l){return l(e)}))},(0,l._addWindowEventListenerSafe)("focus",function(){T=!1,(0,e._notifyVisibilityChanged)(_)}),(0,l._addWindowEventListenerSafe)("blur",function(){return(0,e._notifyVisibilityChanged)(k)}),(0,l._addDocumentEventListenerSafe)("visibilitychange",function(){(0,e._notifyVisibilityChanged)("visible"===document.visibilityState?_:k)}),(0,l._addWindowEventListenerSafe)((0,l._getUnloadEvent)(),function(){T=!0,(0,e._notifyVisibilityChanged)(k)})}(Wr)),Wr}function requireEventLogger(){if(Gr)return Tr;Gr=1;var e=Tr&&Tr.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.EventLogger=void 0;var l=requireCacheKey(),_=requireHashing(),k=requireLog(),S=requireNetworkConfig(),E=requireSafeJs(),T=requireStatsigEvent(),O=requireStatsigOptionsCommon(),I=requireStorageProvider(),R=requireUrlConfiguration(),M=requireVisibilityObserving(),j={},D="startup",L="gained_focus",U=function(){function EventLogger(e,l,_,E){var T,I;_classCallCheck3(this,EventLogger),this._sdkKey=e,this._emitter=l,this._network=_,this._options=E,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(T=null==E?void 0:E.loggingEnabled)&&void 0!==T?T:!0===(null==E?void 0:E.disableLogging)?O.LoggingEnabledOption.disabled:O.LoggingEnabledOption.browserOnly,(null==E?void 0:E.loggingEnabled)&&void 0!==E.disableLogging&&k.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(I=null==E?void 0:E.loggingBufferMaxSize)&&void 0!==I?I:100;var M=null==E?void 0:E.networkConfig;this._logEventUrlConfig=new R.UrlConfiguration(S.Endpoint._rgstr,null==M?void 0:M.logEventUrl,null==M?void 0:M.api,null==M?void 0:M.logEventFallbackUrls)}return _createClass3(EventLogger,[{key:"setLogEventCompressionMode",value:function(e){this._network.setLogEventCompressionMode(e)}},{key:"setLoggingEnabled",value:function(e){if("disabled"===this._loggingEnabled&&"disabled"!==e){var l,_=this._getStorageKey(),k=(0,I._getObjectFromStorage)(_);if(k)(l=this._queue).push.apply(l,_toConsumableArray3(k));I.Storage.removeItem(_)}this._loggingEnabled=e}},{key:"enqueue",value:function(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&EventLogger._safeFlushAndForget(this._sdkKey))}},{key:"incrementNonExposureCount",value:function(e){var l,_=null!==(l=this._nonExposedChecks[e])&&void 0!==l?l:0;this._nonExposedChecks[e]=_+1}},{key:"reset",value:function(){this.flush().catch(function(){}),this._lastExposureTimeMap={}}},{key:"start",value:function(){var e,l=this,_=(0,E._isServerEnv)();_&&"always"!==(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)||(j[this._sdkKey]=this,_||(0,M._subscribeToVisiblityChanged)(function(e){"background"===e?EventLogger._safeFlushAndForget(l._sdkKey):"foreground"===e&&EventLogger._safeRetryFailedLogs(l._sdkKey)}),this._retryFailedLogs(D),this._startBackgroundFlushInterval())}},{key:"stop",value:function(){return e(this,void 0,void 0,_regenerator().m(function _callee(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete j[this._sdkKey],e.n=1,this.flush();case 1:return e.a(2)}},_callee,this)}))}},{key:"flush",value:function(){return e(this,void 0,void 0,_regenerator().m(function _callee2(){var e;return _regenerator().w(function(l){for(;;)switch(l.n){case 0:if(this._appendAndResetNonExposedChecks(),0!==this._queue.length){l.n=1;break}return l.a(2);case 1:return e=this._queue,this._queue=[],l.n=2,this._sendEvents(e);case 2:return l.a(2)}},_callee2,this)}))}},{key:"_quickFlushIfNeeded",value:function(){var e=this;this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(function(){return EventLogger._safeFlushAndForget(e._sdkKey)},200))}},{key:"_shouldLogEvent",value:function(e){var _;if("always"!==(null===(_=this._options)||void 0===_?void 0:_.loggingEnabled)&&(0,E._isServerEnv)())return!1;if(!(0,T._isExposureEvent)(e))return!0;var k=e.user?e.user:{statsigEnvironment:void 0},S=(0,l._getUserStorageKey)(this._sdkKey,k),O=e.metadata?e.metadata:{},I=[e.eventName,S,O.gate,O.config,O.ruleID,O.allocatedExperiment,O.parameterName,String(O.isExplicitParameter),O.reason].join("|"),R=this._lastExposureTimeMap[I],M=Date.now();return!(R&&M-R<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[I]=M,!0)}},{key:"_sendEvents",value:function(l){return e(this,void 0,void 0,_regenerator().m(function _callee3(){var e,_,S,E,T;return _regenerator().w(function(O){for(;;)switch(O.p=O.n){case 0:if("disabled"!==this._loggingEnabled){O.n=1;break}return this._saveFailedLogsToStorage(l),O.a(2,!1);case 1:if(O.p=1,S=(0,M._isUnloading)(),E=S&&this._network.isBeaconSupported()&&null==(null===(_=null===(e=this._options)||void 0===e?void 0:e.networkConfig)||void 0===_?void 0:_.networkOverrideFunc),this._emitter({name:"pre_logs_flushed",events:l}),!E){O.n=2;break}T=this._sendEventsViaBeacon(l),O.n=4;break;case 2:return O.n=3,this._sendEventsViaPost(l);case 3:T=O.v;case 4:if(!T.success){O.n=5;break}return this._emitter({name:"logs_flushed",events:l}),O.a(2,!0);case 5:return k.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(l),O.a(2,!1);case 6:O.n=8;break;case 7:return O.p=7,O.v,k.Log.warn("Failed to flush events."),O.a(2,!1);case 8:return O.a(2)}},_callee3,this,[[1,7]])}))}},{key:"_sendEventsViaPost",value:function(l){return e(this,void 0,void 0,_regenerator().m(function _callee4(){var e,_,k;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:return S.n=1,this._network.post(this._getRequestData(l));case 1:return _=S.v,k=null!==(e=null==_?void 0:_.code)&&void 0!==e?e:-1,S.a(2,{success:k>=200&&k<300})}},_callee4,this)}))}},{key:"_sendEventsViaBeacon",value:function(e){return{success:this._network.beacon(this._getRequestData(e))}}},{key:"_getRequestData",value:function(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:_defineProperty3({},S.NetworkParam.EventCount,String(e.length)),credentials:"same-origin"}}},{key:"_saveFailedLogsToStorage",value:function(e){for(;e.length>500;)e.shift();var l=this._getStorageKey();try{var _=this._getFailedLogsFromStorage(l);(0,I._setObjectInStorage)(l,[].concat(_toConsumableArray3(_),_toConsumableArray3(e)))}catch(S){k.Log.warn("Unable to save failed logs to storage")}}},{key:"_getFailedLogsFromStorage",value:function(e){var l=[];try{var _=(0,I._getObjectFromStorage)(e);return Array.isArray(_)&&(l=_),l}catch(k){return[]}}},{key:"_retryFailedLogs",value:function(l){var _=this,S=this._getStorageKey();e(_,void 0,void 0,_regenerator().m(function _callee5(){var e;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:if(I.Storage.isReady()){_.n=1;break}return _.n=1,I.Storage.isReadyResolver();case 1:if(e=(0,I._getObjectFromStorage)(S)){_.n=2;break}return _.a(2);case 2:return l===D&&I.Storage.removeItem(S),_.n=3,this._sendEvents(e);case 3:_.v&&l===L&&I.Storage.removeItem(S);case 4:return _.a(2)}},_callee5,this)})).catch(function(){k.Log.warn("Failed to flush stored logs")})}},{key:"_getStorageKey",value:function(){return"statsig.failed_logs.".concat((0,_._DJB2)(this._sdkKey))}},{key:"_normalizeAndAppendEvent",value:function(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);var l={},_=this._getCurrentPageUrl();_&&(l.statsigMetadata={currentPage:_});var S=Object.assign(Object.assign({},e),l);k.Log.debug("Enqueued Event:",S),this._queue.push(S)}},{key:"_appendAndResetNonExposedChecks",value:function(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}},{key:"_getCurrentPageUrl",value:function(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,E._getCurrentPageUrlSafe)()}},{key:"_startBackgroundFlushInterval",value:function(){var e,l,_=this,k=null!==(l=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==l?l:1e4,S=setInterval(function(){var e=j[_._sdkKey];e&&e._flushIntervalId===S?EventLogger._safeFlushAndForget(_._sdkKey):clearInterval(S)},k);this._flushIntervalId=S}}],[{key:"_safeFlushAndForget",value:function(e){var l;null===(l=j[e])||void 0===l||l.flush().catch(function(){})}},{key:"_safeRetryFailedLogs",value:function(e){var l;null===(l=j[e])||void 0===l||l._retryFailedLogs(L)}}])}();return Tr.EventLogger=U,Tr}var Vr,Kr={};function requireStatsigMetadata(){return Vr||(Vr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigMetadataProvider=e.SDK_VERSION=void 0,e.SDK_VERSION="3.26.0";var l={sdkVersion:e.SDK_VERSION,sdkType:"js-mono"};e.StatsigMetadataProvider={get:function(){return l},add:function(e){l=Object.assign(Object.assign({},l),e)}}}(Kr)),Kr}var Hr,$r={};var Jr,Yr,Xr={},Zr={},Qr={};function requireUUID(){if(Jr)return Qr;return Jr=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.getUUID=void 0,Qr.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();var e=(new Date).getTime(),l="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,_="89ab"[Math.floor(4*Math.random())];return"xxxxxxxx-xxxx-4xxx-".concat(_,"xxx-xxxxxxxxxxxx").replace(/[xy]/g,function(_){var k=16*Math.random();return e>0?(k=(e+k)%16|0,e=Math.floor(e/16)):(k=(l+k)%16|0,l=Math.floor(l/16)),("x"===_?k:7&k|8).toString(16)})},Qr}function requireStableID(){if(Yr)return Zr;Yr=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.getCookieName=Zr.StableID=void 0;var e=requireCacheKey(),l=requireLog(),_=requireSafeJs(),k=requireStorageProvider(),S=requireUUID(),E={},T={},O={};function _getStableIDStorageKey(l){return"statsig.stable_id.".concat((0,e._getStorageKey)(l))}function _persistToStorage(e,_){var S=_getStableIDStorageKey(_);try{(0,k._setObjectInStorage)(S,e)}catch(ta){l.Log.warn("Failed to save StableID to storage")}}function _persistToCookie(e,l){if(T[l]&&null!=(0,_._getDocumentSafe)()){var k=new Date;k.setFullYear(k.getFullYear()+1),document.cookie="".concat(getCookieName(l),"=").concat(encodeURIComponent(e),"; expires=").concat(k.toUTCString(),"; path=/")}}function getCookieName(l){return"statsig.stable_id.".concat((0,e._getStorageKey)(l))}return Zr.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:function(e){if(O[e])return null;if(null!=E[e])return E[e];var l=null;return l=function(e){if(!T[e]||null==(0,_._getDocumentSafe)())return null;var l,k=document.cookie.split(";"),S=_createForOfIteratorHelper2(k);try{for(S.s();!(l=S.n()).done;){var E=_slicedToArray(l.value.trim().split("="),2),O=E[0],I=E[1];if(O===getCookieName(e))return decodeURIComponent(I)}}catch(R){S.e(R)}finally{S.f()}return null}(e),null!=l?(E[e]=l,_persistToStorage(l,e),l):(l=function(e){var l=_getStableIDStorageKey(e);return(0,k._getObjectFromStorage)(l)}(e),null==l&&(l=(0,S.getUUID)()),_persistToStorage(l,e),_persistToCookie(l,e),E[e]=l,l)},setOverride:function(e,l){E[l]=e,_persistToStorage(e,l),_persistToCookie(e,l)},_setCookiesEnabled:function(e,l){T[e]=l},_setDisabled:function(e,l){O[e]=l}},Zr.getCookieName=getCookieName,Zr}var en,tn={};function requireStatsigUser(){if(en)return tn;en=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn._getFullUserHash=tn._normalizeUser=void 0;var e=requireHashing(),l=requireLog();return tn._normalizeUser=function(e,_,k){try{var S=JSON.parse(JSON.stringify(e));return null!=_&&null!=_.environment?S.statsigEnvironment=_.environment:null!=k&&(S.statsigEnvironment={tier:k}),S}catch(E){return l.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},tn._getFullUserHash=function(l){return l?(0,e._DJB2Object)(l):null},tn}var rn,nn,an={};function requireTypedJsonParse(){if(rn)return an;rn=1,Object.defineProperty(an,"__esModule",{value:!0}),an._typedJsonParse=void 0;var e=requireLog();return an._typedJsonParse=function(l,_,k){try{var S=JSON.parse(l);if(S&&"object"===_typeof3(S)&&_ in S)return S}catch(E){}return e.Log.error("Failed to parse ".concat(k)),null},an}function requireDataAdapterCore(){if(nn)return Xr;nn=1;var e=Xr&&Xr.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr._makeDataAdapterResult=Xr.DataAdapterCore=void 0;var l=requireLog(),_=requireStableID(),k=requireStatsigUser(),S=requireStorageProvider(),E=requireTypedJsonParse(),T=function(){return _createClass3(function DataAdapterCore(e,l){_classCallCheck3(this,DataAdapterCore),this._adapterName=e,this._cacheSuffix=l,this._options=null,this._sdkKey=null,this._cacheLimit=10,this._lastModifiedStoreKey="statsig.last_modified_time.".concat(l),this._inMemoryCache=new O},[{key:"attach",value:function(e,l,_){this._sdkKey=e,this._options=l}},{key:"getDataSync",value:function(e){var l=e&&(0,k._normalizeUser)(e,this._options),_=this._getCacheKey(l),S=this._inMemoryCache.get(_,l);if(S&&this._getIsCacheValueValid(S))return S;var E=this._loadFromCache(_);return E&&this._getIsCacheValueValid(E)?(this._inMemoryCache.add(_,E,this._cacheLimit),this._inMemoryCache.get(_,l)):null}},{key:"setData",value:function(e,l){var _=l&&(0,k._normalizeUser)(l,this._options),S=this._getCacheKey(_);this._inMemoryCache.add(S,_makeDataAdapterResult("Bootstrap",e,null,_),this._cacheLimit)}},{key:"_getIsCacheValueValid",value:function(e){return null==e.stableID||e.stableID===_.StableID.get(this._getSdkKey())}},{key:"_getDataAsyncImpl",value:function(_,k,E){return e(this,void 0,void 0,_regenerator().m(function _callee6(){var e,T;return _regenerator().w(function(O){for(;;)switch(O.n){case 0:if(S.Storage.isReady()){O.n=1;break}return O.n=1,S.Storage.isReadyResolver();case 1:return e=null!=_?_:this.getDataSync(k),T=[this._fetchAndPrepFromNetwork(e,k,E)],(null==E?void 0:E.timeoutMs)&&T.push(new Promise(function(e){return setTimeout(e,E.timeoutMs)}).then(function(){return l.Log.debug("Fetching latest value timed out"),null})),O.n=2,Promise.race(T);case 2:return O.a(2,O.v)}},_callee6,this)}))}},{key:"_prefetchDataImpl",value:function(l,_){return e(this,void 0,void 0,_regenerator().m(function _callee7(){var e,S,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:return e=l&&(0,k._normalizeUser)(l,this._options),S=this._getCacheKey(e),T.n=1,this._getDataAsyncImpl(null,e,_);case 1:(E=T.v)&&this._inMemoryCache.add(S,Object.assign(Object.assign({},E),{source:"Prefetch"}),this._cacheLimit);case 2:return T.a(2)}},_callee7,this)}))}},{key:"_fetchAndPrepFromNetwork",value:function(k,S,T){return e(this,void 0,void 0,_regenerator().m(function _callee8(){var e,O,I,R,M,j,D,L,U;return _regenerator().w(function(B){for(;;)switch(B.n){case 0:return O=null!==(e=null==k?void 0:k.data)&&void 0!==e?e:null,I=null!=k&&this._isCachedResultValidFor204(k,S),B.n=1,this._fetchFromNetwork(O,S,T,I);case 1:if(R=B.v){B.n=2;break}return l.Log.debug("No response returned for latest value"),B.a(2,null);case 2:if(M=(0,E._typedJsonParse)(R,"has_updates","Response"),j=this._getSdkKey(),D=_.StableID.get(j),L=null,!0!==(null==M?void 0:M.has_updates)){B.n=3;break}L=_makeDataAdapterResult("Network",R,D,S),B.n=5;break;case 3:if(!O||!1!==(null==M?void 0:M.has_updates)){B.n=4;break}L=_makeDataAdapterResult("NetworkNotModified",O,D,S),B.n=5;break;case 4:return B.a(2,null);case 5:return U=this._getCacheKey(S),this._inMemoryCache.add(U,L,this._cacheLimit),this._writeToCache(U,L),B.a(2,L)}},_callee8,this)}))}},{key:"_getSdkKey",value:function(){return null!=this._sdkKey?this._sdkKey:(l.Log.error("".concat(this._adapterName," is not attached to a Client")),"")}},{key:"_loadFromCache",value:function(e){var l,_=null===(l=S.Storage.getItem)||void 0===l?void 0:l.call(S.Storage,e);if(null==_)return null;var k=(0,E._typedJsonParse)(_,"source","Cached Result");return k?Object.assign(Object.assign({},k),{source:"Cache"}):null}},{key:"_writeToCache",value:function(e,l){for(var _=JSON.stringify(l),k=0;k<8;k++)try{S.Storage.setItem(e,_);break}catch(E){if(!(E instanceof Error)||"QuotaExceededError"!==E.name||this._cacheLimit<=1)throw E;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(e,this._cacheLimit-1)}this._runLocalStorageCacheEviction(e)}},{key:"_runLocalStorageCacheEviction",value:function(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cacheLimit,k=null!==(l=(0,S._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==l?l:{};k[e]=Date.now();var E,T=_createForOfIteratorHelper2(_getEvictableKeys(k,_));try{for(T.s();!(E=T.n()).done;){var O=E.value;delete k[O],S.Storage.removeItem(O)}}catch(I){T.e(I)}finally{T.f()}(0,S._setObjectInStorage)(this._lastModifiedStoreKey,k)}}])}();function _makeDataAdapterResult(e,l,_,S){return{source:e,data:l,receivedAt:Date.now(),stableID:_,fullUserHash:(0,k._getFullUserHash)(S)}}Xr.DataAdapterCore=T,Xr._makeDataAdapterResult=_makeDataAdapterResult;var O=function(){return _createClass3(function InMemoryCache(){_classCallCheck3(this,InMemoryCache),this._data={}},[{key:"get",value:function(e,_){var k,S=this._data[e],E=null==S?void 0:S.stableID,T=null===(k=null==_?void 0:_.customIDs)||void 0===k?void 0:k.stableID;return T&&E&&T!==E?(l.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):S}},{key:"add",value:function(e,l,_){var k,S=_createForOfIteratorHelper2(_getEvictableKeys(this._data,_-1));try{for(S.s();!(k=S.n()).done;){var E=k.value;delete this._data[E]}}catch(T){S.e(T)}finally{S.f()}this._data[e]=l}},{key:"merge",value:function(e){this._data=Object.assign(Object.assign({},this._data),e)}}])}();function _getEvictableKeys(e,l){var _=Object.keys(e);return _.length<=l?[]:0===l?_:_.sort(function(l,_){var k=e[l],S=e[_];return"object"===_typeof3(k)&&"object"===_typeof3(S)?k.receivedAt-S.receivedAt:k-S}).slice(0,_.length-l)}return Xr}var sn,un={};var ln,cn,hn={},dn={};function requireSDKType(){if(ln)return dn;ln=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.SDKType=void 0;var e,l={};return dn.SDKType={_get:function(_){var k;return(null!==(k=l[_])&&void 0!==k?k:"js-mono")+(null!=e?e:"")},_setClientType:function(e,_){l[e]=_},_setBindingType:function(l){e&&"-react"!==e||(e="-"+l)}},dn}function requireErrorBoundary(){return cn||(cn=1,function(e){var l=hn&&hn.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorBoundary=e.EXCEPTION_ENDPOINT=void 0;var _=requireLog(),k=requireSDKType(),S=requireStatsigMetadata();e.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";var E="[Statsig] UnknownError",T=function(){return _createClass3(function ErrorBoundary(e,l,_,k){_classCallCheck3(this,ErrorBoundary),this._sdkKey=e,this._options=l,this._emitter=_,this._lastSeenError=k,this._seen=new Set},[{key:"wrap",value:function(e,l){var _=this;try{var k=e;(function(e){var l=new Set,_=Object.getPrototypeOf(e);for(;_&&_!==Object.prototype;)Object.getOwnPropertyNames(_).filter(function(e){return"function"==typeof(null==_?void 0:_[e])}).forEach(function(e){return l.add(e)}),_=Object.getPrototypeOf(_);return Array.from(l)})(k).forEach(function(S){var E=k[S];"$EB"in E||(k[S]=function(){for(var k=arguments.length,T=new Array(k),O=0;O<k;O++)T[O]=arguments[O];return _._capture(l?"".concat(l,":").concat(S):S,function(){return E.apply(e,T)})},k[S].$EB=!0)})}catch(S){this._onError("eb:wrap",S)}}},{key:"logError",value:function(e,l){this._onError(e,l)}},{key:"getLastSeenErrorAndReset",value:function(){var e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}},{key:"attachErrorIfNoneExists",value:function(e){this._lastSeenError||(this._lastSeenError=_resolveError(e))}},{key:"_capture",value:function(e,l){var _=this;try{var k=l();return k&&k instanceof Promise?k.catch(function(l){return _._onError(e,l)}):k}catch(S){return this._onError(e,S),null}}},{key:"_onError",value:function(T,O){var I=this;try{_.Log.warn("Caught error in ".concat(T),{error:O});l(I,void 0,void 0,_regenerator().m(function _callee9(){var l,_,I,R,M,j,D,L,U,B,q,z,G,W,V,K;return _regenerator().w(function(H){for(;;)switch(H.n){case 0:if(L=O||Error(E),U=L instanceof Error,B=U?L.name:"No Name",q=_resolveError(L),this._lastSeenError=q,!this._seen.has(B)){H.n=1;break}return H.a(2);case 1:if(this._seen.add(B),!(null===(_=null===(l=this._options)||void 0===l?void 0:l.networkConfig)||void 0===_?void 0:_.preventAllNetworkTraffic)){H.n=2;break}return null===(I=this._emitter)||void 0===I||I.call(this,{name:"error",error:O,tag:T}),H.a(2);case 2:return z=k.SDKType._get(this._sdkKey),G=S.StatsigMetadataProvider.get(),W=U?L.stack:_getDescription(L),V=Object.assign({tag:T,exception:B,info:W,statsigOptions:_getStatsigOptionLoggingCopy(this._options)},Object.assign(Object.assign({},G),{sdkType:z})),K=null!==(j=null===(M=null===(R=this._options)||void 0===R?void 0:R.networkConfig)||void 0===M?void 0:M.networkOverrideFunc)&&void 0!==j?j:fetch,H.n=3,K(e.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(z),"STATSIG-SDK-VERSION":String(G.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(V)});case 3:null===(D=this._emitter)||void 0===D||D.call(this,{name:"error",error:O,tag:T});case 4:return H.a(2)}},_callee9,this)})).then(function(){}).catch(function(){})}catch(R){}}}])}();function _resolveError(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred.")}function _getDescription(e){try{return JSON.stringify(e)}catch(l){return E}}function _getStatsigOptionLoggingCopy(e){if(!e)return{};var l={};return Object.keys(e).forEach(function(_){var k=_,S=e[k];switch(_typeof3(S)){case"number":case"bigint":case"boolean":l[String(k)]=S;break;case"string":S.length<50?l[String(k)]=S:l[String(k)]="set";break;case"object":"environment"===k?l.environment=S:"networkConfig"===k?l.networkConfig=S:l[String(k)]=null!=S?"set":"unset"}}),l}e.ErrorBoundary=T}(hn)),hn}var fn,pn={};var vn,gn={};var mn,yn={};var _n,bn={};function requireMemoKey(){if(_n)return bn;_n=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.createMemoKey=bn.MemoPrefix=void 0,bn.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};var e=new Set([]),l=new Set(["userPersistedValues"]);return bn.createMemoKey=function(_,k,S){var E="".concat(_,"|").concat(k);if(!S)return E;for(var T=0,O=Object.keys(S);T<O.length;T++){var I=O[T];if(l.has(I))return;e.has(I)?E+="|".concat(I,"=true"):E+="|".concat(I,"=").concat(S[I])}return E},bn}var kn,wn,Sn={},Cn={},En={};function requireDnsTxtQuery(){if(kn)return En;kn=1;var e=En&&En.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(En,"__esModule",{value:!0}),En._fetchTxtRecords=void 0;var l=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),_=["i","e","d"];function _parseDnsResponse(e){var l=e.findIndex(function(l,k){return k<200&&"="===String.fromCharCode(l)&&_.includes(String.fromCharCode(e[k-1]))});if(-1===l){var k=new Error("Failed to parse TXT records from DNS");throw k.name="DnsTxtParseError",k}for(var S="",E=l-1;E<e.length;E++)S+=String.fromCharCode(e[E]);return S.split(",")}return En._fetchTxtRecords=function(_){return e(this,void 0,void 0,_regenerator().m(function _callee0(){var e,k,S,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:return T.n=1,_("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:l});case 1:if((e=T.v).ok){T.n=2;break}throw(k=new Error("Failed to fetch TXT records from DNS")).name="DnsTxtFetchError",k;case 2:return T.n=3,e.arrayBuffer();case 3:return S=T.v,E=new Uint8Array(S),T.a(2,_parseDnsResponse(E))}},_callee0)}))},En}function requireNetworkFallbackResolver(){if(wn)return Cn;wn=1;var e=Cn&&Cn.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn._isDomainFailure=Cn.NetworkFallbackResolver=void 0;var l=requireDnsTxtQuery(),_=requireHashing(),k=requireLog(),S=requireStorageProvider(),E=6048e5,T=function(){return _createClass3(function NetworkFallbackResolver(e){var l;_classCallCheck3(this,NetworkFallbackResolver),this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(l=e.networkConfig)||void 0===l?void 0:l.networkOverrideFunc},[{key:"setErrorBoundary",value:function(e){this._errorBoundary=e}},{key:"tryBumpExpiryTime",value:function(e,l){var _,k=null===(_=this._fallbackInfo)||void 0===_?void 0:_[l.endpoint];k&&(k.expiryTime=Date.now()+E,_tryWriteFallbackInfoToCache(e,Object.assign(Object.assign({},this._fallbackInfo),_defineProperty3({},l.endpoint,k))))}},{key:"getActiveFallbackUrl",value:function(e,l){var _,E;if(null!=l.customUrl&&null!=l.fallbackUrls)return null;var T=this._fallbackInfo;null==T&&(T=null!==(_=function(e){var l=_getFallbackInfoStorageKey(e),E=S.Storage.getItem(l);if(!E)return null;try{return JSON.parse(E)}catch(_){return k.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==_?_:{},this._fallbackInfo=T);var O=T[l.endpoint];return!O||Date.now()>(null!==(E=O.expiryTime)&&void 0!==E?E:0)||l.getChecksum()!==O.urlConfigChecksum?(delete T[l.endpoint],this._fallbackInfo=T,_tryWriteFallbackInfoToCache(e,this._fallbackInfo),null):O.url?O.url:null}},{key:"tryFetchUpdatedFallbackInfo",value:function(l,_,k,S){return e(this,void 0,void 0,_regenerator().m(function _callee1(){var e,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:if(M.p=0,_isDomainFailure(k,S)){M.n=1;break}return M.a(2,!1);case 1:if(!(null==_.customUrl&&null==_.fallbackUrls)){M.n=3;break}return M.n=2,this._tryFetchFallbackUrlsFromNetwork(_);case 2:I=M.v,M.n=4;break;case 3:I=_.fallbackUrls;case 4:if(T=I,O=this._pickNewFallbackUrl(null===(e=this._fallbackInfo)||void 0===e?void 0:e[_.endpoint],T)){M.n=5;break}return M.a(2,!1);case 5:return this._updateFallbackInfoWithNewUrl(l,_,O),M.a(2,!0);case 6:return M.p=6,R=M.v,null===(E=this._errorBoundary)||void 0===E||E.logError("tryFetchUpdatedFallbackInfo",R),M.a(2,!1)}},_callee1,this,[[0,6]])}))}},{key:"_updateFallbackInfoWithNewUrl",value:function(e,l,_){var k,S,T,O,I={urlConfigChecksum:l.getChecksum(),url:_,expiryTime:Date.now()+E,previous:[]},R=l.endpoint,M=null===(k=this._fallbackInfo)||void 0===k?void 0:k[R];M&&(O=I.previous).push.apply(O,_toConsumableArray3(M.previous));I.previous.length>10&&(I.previous=[]);var j=null===(T=null===(S=this._fallbackInfo)||void 0===S?void 0:S[R])||void 0===T?void 0:T.url;null!=j&&I.previous.push(j),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),_defineProperty3({},R,I)),_tryWriteFallbackInfoToCache(e,this._fallbackInfo)}},{key:"_tryFetchFallbackUrlsFromNetwork",value:function(_){return e(this,void 0,void 0,_regenerator().m(function _callee10(){var e,k,S,E,T,O,I,R,M,j,D;return _regenerator().w(function(L){for(;;)switch(L.p=L.n){case 0:if(!((k=this._dnsQueryCooldowns[_.endpoint])&&Date.now()<k)){L.n=1;break}return L.a(2,null);case 1:return this._dnsQueryCooldowns[_.endpoint]=Date.now()+144e5,S=[],L.n=2,(0,l._fetchTxtRecords)(null!==(e=this._networkOverrideFunc)&&void 0!==e?e:fetch);case 2:E=L.v,T=_extractPathFromUrl(_.defaultUrl),O=_createForOfIteratorHelper2(E),L.p=3,O.s();case 4:if((I=O.n()).done){L.n=7;break}if((R=I.value).startsWith(_.endpointDnsKey+"=")){L.n=5;break}return L.a(3,6);case 5:(M=R.split("=")).length>1&&((j=M[1]).endsWith("/")&&(j=j.slice(0,-1)),S.push("https://".concat(j).concat(T)));case 6:L.n=4;break;case 7:L.n=9;break;case 8:L.p=8,D=L.v,O.e(D);case 9:return L.p=9,O.f(),L.f(9);case 10:return L.a(2,S)}},_callee10,this,[[3,8,9,10]])}))}},{key:"_pickNewFallbackUrl",value:function(e,l){var _;if(null==l)return null;var k,S=new Set(null!==(_=null==e?void 0:e.previous)&&void 0!==_?_:[]),E=null==e?void 0:e.url,T=null,O=_createForOfIteratorHelper2(l);try{for(O.s();!(k=O.n()).done;){var I=k.value,R=I.endsWith("/")?I.slice(0,-1):I;if(!S.has(I)&&R!==E){T=R;break}}}catch(M){O.e(M)}finally{O.f()}return T}}])}();function _isDomainFailure(e,l){var _,k=null!==(_=null==e?void 0:e.toLowerCase())&&void 0!==_?_:"";return l||k.includes("uncaught exception")||k.includes("failed to fetch")||k.includes("networkerror when attempting to fetch resource")}function _getFallbackInfoStorageKey(e){return"statsig.network_fallback.".concat((0,_._DJB2)(e))}function _tryWriteFallbackInfoToCache(e,l){var _=_getFallbackInfoStorageKey(e);l&&0!==Object.keys(l).length?S.Storage.setItem(_,JSON.stringify(l)):S.Storage.removeItem(_)}function _extractPathFromUrl(e){try{return new URL(e).pathname}catch(l){return null}}return Cn.NetworkFallbackResolver=T,Cn._isDomainFailure=_isDomainFailure,Cn}var Tn,An={};function requireSDKFlags(){if(Tn)return An;Tn=1,Object.defineProperty(An,"__esModule",{value:!0}),An.SDKFlags=void 0;var e={};return An.SDKFlags={setFlags:function(l,_){e[l]=_},get:function(l,_){var k,S;return null!==(S=null===(k=e[l])||void 0===k?void 0:k[_])&&void 0!==S&&S}},An}var xn,On={};function requireSessionID(){return xn||(xn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigSession=e.SessionID=void 0;var l=require$_StatsigGlobal(),_=requireCacheKey(),k=requireLog(),S=requireStorageProvider(),E=requireUUID(),T=18e5,O=144e5,I={};function _createSessionTimeout(e,_){return setTimeout(function(){var _,k=null===(_=(0,l._getStatsigGlobal)())||void 0===_?void 0:_.instance(e);k&&k.$emt({name:"session_expired"})},_)}function _getSessionIDStorageKey(e){return"statsig.session_id.".concat((0,_._getStorageKey)(e))}e.SessionID={get:function(l){return e.StatsigSession.get(l).data.sessionID}},e.StatsigSession={get:function(e){return null==I[e]&&(I[e]=function(e){var l=function(e){var l=_getSessionIDStorageKey(e);return(0,S._getObjectFromStorage)(l)}(e),_=Date.now();l||(l={sessionID:(0,E.getUUID)(),startTime:_,lastUpdate:_});return{data:l,sdkKey:e}}(e)),function(e){var l=Date.now(),_=e.data,I=e.sdkKey;if(D=_,L=D.lastUpdate,Date.now()-L>T||(M=_,j=M.startTime,Date.now()-j>O)){_.sessionID=(0,E.getUUID)(),_.startTime=l;var R=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(I);R&&R.$emt({name:"session_expired"})}var M,j;var D,L;_.lastUpdate=l,function(e,l){var _=_getSessionIDStorageKey(l);try{(0,S._setObjectInStorage)(_,e)}catch(ta){k.Log.warn("Failed to save SessionID")}}(_,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);var U=l-_.startTime;return e.idleTimeoutID=_createSessionTimeout(I,T),e.ageTimeoutID=_createSessionTimeout(I,O-U),e}(I[e])},overrideInitialSessionID:function(e,l){I[l]=function(e,l){var _=Date.now();return{data:{sessionID:e,startTime:_,lastUpdate:_},sdkKey:l}}(e,l)}}}(On)),On}var In,Rn,Pn={};function requireStatsigClientEventEmitter(){return In||(In=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.ErrorTag=void 0,Pn.ErrorTag={NetworkError:"NetworkError"}),Pn}function requireNetworkCore(){if(Rn)return Sn;Rn=1;var e=Sn&&Sn.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.NetworkCore=void 0,require$_StatsigGlobal();var l=require$_StatsigGlobal(),_=requireDiagnostics(),k=requireLog(),S=requireNetworkConfig(),E=requireNetworkFallbackResolver(),T=requireSDKFlags(),O=requireSDKType(),I=requireSafeJs(),R=requireSessionID(),M=requireStableID(),j=requireStatsigClientEventEmitter(),D=requireStatsigMetadata(),L=requireStatsigOptionsCommon(),U=requireVisibilityObserving(),B=new Set([408,500,502,503,504,522,524,599]),q=function(){return _createClass3(function NetworkCore(e,l){_classCallCheck3(this,NetworkCore),this._emitter=l,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new E.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))},[{key:"setLogEventCompressionMode",value:function(e){this._options.logEventCompressionMode=e}},{key:"setErrorBoundary",value:function(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}},{key:"isBeaconSupported",value:function(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}},{key:"getLastUsedInitUrlAndReset",value:function(){var e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}},{key:"beacon",value:function(e){if(!_ensureValidSdkKey(e))return!1;var l=this._getInternalRequestArgs("POST",e),_=this._getPopulatedURL(l),k=navigator;return k.sendBeacon.bind(k)(_,l.body)}},{key:"post",value:function(l){return e(this,void 0,void 0,_regenerator().m(function _callee11(){var e;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return e=this._getInternalRequestArgs("POST",l),this._tryEncodeBody(e),_.n=1,this._tryToCompressBody(e);case 1:return _.a(2,this._sendRequest(e))}},_callee11,this)}))}},{key:"get",value:function(e){var l=this._getInternalRequestArgs("GET",e);return this._sendRequest(l)}},{key:"_sendRequest",value:function(l){return e(this,void 0,void 0,_regenerator().m(function _callee12(){var e,_,S,E,T,O,I,R,M,D,L,q,z,G,W,V,K,H,$,J,Y,X,Z,Q,ee,te=this;return _regenerator().w(function(re){for(;;)switch(re.p=re.n){case 0:if(_ensureValidSdkKey(l)){re.n=1;break}return re.a(2,null);case 1:if(!this._netConfig.preventAllNetworkTraffic){re.n=2;break}return re.a(2,null);case 2:if(T=l.method,O=l.body,I=l.retries,R=l.attempt,M=l.urlConfig.endpoint,!this._isRateLimited(M)){re.n=3;break}return k.Log.warn("Request to ".concat(M," was blocked because you are making requests too frequently.")),re.a(2,null);case 3:return D=null!=R?R:1,L=!1,q=this._getPopulatedURL(l),z=null,G=(0,U._isUnloading)(),re.p=4,W={method:T,body:O,headers:Object.assign({},l.headers),priority:l.priority,keepalive:G},_tryMarkInitStart(l,D),(V=this._leakyBucket[M])&&(V.lastRequestTime=Date.now(),this._leakyBucket[M]=V),K=null!==(e=this._netConfig.networkOverrideFunc)&&void 0!==e?e:fetch,re.n=5,Promise.race([K(q,W).finally(function(){return clearTimeout(H)}),new Promise(function(e,l){H=setTimeout(function(){L=!0,l(new Error("Timeout of ".concat(te._timeout,"ms expired.")))},te._timeout)})]);case 5:if((z=re.v).ok){re.n=7;break}return re.n=6,z.text().catch(function(){return"No Text"});case 6:throw $=re.v,(J=new Error("NetworkError: ".concat(q," ").concat($))).name="NetworkError",J;case 7:return re.n=8,z.text();case 8:return Y=re.v,_tryMarkInitEnd(l,z,D,Y),this._fallbackResolver.tryBumpExpiryTime(l.sdkKey,l.urlConfig),re.a(2,{body:Y,code:z.status});case 9:return re.p=9,ee=re.v,X=_getErrorMessage(ee),Z=_didTimeout(null!=X?X:"",L),_tryMarkInitEnd(l,z,D,"",ee),re.n=10,this._fallbackResolver.tryFetchUpdatedFallbackInfo(l.sdkKey,l.urlConfig,X,Z);case 10:if(re.v&&(l.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(l.sdkKey,l.urlConfig)),I&&!(D>I)&&B.has(null!==(_=null==z?void 0:z.status)&&void 0!==_?_:500)){re.n=11;break}return null===(S=this._emitter)||void 0===S||S.call(this,{name:"error",error:ee,tag:j.ErrorTag.NetworkError,requestArgs:l}),Q="A networking error occurred during ".concat(T," request to ").concat(q,"."),k.Log.error(Q,X,ee),null===(E=this._errorBoundary)||void 0===E||E.attachErrorIfNoneExists(Q),re.a(2,null);case 11:return re.n=12,_exponentialBackoff(D);case 12:return re.a(2,this._sendRequest(Object.assign(Object.assign({},l),{retries:I,attempt:D+1})))}},_callee12,this,[[4,9]])}))}},{key:"_getLogEventCompressionMode",value:function(e){var l=null==e?void 0:e.logEventCompressionMode;return l||!0!==(null==e?void 0:e.disableCompression)||(l=L.LogEventCompressionMode.Disabled),l||(l=L.LogEventCompressionMode.Enabled),l}},{key:"_isRateLimited",value:function(e){var l,_=Date.now(),k=null!==(l=this._leakyBucket[e])&&void 0!==l?l:{count:0,lastRequestTime:_},S=_-k.lastRequestTime,E=Math.floor(.05*S);return k.count=Math.max(0,k.count-E),k.count>=50||(k.count+=1,k.lastRequestTime=_,this._leakyBucket[e]=k,!1)}},{key:"_getPopulatedURL",value:function(e){var l,_=null!==(l=e.fallbackUrl)&&void 0!==l?l:e.urlConfig.getUrl();e.urlConfig.endpoint!==S.Endpoint._initialize&&e.urlConfig.endpoint!==S.Endpoint._download_config_specs||(this._lastUsedInitUrl=_);var k=Object.assign(_defineProperty3(_defineProperty3(_defineProperty3(_defineProperty3(_defineProperty3({},S.NetworkParam.SdkKey,e.sdkKey),S.NetworkParam.SdkType,O.SDKType._get(e.sdkKey)),S.NetworkParam.SdkVersion,D.SDK_VERSION),S.NetworkParam.Time,String(Date.now())),S.NetworkParam.SessionID,R.SessionID.get(e.sdkKey)),e.params),E=Object.keys(k).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(k[e]))}).join("&");return"".concat(_).concat(E?"?".concat(E):"")}},{key:"_tryEncodeBody",value:function(e){var _,E=(0,I._getWindowSafe)(),T=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof T&&null==(0,l._getStatsigGlobalFlag)("no-encode")&&(null==E?void 0:E.btoa))try{e.body=E.btoa(T).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(_=e.params)&&void 0!==_?_:{}),_defineProperty3({},S.NetworkParam.StatsigEncoded,"1"))}catch(ta){k.Log.warn("Request encoding failed for ".concat(e.urlConfig.getUrl()),ta)}}},{key:"_tryToCompressBody",value:function(l){return e(this,void 0,void 0,_regenerator().m(function _callee13(){var e,_,E,T,O,I,R,M,j,D,L,U,B,q,z;return _regenerator().w(function(G){for(;;)switch(G.p=G.n){case 0:if("string"==typeof(_=l.body)&&_allowCompression(l,this._options)){G.n=1;break}return G.a(2);case 1:G.p=1,E=(new TextEncoder).encode(_),T=new CompressionStream("gzip"),(O=T.writable.getWriter()).write(E).catch(k.Log.error),O.close().catch(k.Log.error),I=T.readable.getReader(),R=[];case 2:return G.n=3,I.read();case 3:if((M=G.v).done){G.n=4;break}R.push(M.value),G.n=2;break;case 4:for(j=R.reduce(function(e,l){return e+l.length},0),D=new Uint8Array(j),L=0,U=0,B=R;U<B.length;U++)q=B[U],D.set(q,L),L+=q.length;l.body=D,l.params=Object.assign(Object.assign({},null!==(e=l.params)&&void 0!==e?e:{}),_defineProperty3({},S.NetworkParam.IsGzipped,"1")),G.n=6;break;case 5:G.p=5,z=G.v,k.Log.warn("Request compression failed for ".concat(l.urlConfig.getUrl()),z);case 6:return G.a(2)}},_callee13,this,[[1,5]])}))}},{key:"_getInternalRequestArgs",value:function(e,l){var _=this._fallbackResolver.getActiveFallbackUrl(l.sdkKey,l.urlConfig),k=Object.assign(Object.assign({},l),{method:e,fallbackUrl:_});return"data"in l&&_populateRequestBody(k,l.data),k}}])}();Sn.NetworkCore=q;var _ensureValidSdkKey=function(e){return!!e.sdkKey||(k.Log.warn("Unable to make request without an SDK key"),!1)},_populateRequestBody=function(e,l){var _=e.sdkKey,k=e.fallbackUrl,S=M.StableID.get(_),E=R.SessionID.get(_),T=O.SDKType._get(_);e.body=JSON.stringify(Object.assign(Object.assign({},l),{statsigMetadata:Object.assign(Object.assign({},D.StatsigMetadataProvider.get()),{stableID:S,sessionID:E,sdkType:T,fallbackUrl:k})}))};function _allowCompression(e,_){if(!e.isCompressable)return!1;if(null!=(0,l._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;var k=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,S=!0===T.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(_.logEventCompressionMode){case L.LogEventCompressionMode.Disabled:return!1;case L.LogEventCompressionMode.Enabled:return!(k&&!S);case L.LogEventCompressionMode.Forced:return!0;default:return!1}}function _getErrorMessage(e){return"string"==typeof e?e:e instanceof Error?"".concat(e.name,": ").concat(e.message):"Unknown Error"}function _didTimeout(e,l){return e.includes("Timeout")||l}function _tryMarkInitStart(e,l){e.urlConfig.endpoint===S.Endpoint._initialize&&_.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:l})}function _tryMarkInitEnd(e,l,k,E,T){e.urlConfig.endpoint===S.Endpoint._initialize&&_.Diagnostics._markInitNetworkReqEnd(e.sdkKey,_.Diagnostics._getDiagnosticsData(l,k,E,T))}function _exponentialBackoff(l){return e(this,void 0,void 0,_regenerator().m(function _callee14(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,Math.min(l*l*500,3e4))});case 1:return e.a(2)}},_callee14)}))}return Sn}var Mn,jn={};var Dn,Fn={};var Ln,Nn={};var Un,Bn={};function requireStatsigClientBase(){if(Un)return Bn;Un=1;var e=Bn&&Bn.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.StatsigClientBase=void 0,require$_StatsigGlobal();var l=require$_StatsigGlobal(),_=requireErrorBoundary(),k=requireEventLogger(),S=requireLog(),E=requireMemoKey(),T=requireSafeJs(),O=requireSessionID(),I=requireStableID(),R=requireStatsigOptionsCommon(),M=requireStorageProvider(),j=function(){return _createClass3(function StatsigClientBase(e,E,R,j){var D,L,U,B,q=this;_classCallCheck3(this,StatsigClientBase),this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};var z=this.$emt.bind(this);null!=(null==j?void 0:j.logLevel)&&(S.Log.level=j.logLevel),(null==j?void 0:j.disableStorage)&&M.Storage._setDisabled(!0),(null==j?void 0:j.initialSessionID)&&O.StatsigSession.overrideInitialSessionID(j.initialSessionID,e),(null==j?void 0:j.storageProvider)&&M.Storage._setProvider(j.storageProvider),(null==j?void 0:j.enableCookies)&&I.StableID._setCookiesEnabled(e,j.enableCookies),(null==j?void 0:j.disableStableID)&&I.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=j?j:{},this._memoCache={},this.overrideAdapter=null!==(D=null==j?void 0:j.overrideAdapter)&&void 0!==D?D:null,this._logger=new k.EventLogger(e,z,R,j),this._errorBoundary=new _.ErrorBoundary(e,j,z),this._errorBoundary.wrap(this),this._errorBoundary.wrap(E),this._errorBoundary.wrap(this._logger),R.setErrorBoundary(this._errorBoundary),this.dataAdapter=E,this.dataAdapter.attach(e,j,R),this.storageProvider=M.Storage,null===(B=null===(U=null===(L=this.overrideAdapter)||void 0===L?void 0:L.loadFromStorage)||void 0===U?void 0:U.call(L))||void 0===B||B.catch(function(e){return q._errorBoundary.logError("OA::loadFromStorage",e)}),this._primeReadyRipcord(),function(e,_){var k;if((0,T._isServerEnv)())return;var E=(0,l._getStatsigGlobal)(),O=null!==(k=E.instances)&&void 0!==k?k:{},I=_;null!=O[e]&&S.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");O[e]=I,E.firstInstance||(E.firstInstance=I);E.instances=O,__STATSIG__=E}(e,this)},[{key:"updateRuntimeOptions",value:function(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,M.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,I.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(R.LogEventCompressionMode.Disabled)}},{key:"flush",value:function(){return this._logger.flush()}},{key:"shutdown",value:function(){return e(this,void 0,void 0,_regenerator().m(function _callee15(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,e.n=1,this._logger.stop();case 1:return e.a(2)}},_callee15,this)}))}},{key:"on",value:function(e,l){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(l)}},{key:"off",value:function(e,l){if(this._listeners[e]){var _=this._listeners[e].indexOf(l);-1!==_&&this._listeners[e].splice(_,1)}}},{key:"$on",value:function(e,l){l.__isInternal=!0,this.on(e,l)}},{key:"$emt",value:function(e){var l,_=this,barrier=function(l){try{l(e)}catch(k){if(!0===l.__isInternal)return void _._errorBoundary.logError("__emit:".concat(e.name),k);S.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(function(e){return barrier(e)}),null===(l=this._listeners["*"])||void 0===l||l.forEach(barrier)}},{key:"_setStatus",value:function(e,l){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:l})}},{key:"_enqueueExposure",value:function(e,l,_){!0!==(null==_?void 0:_.disableExposureLog)?this._logger.enqueue(l):this._logger.incrementNonExposureCount(e)}},{key:"_memoize",value:function(e,l){var _=this;return function(k,S){if(_._options.disableEvaluationMemoization)return l(k,S);var T=(0,E.createMemoKey)(e,k,S);return T?(T in _._memoCache||(Object.keys(_._memoCache).length>=3e3&&(_._memoCache={}),_._memoCache[T]=l(k,S)),_._memoCache[T]):l(k,S)}}}])}();return Bn.StatsigClientBase=j,Bn}var qn,zn={};var Gn,Wn={};var Vn,Kn={};var Hn,$n={};var Jn,Yn,Xn={};function requireSrc$3(){return Yn||(Yn=1,function(e){var l=yr&&yr.__createBinding||(Object.create?function(e,l,_,k){void 0===k&&(k=_);var S=Object.getOwnPropertyDescriptor(l,_);S&&!("get"in S?!l.__esModule:S.writable||S.configurable)||(S={enumerable:!0,get:function(){return l[_]}}),Object.defineProperty(e,k,S)}:function(e,l,_,k){void 0===k&&(k=_),e[k]=l[_]}),_=yr&&yr.__exportStar||function(e,_){for(var k in e)"default"===k||Object.prototype.hasOwnProperty.call(_,k)||l(_,e,k)};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Log=e.EventLogger=e.Diagnostics=void 0,require$_StatsigGlobal();var k=require$_StatsigGlobal(),S=requireDiagnostics();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return S.Diagnostics}});var E=requireEventLogger();Object.defineProperty(e,"EventLogger",{enumerable:!0,get:function(){return E.EventLogger}});var T=requireLog();Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return T.Log}});var O=requireStatsigMetadata(),I=requireStorageProvider();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return I.Storage}}),_(require$_StatsigGlobal(),e),_(requireCacheKey(),e),_((Hr||(Hr=1,Object.defineProperty($r,"__esModule",{value:!0})),$r),e),_(requireDataAdapterCore(),e),_(requireDiagnostics(),e),_((sn||(sn=1,Object.defineProperty(un,"__esModule",{value:!0})),un),e),_(requireErrorBoundary(),e),_((fn||(fn=1,Object.defineProperty(pn,"__esModule",{value:!0})),pn),e),_((vn||(vn=1,Object.defineProperty(gn,"__esModule",{value:!0})),gn),e),_(requireHashing(),e),_((mn||(mn=1,Object.defineProperty(yn,"__esModule",{value:!0})),yn),e),_(requireLog(),e),_(requireMemoKey(),e),_(requireNetworkConfig(),e),_(requireNetworkCore(),e),_((Mn||(Mn=1,Object.defineProperty(jn,"__esModule",{value:!0})),jn),e),_((Dn||(Dn=1,Object.defineProperty(Fn,"__esModule",{value:!0})),Fn),e),_(requireSafeJs(),e),_(requireSDKType(),e),_(requireSessionID(),e),_((Ln||(Ln=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._fastApproxSizeOf=void 0,e._fastApproxSizeOf=function(l,_){for(var k=0,S=Object.keys(l),E=0;E<S.length;E++){var T=S[E],O=l[T];if(k+=T.length,"object"===_typeof3(O)&&null!==O?k+=(0,e._fastApproxSizeOf)(O,_)+2:k+=String(O).length+1,k>=_)return k}return k}}(Nn)),Nn),e),_(requireStableID(),e),_(requireStatsigClientBase(),e),_(requireStatsigClientEventEmitter(),e),_((qn||(qn=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.DataAdapterCachePrefix=void 0,zn.DataAdapterCachePrefix="statsig.cached"),zn),e),_(requireStatsigEvent(),e),_(requireStatsigMetadata(),e),_(requireStatsigOptionsCommon(),e),_((Gn||(Gn=1,Object.defineProperty(Wn,"__esModule",{value:!0})),Wn),e),_(function(){if(Vn)return Kn;Vn=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn._makeTypedGet=Kn._mergeOverride=Kn._makeLayer=Kn._makeExperiment=Kn._makeDynamicConfig=Kn._makeFeatureGate=void 0;var e=requireLog(),l=requireTypingUtils();function _makeEvaluation(e,l,_,k){var S;return{name:e,details:l,ruleID:null!==(S=null==_?void 0:_.rule_id)&&void 0!==S?S:"",__evaluation:_,value:k}}function _makeDynamicConfig(e,l,_){var k,S=null!==(k=null==_?void 0:_.value)&&void 0!==k?k:{};return Object.assign(Object.assign({},_makeEvaluation(e,l,_,S)),{get:_makeTypedGet(e,null==_?void 0:_.value)})}function _makeTypedGet(_,k,S){return function(E,T){var O,I=null!==(O=null==k?void 0:k[E])&&void 0!==O?O:null;return null==I?null!=T?T:null:null==T||(0,l._isTypeMatch)(I,T)?(null==S||S(E),I):(e.Log.warn("Parameter type mismatch. '".concat(_,".").concat(E,"' was found to be type '").concat(_typeof3(I),"' but fallback/return type is '").concat(_typeof3(T),"'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters")),null!=T?T:null)}}return Kn._makeFeatureGate=function(e,l,_){var k;return Object.assign(Object.assign({},_makeEvaluation(e,l,_,!0===(null==_?void 0:_.value))),{idType:null!==(k=null==_?void 0:_.id_type)&&void 0!==k?k:null})},Kn._makeDynamicConfig=_makeDynamicConfig,Kn._makeExperiment=function(e,l,_){var k,S=_makeDynamicConfig(e,l,_);return Object.assign(Object.assign({},S),{groupName:null!==(k=null==_?void 0:_.group_name)&&void 0!==k?k:null})},Kn._makeLayer=function(e,l,_,k){var S,E;return Object.assign(Object.assign({},_makeEvaluation(e,l,_,void 0)),{get:_makeTypedGet(e,null==_?void 0:_.value,k),groupName:null!==(S=null==_?void 0:_.group_name)&&void 0!==S?S:null,__value:null!==(E=null==_?void 0:_.value)&&void 0!==E?E:{}})},Kn._mergeOverride=function(e,l,_,k){return Object.assign(Object.assign(Object.assign({},e),l),{get:_makeTypedGet(e.name,_,k)})},Kn._makeTypedGet=_makeTypedGet,Kn}(),e),_((Hn||(Hn=1,Object.defineProperty($n,"__esModule",{value:!0})),$n),e),_(requireStatsigUser(),e),_(requireStorageProvider(),e),_(requireTypedJsonParse(),e),_(requireTypingUtils(),e),_(requireUrlConfiguration(),e),_(requireUUID(),e),_(requireVisibilityObserving(),e),_((Jn||(Jn=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.UPDATE_DETAIL_ERROR_MESSAGES=Xn.createUpdateDetails=void 0,Xn.createUpdateDetails=function(e,l,_,k,S,E){return{duration:_,source:l,success:e,error:k,sourceUrl:S,warnings:E}},Xn.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}),Xn),e),_(requireSDKFlags(),e),Object.assign((0,k._getStatsigGlobal)(),{Log:T.Log,SDK_VERSION:O.SDK_VERSION})}(yr)),yr}var Zn,Qn={},ei={},ti={};var ri,ni,ii={},ai={};function requireEvaluationResponseDeltas(){if(ri)return ai;ri=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai._resolveDeltasResponse=void 0;var e=requireSrc$3();function _deleteEntriesInRecord(e,l){null==e||e.forEach(function(e){delete l[e]})}return ai._resolveDeltasResponse=function(l,_){var k=(0,e._typedJsonParse)(_,"checksum","DeltasEvaluationResponse");if(!k)return{hadBadDeltaChecksum:!0};var S=function(e){var l=e;return _deleteEntriesInRecord(e.deleted_gates,l.feature_gates),delete l.deleted_gates,_deleteEntriesInRecord(e.deleted_configs,l.dynamic_configs),delete l.deleted_configs,_deleteEntriesInRecord(e.deleted_layers,l.layer_configs),delete l.deleted_layers,l}(function(e,l){return Object.assign(Object.assign(Object.assign({},e),l),{feature_gates:Object.assign(Object.assign({},e.feature_gates),l.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),l.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),l.dynamic_configs)})}(l,k)),E=(0,e._DJB2Object)({feature_gates:S.feature_gates,dynamic_configs:S.dynamic_configs,layer_configs:S.layer_configs},2);return E===k.checksumV2?JSON.stringify(S):{hadBadDeltaChecksum:!0,badChecksum:E,badMergedConfigs:S,badFullResponse:k.deltas_full_response}},ai}function requireNetwork(){if(ni)return ii;ni=1;var e=ii&&ii.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(ii,"__esModule",{value:!0});var l=requireSrc$3(),_=requireEvaluationResponseDeltas(),k=function(k){function StatsigNetwork(e,_){var k;_classCallCheck3(this,StatsigNetwork),k=_callSuper(this,StatsigNetwork,[e,_]);var S=null==e?void 0:e.networkConfig;return k._option=e,k._initializeUrlConfig=new l.UrlConfiguration(l.Endpoint._initialize,null==S?void 0:S.initializeUrl,null==S?void 0:S.api,null==S?void 0:S.initializeFallbackUrls),k}return _inherits(StatsigNetwork,k),_createClass3(StatsigNetwork,[{key:"fetchEvaluations",value:function(_,k,S,E,T){return e(this,void 0,void 0,_regenerator().m(function _callee16(){var e,O,I,R,M,j,D,L,U;return _regenerator().w(function(B){for(;;)if(0===B.n)return D=k?(0,l._typedJsonParse)(k,"has_updates","InitializeResponse"):null,L={user:E,hash:null!==(I=null===(O=null===(e=this._option)||void 0===e?void 0:e.networkConfig)||void 0===O?void 0:O.initializeHashAlgorithm)&&void 0!==I?I:"djb2",deltasResponseRequested:!1,full_checksum:null},(null==D?void 0:D.has_updates)&&(U=(null==D?void 0:D.hash_used)!==(null!==(j=null===(M=null===(R=this._option)||void 0===R?void 0:R.networkConfig)||void 0===M?void 0:M.initializeHashAlgorithm)&&void 0!==j?j:"djb2"),L=Object.assign(Object.assign({},L),{sinceTime:T&&!U?D.time:0,previousDerivedFields:"derived_fields"in D&&T?D.derived_fields:{},deltasResponseRequested:!0,full_checksum:D.full_checksum,partialUserMatchSinceTime:U?0:D.time})),B.a(2,this._fetchEvaluations(_,D,L,S))},_callee16,this)}))}},{key:"_fetchEvaluations",value:function(l,k,S,E){return e(this,void 0,void 0,_regenerator().m(function _callee17(){var e,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.n){case 0:return R.n=1,this.post({sdkKey:l,urlConfig:this._initializeUrlConfig,data:S,retries:2,isStatsigEncodable:!0,priority:E});case 1:if(204!==(null==(O=R.v)?void 0:O.code)){R.n=2;break}return R.a(2,'{"has_updates": false}');case 2:if(200===(null==O?void 0:O.code)){R.n=3;break}return R.a(2,null!==(e=null==O?void 0:O.body)&&void 0!==e?e:null);case 3:if(!0===(null==k?void 0:k.has_updates)&&!0===(null===(T=O.body)||void 0===T?void 0:T.includes('"is_delta":true'))&&!0===S.deltasResponseRequested){R.n=4;break}return R.a(2,O.body);case 4:if("string"!=typeof(I=(0,_._resolveDeltasResponse)(k,O.body))){R.n=5;break}return R.a(2,I);case 5:return R.a(2,this._fetchEvaluations(l,k,Object.assign(Object.assign(Object.assign({},S),I),{deltasResponseRequested:!1}),E))}},_callee17,this)}))}}])}(l.NetworkCore);return ii.default=k,ii}var oi,si={};function requireParamStoreGetterFactory(){if(oi)return si;oi=1,Object.defineProperty(si,"__esModule",{value:!0}),si._makeParamStoreGetter=void 0;var e=requireSrc$3(),l={disableExposureLog:!0};function _shouldLogExposure(e){return null==e||!1===e.disableExposureLog}function _shouldReturnFallback(l,_){return null!=_&&!(0,e._isTypeMatch)(l,_)}return si._makeParamStoreGetter=function(_,k,S){return function(E,T){if(null==k)return T;var O=k[E];if(null==O||null!=T&&(0,e._typeOf)(T)!==O.param_type)return T;switch(O.ref_type){case"static":return function(e){return e.value}(O);case"gate":return function(e,_,k){return e.getFeatureGate(_.gate_name,_shouldLogExposure(k)?void 0:l).value?_.pass_value:_.fail_value}(_,O,S);case"dynamic_config":return function(e,_,k,S){var E=e.getDynamicConfig(_.config_name,_shouldLogExposure(S)?void 0:l).get(_.param_name);return _shouldReturnFallback(E,k)?k:E}(_,O,T,S);case"experiment":return function(e,_,k,S){var E=e.getExperiment(_.experiment_name,_shouldLogExposure(S)?void 0:l).get(_.param_name);return _shouldReturnFallback(E,k)?k:E}(_,O,T,S);case"layer":return function(e,_,k,S){var E=e.getLayer(_.layer_name,_shouldLogExposure(S)?void 0:l).get(_.param_name);return _shouldReturnFallback(E,k)?k:E}(_,O,T,S);default:return T}}},si}var ui,li,ci,hi={};function requireStatsigEvaluationsDataAdapter(){if(ui)return hi;ui=1;var e=hi&&hi.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(hi,"__esModule",{value:!0}),hi.StatsigEvaluationsDataAdapter=void 0;var l=requireSrc$3(),_=requireNetwork(),k=function(k){function StatsigEvaluationsDataAdapter(){var e;return _classCallCheck3(this,StatsigEvaluationsDataAdapter),(e=_callSuper(this,StatsigEvaluationsDataAdapter,["EvaluationsDataAdapter","evaluations"]))._network=null,e._options=null,e}return _inherits(StatsigEvaluationsDataAdapter,k),_createClass3(StatsigEvaluationsDataAdapter,[{key:"attach",value:function(e,l,k){_superPropGet(StatsigEvaluationsDataAdapter,"attach",this,3)([e,l,k]),null!==k&&k instanceof _.default?this._network=k:this._network=new _.default(null!=l?l:{})}},{key:"getDataAsync",value:function(e,_,k){return this._getDataAsyncImpl(e,(0,l._normalizeUser)(_,this._options),k)}},{key:"prefetchData",value:function(e,l){return this._prefetchDataImpl(e,l)}},{key:"setData",value:function(e){var _=(0,l._typedJsonParse)(e,"has_updates","data");_&&"user"in _?_superPropGet(StatsigEvaluationsDataAdapter,"setData",this,3)([e,_.user]):l.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}},{key:"setDataLegacy",value:function(e,l){_superPropGet(StatsigEvaluationsDataAdapter,"setData",this,3)([e,l])}},{key:"_fetchFromNetwork",value:function(l,_,k,S){return e(this,void 0,void 0,_regenerator().m(function _callee18(){var e,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:return T.n=1,null===(e=this._network)||void 0===e?void 0:e.fetchEvaluations(this._getSdkKey(),l,null==k?void 0:k.priority,_,S);case 1:return E=T.v,T.a(2,null!=E?E:null)}},_callee18,this)}))}},{key:"_getCacheKey",value:function(e){var _,k=(0,l._getStorageKey)(this._getSdkKey(),e,null===(_=this._options)||void 0===_?void 0:_.customUserCacheKeyFunc);return"".concat(l.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(k)}},{key:"_isCachedResultValidFor204",value:function(e,_){return null!=e.fullUserHash&&e.fullUserHash===(0,l._getFullUserHash)(_)}}])}(l.DataAdapterCore);return hi.StatsigEvaluationsDataAdapter=k,hi}function requireStatsigClient(){if(li)return ei;li=1;var e=ei&&ei.__awaiter||function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};Object.defineProperty(ei,"__esModule",{value:!0});var l=requireSrc$3(),_=function(){if(Zn)return ti;Zn=1,Object.defineProperty(ti,"__esModule",{value:!0});var e=requireSrc$3(),l=function(){return _createClass3(function EvaluationStore(e){_classCallCheck3(this,EvaluationStore),this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set},[{key:"reset",value:function(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}},{key:"finalize",value:function(){this._values||(this._source="NoValues")}},{key:"getValues",value:function(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}},{key:"setValues",value:function(l,_){var k,S;if(!l)return!1;var E=(0,e._typedJsonParse)(l.data,"has_updates","EvaluationResponse");return null!=E&&(this._source=l.source,!0!==(null==E?void 0:E.has_updates)||(null!==(k=E.time)&&void 0!==k?k:0)<this._lcut||(this._rawValues=l.data,this._lcut=E.time,this._receivedAt=l.receivedAt,this._values=E,this._bootstrapMetadata=this._extractBootstrapMetadata(l.source,E),l.source&&E.user&&this._setWarningState(_,E),e.SDKFlags.setFlags(this._sdkKey,null!==(S=E.sdk_flags)&&void 0!==S?S:{})),!0)}},{key:"getWarnings",value:function(){if(0!==this._warnings.size)return Array.from(this._warnings)}},{key:"getGate",value:function(e){var l;return this._getDetailedStoreResult(null===(l=this._values)||void 0===l?void 0:l.feature_gates,e)}},{key:"getConfig",value:function(e){var l;return this._getDetailedStoreResult(null===(l=this._values)||void 0===l?void 0:l.dynamic_configs,e)}},{key:"getConfigList",value:function(){var e;return(null===(e=this._values)||void 0===e?void 0:e.dynamic_configs)?Object.values(this._values.dynamic_configs).map(function(e){return e.name}):[]}},{key:"getLayer",value:function(e){var l;return this._getDetailedStoreResult(null===(l=this._values)||void 0===l?void 0:l.layer_configs,e)}},{key:"getParamStore",value:function(e){var l;return this._getDetailedStoreResult(null===(l=this._values)||void 0===l?void 0:l.param_stores,e)}},{key:"getSource",value:function(){return this._source}},{key:"getExposureMapping",value:function(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}},{key:"_extractBootstrapMetadata",value:function(e,l){if("Bootstrap"!==e)return null;var _={};return l.user&&(_.user=l.user),l.sdkInfo&&(_.generatorSDKInfo=l.sdkInfo),_.lcut=l.time,_}},{key:"_getDetailedStoreResult",value:function(l,_){var k=null;return l&&(k=l[_]?l[_]:l[(0,e._DJB2)(_)]),{result:k,details:this._getDetails(null==k)}}},{key:"_setWarningState",value:function(l,_){var k,S,E=e.StableID.get(this._sdkKey);if((null===(k=l.customIDs)||void 0===k?void 0:k.stableID)===E||!(null===(S=l.customIDs)||void 0===S?void 0:S.stableID)&&!E){if("user"in _){var T=_.user,O=Object.assign(Object.assign({},l),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(O)!==(0,e._getFullUserHash)(T)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}},{key:"getCurrentSourceDetails",value:function(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};var e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}},{key:"_getDetails",value:function(e){var l,_,k=this.getCurrentSourceDetails(),S=k.reason,E=null!==(l=k.warnings)&&void 0!==l?l:[];if("Bootstrap"===this._source&&E.length>0&&(S+=E[0]),"Uninitialized"!==S&&"NoValues"!==S){var T=e?"Unrecognized":"Recognized";S="".concat(S,":").concat(T)}var O="Bootstrap"===this._source&&null!==(_=this._bootstrapMetadata)&&void 0!==_?_:void 0;return O&&(k.bootstrapMetadata=O),Object.assign(Object.assign({},k),{reason:S})}}])}();return ti.default=l,ti}(),k=requireNetwork(),S=requireParamStoreGetterFactory(),E=requireStatsigEvaluationsDataAdapter(),T=function(T){function StatsigClient(e,S){var T,O,I,R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck3(this,StatsigClient),l.SDKType._setClientType(e,"javascript-client");var M=new k.default(R,function(e){T.$emt(e)});(T=_callSuper(this,StatsigClient,[e,null!==(O=null==R?void 0:R.dataAdapter)&&void 0!==O?O:new E.StatsigEvaluationsDataAdapter,M,R]))._possibleFirstTouchMetadata={},T.getFeatureGate=T._memoize(l.MemoPrefix._gate,T._getFeatureGateImpl.bind(T)),T.getDynamicConfig=T._memoize(l.MemoPrefix._dynamicConfig,T._getDynamicConfigImpl.bind(T)),T.getExperiment=T._memoize(l.MemoPrefix._experiment,T._getExperimentImpl.bind(T)),T.getConfigList=T._memoize(l.MemoPrefix._configList,T._getConfigListImpl.bind(T)),T.getLayer=T._memoize(l.MemoPrefix._layer,T._getLayerImpl.bind(T)),T.getParameterStore=T._memoize(l.MemoPrefix._paramStore,T._getParameterStoreImpl.bind(T)),T._store=new _.default(e),T._network=M,T._user=T._configureUser(S,R),T._sdkInstanceID=(0,l.getUUID)();var j,D=_createForOfIteratorHelper2(null!==(I=null==R?void 0:R.plugins)&&void 0!==I?I:[]);try{for(D.s();!(j=D.n()).done;){j.value.bind(T)}}catch(L){D.e(L)}finally{D.f()}return T}return _inherits(StatsigClient,T),_createClass3(StatsigClient,[{key:"initializeSync",value:function(e){var _;return"Uninitialized"!==this.loadingStatus?(0,l.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations"].concat(_toConsumableArray3(null!==(_=this._store.getWarnings())&&void 0!==_?_:[]))):(this._logger.start(),this.updateUserSync(this._user,e))}},{key:"initializeAsync",value:function(l){return e(this,void 0,void 0,_regenerator().m(function _callee19(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(!this._initializePromise){e.n=1;break}return e.a(2,this._initializePromise);case 1:return this._initializePromise=this._initializeAsyncImpl(l),e.a(2,this._initializePromise)}},_callee19,this)}))}},{key:"updateUserSync",value:function(e,l){var _=performance.now();try{return this._updateUserSyncImpl(e,l,_)}catch(ta){var k=ta instanceof Error?ta:new Error(String(ta));return this._createErrorUpdateDetails(k,_)}}},{key:"_updateUserSyncImpl",value:function(e,_,k){var S,E=_toConsumableArray3(null!==(S=this._store.getWarnings())&&void 0!==S?S:[]);this._resetForUser(e);var T=this.dataAdapter.getDataSync(this._user);null==T&&E.push("NoCachedValues"),this._store.setValues(T,this._user),this._finalizeUpdate(T);var O=null==_?void 0:_.disableBackgroundCacheRefresh;return!0===O||null==O&&"Bootstrap"===(null==T?void 0:T.source)||this._runPostUpdate(null!=T?T:null,this._user),(0,l.createUpdateDetails)(!0,this._store.getSource(),performance.now()-k,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),E)}},{key:"updateUserAsync",value:function(l,_){return e(this,void 0,void 0,_regenerator().m(function _callee20(){var e,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return e=performance.now(),E.p=1,E.n=2,this._updateUserAsyncImpl(l,_);case 2:return E.a(2,E.v);case 3:return E.p=3,S=E.v,k=S instanceof Error?S:new Error(String(S)),E.a(2,this._createErrorUpdateDetails(k,e))}},_callee20,this,[[1,3]])}))}},{key:"_updateUserAsyncImpl",value:function(_,k){return e(this,void 0,void 0,_regenerator().m(function _callee21(){var e,S,E,T;return _regenerator().w(function(O){for(;;)switch(O.n){case 0:return this._resetForUser(_),e=this._user,l.Diagnostics._markInitOverallStart(this._sdkKey),S=this.dataAdapter.getDataSync(e),this._store.setValues(S,this._user),this._setStatus("Loading",S),O.n=1,this.dataAdapter.getDataAsync(S,e,k);case 1:if(S=O.v,e===this._user){O.n=2;break}return O.a(2,(0,l.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset()));case 2:return E=!1,null!=S&&(l.Diagnostics._markInitProcessStart(this._sdkKey),E=this._store.setValues(S,this._user),l.Diagnostics._markInitProcessEnd(this._sdkKey,{success:E})),this._finalizeUpdate(S),E||(this._errorBoundary.attachErrorIfNoneExists(l.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),l.Diagnostics._markInitOverallEnd(this._sdkKey,E,this._store.getCurrentSourceDetails()),T=l.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options),O.a(2,(0,l.createUpdateDetails)(E,this._store.getSource(),T,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings()))}},_callee21,this)}))}},{key:"getContext",value:function(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:l.StatsigSession.get(this._sdkKey),stableID:l.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}},{key:"checkGate",value:function(e,l){return this.getFeatureGate(e,l).value}},{key:"logEvent",value:function(e,l,_){var k="string"==typeof e?{eventName:e,value:l,metadata:_}:e;this.$emt({name:"log_event_called",event:k}),this._logger.enqueue(Object.assign(Object.assign({},k),{user:this._user,time:Date.now()}))}},{key:"updateUserWithAnalyticsOnlyMetadata",value:function(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}},{key:"_primeReadyRipcord",value:function(){var e=this;this.$on("error",function(){"Loading"===e.loadingStatus&&e._finalizeUpdate(null)})}},{key:"_initializeAsyncImpl",value:function(_){return e(this,void 0,void 0,_regenerator().m(function _callee22(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(l.Storage.isReady()){e.n=1;break}return e.n=1,l.Storage.isReadyResolver();case 1:return this._logger.start(),e.a(2,this.updateUserAsync(this._user,_))}},_callee22,this)}))}},{key:"_createErrorUpdateDetails",value:function(e,_){var k;return(0,l.createUpdateDetails)(!1,this._store.getSource(),performance.now()-_,e,null,_toConsumableArray3(null!==(k=this._store.getWarnings())&&void 0!==k?k:[]))}},{key:"_finalizeUpdate",value:function(e){this._store.finalize(),this._setStatus("Ready",e)}},{key:"_runPostUpdate",value:function(e,_){this.dataAdapter.getDataAsync(e,_,{priority:"low"}).catch(function(e){l.Log.error("An error occurred after update.",e)})}},{key:"_resetForUser",value:function(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}},{key:"_configureUser",value:function(e,_){var k,S,E,T=this,O=(0,l._normalizeUser)(e,_),I=null===(k=O.customIDs)||void 0===k?void 0:k.stableID;if(I){var R=null===(E=(S=this.storageProvider).isReadyResolver)||void 0===E?void 0:E.call(S);R?R.then(function(){return l.StableID.setOverride(I,T._sdkKey)},function(){return l.StableID.setOverride(I,T._sdkKey)}):l.StableID.setOverride(I,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(O.analyticsOnlyMetadata=Object.assign(Object.assign({},O.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),O}},{key:"_getFeatureGateImpl",value:function(e,_){var k,S,E=this._store.getGate(e),T=E.result,O=E.details,I=(0,l._makeFeatureGate)(e,O,T),R=null===(S=null===(k=this.overrideAdapter)||void 0===k?void 0:k.getGateOverride)||void 0===S?void 0:S.call(k,I,this._user,_),M=null!=R?R:I;return this._enqueueExposure(e,(0,l._createGateExposure)(this._user,M,this._store.getExposureMapping()),_),this.$emt({name:"gate_evaluation",gate:M}),M}},{key:"_getDynamicConfigImpl",value:function(e,_){var k,S,E=this._store.getConfig(e),T=E.result,O=E.details,I=(0,l._makeDynamicConfig)(e,O,T),R=null===(S=null===(k=this.overrideAdapter)||void 0===k?void 0:k.getDynamicConfigOverride)||void 0===S?void 0:S.call(k,I,this._user,_),M=null!=R?R:I;return this._enqueueExposure(e,(0,l._createConfigExposure)(this._user,M,this._store.getExposureMapping()),_),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:M}),M}},{key:"_getExperimentImpl",value:function(e,_){var k,S,E,T,O=this._store.getConfig(e),I=O.result,R=O.details,M=(0,l._makeExperiment)(e,R,I);null!=M.__evaluation&&(M.__evaluation.secondary_exposures=(0,l._mapExposures)(null!==(S=null===(k=M.__evaluation)||void 0===k?void 0:k.secondary_exposures)&&void 0!==S?S:[],this._store.getExposureMapping()));var j=null===(T=null===(E=this.overrideAdapter)||void 0===E?void 0:E.getExperimentOverride)||void 0===T?void 0:T.call(E,M,this._user,_),D=null!=j?j:M;return this._enqueueExposure(e,(0,l._createConfigExposure)(this._user,D,this._store.getExposureMapping()),_),this.$emt({name:"experiment_evaluation",experiment:D}),D}},{key:"_getConfigListImpl",value:function(){return this._store.getConfigList()}},{key:"_getLayerImpl",value:function(e,_){var k,S,E,T=this,O=this._store.getLayer(e),I=O.result,R=O.details,M=(0,l._makeLayer)(e,R,I),j=null===(S=null===(k=this.overrideAdapter)||void 0===k?void 0:k.getLayerOverride)||void 0===S?void 0:S.call(k,M,this._user,_);(null==_?void 0:_.disableExposureLog)&&this._logger.incrementNonExposureCount(e);var D=(0,l._mergeOverride)(M,j,null!==(E=null==j?void 0:j.__value)&&void 0!==E?E:M.__value,function(k){(null==_?void 0:_.disableExposureLog)||T._enqueueExposure(e,(0,l._createLayerParameterExposure)(T._user,D,k,T._store.getExposureMapping()),_)});return this.$emt({name:"layer_evaluation",layer:D}),D}},{key:"_getParameterStoreImpl",value:function(e,l){var _,k,E=this._store.getParamStore(e),T=E.result,O=E.details;this._logger.incrementNonExposureCount(e);var I={name:e,details:O,__configuration:T,get:(0,S._makeParamStoreGetter)(this,T,l)},R=null===(k=null===(_=this.overrideAdapter)||void 0===_?void 0:_.getParamStoreOverride)||void 0===k?void 0:k.call(_,I,l);return null!=R&&(I.__configuration=R.config,I.details=R.details,I.get=(0,S._makeParamStoreGetter)(this,R.config,l)),I}}],[{key:"instance",value:function(e){var _=(0,l._getStatsigGlobal)().instance(e);return _ instanceof StatsigClient?_:(l.Log.warn((0,l._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new StatsigClient(null!=e?e:"",{}))}}])}(l.StatsigClientBase);return ei.default=T,ei}function requireSrc$2(){return ci||(ci=1,function(e){var l=Qn&&Qn.__createBinding||(Object.create?function(e,l,_,k){void 0===k&&(k=_);var S=Object.getOwnPropertyDescriptor(l,_);S&&!("get"in S?!l.__esModule:S.writable||S.configurable)||(S={enumerable:!0,get:function(){return l[_]}}),Object.defineProperty(e,k,S)}:function(e,l,_,k){void 0===k&&(k=_),e[k]=l[_]}),_=Qn&&Qn.__exportStar||function(e,_){for(var k in e)"default"===k||Object.prototype.hasOwnProperty.call(_,k)||l(_,e,k)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;var k=requireSrc$3(),S=requireStatsigClient();e.StatsigClient=S.default,_(requireSrc$3(),e);var E=Object.assign((0,k._getStatsigGlobal)(),{StatsigClient:S.default});e.default=E}(Qn)),Qn}R("ah",requireSrc$2());var di,fi,pi={},vi={},gi={},mi={},yi={};function requireRecord(){return di||(di=1,function(E){var T={};Object.defineProperty(E,Symbol.toStringTag,{value:"Module"});var O,I=Object.defineProperty,__publicField=function(e,l,_){return function(e,l,_){return l in e?I(e,l,{enumerable:!0,configurable:!0,writable:!0,value:_}):e[l]=_}(e,"symbol"!==_typeof3(l)?l+"":l,_)},R=Object.defineProperty,__publicField$1=function(e,l,_){return function(e,l,_){return l in e?R(e,l,{enumerable:!0,configurable:!0,writable:!0,value:_}):e[l]=_}(e,"symbol"!==_typeof3(l)?l+"":l,_)},M=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(M||{}),j={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},D={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},L={};function getUntaintedPrototype$1(e){if(L[e])return L[e];var l=globalThis[e],_=l.prototype,k=e in j?j[e]:void 0,S=Boolean(k&&k.every(function(e){var l,k;return Boolean(null==(k=null==(l=Object.getOwnPropertyDescriptor(_,e))?void 0:l.get)?void 0:k.toString().includes("[native code]"))})),E=e in D?D[e]:void 0,T=Boolean(E&&E.every(function(e){var l;return"function"==typeof _[e]&&(null==(l=_[e])?void 0:l.toString().includes("[native code]"))}));if(S&&T)return L[e]=l.prototype,l.prototype;try{var O=document.createElement("iframe");document.body.appendChild(O);var I=O.contentWindow;if(!I)return l.prototype;var R=I[e].prototype;return document.body.removeChild(O),R?L[e]=R:_}catch(M){return _}}var U={};function getUntaintedAccessor$1(e,l,_){var k,S="".concat(e,".").concat(String(_));if(U[S])return U[S].call(l);var E=getUntaintedPrototype$1(e),T=null==(k=Object.getOwnPropertyDescriptor(E,_))?void 0:k.get;return T?(U[S]=T,T.call(l)):l[_]}var B={};function getUntaintedMethod$1(e,l,_){var k="".concat(e,".").concat(String(_));if(B[k])return B[k].bind(l);var S=getUntaintedPrototype$1(e)[_];return"function"!=typeof S?l[_]:(B[k]=S,S.bind(l))}var q={childNodes:function(e){return getUntaintedAccessor$1("Node",e,"childNodes")},parentNode:function(e){return getUntaintedAccessor$1("Node",e,"parentNode")},parentElement:function(e){return getUntaintedAccessor$1("Node",e,"parentElement")},textContent:function(e){return getUntaintedAccessor$1("Node",e,"textContent")},contains:function(e,l){return getUntaintedMethod$1("Node",e,"contains")(l)},getRootNode:function(e){return getUntaintedMethod$1("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?getUntaintedAccessor$1("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?getUntaintedAccessor$1("Element",e,"shadowRoot"):null},querySelector:function(e,l){return getUntaintedAccessor$1("Element",e,"querySelector")(l)},querySelectorAll:function(e,l){return getUntaintedAccessor$1("Element",e,"querySelectorAll")(l)},mutationObserver:function(){return getUntaintedPrototype$1("MutationObserver").constructor}};function isElement(e){return e.nodeType===e.ELEMENT_NODE}function isShadowRoot(e){var l=e&&"host"in e&&"mode"in e&&q.host(e)||null;return Boolean(l&&"shadowRoot"in l&&q.shadowRoot(l)===e)}function isNativeShadowDom(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function stringifyStylesheet(e){try{var l=e.rules||e.cssRules;if(!l)return null;var _=Array.from(l,function(l){return stringifyRule(l,e.href)}).join("");return(k=_).includes(" background-clip: text;")&&!k.includes(" -webkit-background-clip: text;")&&(k=k.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),k}catch(S){return null}var k}function stringifyRule(e,l){if(function(e){return"styleSheet"in e}(e)){var _;try{_=stringifyStylesheet(e.styleSheet)||function(e){var l=e.cssText;if(l.split('"').length<3)return l;var _=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?_.push("layer"):e.layerName&&_.push("layer(".concat(e.layerName,")")),e.supportsText&&_.push("supports(".concat(e.supportsText,")")),e.media.length&&_.push(e.media.mediaText),_.join(" ")+";"}(e)}catch(E){_=e.cssText}return e.styleSheet.href?absolutifyURLs(_,e.styleSheet.href):_}var k,S=e.cssText;return function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":")&&(k=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,S=S.replace(k,"$1\\$2")),l?absolutifyURLs(S,l):S}var z=function(){return _createClass3(function Mirror(){_classCallCheck3(this,Mirror),__publicField$1(this,"idNodeMap",new Map),__publicField$1(this,"nodeMetaMap",new WeakMap)},[{key:"getId",value:function(e){var l;if(!e)return-1;var _=null==(l=this.getMeta(e))?void 0:l.id;return null!=_?_:-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var l=this,_=this.getId(e);this.idNodeMap.delete(_),e.childNodes&&e.childNodes.forEach(function(e){return l.removeNodeFromMap(e)})}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,l){var _=l.id;this.idNodeMap.set(_,e),this.nodeMetaMap.set(e,l)}},{key:"replace",value:function(e,l){var _=this.getNode(e);if(_){var k=this.nodeMetaMap.get(_);k&&this.nodeMetaMap.set(l,k)}this.idNodeMap.set(e,l)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}])}();function maskInputValue(e){var l=e.element,_=e.maskInputOptions,k=e.tagName,S=e.type,E=e.value,T=e.maskInputFn,O=E||"",I=S&&toLowerCase(S);return(_[k.toLowerCase()]||I&&_[I])&&(O=T?T(O,l):"*".repeat(O.length)),O}function toLowerCase(e){return e.toLowerCase()}var G="__rrweb_original__";function getInputType(e){var l=e.type;return e.hasAttribute("data-rr-is-password")?"password":l?toLowerCase(l):null}function extractFileExtension(e,l){var _,k;try{k=new URL(e,null!=l?l:window.location.href)}catch(E){return null}var S=k.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(_=null==S?void 0:S[1])&&void 0!==_?_:null}var W=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,V=/^(?:[a-z+]+:)?\/\//i,K=/^www\..*/i,H=/^(data:)([^,]*),(.*)/i;function absolutifyURLs(e,l){return(e||"").replace(W,function(e,_,k,S,E,T){var O,I=k||E||T,R=_||S||"";if(!I)return e;if(V.test(I)||K.test(I))return"url(".concat(R).concat(I).concat(R,")");if(H.test(I))return"url(".concat(R).concat(I).concat(R,")");if("/"===I[0])return"url(".concat(R).concat((O=l,(O.indexOf("//")>-1?O.split("/").slice(0,3).join("/"):O.split("/")[0]).split("?")[0]+I)).concat(R,")");var M=l.split("/"),j=I.split("/");M.pop();var D,L=_createForOfIteratorHelper2(j);try{for(L.s();!(D=L.n()).done;){var U=D.value;"."!==U&&(".."===U?M.pop():M.push(U))}}catch(B){L.e(B)}finally{L.f()}return"url(".concat(R).concat(M.join("/")).concat(R,")")})}var $,J,Y=1,X=new RegExp("[^a-z0-9-_:]");function genId(){return Y++}var Z=/^[^ \t\n\r\u000c]+/,Q=/^[, \t\n\r\u000c]+/;var ee=new WeakMap;function absoluteToDoc(e,l){return l&&""!==l.trim()?getHref(e,l):l}function isSVGElement(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function getHref(e,l){var _=ee.get(e);if(_||(_=e.createElement("a"),ee.set(e,_)),l){if(l.startsWith("blob:")||l.startsWith("data:"))return l}else l="";return _.setAttribute("href",l),_.href}function transformAttribute(e,l,_,k){return k?"src"===_||"href"===_&&("use"!==l||"#"!==k[0])||"xlink:href"===_&&"#"!==k[0]?absoluteToDoc(e,k):"background"!==_||"table"!==l&&"td"!==l&&"th"!==l?"srcset"===_?function(e,l){if(""===l.trim())return l;var _=0;function collectCharacters(e){var k,S=e.exec(l.substring(_));return S?(k=S[0],_+=k.length,k):""}for(var k=[];collectCharacters(Q),!(_>=l.length);){var S=collectCharacters(Z);if(","===S.slice(-1))S=absoluteToDoc(e,S.substring(0,S.length-1)),k.push(S);else{var E="";S=absoluteToDoc(e,S);for(var T=!1;;){var O=l.charAt(_);if(""===O){k.push((S+E).trim());break}if(T)")"===O&&(T=!1);else{if(","===O){_+=1,k.push((S+E).trim());break}"("===O&&(T=!0)}E+=O,_+=1}}}return k.join(", ")}(e,k):"style"===_?absolutifyURLs(k,getHref(e)):"object"===l&&"data"===_?absoluteToDoc(e,k):k:absoluteToDoc(e,k):k}function ignoreAttribute(e,l,_){return("video"===e||"audio"===e)&&"autoplay"===l}function classMatchesRegex(e,l,_){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!_&&classMatchesRegex(q.parentNode(e),l,_);for(var k=e.classList.length;k--;){var S=e.classList[k];if(l.test(S))return!0}return!!_&&classMatchesRegex(q.parentNode(e),l,_)}function needMaskingText(e,l,_,k){var S;if(isElement(e)){if(S=e,!q.childNodes(S).length)return!1}else{if(null===q.parentElement(e))return!1;S=q.parentElement(e)}try{if("string"==typeof l){if(k){if(S.closest(".".concat(l)))return!0}else if(S.classList.contains(l))return!0}else if(classMatchesRegex(S,l,k))return!0;if(_)if(k){if(S.closest(_))return!0}else if(S.matches(_))return!0}catch(E){}return!1}function serializeNode(e,l){var _=l.doc,k=l.mirror,S=l.blockClass,E=l.blockSelector,T=l.needsMask,O=l.inlineStylesheet,I=l.maskInputOptions,R=void 0===I?{}:I,j=l.maskTextFn,D=l.maskInputFn,L=l.dataURLOptions,U=void 0===L?{}:L,B=l.inlineImages,z=l.recordCanvas,W=l.keepIframeSrcFn,V=l.newlyAddedElement,K=void 0!==V&&V,H=function(e,l){if(!l.hasNode(e))return;var _=l.getId(e);return 1===_?void 0:_}(_,k);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:M.Document,childNodes:[],compatMode:e.compatMode}:{type:M.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:M.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:H};case e.ELEMENT_NODE:return function(e,l){for(var _,k=l.doc,S=l.blockClass,E=l.blockSelector,T=l.inlineStylesheet,O=l.maskInputOptions,I=void 0===O?{}:O,R=l.maskInputFn,j=l.dataURLOptions,D=void 0===j?{}:j,L=l.inlineImages,U=l.recordCanvas,B=l.keepIframeSrcFn,z=l.newlyAddedElement,W=void 0!==z&&z,V=l.rootId,K=function(e,l,_){try{if("string"==typeof l){if(e.classList.contains(l))return!0}else for(var k=e.classList.length;k--;){var S=e.classList[k];if(l.test(S))return!0}if(_)return e.matches(_)}catch(E){}return!1}(e,S,E),H=function(e){if(e instanceof HTMLFormElement)return"form";var l=toLowerCase(e.tagName);return X.test(l)?"div":l}(e),Y={},Z=e.attributes.length,Q=0;Q<Z;Q++){var ee=e.attributes[Q];ignoreAttribute(H,ee.name,ee.value)||(Y[ee.name]=transformAttribute(k,H,toLowerCase(ee.name),ee.value))}if("link"===H&&T){var te=Array.from(k.styleSheets).find(function(l){return l.href===e.href}),re=null;te&&(re=stringifyStylesheet(te)),re&&(delete Y.rel,delete Y.href,Y._cssText=re)}if("style"===H&&e.sheet&&!(e.innerText||q.textContent(e)||"").trim().length){var ne=stringifyStylesheet(e.sheet);ne&&(Y._cssText=ne)}if("input"===H||"textarea"===H||"select"===H){var ie=e.value,ae=e.checked;"radio"!==Y.type&&"checkbox"!==Y.type&&"submit"!==Y.type&&"button"!==Y.type&&ie?Y.value=maskInputValue({element:e,type:getInputType(e),tagName:H,value:ie,maskInputOptions:I,maskInputFn:R}):ae&&(Y.checked=ae)}"option"===H&&(e.selected&&!I.select?Y.selected=!0:delete Y.selected);"dialog"===H&&e.open&&(Y.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal");if("canvas"===H&&U)if("2d"===e.__context)(function(e){var l=e.getContext("2d");if(!l)return!0;for(var _=0;_<e.width;_+=50)for(var k=0;k<e.height;k+=50){var S=l.getImageData,E=G in S?S[G]:S;if(new Uint32Array(E.call(l,_,k,Math.min(50,e.width-_),Math.min(50,e.height-k)).data.buffer).some(function(e){return 0!==e}))return!1}return!0})(e)||(Y.rr_dataURL=e.toDataURL(D.type,D.quality));else if(!("__context"in e)){var oe=e.toDataURL(D.type,D.quality),se=k.createElement("canvas");se.width=e.width,se.height=e.height,oe!==se.toDataURL(D.type,D.quality)&&(Y.rr_dataURL=oe)}if("img"===H&&L){$||($=k.createElement("canvas"),J=$.getContext("2d"));var ue=e,le=(ue.currentSrc||ue.getAttribute("src"),ue.crossOrigin),_recordInlineImage=function(){ue.removeEventListener("load",_recordInlineImage);try{$.width=ue.naturalWidth,$.height=ue.naturalHeight,J.drawImage(ue,0,0),Y.rr_dataURL=$.toDataURL(D.type,D.quality)}catch(e){if("anonymous"!==ue.crossOrigin)return ue.crossOrigin="anonymous",void(ue.complete&&0!==ue.naturalWidth?_recordInlineImage():ue.addEventListener("load",_recordInlineImage))}"anonymous"===ue.crossOrigin&&(le?Y.crossOrigin=le:ue.removeAttribute("crossorigin"))};ue.complete&&0!==ue.naturalWidth?_recordInlineImage():ue.addEventListener("load",_recordInlineImage)}if("audio"===H||"video"===H){var ce=Y;ce.rr_mediaState=e.paused?"paused":"played",ce.rr_mediaCurrentTime=e.currentTime,ce.rr_mediaPlaybackRate=e.playbackRate,ce.rr_mediaMuted=e.muted,ce.rr_mediaLoop=e.loop,ce.rr_mediaVolume=e.volume}W||(e.scrollLeft&&(Y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(Y.rr_scrollTop=e.scrollTop));if(K){var he=e.getBoundingClientRect(),de=he.width,fe=he.height;Y={class:Y.class,rr_width:"".concat(de,"px"),rr_height:"".concat(fe,"px")}}"iframe"!==H||B(Y.src)||(e.contentDocument||(Y.rr_src=Y.src),delete Y.src);try{customElements.get(H)&&(_=!0)}catch(pe){}return{type:M.Element,tagName:H,attributes:Y,childNodes:[],isSVG:isSVGElement(e)||void 0,needBlock:K,rootId:V,isCustom:_}}(e,{doc:_,blockClass:S,blockSelector:E,inlineStylesheet:O,maskInputOptions:R,maskInputFn:D,dataURLOptions:U,inlineImages:B,recordCanvas:z,keepIframeSrcFn:W,newlyAddedElement:K,rootId:H});case e.TEXT_NODE:return function(e,l){var _,k=l.needsMask,S=l.maskTextFn,E=l.rootId,T=q.parentNode(e),O=T&&T.tagName,I=q.textContent(e),R="STYLE"===O||void 0,j="SCRIPT"===O||void 0;if(R&&I){try{e.nextSibling||e.previousSibling||(null==(_=T.sheet)?void 0:_.cssRules)&&(I=stringifyStylesheet(T.sheet))}catch(D){}I=absolutifyURLs(I,getHref(l.doc))}j&&(I="SCRIPT_PLACEHOLDER");!R&&!j&&I&&k&&(I=S?S(I,q.parentElement(e)):I.replace(/[\S]/g,"*"));return{type:M.Text,textContent:I||"",isStyle:R,rootId:E}}(e,{doc:_,needsMask:T,maskTextFn:j,rootId:H});case e.CDATA_SECTION_NODE:return{type:M.CDATA,textContent:"",rootId:H};case e.COMMENT_NODE:return{type:M.Comment,textContent:q.textContent(e)||"",rootId:H};default:return!1}}function lowerIfExists(e){return null==e?"":e.toLowerCase()}function serializeNodeWithId(e,l){var _=l.doc,k=l.mirror,S=l.blockClass,E=l.blockSelector,T=l.maskTextClass,O=l.maskTextSelector,I=l.skipChild,R=void 0!==I&&I,j=l.inlineStylesheet,D=void 0===j||j,L=l.maskInputOptions,U=void 0===L?{}:L,B=l.maskTextFn,z=l.maskInputFn,G=l.slimDOMOptions,W=l.dataURLOptions,V=void 0===W?{}:W,K=l.inlineImages,H=void 0!==K&&K,$=l.recordCanvas,J=void 0!==$&&$,Y=l.onSerialize,X=l.onIframeLoad,Z=l.iframeLoadTimeout,Q=void 0===Z?5e3:Z,ee=l.onStylesheetLoad,te=l.stylesheetLoadTimeout,re=void 0===te?5e3:te,ne=l.keepIframeSrcFn,ie=void 0===ne?function(){return!1}:ne,ae=l.newlyAddedElement,oe=void 0!==ae&&ae,se=l.needsMask,ue=l.preserveWhiteSpace,le=void 0===ue||ue;se||(se=needMaskingText(e,T,O,void 0===se));var ce,he=serializeNode(e,{doc:_,mirror:k,blockClass:S,blockSelector:E,needsMask:se,inlineStylesheet:D,maskInputOptions:U,maskTextFn:B,maskInputFn:z,dataURLOptions:V,inlineImages:H,recordCanvas:J,keepIframeSrcFn:ie,newlyAddedElement:oe});if(!he)return null;ce=k.hasNode(e)?k.getId(e):!function(e,l){if(l.comment&&e.type===M.Comment)return!0;if(e.type===M.Element){if(l.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===extractFileExtension(e.attributes.href)))return!0;if(l.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(lowerIfExists(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===lowerIfExists(e.attributes.name)||"icon"===lowerIfExists(e.attributes.rel)||"apple-touch-icon"===lowerIfExists(e.attributes.rel)||"shortcut icon"===lowerIfExists(e.attributes.rel))))return!0;if("meta"===e.tagName){if(l.headMetaDescKeywords&&lowerIfExists(e.attributes.name).match(/^description|keywords$/))return!0;if(l.headMetaSocial&&(lowerIfExists(e.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===lowerIfExists(e.attributes.name)))return!0;if(l.headMetaRobots&&("robots"===lowerIfExists(e.attributes.name)||"googlebot"===lowerIfExists(e.attributes.name)||"bingbot"===lowerIfExists(e.attributes.name)))return!0;if(l.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(l.headMetaAuthorship&&("author"===lowerIfExists(e.attributes.name)||"generator"===lowerIfExists(e.attributes.name)||"framework"===lowerIfExists(e.attributes.name)||"publisher"===lowerIfExists(e.attributes.name)||"progid"===lowerIfExists(e.attributes.name)||lowerIfExists(e.attributes.property).match(/^article:/)||lowerIfExists(e.attributes.property).match(/^product:/)))return!0;if(l.headMetaVerification&&("google-site-verification"===lowerIfExists(e.attributes.name)||"yandex-verification"===lowerIfExists(e.attributes.name)||"csrf-token"===lowerIfExists(e.attributes.name)||"p:domain_verify"===lowerIfExists(e.attributes.name)||"verify-v1"===lowerIfExists(e.attributes.name)||"verification"===lowerIfExists(e.attributes.name)||"shopify-checkout-api-token"===lowerIfExists(e.attributes.name)))return!0}}return!1}(he,G)&&(le||he.type!==M.Text||he.isStyle||he.textContent.replace(/^\s+|\s+$/gm,"").length)?genId():-2;var de=Object.assign(he,{id:ce});if(k.add(e,de),-2===ce)return null;Y&&Y(e);var fe=!R;if(de.type===M.Element){fe=fe&&!de.needBlock,delete de.needBlock;var pe=q.shadowRoot(e);pe&&isNativeShadowDom(pe)&&(de.isShadowHost=!0)}if((de.type===M.Document||de.type===M.Element)&&fe){G.headWhitespace&&de.type===M.Element&&"head"===de.tagName&&(le=!1);var ve={doc:_,mirror:k,blockClass:S,blockSelector:E,needsMask:se,maskTextClass:T,maskTextSelector:O,skipChild:R,inlineStylesheet:D,maskInputOptions:U,maskTextFn:B,maskInputFn:z,slimDOMOptions:G,dataURLOptions:V,inlineImages:H,recordCanvas:J,preserveWhiteSpace:le,onSerialize:Y,onIframeLoad:X,iframeLoadTimeout:Q,onStylesheetLoad:ee,stylesheetLoadTimeout:re,keepIframeSrcFn:ie};if(de.type===M.Element&&"textarea"===de.tagName&&void 0!==de.attributes.value);else for(var ge=0,me=Array.from(q.childNodes(e));ge<me.length;ge++){var ye=serializeNodeWithId(me[ge],ve);ye&&de.childNodes.push(ye)}var _e=null;if(isElement(e)&&(_e=q.shadowRoot(e)))for(var be=0,ke=Array.from(q.childNodes(_e));be<ke.length;be++){var we=serializeNodeWithId(ke[be],ve);we&&(isNativeShadowDom(_e)&&(we.isShadow=!0),de.childNodes.push(we))}}var Se=q.parentNode(e);return Se&&isShadowRoot(Se)&&isNativeShadowDom(Se)&&(de.isShadow=!0),de.type===M.Element&&"iframe"===de.tagName&&function(e,l,_){var k=e.contentWindow;if(k){var S,E=!1;try{S=k.document.readyState}catch(I){return}if("complete"===S){var T="about:blank";if(k.location.href!==T||e.src===T||""===e.src)return setTimeout(l,0),e.addEventListener("load",l);e.addEventListener("load",l)}else{var O=setTimeout(function(){E||(l(),E=!0)},_);e.addEventListener("load",function(){clearTimeout(O),E=!0,l()})}}}(e,function(){var l=e.contentDocument;if(l&&X){var _=serializeNodeWithId(l,{doc:l,mirror:k,blockClass:S,blockSelector:E,needsMask:se,maskTextClass:T,maskTextSelector:O,skipChild:!1,inlineStylesheet:D,maskInputOptions:U,maskTextFn:B,maskInputFn:z,slimDOMOptions:G,dataURLOptions:V,inlineImages:H,recordCanvas:J,preserveWhiteSpace:le,onSerialize:Y,onIframeLoad:X,iframeLoadTimeout:Q,onStylesheetLoad:ee,stylesheetLoadTimeout:re,keepIframeSrcFn:ie});_&&X(e,_)}},Q),de.type===M.Element&&"link"===de.tagName&&"string"==typeof de.attributes.rel&&("stylesheet"===de.attributes.rel||"preload"===de.attributes.rel&&"string"==typeof de.attributes.href&&"css"===extractFileExtension(de.attributes.href))&&function(e,l,_){var k,S=!1;try{k=e.sheet}catch(T){return}if(!k){var E=setTimeout(function(){S||(l(),S=!0)},_);e.addEventListener("load",function(){clearTimeout(E),S=!0,l()})}}(e,function(){if(ee){var l=serializeNodeWithId(e,{doc:_,mirror:k,blockClass:S,blockSelector:E,needsMask:se,maskTextClass:T,maskTextSelector:O,skipChild:!1,inlineStylesheet:D,maskInputOptions:U,maskTextFn:B,maskInputFn:z,slimDOMOptions:G,dataURLOptions:V,inlineImages:H,recordCanvas:J,preserveWhiteSpace:le,onSerialize:Y,onIframeLoad:X,iframeLoadTimeout:Q,onStylesheetLoad:ee,stylesheetLoadTimeout:re,keepIframeSrcFn:ie});l&&ee(e,l)}},re),de}function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace$1(e){if(e.__esModule)return e;var l=e.default;if("function"==typeof l){var _=function a22(){return this instanceof a22?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};_.prototype=l.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var k=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(_,l,k.get?k:{enumerable:!0,get:function(){return e[l]}})}),_}var te={exports:{}},re=String,create$1=function(){return{isColorSupported:!1,reset:re,bold:re,dim:re,italic:re,underline:re,inverse:re,hidden:re,strikethrough:re,black:re,red:re,green:re,yellow:re,blue:re,magenta:re,cyan:re,white:re,gray:re,bgBlack:re,bgRed:re,bgGreen:re,bgYellow:re,bgBlue:re,bgMagenta:re,bgCyan:re,bgWhite:re}};te.exports=create$1(),te.exports.createColors=create$1;var ne=te.exports,ie=getAugmentedNamespace$1(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),ae=ne,oe=ie,se=function(e){function CssSyntaxError(e,l,_,k,S,E){var T;return _classCallCheck3(this,CssSyntaxError),(T=_callSuper(this,CssSyntaxError,[e])).name="CssSyntaxError",T.reason=e,S&&(T.file=S),k&&(T.source=k),E&&(T.plugin=E),void 0!==l&&void 0!==_&&("number"==typeof l?(T.line=l,T.column=_):(T.line=l.line,T.column=l.column,T.endLine=_.line,T.endColumn=_.column)),T.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(T,CssSyntaxError),T}return _inherits(CssSyntaxError,e),_createClass3(CssSyntaxError,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(e){var l=this;if(!this.source)return"";var _=this.source;null==e&&(e=ae.isColorSupported),oe&&e&&(_=oe(_));var k,S,E=_.split(/\r?\n/),T=Math.max(this.line-3,0),O=Math.min(this.line+2,E.length),I=String(O).length;if(e){var R=ae.createColors(!0),M=R.bold,j=R.gray,D=R.red;k=function(e){return M(D(e))},S=function(e){return j(e)}}else k=S=function(e){return e};return E.slice(T,O).map(function(e,_){var E=T+1+_,O=" "+(" "+E).slice(-I)+" | ";if(E===l.line){var R=S(O.replace(/\d/g," "))+e.slice(0,l.column-1).replace(/[^\t]/g," ");return k(">")+S(O)+e+"\n "+R+k("^")}return" "+S(O)+e}).join("\n")}},{key:"toString",value:function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}])}(_wrapNativeSuper(Error)),ue=se;se.default=se;var le={};le.isClean=Symbol("isClean"),le.my=Symbol("my");var ce={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};var he=function(){return _createClass3(function Stringifier(e){_classCallCheck3(this,Stringifier),this.builder=e},[{key:"atrule",value:function(e,l){var _="@"+e.name,k=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?_+=e.raws.afterName:k&&(_+=" "),e.nodes)this.block(e,_+k);else{var S=(e.raws.between||"")+(l?";":"");this.builder(_+k+S,e)}}},{key:"beforeAfter",value:function(e,l){var _;_="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===l?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var k=e.parent,S=0;k&&"root"!==k.type;)S+=1,k=k.parent;if(_.includes("\n")){var E=this.raw(e,null,"indent");if(E.length)for(var T=0;T<S;T++)_+=E}return _}},{key:"block",value:function(e,l){var _,k=this.raw(e,"between","beforeOpen");this.builder(l+k+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),_=this.raw(e,"after")):_=this.raw(e,"after","emptyBody"),_&&this.builder(_),this.builder("}",e,"end")}},{key:"body",value:function(e){for(var l=e.nodes.length-1;l>0&&"comment"===e.nodes[l].type;)l-=1;for(var _=this.raw(e,"semicolon"),k=0;k<e.nodes.length;k++){var S=e.nodes[k],E=this.raw(S,"before");E&&this.builder(E),this.stringify(S,l!==k||_)}}},{key:"comment",value:function(e){var l=this.raw(e,"left","commentLeft"),_=this.raw(e,"right","commentRight");this.builder("/*"+l+e.text+_+"*/",e)}},{key:"decl",value:function(e,l){var _=this.raw(e,"between","colon"),k=e.prop+_+this.rawValue(e,"value");e.important&&(k+=e.raws.important||" !important"),l&&(k+=";"),this.builder(k,e)}},{key:"document",value:function(e){this.body(e)}},{key:"raw",value:function(e,l,_){var k;if(_||(_=l),l&&void 0!==(k=e.raws[l]))return k;var S=e.parent;if("before"===_){if(!S||"root"===S.type&&S.first===e)return"";if(S&&"document"===S.type)return""}if(!S)return ce[_];var E=e.root();if(E.rawCache||(E.rawCache={}),void 0!==E.rawCache[_])return E.rawCache[_];if("before"===_||"after"===_)return this.beforeAfter(e,_);var T,O="raw"+((T=_)[0].toUpperCase()+T.slice(1));return this[O]?k=this[O](E,e):E.walk(function(e){if(void 0!==(k=e.raws[l]))return!1}),void 0===k&&(k=ce[_]),E.rawCache[_]=k,k}},{key:"rawBeforeClose",value:function(e){var l;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(l=e.raws.after).includes("\n")&&(l=l.replace(/[^\n]+$/,"")),!1}),l&&(l=l.replace(/\S/g,"")),l}},{key:"rawBeforeComment",value:function(e,l){var _;return e.walkComments(function(e){if(void 0!==e.raws.before)return(_=e.raws.before).includes("\n")&&(_=_.replace(/[^\n]+$/,"")),!1}),void 0===_?_=this.raw(l,null,"beforeDecl"):_&&(_=_.replace(/\S/g,"")),_}},{key:"rawBeforeDecl",value:function(e,l){var _;return e.walkDecls(function(e){if(void 0!==e.raws.before)return(_=e.raws.before).includes("\n")&&(_=_.replace(/[^\n]+$/,"")),!1}),void 0===_?_=this.raw(l,null,"beforeRule"):_&&(_=_.replace(/\S/g,"")),_}},{key:"rawBeforeOpen",value:function(e){var l;return e.walk(function(e){if("decl"!==e.type&&void 0!==(l=e.raws.between))return!1}),l}},{key:"rawBeforeRule",value:function(e){var l;return e.walk(function(_){if(_.nodes&&(_.parent!==e||e.first!==_)&&void 0!==_.raws.before)return(l=_.raws.before).includes("\n")&&(l=l.replace(/[^\n]+$/,"")),!1}),l&&(l=l.replace(/\S/g,"")),l}},{key:"rawColon",value:function(e){var l;return e.walkDecls(function(e){if(void 0!==e.raws.between)return l=e.raws.between.replace(/[^\s:]/g,""),!1}),l}},{key:"rawEmptyBody",value:function(e){var l;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(l=e.raws.after))return!1}),l}},{key:"rawIndent",value:function(e){return e.raws.indent?e.raws.indent:(e.walk(function(_){var k=_.parent;if(k&&k!==e&&k.parent&&k.parent===e&&void 0!==_.raws.before){var S=_.raws.before.split("\n");return l=(l=S[S.length-1]).replace(/\S/g,""),!1}}),l);var l}},{key:"rawSemicolon",value:function(e){var l;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(l=e.raws.semicolon))return!1}),l}},{key:"rawValue",value:function(e,l){var _=e[l],k=e.raws[l];return k&&k.value===_?k.raw:_}},{key:"root",value:function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}},{key:"rule",value:function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}},{key:"stringify",value:function(e,l){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,l)}}])}(),de=he;he.default=he;var fe=de;function stringify$4$1(e,l){new fe(l).stringify(e)}var pe=stringify$4$1;stringify$4$1.default=stringify$4$1;var ve=le.isClean,ge=le.my,me=ue,ye=de,_e=pe;function cloneNode$1(e,l){var _=new e.constructor;for(var k in e)if(Object.prototype.hasOwnProperty.call(e,k)&&"proxyCache"!==k){var S=e[k],E=_typeof3(S);"parent"===k&&"object"===E?l&&(_[k]=l):"source"===k?_[k]=S:Array.isArray(S)?_[k]=S.map(function(e){return cloneNode$1(e,_)}):("object"===E&&null!==S&&(S=cloneNode$1(S)),_[k]=S)}return _}var be=function(){return _createClass3(function Node2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var l in _classCallCheck3(this,Node2),this.raws={},this[ve]=!1,this[ge]=!0,e)if("nodes"===l){this.nodes=[];var _,k=_createForOfIteratorHelper2(e[l]);try{for(k.s();!(_=k.n()).done;){var S=_.value;"function"==typeof S.clone?this.append(S.clone()):this.append(S)}}catch(E){k.e(E)}finally{k.f()}}else this[l]=e[l]},[{key:"addToError",value:function(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var l=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(l.input.from,":").concat(l.start.line,":").concat(l.start.column,"$&"))}return e}},{key:"after",value:function(e){return this.parent.insertAfter(this,e),this}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var l in e)this[l]=e[l];return this}},{key:"before",value:function(e){return this.parent.insertBefore(this,e),this}},{key:"cleanRaws",value:function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=cloneNode$1(this);for(var _ in e)l[_]=e[_];return l}},{key:"cloneAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.clone(e);return this.parent.insertAfter(this,l),l}},{key:"cloneBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.clone(e);return this.parent.insertBefore(this,l),l}},{key:"error",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var _=this.rangeBy(l),k=_.end,S=_.start;return this.source.input.error(e,{column:S.column,line:S.line},{column:k.column,line:k.line},l)}return new me(e)}},{key:"getProxyProcessor",value:function(){return{get:function(e,l){return"proxyOf"===l?e:"root"===l?function(){return e.root().toProxy()}:e[l]},set:function(e,l,_){return e[l]===_||(e[l]=_,"prop"!==l&&"value"!==l&&"name"!==l&&"params"!==l&&"important"!==l&&"text"!==l||e.markDirty()),!0}}}},{key:"markDirty",value:function(){if(this[ve]){this[ve]=!1;for(var e=this;e=e.parent;)e[ve]=!1}}},{key:"next",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}},{key:"positionBy",value:function(e,l){var _=this.source.start;if(e.index)_=this.positionInside(e.index,l);else if(e.word){var k=(l=this.toString()).indexOf(e.word);-1!==k&&(_=this.positionInside(k,l))}return _}},{key:"positionInside",value:function(e,l){for(var _=l||this.toString(),k=this.source.start.column,S=this.source.start.line,E=0;E<e;E++)"\n"===_[E]?(k=1,S+=1):k+=1;return{column:k,line:S}}},{key:"prev",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}},{key:"rangeBy",value:function(e){var l={column:this.source.start.column,line:this.source.start.line},_=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:l.column+1,line:l.line};if(e.word){var k=this.toString(),S=k.indexOf(e.word);-1!==S&&(l=this.positionInside(S,k),_=this.positionInside(S+e.word.length,k))}else e.start?l={column:e.start.column,line:e.start.line}:e.index&&(l=this.positionInside(e.index)),e.end?_={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?_=this.positionInside(e.endIndex):e.index&&(_=this.positionInside(e.index+1));return(_.line<l.line||_.line===l.line&&_.column<=l.column)&&(_={column:l.column+1,line:l.line}),{end:_,start:l}}},{key:"raw",value:function(e,l){return(new ye).raw(this,e,l)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){if(this.parent){for(var e=this,l=!1,_=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];for(var E=0,T=k;E<T.length;E++){var O=T[E];O===this?l=!0:l?(this.parent.insertAfter(e,O),e=O):this.parent.insertBefore(e,O)}l||this.remove()}return this}},{key:"root",value:function(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}},{key:"toJSON",value:function(e,l){var _={},k=null==l;l=l||new Map;var S=0;for(var E in this)if(Object.prototype.hasOwnProperty.call(this,E)&&"parent"!==E&&"proxyCache"!==E){var T=this[E];if(Array.isArray(T))_[E]=T.map(function(e){return"object"===_typeof3(e)&&e.toJSON?e.toJSON(null,l):e});else if("object"===_typeof3(T)&&T.toJSON)_[E]=T.toJSON(null,l);else if("source"===E){var O=l.get(T.input);null==O&&(O=S,l.set(T.input,S),S++),_[E]={end:T.end,inputId:O,start:T.start}}else _[E]=T}return k&&(_.inputs=_toConsumableArray3(l.keys()).map(function(e){return e.toJSON()})),_}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;e.stringify&&(e=e.stringify);var l="";return e(this,function(e){l+=e}),l}},{key:"warn",value:function(e,l,_){var k={node:this};for(var S in _)k[S]=_[S];return e.warn(l,k)}},{key:"proxyOf",get:function(){return this}}])}(),ke=be;be.default=be;var we=function(e){function Declaration(e){var l;return _classCallCheck3(this,Declaration),e&&void 0!==e.value&&"string"!=typeof e.value&&(e=_objectSpread2(_objectSpread2({},e),{},{value:String(e.value)})),(l=_callSuper(this,Declaration,[e])).type="decl",l}return _inherits(Declaration,e),_createClass3(Declaration,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(ke),Se=we;we.default=we;var nonSecure$1_nanoid=function(){for(var e="",l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;l--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},Ce=ie.SourceMapConsumer,Ee=ie.SourceMapGenerator,Te=ie.existsSync,Ae=ie.readFileSync,xe=ie.dirname,Oe=ie.join;var Ie=function(){return _createClass3(function PreviousMap(e,l){if(_classCallCheck3(this,PreviousMap),!1!==l.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var _=l.map?l.map.prev:void 0,k=this.loadMap(l.from,_);!this.mapFile&&l.from&&(this.mapFile=l.from),this.mapFile&&(this.root=xe(this.mapFile)),k&&(this.text=k)}},[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new Ce(this.text)),this.consumerCache}},{key:"decodeInline",value:function(e){var l;if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return l=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(l,"base64").toString():window.atob(l);var _=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+_)}},{key:"getAnnotationURL",value:function(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(e){return"object"===_typeof3(e)&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}},{key:"loadAnnotation",value:function(e){var l=e.match(/\/\*\s*# sourceMappingURL=/gm);if(l){var _=e.lastIndexOf(l.pop()),k=e.indexOf("*/",_);_>-1&&k>-1&&(this.annotation=this.getAnnotationURL(e.substring(_,k)))}}},{key:"loadFile",value:function(e){if(this.root=xe(e),Te(e))return this.mapFile=e,Ae(e,"utf-8").toString().trim()}},{key:"loadMap",value:function(e,l){if(!1===l)return!1;if(l){if("string"==typeof l)return l;if("function"!=typeof l){if(l instanceof Ce)return Ee.fromSourceMap(l).toString();if(l instanceof Ee)return l.toString();if(this.isMap(l))return JSON.stringify(l);throw new Error("Unsupported previous source map format: "+l.toString())}var _=l(e);if(_){var k=this.loadFile(_);if(!k)throw new Error("Unable to load previous source map: "+_.toString());return k}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var S=this.annotation;return e&&(S=Oe(xe(e),S)),this.loadFile(S)}}}},{key:"startWith",value:function(e,l){return!!e&&e.substr(0,l.length)===l}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}])}(),Re=Ie;Ie.default=Ie;var Pe=ie.SourceMapConsumer,Me=ie.SourceMapGenerator,je=ie.fileURLToPath,De=ie.pathToFileURL,Fe=ie.isAbsolute,Le=ie.resolve,Ne=nonSecure$1_nanoid,Ue=ie,Be=ue,qe=Re,ze=Symbol("fromOffsetCache"),Ge=Boolean(Pe&&Me),We=Boolean(Le&&Fe),Ve=function(){return _createClass3(function Input(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck3(this,Input),null==e||"object"===_typeof3(e)&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,l.from&&(!We||/^\w+:\/\//.test(l.from)||Fe(l.from)?this.file=l.from:this.file=Le(l.from)),We&&Ge){var _=new qe(this.css,l);if(_.text){this.map=_;var k=_.consumer().file;!this.file&&k&&(this.file=this.mapResolve(k))}}this.file||(this.id="<input css "+Ne(6)+">"),this.map&&(this.map.file=this.from)},[{key:"error",value:function(e,l,_){var k,S,E,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(l&&"object"===_typeof3(l)){var O=l,I=_;if("number"==typeof O.offset){var R=this.fromOffset(O.offset);l=R.line,_=R.col}else l=O.line,_=O.column;if("number"==typeof I.offset){var M=this.fromOffset(I.offset);S=M.line,E=M.col}else S=I.line,E=I.column}else if(!_){var j=this.fromOffset(l);l=j.line,_=j.col}var D=this.origin(l,_,S,E);return(k=D?new Be(e,void 0===D.endLine?D.line:{column:D.column,line:D.line},void 0===D.endLine?D.column:{column:D.endColumn,line:D.endLine},D.source,D.file,T.plugin):new Be(e,void 0===S?l:{column:_,line:l},void 0===S?_:{column:E,line:S},this.css,this.file,T.plugin)).input={column:_,endColumn:E,endLine:S,line:l,source:this.css},this.file&&(De&&(k.input.url=De(this.file).toString()),k.input.file=this.file),k}},{key:"fromOffset",value:function(e){var l;if(this[ze])l=this[ze];else{var _=this.css.split("\n");l=new Array(_.length);for(var k=0,S=0,E=_.length;S<E;S++)l[S]=k,k+=_[S].length+1;this[ze]=l}var T=0;if(e>=l[l.length-1])T=l.length-1;else for(var O,I=l.length-2;T<I;)if(e<l[O=T+(I-T>>1)])I=O-1;else{if(!(e>=l[O+1])){T=O;break}T=O+1}return{col:e-l[T]+1,line:T+1}}},{key:"mapResolve",value:function(e){return/^\w+:\/\//.test(e)?e:Le(this.map.consumer().sourceRoot||this.map.root||".",e)}},{key:"origin",value:function(e,l,_,k){if(!this.map)return!1;var S,E,T=this.map.consumer(),O=T.originalPositionFor({column:l,line:e});if(!O.source)return!1;"number"==typeof _&&(S=T.originalPositionFor({column:k,line:_})),E=Fe(O.source)?De(O.source):new URL(O.source,this.map.consumer().sourceRoot||De(this.map.mapFile));var I={column:O.column,endColumn:S&&S.column,endLine:S&&S.line,line:O.line,url:E.toString()};if("file:"===E.protocol){if(!je)throw new Error("file: protocol is not available in this PostCSS build");I.file=je(E)}var R=T.sourceContentFor(O.source);return R&&(I.source=R),I}},{key:"toJSON",value:function(){for(var e={},l=0,_=["hasBOM","css","file","id"];l<_.length;l++){var k=_[l];null!=this[k]&&(e[k]=this[k])}return this.map&&(e.map=_objectSpread2({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}},{key:"from",get:function(){return this.file||this.id}}])}(),Ke=Ve;Ve.default=Ve,Ue&&Ue.registerInput&&Ue.registerInput(Ve);var He=ie.SourceMapConsumer,$e=ie.SourceMapGenerator,Je=ie.dirname,Ye=ie.relative,Xe=ie.resolve,Ze=ie.sep,Qe=ie.pathToFileURL,et=Ke,tt=Boolean(He&&$e),rt=Boolean(Je&&Xe&&Ye&&Ze),nt=function(){return _createClass3(function MapGenerator(e,l,_,k){_classCallCheck3(this,MapGenerator),this.stringify=e,this.mapOpts=_.map||{},this.root=l,this.opts=_,this.css=k,this.originalCSS=k,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map},[{key:"addAnnotation",value:function(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var l="\n";this.css.includes("\r\n")&&(l="\r\n"),this.css+=l+"/*# sourceMappingURL="+e+" */"}},{key:"applyPrevMaps",value:function(){var e,l=_createForOfIteratorHelper2(this.previous());try{for(l.s();!(e=l.n()).done;){var _=e.value,k=this.toUrl(this.path(_.file)),S=_.root||Je(_.file),E=void 0;!1===this.mapOpts.sourcesContent?(E=new He(_.text)).sourcesContent&&(E.sourcesContent=null):E=_.consumer(),this.map.applySourceMap(E,k,this.toUrl(this.path(S)))}}catch(T){l.e(T)}finally{l.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,l=this.root.nodes.length-1;l>=0;l--)"comment"===(e=this.root.nodes[l]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(l);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),rt&&tt&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(l){e+=l}),[e]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=$e.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new $e({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var e=this;this.css="",this.map=new $e({file:this.outputFile(),ignoreInvalidMapping:!0});var l,_,k=1,S=1,E="<no source>",T={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,function(O,I,R){if(e.css+=O,I&&"end"!==R&&(T.generated.line=k,T.generated.column=S-1,I.source&&I.source.start?(T.source=e.sourcePath(I),T.original.line=I.source.start.line,T.original.column=I.source.start.column-1,e.map.addMapping(T)):(T.source=E,T.original.line=1,T.original.column=0,e.map.addMapping(T))),(l=O.match(/\n/g))?(k+=l.length,_=O.lastIndexOf("\n"),S=O.length-_):S+=O.length,I&&"start"!==R){var M=I.parent||{raws:{}};("decl"===I.type||"atrule"===I.type&&!I.nodes)&&I===M.last&&!M.raws.semicolon||(I.source&&I.source.end?(T.source=e.sourcePath(I),T.original.line=I.source.end.line,T.original.column=I.source.end.column-1,T.generated.line=k,T.generated.column=S-2,e.map.addMapping(T)):(T.source=E,T.original.line=1,T.original.column=0,T.generated.line=k,T.generated.column=S-1,e.map.addMapping(T)))}})}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;var l=this.memoizedPaths.get(e);if(l)return l;var _=this.opts.to?Je(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(_=Je(Xe(_,this.mapOpts.annotation)));var k=Ye(_,e);return this.memoizedPaths.set(e,k),k}},{key:"previous",value:function(){var e=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(l){if(l.source&&l.source.input.map){var _=l.source.input.map;e.previousMaps.includes(_)||e.previousMaps.push(_)}});else{var l=new et(this.originalCSS,this.opts);l.map&&this.previousMaps.push(l.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var e=this,l={};if(this.root)this.root.walk(function(_){if(_.source){var k=_.source.input.from;if(k&&!l[k]){l[k]=!0;var S=e.usesFileUrls?e.toFileUrl(k):e.toUrl(e.path(k));e.map.setSourceContent(S,_.source.input.css)}}});else if(this.css){var _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}},{key:"sourcePath",value:function(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}},{key:"toBase64",value:function(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}},{key:"toFileUrl",value:function(e){var l=this.memoizedFileURLs.get(e);if(l)return l;if(Qe){var _=Qe(e).toString();return this.memoizedFileURLs.set(e,_),_}throw new Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(e){var l=this.memoizedURLs.get(e);if(l)return l;"\\"===Ze&&(e=e.replace(/\\/g,"/"));var _=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,_),_}}])}(),it=function(e){function Comment(e){var l;return _classCallCheck3(this,Comment),(l=_callSuper(this,Comment,[e])).type="comment",l}return _inherits(Comment,e),_createClass3(Comment)}(ke),at=it;it.default=it;var ot,st,ut,lt,ct=le.isClean,ht=le.my,dt=Se,ft=at;function cleanSource$1(e){return e.map(function(e){return e.nodes&&(e.nodes=cleanSource$1(e.nodes)),delete e.source,e})}function markDirtyUp$1(e){if(e[ct]=!1,e.proxyOf.nodes){var l,_=_createForOfIteratorHelper2(e.proxyOf.nodes);try{for(_.s();!(l=_.n()).done;){markDirtyUp$1(l.value)}}catch(k){_.e(k)}finally{_.f()}}}var pt=function(e){function Container(){return _classCallCheck3(this,Container),_callSuper(this,Container,arguments)}return _inherits(Container,e),_createClass3(Container,[{key:"append",value:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];for(var k=0,S=l;k<S.length;k++){var E,T=S[k],O=_createForOfIteratorHelper2(this.normalize(T,this.last));try{for(O.s();!(E=O.n()).done;){var I=E.value;this.proxyOf.nodes.push(I)}}catch(R){O.e(R)}finally{O.f()}}return this.markDirty(),this}},{key:"cleanRaws",value:function(e){if(_superPropGet(Container,"cleanRaws",this,3)([e]),this.nodes){var l,_=_createForOfIteratorHelper2(this.nodes);try{for(_.s();!(l=_.n()).done;){l.value.cleanRaws(e)}}catch(k){_.e(k)}finally{_.f()}}}},{key:"each",value:function(e){if(this.proxyOf.nodes){for(var l,_,k=this.getIterator();this.indexes[k]<this.proxyOf.nodes.length&&(l=this.indexes[k],!1!==(_=e(this.proxyOf.nodes[l],l)));)this.indexes[k]+=1;return delete this.indexes[k],_}}},{key:"every",value:function(e){return this.nodes.every(e)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}},{key:"getProxyProcessor",value:function(){return{get:function(e,l){return"proxyOf"===l?e:e[l]?"each"===l||"string"==typeof l&&l.startsWith("walk")?function(){for(var _=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];return e[l].apply(e,_toConsumableArray3(k.map(function(e){return"function"==typeof e?function(l,_){return e(l.toProxy(),_)}:e})))}:"every"===l||"some"===l?function(_){return e[l](function(e){for(var l=arguments.length,k=new Array(l>1?l-1:0),S=1;S<l;S++)k[S-1]=arguments[S];return _.apply(void 0,[e.toProxy()].concat(k))})}:"root"===l?function(){return e.root().toProxy()}:"nodes"===l?e.nodes.map(function(e){return e.toProxy()}):"first"===l||"last"===l?e[l].toProxy():e[l]:e[l]},set:function(e,l,_){return e[l]===_||(e[l]=_,"name"!==l&&"params"!==l&&"selector"!==l||e.markDirty()),!0}}}},{key:"index",value:function(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}},{key:"insertAfter",value:function(e,l){var _=this.index(e),k=this.normalize(l,this.proxyOf.nodes[_]).reverse();_=this.index(e);var S,E,T=_createForOfIteratorHelper2(k);try{for(T.s();!(S=T.n()).done;){var O=S.value;this.proxyOf.nodes.splice(_+1,0,O)}}catch(R){T.e(R)}finally{T.f()}for(var I in this.indexes)_<(E=this.indexes[I])&&(this.indexes[I]=E+k.length);return this.markDirty(),this}},{key:"insertBefore",value:function(e,l){var _=this.index(e),k=0===_&&"prepend",S=this.normalize(l,this.proxyOf.nodes[_],k).reverse();_=this.index(e);var E,T,O=_createForOfIteratorHelper2(S);try{for(O.s();!(E=O.n()).done;){var I=E.value;this.proxyOf.nodes.splice(_,0,I)}}catch(M){O.e(M)}finally{O.f()}for(var R in this.indexes)_<=(T=this.indexes[R])&&(this.indexes[R]=T+S.length);return this.markDirty(),this}},{key:"normalize",value:function(e,l){var _=this;if("string"==typeof e)e=cleanSource$1(ot(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){var k,S=_createForOfIteratorHelper2(e=e.slice(0));try{for(S.s();!(k=S.n()).done;){var E=k.value;E.parent&&E.parent.removeChild(E,"ignore")}}catch(M){S.e(M)}finally{S.f()}}else if("root"===e.type&&"document"!==this.type){var T,O=_createForOfIteratorHelper2(e=e.nodes.slice(0));try{for(O.s();!(T=O.n()).done;){var I=T.value;I.parent&&I.parent.removeChild(I,"ignore")}}catch(M){O.e(M)}finally{O.f()}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new dt(e)]}else if(e.selector)e=[new st(e)];else if(e.name)e=[new ut(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new ft(e)]}var R=e.map(function(e){return e[ht]||Container.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[ct]&&markDirtyUp$1(e),void 0===e.raws.before&&l&&void 0!==l.raws.before&&(e.raws.before=l.raws.before.replace(/\S/g,"")),e.parent=_.proxyOf,e});return R}},{key:"prepend",value:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];var k,S=_createForOfIteratorHelper2(l=l.reverse());try{for(S.s();!(k=S.n()).done;){var E,T=k.value,O=this.normalize(T,this.first,"prepend").reverse(),I=_createForOfIteratorHelper2(O);try{for(I.s();!(E=I.n()).done;){var R=E.value;this.proxyOf.nodes.unshift(R)}}catch(j){I.e(j)}finally{I.f()}for(var M in this.indexes)this.indexes[M]=this.indexes[M]+O.length}}catch(j){S.e(j)}finally{S.f()}return this.markDirty(),this}},{key:"push",value:function(e){return e.parent=this,this.proxyOf.nodes.push(e),this}},{key:"removeAll",value:function(){var e,l=_createForOfIteratorHelper2(this.proxyOf.nodes);try{for(l.s();!(e=l.n()).done;){e.value.parent=void 0}}catch(_){l.e(_)}finally{l.f()}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(e){var l;for(var _ in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(l=this.indexes[_])>=e&&(this.indexes[_]=l-1);return this.markDirty(),this}},{key:"replaceValues",value:function(e,l,_){return _||(_=l,l={}),this.walkDecls(function(k){l.props&&!l.props.includes(k.prop)||l.fast&&!k.value.includes(l.fast)||(k.value=k.value.replace(e,_))}),this.markDirty(),this}},{key:"some",value:function(e){return this.nodes.some(e)}},{key:"walk",value:function(e){return this.each(function(l,_){var k;try{k=e(l,_)}catch(S){throw l.addToError(S)}return!1!==k&&l.walk&&(k=l.walk(e)),k})}},{key:"walkAtRules",value:function(e,l){return l?e instanceof RegExp?this.walk(function(_,k){if("atrule"===_.type&&e.test(_.name))return l(_,k)}):this.walk(function(_,k){if("atrule"===_.type&&_.name===e)return l(_,k)}):(l=e,this.walk(function(e,_){if("atrule"===e.type)return l(e,_)}))}},{key:"walkComments",value:function(e){return this.walk(function(l,_){if("comment"===l.type)return e(l,_)})}},{key:"walkDecls",value:function(e,l){return l?e instanceof RegExp?this.walk(function(_,k){if("decl"===_.type&&e.test(_.prop))return l(_,k)}):this.walk(function(_,k){if("decl"===_.type&&_.prop===e)return l(_,k)}):(l=e,this.walk(function(e,_){if("decl"===e.type)return l(e,_)}))}},{key:"walkRules",value:function(e,l){return l?e instanceof RegExp?this.walk(function(_,k){if("rule"===_.type&&e.test(_.selector))return l(_,k)}):this.walk(function(_,k){if("rule"===_.type&&_.selector===e)return l(_,k)}):(l=e,this.walk(function(e,_){if("rule"===e.type)return l(e,_)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(ke);pt.registerParse=function(e){ot=e},pt.registerRule=function(e){st=e},pt.registerAtRule=function(e){ut=e},pt.registerRoot=function(e){lt=e};var vt=pt;pt.default=pt,pt.rebuild=function(e){"atrule"===e.type?Object.setPrototypeOf(e,ut.prototype):"rule"===e.type?Object.setPrototypeOf(e,st.prototype):"decl"===e.type?Object.setPrototypeOf(e,dt.prototype):"comment"===e.type?Object.setPrototypeOf(e,ft.prototype):"root"===e.type&&Object.setPrototypeOf(e,lt.prototype),e[ht]=!0,e.nodes&&e.nodes.forEach(function(e){pt.rebuild(e)})};var gt,mt,yt=function(e){function Document2(e){var l;return _classCallCheck3(this,Document2),(l=_callSuper(this,Document2,[_objectSpread2({type:"document"},e)])).nodes||(l.nodes=[]),l}return _inherits(Document2,e),_createClass3(Document2,[{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new gt(new mt,this,e).stringify()}}])}(vt);yt.registerLazyResult=function(e){gt=e},yt.registerProcessor=function(e){mt=e};var _t=yt;yt.default=yt;var bt=function(){return _createClass3(function Warning(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck3(this,Warning),this.type="warning",this.text=e,l.node&&l.node.source){var _=l.node.rangeBy(l);this.line=_.start.line,this.column=_.start.column,this.endLine=_.end.line,this.endColumn=_.end.column}for(var k in l)this[k]=l[k]},[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}(),kt=bt;bt.default=bt;var wt=kt,St=function(){return _createClass3(function Result(e,l,_){_classCallCheck3(this,Result),this.processor=e,this.messages=[],this.root=l,this.opts=_,this.css=void 0,this.map=void 0},[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(l.plugin=this.lastPlugin.postcssPlugin);var _=new wt(e,l);return this.messages.push(_),_}},{key:"warnings",value:function(){return this.messages.filter(function(e){return"warning"===e.type})}},{key:"content",get:function(){return this.css}}])}(),Ct=St;St.default=St;var Et="'".charCodeAt(0),Tt='"'.charCodeAt(0),At="\\".charCodeAt(0),xt="/".charCodeAt(0),Ot="\n".charCodeAt(0),It=" ".charCodeAt(0),Rt="\f".charCodeAt(0),Pt="\t".charCodeAt(0),Mt="\r".charCodeAt(0),jt="[".charCodeAt(0),Dt="]".charCodeAt(0),Ft="(".charCodeAt(0),Lt=")".charCodeAt(0),Nt="{".charCodeAt(0),Ut="}".charCodeAt(0),Bt=";".charCodeAt(0),qt="*".charCodeAt(0),zt=":".charCodeAt(0),Gt="@".charCodeAt(0),Wt=/[\t\n\f\r "#'()/;[\\\]{}]/g,Vt=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Kt=/.[\r\n"'(/\\]/,Ht=/[\da-f]/i,$t=vt,Jt=function(e){function AtRule(e){var l;return _classCallCheck3(this,AtRule),(l=_callSuper(this,AtRule,[e])).type="atrule",l}return _inherits(AtRule,e),_createClass3(AtRule,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return _superPropGet(AtRule,"append",this,3)(l)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return _superPropGet(AtRule,"prepend",this,3)(l)}}])}($t),Yt=Jt;Jt.default=Jt,$t.registerAtRule(Jt);var Xt,Zt,Qt=vt,er=function(e){function Root(e){var l;return _classCallCheck3(this,Root),(l=_callSuper(this,Root,[e])).type="root",l.nodes||(l.nodes=[]),l}return _inherits(Root,e),_createClass3(Root,[{key:"normalize",value:function(e,l,_){var k=_superPropGet(Root,"normalize",this,3)([e]);if(l)if("prepend"===_)this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l){var S,E=_createForOfIteratorHelper2(k);try{for(E.s();!(S=E.n()).done;){S.value.raws.before=l.raws.before}}catch(T){E.e(T)}finally{E.f()}}return k}},{key:"removeChild",value:function(e,l){var _=this.index(e);return!l&&0===_&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[_].raws.before),_superPropGet(Root,"removeChild",this,3)([e])}},{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Xt(new Zt,this,e).stringify()}}])}(Qt);er.registerLazyResult=function(e){Xt=e},er.registerProcessor=function(e){Zt=e};var tr=er;er.default=er,Qt.registerRoot(er);var rr={comma:function(e){return rr.split(e,[","],!0)},space:function(e){return rr.split(e,[" ","\n","\t"])},split:function(e,l,_){var k,S=[],E="",T=!1,O=0,I=!1,R="",M=!1,j=_createForOfIteratorHelper2(e);try{for(j.s();!(k=j.n()).done;){var D=k.value;M?M=!1:"\\"===D?M=!0:I?D===R&&(I=!1):'"'===D||"'"===D?(I=!0,R=D):"("===D?O+=1:")"===D?O>0&&(O-=1):0===O&&l.includes(D)&&(T=!0),T?(""!==E&&S.push(E.trim()),E="",T=!1):E+=D}}catch(L){j.e(L)}finally{j.f()}return(_||""!==E)&&S.push(E.trim()),S}},nr=rr;rr.default=rr;var ir=vt,ar=nr,or=function(e){function Rule(e){var l;return _classCallCheck3(this,Rule),(l=_callSuper(this,Rule,[e])).type="rule",l.nodes||(l.nodes=[]),l}return _inherits(Rule,e),_createClass3(Rule,[{key:"selectors",get:function(){return ar.comma(this.selector)},set:function(e){var l=this.selector?this.selector.match(/,\s*/):null,_=l?l[0]:","+this.raw("between","beforeOpen");this.selector=e.join(_)}}])}(ir),sr=or;or.default=or,ir.registerRule(or);var ur=Se,tokenizer2$1=function(e){var l,_,k,S,E,T,O,I,R,M,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=e.css.valueOf(),L=j.ignoreErrors,U=D.length,B=0,q=[],z=[];function unclosed(l){throw e.error("Unclosed "+l,B)}return{back:function(e){z.push(e)},endOfFile:function(){return 0===z.length&&B>=U},nextToken:function(e){if(z.length)return z.pop();if(!(B>=U)){var j=!!e&&e.ignoreUnclosed;switch(l=D.charCodeAt(B)){case Ot:case It:case Pt:case Mt:case Rt:_=B;do{_+=1,l=D.charCodeAt(_)}while(l===It||l===Ot||l===Pt||l===Mt||l===Rt);M=["space",D.slice(B,_)],B=_-1;break;case jt:case Dt:case Nt:case Ut:case zt:case Bt:case Lt:var G=String.fromCharCode(l);M=[G,G,B];break;case Ft:if(I=q.length?q.pop()[1]:"",R=D.charCodeAt(B+1),"url"===I&&R!==Et&&R!==Tt&&R!==It&&R!==Ot&&R!==Pt&&R!==Rt&&R!==Mt){_=B;do{if(T=!1,-1===(_=D.indexOf(")",_+1))){if(L||j){_=B;break}unclosed("bracket")}for(O=_;D.charCodeAt(O-1)===At;)O-=1,T=!T}while(T);M=["brackets",D.slice(B,_+1),B,_],B=_}else _=D.indexOf(")",B+1),S=D.slice(B,_+1),-1===_||Kt.test(S)?M=["(","(",B]:(M=["brackets",S,B,_],B=_);break;case Et:case Tt:k=l===Et?"'":'"',_=B;do{if(T=!1,-1===(_=D.indexOf(k,_+1))){if(L||j){_=B+1;break}unclosed("string")}for(O=_;D.charCodeAt(O-1)===At;)O-=1,T=!T}while(T);M=["string",D.slice(B,_+1),B,_],B=_;break;case Gt:Wt.lastIndex=B+1,Wt.test(D),_=0===Wt.lastIndex?D.length-1:Wt.lastIndex-2,M=["at-word",D.slice(B,_+1),B,_],B=_;break;case At:for(_=B,E=!0;D.charCodeAt(_+1)===At;)_+=1,E=!E;if(l=D.charCodeAt(_+1),E&&l!==xt&&l!==It&&l!==Ot&&l!==Pt&&l!==Mt&&l!==Rt&&(_+=1,Ht.test(D.charAt(_)))){for(;Ht.test(D.charAt(_+1));)_+=1;D.charCodeAt(_+1)===It&&(_+=1)}M=["word",D.slice(B,_+1),B,_],B=_;break;default:l===xt&&D.charCodeAt(B+1)===qt?(0===(_=D.indexOf("*/",B+2)+1)&&(L||j?_=D.length:unclosed("comment")),M=["comment",D.slice(B,_+1),B,_],B=_):(Vt.lastIndex=B+1,Vt.test(D),_=0===Vt.lastIndex?D.length-1:Vt.lastIndex-2,M=["word",D.slice(B,_+1),B,_],q.push(M),B=_)}return B++,M}},position:function(){return B}}},lr=at,cr=Yt,hr=tr,dr=sr,fr={empty:!0,space:!0};var pr=function(){return _createClass3(function Parser(e){_classCallCheck3(this,Parser),this.input=e,this.root=new hr,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}},[{key:"atrule",value:function(e){var l,_,k,S=new cr;S.name=e[1].slice(1),""===S.name&&this.unnamedAtrule(S,e),this.init(S,e[2]);for(var E=!1,T=!1,O=[],I=[];!this.tokenizer.endOfFile();){if("("===(l=(e=this.tokenizer.nextToken())[0])||"["===l?I.push("("===l?")":"]"):"{"===l&&I.length>0?I.push("}"):l===I[I.length-1]&&I.pop(),0===I.length){if(";"===l){S.source.end=this.getPosition(e[2]),S.source.end.offset++,this.semicolon=!0;break}if("{"===l){T=!0;break}if("}"===l){if(O.length>0){for(_=O[k=O.length-1];_&&"space"===_[0];)_=O[--k];_&&(S.source.end=this.getPosition(_[3]||_[2]),S.source.end.offset++)}this.end(e);break}O.push(e)}else O.push(e);if(this.tokenizer.endOfFile()){E=!0;break}}S.raws.between=this.spacesAndCommentsFromEnd(O),O.length?(S.raws.afterName=this.spacesAndCommentsFromStart(O),this.raw(S,"params",O),E&&(e=O[O.length-1],S.source.end=this.getPosition(e[3]||e[2]),S.source.end.offset++,this.spaces=S.raws.between,S.raws.between="")):(S.raws.afterName="",S.params=""),T&&(S.nodes=[],this.current=S)}},{key:"checkMissedSemicolon",value:function(e){var l=this.colon(e);if(!1!==l){for(var _,k=0,S=l-1;S>=0&&("space"===(_=e[S])[0]||2!==(k+=1));S--);throw this.input.error("Missed semicolon","word"===_[0]?_[3]+1:_[2])}}},{key:"colon",value:function(e){var l,_,k,S,E=0,T=_createForOfIteratorHelper2(e.entries());try{for(T.s();!(S=T.n()).done;){var O=_slicedToArray(S.value,2),I=O[0];if("("===(_=(l=O[1])[0])&&(E+=1),")"===_&&(E-=1),0===E&&":"===_){if(k){if("word"===k[0]&&"progid"===k[1])continue;return I}this.doubleColon(l)}k=l}}catch(R){T.e(R)}finally{T.f()}return!1}},{key:"comment",value:function(e){var l=new lr;this.init(l,e[2]),l.source.end=this.getPosition(e[3]||e[2]),l.source.end.offset++;var _=e[1].slice(2,-2);if(/^\s*$/.test(_))l.text="",l.raws.left=_,l.raws.right="";else{var k=_.match(/^(\s*)([^]*\S)(\s*)$/);l.text=k[2],l.raws.left=k[1],l.raws.right=k[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=tokenizer2$1(this.input)}},{key:"decl",value:function(e,l){var _=new ur;this.init(_,e[0][2]);var k,S=e[e.length-1];for(";"===S[0]&&(this.semicolon=!0,e.pop()),_.source.end=this.getPosition(S[3]||S[2]||function(e){for(var l=e.length-1;l>=0;l--){var _=e[l],k=_[3]||_[2];if(k)return k}}(e)),_.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),_.raws.before+=e.shift()[1];for(_.source.start=this.getPosition(e[0][2]),_.prop="";e.length;){var E=e[0][0];if(":"===E||"space"===E||"comment"===E)break;_.prop+=e.shift()[1]}for(_.raws.between="";e.length;){if(":"===(k=e.shift())[0]){_.raws.between+=k[1];break}"word"===k[0]&&/\w/.test(k[1])&&this.unknownWord([k]),_.raws.between+=k[1]}"_"!==_.prop[0]&&"*"!==_.prop[0]||(_.raws.before+=_.prop[0],_.prop=_.prop.slice(1));for(var T,O=[];e.length&&("space"===(T=e[0][0])||"comment"===T);)O.push(e.shift());this.precheckMissedSemicolon(e);for(var I=e.length-1;I>=0;I--){if("!important"===(k=e[I])[1].toLowerCase()){_.important=!0;var R=this.stringFrom(e,I);" !important"!==(R=this.spacesFromEnd(e)+R)&&(_.raws.important=R);break}if("important"===k[1].toLowerCase()){for(var M=e.slice(0),j="",D=I;D>0;D--){var L=M[D][0];if(0===j.trim().indexOf("!")&&"space"!==L)break;j=M.pop()[1]+j}0===j.trim().indexOf("!")&&(_.important=!0,_.raws.important=j,e=M)}if("space"!==k[0]&&"comment"!==k[0])break}var U=e.some(function(e){return"space"!==e[0]&&"comment"!==e[0]});U&&(_.raws.between+=O.map(function(e){return e[1]}).join(""),O=[]),this.raw(_,"value",O.concat(e),l),_.value.includes(":")&&!l&&this.checkMissedSemicolon(e)}},{key:"doubleColon",value:function(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}},{key:"emptyRule",value:function(e){var l=new dr;this.init(l,e[2]),l.selector="",l.raws.between="",this.current=l}},{key:"end",value:function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(e){if(this.spaces+=e[1],this.current.nodes){var l=this.current.nodes[this.current.nodes.length-1];l&&"rule"===l.type&&!l.raws.ownSemicolon&&(l.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(e){var l=this.input.fromOffset(e);return{column:l.col,line:l.line,offset:e}}},{key:"init",value:function(e,l){this.current.push(e),e.source={input:this.input,start:this.getPosition(l)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}},{key:"other",value:function(e){for(var l=!1,_=null,k=!1,S=null,E=[],T=e[1].startsWith("--"),O=[],I=e;I;){if(_=I[0],O.push(I),"("===_||"["===_)S||(S=I),E.push("("===_?")":"]");else if(T&&k&&"{"===_)S||(S=I),E.push("}");else if(0===E.length){if(";"===_){if(k)return void this.decl(O,T);break}if("{"===_)return void this.rule(O);if("}"===_){this.tokenizer.back(O.pop()),l=!0;break}":"===_&&(k=!0)}else _===E[E.length-1]&&(E.pop(),0===E.length&&(S=null));I=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(l=!0),E.length>0&&this.unclosedBracket(S),l&&k){if(!T)for(;O.length&&("space"===(I=O[O.length-1][0])||"comment"===I);)this.tokenizer.back(O.pop());this.decl(O,T)}else this.unknownWord(O)}},{key:"parse",value:function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(e,l,_,k){for(var S,E,T,O,I=_.length,R="",M=!0,j=0;j<I;j+=1)"space"!==(E=(S=_[j])[0])||j!==I-1||k?"comment"===E?(O=_[j-1]?_[j-1][0]:"empty",T=_[j+1]?_[j+1][0]:"empty",fr[O]||fr[T]||","===R.slice(-1)?M=!1:R+=S[1]):R+=S[1]:M=!1;if(!M){var D=_.reduce(function(e,l){return e+l[1]},"");e.raws[l]={raw:D,value:R}}e[l]=R}},{key:"rule",value:function(e){e.pop();var l=new dr;this.init(l,e[0][2]),l.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(l,"selector",e),this.current=l}},{key:"spacesAndCommentsFromEnd",value:function(e){for(var l,_="";e.length&&("space"===(l=e[e.length-1][0])||"comment"===l);)_=e.pop()[1]+_;return _}},{key:"spacesAndCommentsFromStart",value:function(e){for(var l,_="";e.length&&("space"===(l=e[0][0])||"comment"===l);)_+=e.shift()[1];return _}},{key:"spacesFromEnd",value:function(e){for(var l="";e.length&&"space"===e[e.length-1][0];)l=e.pop()[1]+l;return l}},{key:"stringFrom",value:function(e,l){for(var _="",k=l;k<e.length;k++)_+=e[k][1];return e.splice(l,e.length-l),_}},{key:"unclosedBlock",value:function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}},{key:"unclosedBracket",value:function(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}},{key:"unexpectedClose",value:function(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}},{key:"unknownWord",value:function(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}},{key:"unnamedAtrule",value:function(e,l){throw this.input.error("At-rule without name",{offset:l[2]},{offset:l[2]+l[1].length})}}])}(),vr=vt,gr=pr,mr=Ke;function parse$3$1(e,l){var _=new mr(e,l),k=new gr(_);try{k.parse()}catch(S){throw S}return k.root}var yr=parse$3$1;parse$3$1.default=parse$3$1,vr.registerParse(parse$3$1);var _r=le.isClean,br=le.my,kr=nt,wr=pe,Sr=vt,Cr=_t,Er=Ct,Tr=yr,Ar=tr,xr={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Or={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Ir={Once:!0,postcssPlugin:!0,prepare:!0};function isPromise$1(e){return"object"===_typeof3(e)&&"function"==typeof e.then}function getEvents$1(e){var l=!1,_=xr[e.type];return"decl"===e.type?l=e.prop.toLowerCase():"atrule"===e.type&&(l=e.name.toLowerCase()),l&&e.append?[_,_+"-"+l,0,_+"Exit",_+"Exit-"+l]:l?[_,_+"-"+l,_+"Exit",_+"Exit-"+l]:e.append?[_,0,_+"Exit"]:[_,_+"Exit"]}function toStack$1(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:getEvents$1(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function cleanMarks$1(e){return e[_r]=!1,e.nodes&&e.nodes.forEach(function(e){return cleanMarks$1(e)}),e}var Rr={},Pr=function(){return _createClass3(function LazyResult(e,l,_){var k,S=this;if(_classCallCheck3(this,LazyResult),this.stringified=!1,this.processed=!1,"object"!==_typeof3(l)||null===l||"root"!==l.type&&"document"!==l.type)if(l instanceof LazyResult||l instanceof Er)k=cleanMarks$1(l.root),l.map&&(void 0===_.map&&(_.map={}),_.map.inline||(_.map.inline=!1),_.map.prev=l.map);else{var E=Tr;_.syntax&&(E=_.syntax.parse),_.parser&&(E=_.parser),E.parse&&(E=E.parse);try{k=E(l,_)}catch(T){this.processed=!0,this.error=T}k&&!k[br]&&Sr.rebuild(k)}else k=cleanMarks$1(l);this.result=new Er(e,k,_),this.helpers=_objectSpread2(_objectSpread2({},Rr),{},{postcss:Rr,result:this.result}),this.plugins=this.processor.plugins.map(function(e){return"object"===_typeof3(e)&&e.prepare?_objectSpread2(_objectSpread2({},e),e.prepare(S.result)):e})},[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"getAsyncError",value:function(){throw new Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(e,l){var _=this.result.lastPlugin;try{l&&l.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?_.postcssVersion:(e.plugin=_.postcssPlugin,e.setMessage())}catch(k){console&&console.error}return e}},{key:"prepareVisitors",value:function(){var e=this;this.listeners={};var l,add=function(l,_,k){e.listeners[_]||(e.listeners[_]=[]),e.listeners[_].push([l,k])},_=_createForOfIteratorHelper2(this.plugins);try{for(_.s();!(l=_.n()).done;){var k=l.value;if("object"===_typeof3(k))for(var S in k){if(!Or[S]&&/^[A-Z]/.test(S))throw new Error("Unknown event ".concat(S," in ").concat(k.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Ir[S])if("object"===_typeof3(k[S]))for(var E in k[S])add(k,"*"===E?S:S+"-"+E.toLowerCase(),k[S][E]);else"function"==typeof k[S]&&add(k,S,k[S])}}}catch(T){_.e(T)}finally{_.f()}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:(e=_asyncToGenerator(_regenerator().m(function _callee23(){var e,l,_,k,S,E,T,O,I,R,M,j,D,L=this;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:this.plugin=0,e=0;case 1:if(!(e<this.plugins.length)){U.n=6;break}if(l=this.plugins[e],!isPromise$1(_=this.runOnRoot(l))){U.n=5;break}return U.p=2,U.n=3,_;case 3:U.n=5;break;case 4:throw U.p=4,M=U.v,this.handleError(M);case 5:e++,U.n=1;break;case 6:if(this.prepareVisitors(),!this.hasListener){U.n=21;break}k=this.result.root;case 7:if(k[_r]){U.n=14;break}k[_r]=!0,S=[toStack$1(k)];case 8:if(!(S.length>0)){U.n=13;break}if(!isPromise$1(E=this.visitTick(S))){U.n=12;break}return U.p=9,U.n=10,E;case 10:U.n=12;break;case 11:throw U.p=11,j=U.v,T=S[S.length-1].node,this.handleError(j,T);case 12:U.n=8;break;case 13:U.n=7;break;case 14:if(!this.listeners.OnceExit){U.n=21;break}O=_createForOfIteratorHelper2(this.listeners.OnceExit),U.p=15,R=_regenerator().m(function _loop(){var e,l,_,S,E;return _regenerator().w(function(T){for(;;)switch(T.p=T.n){case 0:if(e=_slicedToArray(I.value,2),l=e[0],_=e[1],L.result.lastPlugin=l,T.p=1,"document"!==k.type){T.n=3;break}return S=k.nodes.map(function(e){return _(e,L.helpers)}),T.n=2,Promise.all(S);case 2:T.n=4;break;case 3:return T.n=4,_(k,L.helpers);case 4:T.n=6;break;case 5:throw T.p=5,E=T.v,L.handleError(E);case 6:return T.a(2)}},_loop,null,[[1,5]])}),O.s();case 16:if((I=O.n()).done){U.n=18;break}return U.d(_regeneratorValues(R()),17);case 17:U.n=16;break;case 18:U.n=20;break;case 19:U.p=19,D=U.v,O.e(D);case 20:return U.p=20,O.f(),U.f(20);case 21:return this.processed=!0,U.a(2,this.stringify())}},_callee23,this,[[15,19,20,21],[9,11],[2,4]])})),function(){return e.apply(this,arguments)})},{key:"runOnRoot",value:function(e){var l=this;this.result.lastPlugin=e;try{if("object"===_typeof3(e)&&e.Once){if("document"===this.result.root.type){var _=this.result.root.nodes.map(function(_){return e.Once(_,l.helpers)});return isPromise$1(_[0])?Promise.all(_):_}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(k){throw this.handleError(k)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,l=wr;e.syntax&&(l=e.syntax.stringify),e.stringifier&&(l=e.stringifier),l.stringify&&(l=l.stringify);var _=new kr(l,this.result.root,this.result.opts).generate();return this.result.css=_[0],this.result.map=_[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var e,l=_createForOfIteratorHelper2(this.plugins);try{for(l.s();!(e=l.n()).done;){var _=e.value;if(isPromise$1(this.runOnRoot(_)))throw this.getAsyncError()}}catch(O){l.e(O)}finally{l.f()}if(this.prepareVisitors(),this.hasListener){for(var k=this.result.root;!k[_r];)k[_r]=!0,this.walkSync(k);if(this.listeners.OnceExit)if("document"===k.type){var S,E=_createForOfIteratorHelper2(k.nodes);try{for(E.s();!(S=E.n()).done;){var T=S.value;this.visitSync(this.listeners.OnceExit,T)}}catch(O){E.e(O)}finally{E.f()}}else this.visitSync(this.listeners.OnceExit,k)}return this.result}},{key:"then",value:function(e,l){return this.async().then(e,l)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(e,l){var _,k=_createForOfIteratorHelper2(e);try{for(k.s();!(_=k.n()).done;){var S=_slicedToArray(_.value,2),E=S[0],T=S[1];this.result.lastPlugin=E;var O=void 0;try{O=T(l,this.helpers)}catch(I){throw this.handleError(I,l.proxyOf)}if("root"!==l.type&&"document"!==l.type&&!l.parent)return!0;if(isPromise$1(O))throw this.getAsyncError()}}catch(R){k.e(R)}finally{k.f()}}},{key:"visitTick",value:function(e){var l=e[e.length-1],_=l.node,k=l.visitors;if("root"===_.type||"document"===_.type||_.parent){if(k.length>0&&l.visitorIndex<k.length){var S=_slicedToArray(k[l.visitorIndex],2),E=S[0],T=S[1];l.visitorIndex+=1,l.visitorIndex===k.length&&(l.visitors=[],l.visitorIndex=0),this.result.lastPlugin=E;try{return T(_.toProxy(),this.helpers)}catch(j){throw this.handleError(j,_)}}if(0!==l.iterator){for(var O,I=l.iterator;O=_.nodes[_.indexes[I]];)if(_.indexes[I]+=1,!O[_r])return O[_r]=!0,void e.push(toStack$1(O));l.iterator=0,delete _.indexes[I]}for(var R=l.events;l.eventIndex<R.length;){var M=R[l.eventIndex];if(l.eventIndex+=1,0===M)return void(_.nodes&&_.nodes.length&&(_[_r]=!0,l.iterator=_.getIterator()));if(this.listeners[M])return void(l.visitors=this.listeners[M])}e.pop()}else e.pop()}},{key:"walkSync",value:function(e){var l=this;e[_r]=!0;var _,k=_createForOfIteratorHelper2(getEvents$1(e));try{for(k.s();!(_=k.n()).done;){var S=_.value;if(0===S)e.nodes&&e.each(function(e){e[_r]||l.walkSync(e)});else{var E=this.listeners[S];if(E&&this.visitSync(E,e.toProxy()))return}}}catch(T){k.e(T)}finally{k.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]);var e}();Pr.registerPostcss=function(e){Rr=e};var Mr=Pr;Pr.default=Pr,Ar.registerLazyResult(Pr),Cr.registerLazyResult(Pr);var jr=nt,Dr=pe,Fr=yr,Lr=Ct,Nr=function(){return _createClass3(function NoWorkResult(e,l,_){var k;_classCallCheck3(this,NoWorkResult),l=l.toString(),this.stringified=!1,this._processor=e,this._css=l,this._opts=_,this._map=void 0;var S=Dr;this.result=new Lr(this._processor,k,this._opts),this.result.css=l;var E=this;Object.defineProperty(this.result,"root",{get:function(){return E.root}});var T=new jr(S,k,this._opts,l);if(T.isMap()){var O=_slicedToArray(T.generate(),2),I=O[0],R=O[1];I&&(this.result.css=I),R&&(this.result.map=R)}else T.clearAnnotation(),this.result.css=T.css},[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(e,l){return this.async().then(e,l)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var e,l=Fr;try{e=l(this._css,this._opts)}catch(_){this.error=_}if(this.error)throw this.error;return this._root=e,e}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}(),Ur=Nr;Nr.default=Nr;var Br=Ur,qr=Mr,zr=_t,Gr=tr,Wr=function(){return _createClass3(function Processor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck3(this,Processor),this.version="8.4.38",this.plugins=this.normalize(e)},[{key:"normalize",value:function(e){var l,_=[],k=_createForOfIteratorHelper2(e);try{for(k.s();!(l=k.n()).done;){var S=l.value;if(!0===S.postcss?S=S():S.postcss&&(S=S.postcss),"object"===_typeof3(S)&&Array.isArray(S.plugins))_=_.concat(S.plugins);else if("object"===_typeof3(S)&&S.postcssPlugin)_.push(S);else if("function"==typeof S)_.push(S);else if("object"!==_typeof3(S)||!S.parse&&!S.stringify)throw new Error(S+" is not a PostCSS plugin")}}catch(E){k.e(E)}finally{k.f()}return _}},{key:"process",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||l.parser||l.stringifier||l.syntax?new qr(this,e,l):new Br(this,e,l)}},{key:"use",value:function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}])}(),Vr=Wr;Wr.default=Wr,Gr.registerProcessor(Wr),zr.registerProcessor(Wr);var Kr=Se,Hr=Re,$r=at,Jr=Yt,Yr=Ke,Xr=tr,Zr=sr;function fromJSON$1$1(_,k){if(Array.isArray(_))return _.map(function(e){return fromJSON$1$1(e)});var S=_.inputs,E=_objectWithoutProperties3(_,e);if(S){k=[];var T,O=_createForOfIteratorHelper2(S);try{for(O.s();!(T=O.n()).done;){var I=_objectSpread2(_objectSpread2({},T.value),{},{__proto__:Yr.prototype});I.map&&(I.map=_objectSpread2(_objectSpread2({},I.map),{},{__proto__:Hr.prototype})),k.push(I)}}catch(D){O.e(D)}finally{O.f()}}if(E.nodes&&(E.nodes=_.nodes.map(function(e){return fromJSON$1$1(e,k)})),E.source){var R=E.source,M=R.inputId,j=_objectWithoutProperties3(R,l);E.source=j,null!=M&&(E.source.input=k[M])}if("root"===E.type)return new Xr(E);if("decl"===E.type)return new Kr(E);if("rule"===E.type)return new Zr(E);if("comment"===E.type)return new $r(E);if("atrule"===E.type)return new Jr(E);throw new Error("Unknown node type: "+_.type)}var Qr=fromJSON$1$1;fromJSON$1$1.default=fromJSON$1$1;var en=ue,tn=Se,rn=Mr,nn=vt,an=Vr,sn=pe,un=Qr,ln=_t,cn=kt,hn=at,dn=Yt,fn=Ct,pn=Ke,vn=yr,gn=nr,mn=sr,yn=tr,_n=ke;function postcss$3(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return 1===l.length&&Array.isArray(l[0])&&(l=l[0]),new an(l)}postcss$3.plugin=function(e,l){var _,k=!1;function creator(){console&&console.warn&&!k&&(k=!0,T.LANG&&T.LANG.startsWith("cn"));var _=l.apply(void 0,arguments);return _.postcssPlugin=e,_.postcssVersion=(new an).version,_}return Object.defineProperty(creator,"postcss",{get:function(){return _||(_=creator()),_}}),creator.process=function(e,l,_){return postcss$3([creator(_)]).process(e,l)},creator},postcss$3.stringify=sn,postcss$3.parse=vn,postcss$3.fromJSON=un,postcss$3.list=gn,postcss$3.comment=function(e){return new hn(e)},postcss$3.atRule=function(e){return new dn(e)},postcss$3.decl=function(e){return new tn(e)},postcss$3.rule=function(e){return new mn(e)},postcss$3.root=function(e){return new yn(e)},postcss$3.document=function(e){return new ln(e)},postcss$3.CssSyntaxError=en,postcss$3.Declaration=tn,postcss$3.Container=nn,postcss$3.Processor=an,postcss$3.Document=ln,postcss$3.Comment=hn,postcss$3.Warning=cn,postcss$3.AtRule=dn,postcss$3.Result=fn,postcss$3.Input=pn,postcss$3.Rule=mn,postcss$3.Root=yn,postcss$3.Node=_n,rn.registerPostcss(postcss$3);var bn=postcss$3;postcss$3.default=postcss$3;var kn=getDefaultExportFromCjs$1(bn);kn.stringify,kn.fromJSON,kn.plugin,kn.parse,kn.list,kn.document,kn.comment,kn.atRule,kn.rule,kn.decl,kn.root,kn.CssSyntaxError,kn.Declaration,kn.Container,kn.Processor,kn.Document,kn.Comment,kn.Warning,kn.AtRule,kn.Result,kn.Input,kn.Rule,kn.Root,kn.Node;var wn=Object.defineProperty,__publicField2=function(e,l,_){return function(e,l,_){return l in e?wn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:_}):e[l]=_}(e,"symbol"!==_typeof3(l)?l+"":l,_)};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var l=e.default;if("function"==typeof l){var _=function a22(){return this instanceof a22?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};_.prototype=l.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var k=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(_,l,k.get?k:{enumerable:!0,get:function(){return e[l]}})}),_}var Sn={exports:{}},Cn=String,create=function(){return{isColorSupported:!1,reset:Cn,bold:Cn,dim:Cn,italic:Cn,underline:Cn,inverse:Cn,hidden:Cn,strikethrough:Cn,black:Cn,red:Cn,green:Cn,yellow:Cn,blue:Cn,magenta:Cn,cyan:Cn,white:Cn,gray:Cn,bgBlack:Cn,bgRed:Cn,bgGreen:Cn,bgYellow:Cn,bgBlue:Cn,bgMagenta:Cn,bgCyan:Cn,bgWhite:Cn}};Sn.exports=create(),Sn.exports.createColors=create;var En=Sn.exports,Tn=getAugmentedNamespace(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),An=En,xn=Tn,On=function(e){function CssSyntaxError2(e,l,_,k,S,E){var T;return _classCallCheck3(this,CssSyntaxError2),(T=_callSuper(this,CssSyntaxError2,[e])).name="CssSyntaxError",T.reason=e,S&&(T.file=S),k&&(T.source=k),E&&(T.plugin=E),void 0!==l&&void 0!==_&&("number"==typeof l?(T.line=l,T.column=_):(T.line=l.line,T.column=l.column,T.endLine=_.line,T.endColumn=_.column)),T.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(T,CssSyntaxError2),T}return _inherits(CssSyntaxError2,e),_createClass3(CssSyntaxError2,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(e){var l=this;if(!this.source)return"";var _=this.source;null==e&&(e=An.isColorSupported),xn&&e&&(_=xn(_));var k,S,E=_.split(/\r?\n/),T=Math.max(this.line-3,0),O=Math.min(this.line+2,E.length),I=String(O).length;if(e){var R=An.createColors(!0),M=R.bold,j=R.gray,D=R.red;k=function(e){return M(D(e))},S=function(e){return j(e)}}else k=S=function(e){return e};return E.slice(T,O).map(function(e,_){var E=T+1+_,O=" "+(" "+E).slice(-I)+" | ";if(E===l.line){var R=S(O.replace(/\d/g," "))+e.slice(0,l.column-1).replace(/[^\t]/g," ");return k(">")+S(O)+e+"\n "+R+k("^")}return" "+S(O)+e}).join("\n")}},{key:"toString",value:function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}])}(_wrapNativeSuper(Error)),In=On;On.default=On;var Rn={};Rn.isClean=Symbol("isClean"),Rn.my=Symbol("my");var Pn={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};var Mn=function(){return _createClass3(function Stringifier2(e){_classCallCheck3(this,Stringifier2),this.builder=e},[{key:"atrule",value:function(e,l){var _="@"+e.name,k=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?_+=e.raws.afterName:k&&(_+=" "),e.nodes)this.block(e,_+k);else{var S=(e.raws.between||"")+(l?";":"");this.builder(_+k+S,e)}}},{key:"beforeAfter",value:function(e,l){var _;_="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===l?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var k=e.parent,S=0;k&&"root"!==k.type;)S+=1,k=k.parent;if(_.includes("\n")){var E=this.raw(e,null,"indent");if(E.length)for(var T=0;T<S;T++)_+=E}return _}},{key:"block",value:function(e,l){var _,k=this.raw(e,"between","beforeOpen");this.builder(l+k+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),_=this.raw(e,"after")):_=this.raw(e,"after","emptyBody"),_&&this.builder(_),this.builder("}",e,"end")}},{key:"body",value:function(e){for(var l=e.nodes.length-1;l>0&&"comment"===e.nodes[l].type;)l-=1;for(var _=this.raw(e,"semicolon"),k=0;k<e.nodes.length;k++){var S=e.nodes[k],E=this.raw(S,"before");E&&this.builder(E),this.stringify(S,l!==k||_)}}},{key:"comment",value:function(e){var l=this.raw(e,"left","commentLeft"),_=this.raw(e,"right","commentRight");this.builder("/*"+l+e.text+_+"*/",e)}},{key:"decl",value:function(e,l){var _=this.raw(e,"between","colon"),k=e.prop+_+this.rawValue(e,"value");e.important&&(k+=e.raws.important||" !important"),l&&(k+=";"),this.builder(k,e)}},{key:"document",value:function(e){this.body(e)}},{key:"raw",value:function(e,l,_){var k;if(_||(_=l),l&&void 0!==(k=e.raws[l]))return k;var S=e.parent;if("before"===_){if(!S||"root"===S.type&&S.first===e)return"";if(S&&"document"===S.type)return""}if(!S)return Pn[_];var E=e.root();if(E.rawCache||(E.rawCache={}),void 0!==E.rawCache[_])return E.rawCache[_];if("before"===_||"after"===_)return this.beforeAfter(e,_);var T,O="raw"+((T=_)[0].toUpperCase()+T.slice(1));return this[O]?k=this[O](E,e):E.walk(function(e){if(void 0!==(k=e.raws[l]))return!1}),void 0===k&&(k=Pn[_]),E.rawCache[_]=k,k}},{key:"rawBeforeClose",value:function(e){var l;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(l=e.raws.after).includes("\n")&&(l=l.replace(/[^\n]+$/,"")),!1}),l&&(l=l.replace(/\S/g,"")),l}},{key:"rawBeforeComment",value:function(e,l){var _;return e.walkComments(function(e){if(void 0!==e.raws.before)return(_=e.raws.before).includes("\n")&&(_=_.replace(/[^\n]+$/,"")),!1}),void 0===_?_=this.raw(l,null,"beforeDecl"):_&&(_=_.replace(/\S/g,"")),_}},{key:"rawBeforeDecl",value:function(e,l){var _;return e.walkDecls(function(e){if(void 0!==e.raws.before)return(_=e.raws.before).includes("\n")&&(_=_.replace(/[^\n]+$/,"")),!1}),void 0===_?_=this.raw(l,null,"beforeRule"):_&&(_=_.replace(/\S/g,"")),_}},{key:"rawBeforeOpen",value:function(e){var l;return e.walk(function(e){if("decl"!==e.type&&void 0!==(l=e.raws.between))return!1}),l}},{key:"rawBeforeRule",value:function(e){var l;return e.walk(function(_){if(_.nodes&&(_.parent!==e||e.first!==_)&&void 0!==_.raws.before)return(l=_.raws.before).includes("\n")&&(l=l.replace(/[^\n]+$/,"")),!1}),l&&(l=l.replace(/\S/g,"")),l}},{key:"rawColon",value:function(e){var l;return e.walkDecls(function(e){if(void 0!==e.raws.between)return l=e.raws.between.replace(/[^\s:]/g,""),!1}),l}},{key:"rawEmptyBody",value:function(e){var l;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(l=e.raws.after))return!1}),l}},{key:"rawIndent",value:function(e){return e.raws.indent?e.raws.indent:(e.walk(function(_){var k=_.parent;if(k&&k!==e&&k.parent&&k.parent===e&&void 0!==_.raws.before){var S=_.raws.before.split("\n");return l=(l=S[S.length-1]).replace(/\S/g,""),!1}}),l);var l}},{key:"rawSemicolon",value:function(e){var l;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(l=e.raws.semicolon))return!1}),l}},{key:"rawValue",value:function(e,l){var _=e[l],k=e.raws[l];return k&&k.value===_?k.raw:_}},{key:"root",value:function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}},{key:"rule",value:function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}},{key:"stringify",value:function(e,l){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,l)}}])}(),jn=Mn;Mn.default=Mn;var Dn=jn;function stringify$4(e,l){new Dn(l).stringify(e)}var Fn=stringify$4;stringify$4.default=stringify$4;var Ln=Rn.isClean,Nn=Rn.my,Un=In,Bn=jn,qn=Fn;function cloneNode(e,l){var _=new e.constructor;for(var k in e)if(Object.prototype.hasOwnProperty.call(e,k)&&"proxyCache"!==k){var S=e[k],E=_typeof3(S);"parent"===k&&"object"===E?l&&(_[k]=l):"source"===k?_[k]=S:Array.isArray(S)?_[k]=S.map(function(e){return cloneNode(e,_)}):("object"===E&&null!==S&&(S=cloneNode(S)),_[k]=S)}return _}var zn=function(){return _createClass3(function Node3(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var l in _classCallCheck3(this,Node3),this.raws={},this[Ln]=!1,this[Nn]=!0,e)if("nodes"===l){this.nodes=[];var _,k=_createForOfIteratorHelper2(e[l]);try{for(k.s();!(_=k.n()).done;){var S=_.value;"function"==typeof S.clone?this.append(S.clone()):this.append(S)}}catch(E){k.e(E)}finally{k.f()}}else this[l]=e[l]},[{key:"addToError",value:function(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var l=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(l.input.from,":").concat(l.start.line,":").concat(l.start.column,"$&"))}return e}},{key:"after",value:function(e){return this.parent.insertAfter(this,e),this}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var l in e)this[l]=e[l];return this}},{key:"before",value:function(e){return this.parent.insertBefore(this,e),this}},{key:"cleanRaws",value:function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=cloneNode(this);for(var _ in e)l[_]=e[_];return l}},{key:"cloneAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.clone(e);return this.parent.insertAfter(this,l),l}},{key:"cloneBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.clone(e);return this.parent.insertBefore(this,l),l}},{key:"error",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var _=this.rangeBy(l),k=_.end,S=_.start;return this.source.input.error(e,{column:S.column,line:S.line},{column:k.column,line:k.line},l)}return new Un(e)}},{key:"getProxyProcessor",value:function(){return{get:function(e,l){return"proxyOf"===l?e:"root"===l?function(){return e.root().toProxy()}:e[l]},set:function(e,l,_){return e[l]===_||(e[l]=_,"prop"!==l&&"value"!==l&&"name"!==l&&"params"!==l&&"important"!==l&&"text"!==l||e.markDirty()),!0}}}},{key:"markDirty",value:function(){if(this[Ln]){this[Ln]=!1;for(var e=this;e=e.parent;)e[Ln]=!1}}},{key:"next",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}},{key:"positionBy",value:function(e,l){var _=this.source.start;if(e.index)_=this.positionInside(e.index,l);else if(e.word){var k=(l=this.toString()).indexOf(e.word);-1!==k&&(_=this.positionInside(k,l))}return _}},{key:"positionInside",value:function(e,l){for(var _=l||this.toString(),k=this.source.start.column,S=this.source.start.line,E=0;E<e;E++)"\n"===_[E]?(k=1,S+=1):k+=1;return{column:k,line:S}}},{key:"prev",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}},{key:"rangeBy",value:function(e){var l={column:this.source.start.column,line:this.source.start.line},_=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:l.column+1,line:l.line};if(e.word){var k=this.toString(),S=k.indexOf(e.word);-1!==S&&(l=this.positionInside(S,k),_=this.positionInside(S+e.word.length,k))}else e.start?l={column:e.start.column,line:e.start.line}:e.index&&(l=this.positionInside(e.index)),e.end?_={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?_=this.positionInside(e.endIndex):e.index&&(_=this.positionInside(e.index+1));return(_.line<l.line||_.line===l.line&&_.column<=l.column)&&(_={column:l.column+1,line:l.line}),{end:_,start:l}}},{key:"raw",value:function(e,l){return(new Bn).raw(this,e,l)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){if(this.parent){for(var e=this,l=!1,_=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];for(var E=0,T=k;E<T.length;E++){var O=T[E];O===this?l=!0:l?(this.parent.insertAfter(e,O),e=O):this.parent.insertBefore(e,O)}l||this.remove()}return this}},{key:"root",value:function(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}},{key:"toJSON",value:function(e,l){var _={},k=null==l;l=l||new Map;var S=0;for(var E in this)if(Object.prototype.hasOwnProperty.call(this,E)&&"parent"!==E&&"proxyCache"!==E){var T=this[E];if(Array.isArray(T))_[E]=T.map(function(e){return"object"===_typeof3(e)&&e.toJSON?e.toJSON(null,l):e});else if("object"===_typeof3(T)&&T.toJSON)_[E]=T.toJSON(null,l);else if("source"===E){var O=l.get(T.input);null==O&&(O=S,l.set(T.input,S),S++),_[E]={end:T.end,inputId:O,start:T.start}}else _[E]=T}return k&&(_.inputs=_toConsumableArray3(l.keys()).map(function(e){return e.toJSON()})),_}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;e.stringify&&(e=e.stringify);var l="";return e(this,function(e){l+=e}),l}},{key:"warn",value:function(e,l,_){var k={node:this};for(var S in _)k[S]=_[S];return e.warn(l,k)}},{key:"proxyOf",get:function(){return this}}])}(),Gn=zn;zn.default=zn;var Wn=function(e){function Declaration2(e){var l;return _classCallCheck3(this,Declaration2),e&&void 0!==e.value&&"string"!=typeof e.value&&(e=_objectSpread2(_objectSpread2({},e),{},{value:String(e.value)})),(l=_callSuper(this,Declaration2,[e])).type="decl",l}return _inherits(Declaration2,e),_createClass3(Declaration2,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Gn),Vn=Wn;Wn.default=Wn;var nonSecure_nanoid=function(){for(var e="",l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;l--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},Kn=Tn.SourceMapConsumer,Hn=Tn.SourceMapGenerator,$n=Tn.existsSync,Jn=Tn.readFileSync,Yn=Tn.dirname,Xn=Tn.join;var Zn=function(){return _createClass3(function PreviousMap2(e,l){if(_classCallCheck3(this,PreviousMap2),!1!==l.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var _=l.map?l.map.prev:void 0,k=this.loadMap(l.from,_);!this.mapFile&&l.from&&(this.mapFile=l.from),this.mapFile&&(this.root=Yn(this.mapFile)),k&&(this.text=k)}},[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new Kn(this.text)),this.consumerCache}},{key:"decodeInline",value:function(e){var l;if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return l=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(l,"base64").toString():window.atob(l);var _=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+_)}},{key:"getAnnotationURL",value:function(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(e){return"object"===_typeof3(e)&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}},{key:"loadAnnotation",value:function(e){var l=e.match(/\/\*\s*# sourceMappingURL=/gm);if(l){var _=e.lastIndexOf(l.pop()),k=e.indexOf("*/",_);_>-1&&k>-1&&(this.annotation=this.getAnnotationURL(e.substring(_,k)))}}},{key:"loadFile",value:function(e){if(this.root=Yn(e),$n(e))return this.mapFile=e,Jn(e,"utf-8").toString().trim()}},{key:"loadMap",value:function(e,l){if(!1===l)return!1;if(l){if("string"==typeof l)return l;if("function"!=typeof l){if(l instanceof Kn)return Hn.fromSourceMap(l).toString();if(l instanceof Hn)return l.toString();if(this.isMap(l))return JSON.stringify(l);throw new Error("Unsupported previous source map format: "+l.toString())}var _=l(e);if(_){var k=this.loadFile(_);if(!k)throw new Error("Unable to load previous source map: "+_.toString());return k}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var S=this.annotation;return e&&(S=Xn(Yn(e),S)),this.loadFile(S)}}}},{key:"startWith",value:function(e,l){return!!e&&e.substr(0,l.length)===l}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}])}(),Qn=Zn;Zn.default=Zn;var ei=Tn.SourceMapConsumer,ti=Tn.SourceMapGenerator,ri=Tn.fileURLToPath,ni=Tn.pathToFileURL,ii=Tn.isAbsolute,ai=Tn.resolve,oi=nonSecure_nanoid,si=Tn,ui=In,li=Qn,ci=Symbol("fromOffsetCache"),hi=Boolean(ei&&ti),di=Boolean(ai&&ii),fi=function(){return _createClass3(function Input2(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck3(this,Input2),null==e||"object"===_typeof3(e)&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,l.from&&(!di||/^\w+:\/\//.test(l.from)||ii(l.from)?this.file=l.from:this.file=ai(l.from)),di&&hi){var _=new li(this.css,l);if(_.text){this.map=_;var k=_.consumer().file;!this.file&&k&&(this.file=this.mapResolve(k))}}this.file||(this.id="<input css "+oi(6)+">"),this.map&&(this.map.file=this.from)},[{key:"error",value:function(e,l,_){var k,S,E,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(l&&"object"===_typeof3(l)){var O=l,I=_;if("number"==typeof O.offset){var R=this.fromOffset(O.offset);l=R.line,_=R.col}else l=O.line,_=O.column;if("number"==typeof I.offset){var M=this.fromOffset(I.offset);S=M.line,E=M.col}else S=I.line,E=I.column}else if(!_){var j=this.fromOffset(l);l=j.line,_=j.col}var D=this.origin(l,_,S,E);return(k=D?new ui(e,void 0===D.endLine?D.line:{column:D.column,line:D.line},void 0===D.endLine?D.column:{column:D.endColumn,line:D.endLine},D.source,D.file,T.plugin):new ui(e,void 0===S?l:{column:_,line:l},void 0===S?_:{column:E,line:S},this.css,this.file,T.plugin)).input={column:_,endColumn:E,endLine:S,line:l,source:this.css},this.file&&(ni&&(k.input.url=ni(this.file).toString()),k.input.file=this.file),k}},{key:"fromOffset",value:function(e){var l;if(this[ci])l=this[ci];else{var _=this.css.split("\n");l=new Array(_.length);for(var k=0,S=0,E=_.length;S<E;S++)l[S]=k,k+=_[S].length+1;this[ci]=l}var T=0;if(e>=l[l.length-1])T=l.length-1;else for(var O,I=l.length-2;T<I;)if(e<l[O=T+(I-T>>1)])I=O-1;else{if(!(e>=l[O+1])){T=O;break}T=O+1}return{col:e-l[T]+1,line:T+1}}},{key:"mapResolve",value:function(e){return/^\w+:\/\//.test(e)?e:ai(this.map.consumer().sourceRoot||this.map.root||".",e)}},{key:"origin",value:function(e,l,_,k){if(!this.map)return!1;var S,E,T=this.map.consumer(),O=T.originalPositionFor({column:l,line:e});if(!O.source)return!1;"number"==typeof _&&(S=T.originalPositionFor({column:k,line:_})),E=ii(O.source)?ni(O.source):new URL(O.source,this.map.consumer().sourceRoot||ni(this.map.mapFile));var I={column:O.column,endColumn:S&&S.column,endLine:S&&S.line,line:O.line,url:E.toString()};if("file:"===E.protocol){if(!ri)throw new Error("file: protocol is not available in this PostCSS build");I.file=ri(E)}var R=T.sourceContentFor(O.source);return R&&(I.source=R),I}},{key:"toJSON",value:function(){for(var e={},l=0,_=["hasBOM","css","file","id"];l<_.length;l++){var k=_[l];null!=this[k]&&(e[k]=this[k])}return this.map&&(e.map=_objectSpread2({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}},{key:"from",get:function(){return this.file||this.id}}])}(),pi=fi;fi.default=fi,si&&si.registerInput&&si.registerInput(fi);var vi=Tn.SourceMapConsumer,gi=Tn.SourceMapGenerator,mi=Tn.dirname,yi=Tn.relative,_i=Tn.resolve,bi=Tn.sep,ki=Tn.pathToFileURL,wi=pi,Si=Boolean(vi&&gi),Ci=Boolean(mi&&_i&&yi&&bi),Ei=function(){return _createClass3(function MapGenerator2(e,l,_,k){_classCallCheck3(this,MapGenerator2),this.stringify=e,this.mapOpts=_.map||{},this.root=l,this.opts=_,this.css=k,this.originalCSS=k,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map},[{key:"addAnnotation",value:function(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var l="\n";this.css.includes("\r\n")&&(l="\r\n"),this.css+=l+"/*# sourceMappingURL="+e+" */"}},{key:"applyPrevMaps",value:function(){var e,l=_createForOfIteratorHelper2(this.previous());try{for(l.s();!(e=l.n()).done;){var _=e.value,k=this.toUrl(this.path(_.file)),S=_.root||mi(_.file),E=void 0;!1===this.mapOpts.sourcesContent?(E=new vi(_.text)).sourcesContent&&(E.sourcesContent=null):E=_.consumer(),this.map.applySourceMap(E,k,this.toUrl(this.path(S)))}}catch(T){l.e(T)}finally{l.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,l=this.root.nodes.length-1;l>=0;l--)"comment"===(e=this.root.nodes[l]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(l);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),Ci&&Si&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(l){e+=l}),[e]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=gi.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new gi({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var e=this;this.css="",this.map=new gi({file:this.outputFile(),ignoreInvalidMapping:!0});var l,_,k=1,S=1,E="<no source>",T={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,function(O,I,R){if(e.css+=O,I&&"end"!==R&&(T.generated.line=k,T.generated.column=S-1,I.source&&I.source.start?(T.source=e.sourcePath(I),T.original.line=I.source.start.line,T.original.column=I.source.start.column-1,e.map.addMapping(T)):(T.source=E,T.original.line=1,T.original.column=0,e.map.addMapping(T))),(l=O.match(/\n/g))?(k+=l.length,_=O.lastIndexOf("\n"),S=O.length-_):S+=O.length,I&&"start"!==R){var M=I.parent||{raws:{}};("decl"===I.type||"atrule"===I.type&&!I.nodes)&&I===M.last&&!M.raws.semicolon||(I.source&&I.source.end?(T.source=e.sourcePath(I),T.original.line=I.source.end.line,T.original.column=I.source.end.column-1,T.generated.line=k,T.generated.column=S-2,e.map.addMapping(T)):(T.source=E,T.original.line=1,T.original.column=0,T.generated.line=k,T.generated.column=S-1,e.map.addMapping(T)))}})}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;var l=this.memoizedPaths.get(e);if(l)return l;var _=this.opts.to?mi(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(_=mi(_i(_,this.mapOpts.annotation)));var k=yi(_,e);return this.memoizedPaths.set(e,k),k}},{key:"previous",value:function(){var e=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(l){if(l.source&&l.source.input.map){var _=l.source.input.map;e.previousMaps.includes(_)||e.previousMaps.push(_)}});else{var l=new wi(this.originalCSS,this.opts);l.map&&this.previousMaps.push(l.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var e=this,l={};if(this.root)this.root.walk(function(_){if(_.source){var k=_.source.input.from;if(k&&!l[k]){l[k]=!0;var S=e.usesFileUrls?e.toFileUrl(k):e.toUrl(e.path(k));e.map.setSourceContent(S,_.source.input.css)}}});else if(this.css){var _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}},{key:"sourcePath",value:function(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}},{key:"toBase64",value:function(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}},{key:"toFileUrl",value:function(e){var l=this.memoizedFileURLs.get(e);if(l)return l;if(ki){var _=ki(e).toString();return this.memoizedFileURLs.set(e,_),_}throw new Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(e){var l=this.memoizedURLs.get(e);if(l)return l;"\\"===bi&&(e=e.replace(/\\/g,"/"));var _=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,_),_}}])}(),Ti=function(e){function Comment2(e){var l;return _classCallCheck3(this,Comment2),(l=_callSuper(this,Comment2,[e])).type="comment",l}return _inherits(Comment2,e),_createClass3(Comment2)}(Gn),Ai=Ti;Ti.default=Ti;var xi,Oi,Ii,Ri,Pi=Rn.isClean,Mi=Rn.my,ji=Vn,Di=Ai;function cleanSource(e){return e.map(function(e){return e.nodes&&(e.nodes=cleanSource(e.nodes)),delete e.source,e})}function markDirtyUp(e){if(e[Pi]=!1,e.proxyOf.nodes){var l,_=_createForOfIteratorHelper2(e.proxyOf.nodes);try{for(_.s();!(l=_.n()).done;){markDirtyUp(l.value)}}catch(k){_.e(k)}finally{_.f()}}}var Fi=function(e){function Container2(){return _classCallCheck3(this,Container2),_callSuper(this,Container2,arguments)}return _inherits(Container2,e),_createClass3(Container2,[{key:"append",value:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];for(var k=0,S=l;k<S.length;k++){var E,T=S[k],O=_createForOfIteratorHelper2(this.normalize(T,this.last));try{for(O.s();!(E=O.n()).done;){var I=E.value;this.proxyOf.nodes.push(I)}}catch(R){O.e(R)}finally{O.f()}}return this.markDirty(),this}},{key:"cleanRaws",value:function(e){if(_superPropGet(Container2,"cleanRaws",this,3)([e]),this.nodes){var l,_=_createForOfIteratorHelper2(this.nodes);try{for(_.s();!(l=_.n()).done;){l.value.cleanRaws(e)}}catch(k){_.e(k)}finally{_.f()}}}},{key:"each",value:function(e){if(this.proxyOf.nodes){for(var l,_,k=this.getIterator();this.indexes[k]<this.proxyOf.nodes.length&&(l=this.indexes[k],!1!==(_=e(this.proxyOf.nodes[l],l)));)this.indexes[k]+=1;return delete this.indexes[k],_}}},{key:"every",value:function(e){return this.nodes.every(e)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}},{key:"getProxyProcessor",value:function(){return{get:function(e,l){return"proxyOf"===l?e:e[l]?"each"===l||"string"==typeof l&&l.startsWith("walk")?function(){for(var _=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];return e[l].apply(e,_toConsumableArray3(k.map(function(e){return"function"==typeof e?function(l,_){return e(l.toProxy(),_)}:e})))}:"every"===l||"some"===l?function(_){return e[l](function(e){for(var l=arguments.length,k=new Array(l>1?l-1:0),S=1;S<l;S++)k[S-1]=arguments[S];return _.apply(void 0,[e.toProxy()].concat(k))})}:"root"===l?function(){return e.root().toProxy()}:"nodes"===l?e.nodes.map(function(e){return e.toProxy()}):"first"===l||"last"===l?e[l].toProxy():e[l]:e[l]},set:function(e,l,_){return e[l]===_||(e[l]=_,"name"!==l&&"params"!==l&&"selector"!==l||e.markDirty()),!0}}}},{key:"index",value:function(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}},{key:"insertAfter",value:function(e,l){var _=this.index(e),k=this.normalize(l,this.proxyOf.nodes[_]).reverse();_=this.index(e);var S,E,T=_createForOfIteratorHelper2(k);try{for(T.s();!(S=T.n()).done;){var O=S.value;this.proxyOf.nodes.splice(_+1,0,O)}}catch(R){T.e(R)}finally{T.f()}for(var I in this.indexes)_<(E=this.indexes[I])&&(this.indexes[I]=E+k.length);return this.markDirty(),this}},{key:"insertBefore",value:function(e,l){var _=this.index(e),k=0===_&&"prepend",S=this.normalize(l,this.proxyOf.nodes[_],k).reverse();_=this.index(e);var E,T,O=_createForOfIteratorHelper2(S);try{for(O.s();!(E=O.n()).done;){var I=E.value;this.proxyOf.nodes.splice(_,0,I)}}catch(M){O.e(M)}finally{O.f()}for(var R in this.indexes)_<=(T=this.indexes[R])&&(this.indexes[R]=T+S.length);return this.markDirty(),this}},{key:"normalize",value:function(e,l){var _=this;if("string"==typeof e)e=cleanSource(xi(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){var k,S=_createForOfIteratorHelper2(e=e.slice(0));try{for(S.s();!(k=S.n()).done;){var E=k.value;E.parent&&E.parent.removeChild(E,"ignore")}}catch(M){S.e(M)}finally{S.f()}}else if("root"===e.type&&"document"!==this.type){var T,O=_createForOfIteratorHelper2(e=e.nodes.slice(0));try{for(O.s();!(T=O.n()).done;){var I=T.value;I.parent&&I.parent.removeChild(I,"ignore")}}catch(M){O.e(M)}finally{O.f()}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new ji(e)]}else if(e.selector)e=[new Oi(e)];else if(e.name)e=[new Ii(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new Di(e)]}var R=e.map(function(e){return e[Mi]||Container2.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[Pi]&&markDirtyUp(e),void 0===e.raws.before&&l&&void 0!==l.raws.before&&(e.raws.before=l.raws.before.replace(/\S/g,"")),e.parent=_.proxyOf,e});return R}},{key:"prepend",value:function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];var k,S=_createForOfIteratorHelper2(l=l.reverse());try{for(S.s();!(k=S.n()).done;){var E,T=k.value,O=this.normalize(T,this.first,"prepend").reverse(),I=_createForOfIteratorHelper2(O);try{for(I.s();!(E=I.n()).done;){var R=E.value;this.proxyOf.nodes.unshift(R)}}catch(j){I.e(j)}finally{I.f()}for(var M in this.indexes)this.indexes[M]=this.indexes[M]+O.length}}catch(j){S.e(j)}finally{S.f()}return this.markDirty(),this}},{key:"push",value:function(e){return e.parent=this,this.proxyOf.nodes.push(e),this}},{key:"removeAll",value:function(){var e,l=_createForOfIteratorHelper2(this.proxyOf.nodes);try{for(l.s();!(e=l.n()).done;){e.value.parent=void 0}}catch(_){l.e(_)}finally{l.f()}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(e){var l;for(var _ in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(l=this.indexes[_])>=e&&(this.indexes[_]=l-1);return this.markDirty(),this}},{key:"replaceValues",value:function(e,l,_){return _||(_=l,l={}),this.walkDecls(function(k){l.props&&!l.props.includes(k.prop)||l.fast&&!k.value.includes(l.fast)||(k.value=k.value.replace(e,_))}),this.markDirty(),this}},{key:"some",value:function(e){return this.nodes.some(e)}},{key:"walk",value:function(e){return this.each(function(l,_){var k;try{k=e(l,_)}catch(S){throw l.addToError(S)}return!1!==k&&l.walk&&(k=l.walk(e)),k})}},{key:"walkAtRules",value:function(e,l){return l?e instanceof RegExp?this.walk(function(_,k){if("atrule"===_.type&&e.test(_.name))return l(_,k)}):this.walk(function(_,k){if("atrule"===_.type&&_.name===e)return l(_,k)}):(l=e,this.walk(function(e,_){if("atrule"===e.type)return l(e,_)}))}},{key:"walkComments",value:function(e){return this.walk(function(l,_){if("comment"===l.type)return e(l,_)})}},{key:"walkDecls",value:function(e,l){return l?e instanceof RegExp?this.walk(function(_,k){if("decl"===_.type&&e.test(_.prop))return l(_,k)}):this.walk(function(_,k){if("decl"===_.type&&_.prop===e)return l(_,k)}):(l=e,this.walk(function(e,_){if("decl"===e.type)return l(e,_)}))}},{key:"walkRules",value:function(e,l){return l?e instanceof RegExp?this.walk(function(_,k){if("rule"===_.type&&e.test(_.selector))return l(_,k)}):this.walk(function(_,k){if("rule"===_.type&&_.selector===e)return l(_,k)}):(l=e,this.walk(function(e,_){if("rule"===e.type)return l(e,_)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Gn);Fi.registerParse=function(e){xi=e},Fi.registerRule=function(e){Oi=e},Fi.registerAtRule=function(e){Ii=e},Fi.registerRoot=function(e){Ri=e};var Li=Fi;Fi.default=Fi,Fi.rebuild=function(e){"atrule"===e.type?Object.setPrototypeOf(e,Ii.prototype):"rule"===e.type?Object.setPrototypeOf(e,Oi.prototype):"decl"===e.type?Object.setPrototypeOf(e,ji.prototype):"comment"===e.type?Object.setPrototypeOf(e,Di.prototype):"root"===e.type&&Object.setPrototypeOf(e,Ri.prototype),e[Mi]=!0,e.nodes&&e.nodes.forEach(function(e){Fi.rebuild(e)})};var Ni,Ui,Bi=function(e){function Document23(e){var l;return _classCallCheck3(this,Document23),(l=_callSuper(this,Document23,[_objectSpread2({type:"document"},e)])).nodes||(l.nodes=[]),l}return _inherits(Document23,e),_createClass3(Document23,[{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ni(new Ui,this,e).stringify()}}])}(Li);Bi.registerLazyResult=function(e){Ni=e},Bi.registerProcessor=function(e){Ui=e};var qi=Bi;Bi.default=Bi;var zi=function(){return _createClass3(function Warning2(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck3(this,Warning2),this.type="warning",this.text=e,l.node&&l.node.source){var _=l.node.rangeBy(l);this.line=_.start.line,this.column=_.start.column,this.endLine=_.end.line,this.endColumn=_.end.column}for(var k in l)this[k]=l[k]},[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}(),Gi=zi;zi.default=zi;var Wi=Gi,Vi=function(){return _createClass3(function Result2(e,l,_){_classCallCheck3(this,Result2),this.processor=e,this.messages=[],this.root=l,this.opts=_,this.css=void 0,this.map=void 0},[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(l.plugin=this.lastPlugin.postcssPlugin);var _=new Wi(e,l);return this.messages.push(_),_}},{key:"warnings",value:function(){return this.messages.filter(function(e){return"warning"===e.type})}},{key:"content",get:function(){return this.css}}])}(),Ki=Vi;Vi.default=Vi;var Hi="'".charCodeAt(0),$i='"'.charCodeAt(0),Ji="\\".charCodeAt(0),Yi="/".charCodeAt(0),Xi="\n".charCodeAt(0),Zi=" ".charCodeAt(0),Qi="\f".charCodeAt(0),ea="\t".charCodeAt(0),ta="\r".charCodeAt(0),ra="[".charCodeAt(0),na="]".charCodeAt(0),ia="(".charCodeAt(0),aa=")".charCodeAt(0),oa="{".charCodeAt(0),sa="}".charCodeAt(0),ua=";".charCodeAt(0),la="*".charCodeAt(0),ca=":".charCodeAt(0),ha="@".charCodeAt(0),da=/[\t\n\f\r "#'()/;[\\\]{}]/g,fa=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,pa=/.[\r\n"'(/\\]/,va=/[\da-f]/i,ga=Li,ma=function(e){function AtRule2(e){var l;return _classCallCheck3(this,AtRule2),(l=_callSuper(this,AtRule2,[e])).type="atrule",l}return _inherits(AtRule2,e),_createClass3(AtRule2,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return _superPropGet(AtRule2,"append",this,3)(l)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return _superPropGet(AtRule2,"prepend",this,3)(l)}}])}(ga),ya=ma;ma.default=ma,ga.registerAtRule(ma);var _a,ba,ka=Li,wa=function(e){function Root2(e){var l;return _classCallCheck3(this,Root2),(l=_callSuper(this,Root2,[e])).type="root",l.nodes||(l.nodes=[]),l}return _inherits(Root2,e),_createClass3(Root2,[{key:"normalize",value:function(e,l,_){var k=_superPropGet(Root2,"normalize",this,3)([e]);if(l)if("prepend"===_)this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l){var S,E=_createForOfIteratorHelper2(k);try{for(E.s();!(S=E.n()).done;){S.value.raws.before=l.raws.before}}catch(T){E.e(T)}finally{E.f()}}return k}},{key:"removeChild",value:function(e,l){var _=this.index(e);return!l&&0===_&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[_].raws.before),_superPropGet(Root2,"removeChild",this,3)([e])}},{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _a(new ba,this,e).stringify()}}])}(ka);wa.registerLazyResult=function(e){_a=e},wa.registerProcessor=function(e){ba=e};var Sa=wa;wa.default=wa,ka.registerRoot(wa);var Ca={comma:function(e){return Ca.split(e,[","],!0)},space:function(e){return Ca.split(e,[" ","\n","\t"])},split:function(e,l,_){var k,S=[],E="",T=!1,O=0,I=!1,R="",M=!1,j=_createForOfIteratorHelper2(e);try{for(j.s();!(k=j.n()).done;){var D=k.value;M?M=!1:"\\"===D?M=!0:I?D===R&&(I=!1):'"'===D||"'"===D?(I=!0,R=D):"("===D?O+=1:")"===D?O>0&&(O-=1):0===O&&l.includes(D)&&(T=!0),T?(""!==E&&S.push(E.trim()),E="",T=!1):E+=D}}catch(L){j.e(L)}finally{j.f()}return(_||""!==E)&&S.push(E.trim()),S}},Ea=Ca;Ca.default=Ca;var Ta=Li,Aa=Ea,xa=function(e){function Rule2(e){var l;return _classCallCheck3(this,Rule2),(l=_callSuper(this,Rule2,[e])).type="rule",l.nodes||(l.nodes=[]),l}return _inherits(Rule2,e),_createClass3(Rule2,[{key:"selectors",get:function(){return Aa.comma(this.selector)},set:function(e){var l=this.selector?this.selector.match(/,\s*/):null,_=l?l[0]:","+this.raw("between","beforeOpen");this.selector=e.join(_)}}])}(Ta),Oa=xa;xa.default=xa,Ta.registerRule(xa);var Ia=Vn,tokenizer22=function(e){var l,_,k,S,E,T,O,I,R,M,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=e.css.valueOf(),L=j.ignoreErrors,U=D.length,B=0,q=[],z=[];function unclosed(l){throw e.error("Unclosed "+l,B)}return{back:function(e){z.push(e)},endOfFile:function(){return 0===z.length&&B>=U},nextToken:function(e){if(z.length)return z.pop();if(!(B>=U)){var j=!!e&&e.ignoreUnclosed;switch(l=D.charCodeAt(B)){case Xi:case Zi:case ea:case ta:case Qi:_=B;do{_+=1,l=D.charCodeAt(_)}while(l===Zi||l===Xi||l===ea||l===ta||l===Qi);M=["space",D.slice(B,_)],B=_-1;break;case ra:case na:case oa:case sa:case ca:case ua:case aa:var G=String.fromCharCode(l);M=[G,G,B];break;case ia:if(I=q.length?q.pop()[1]:"",R=D.charCodeAt(B+1),"url"===I&&R!==Hi&&R!==$i&&R!==Zi&&R!==Xi&&R!==ea&&R!==Qi&&R!==ta){_=B;do{if(T=!1,-1===(_=D.indexOf(")",_+1))){if(L||j){_=B;break}unclosed("bracket")}for(O=_;D.charCodeAt(O-1)===Ji;)O-=1,T=!T}while(T);M=["brackets",D.slice(B,_+1),B,_],B=_}else _=D.indexOf(")",B+1),S=D.slice(B,_+1),-1===_||pa.test(S)?M=["(","(",B]:(M=["brackets",S,B,_],B=_);break;case Hi:case $i:k=l===Hi?"'":'"',_=B;do{if(T=!1,-1===(_=D.indexOf(k,_+1))){if(L||j){_=B+1;break}unclosed("string")}for(O=_;D.charCodeAt(O-1)===Ji;)O-=1,T=!T}while(T);M=["string",D.slice(B,_+1),B,_],B=_;break;case ha:da.lastIndex=B+1,da.test(D),_=0===da.lastIndex?D.length-1:da.lastIndex-2,M=["at-word",D.slice(B,_+1),B,_],B=_;break;case Ji:for(_=B,E=!0;D.charCodeAt(_+1)===Ji;)_+=1,E=!E;if(l=D.charCodeAt(_+1),E&&l!==Yi&&l!==Zi&&l!==Xi&&l!==ea&&l!==ta&&l!==Qi&&(_+=1,va.test(D.charAt(_)))){for(;va.test(D.charAt(_+1));)_+=1;D.charCodeAt(_+1)===Zi&&(_+=1)}M=["word",D.slice(B,_+1),B,_],B=_;break;default:l===Yi&&D.charCodeAt(B+1)===la?(0===(_=D.indexOf("*/",B+2)+1)&&(L||j?_=D.length:unclosed("comment")),M=["comment",D.slice(B,_+1),B,_],B=_):(fa.lastIndex=B+1,fa.test(D),_=0===fa.lastIndex?D.length-1:fa.lastIndex-2,M=["word",D.slice(B,_+1),B,_],q.push(M),B=_)}return B++,M}},position:function(){return B}}},Ra=Ai,Pa=ya,Ma=Sa,ja=Oa,Da={empty:!0,space:!0};var Fa=function(){return _createClass3(function Parser2(e){_classCallCheck3(this,Parser2),this.input=e,this.root=new Ma,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}},[{key:"atrule",value:function(e){var l,_,k,S=new Pa;S.name=e[1].slice(1),""===S.name&&this.unnamedAtrule(S,e),this.init(S,e[2]);for(var E=!1,T=!1,O=[],I=[];!this.tokenizer.endOfFile();){if("("===(l=(e=this.tokenizer.nextToken())[0])||"["===l?I.push("("===l?")":"]"):"{"===l&&I.length>0?I.push("}"):l===I[I.length-1]&&I.pop(),0===I.length){if(";"===l){S.source.end=this.getPosition(e[2]),S.source.end.offset++,this.semicolon=!0;break}if("{"===l){T=!0;break}if("}"===l){if(O.length>0){for(_=O[k=O.length-1];_&&"space"===_[0];)_=O[--k];_&&(S.source.end=this.getPosition(_[3]||_[2]),S.source.end.offset++)}this.end(e);break}O.push(e)}else O.push(e);if(this.tokenizer.endOfFile()){E=!0;break}}S.raws.between=this.spacesAndCommentsFromEnd(O),O.length?(S.raws.afterName=this.spacesAndCommentsFromStart(O),this.raw(S,"params",O),E&&(e=O[O.length-1],S.source.end=this.getPosition(e[3]||e[2]),S.source.end.offset++,this.spaces=S.raws.between,S.raws.between="")):(S.raws.afterName="",S.params=""),T&&(S.nodes=[],this.current=S)}},{key:"checkMissedSemicolon",value:function(e){var l=this.colon(e);if(!1!==l){for(var _,k=0,S=l-1;S>=0&&("space"===(_=e[S])[0]||2!==(k+=1));S--);throw this.input.error("Missed semicolon","word"===_[0]?_[3]+1:_[2])}}},{key:"colon",value:function(e){var l,_,k,S,E=0,T=_createForOfIteratorHelper2(e.entries());try{for(T.s();!(S=T.n()).done;){var O=_slicedToArray(S.value,2),I=O[0];if("("===(_=(l=O[1])[0])&&(E+=1),")"===_&&(E-=1),0===E&&":"===_){if(k){if("word"===k[0]&&"progid"===k[1])continue;return I}this.doubleColon(l)}k=l}}catch(R){T.e(R)}finally{T.f()}return!1}},{key:"comment",value:function(e){var l=new Ra;this.init(l,e[2]),l.source.end=this.getPosition(e[3]||e[2]),l.source.end.offset++;var _=e[1].slice(2,-2);if(/^\s*$/.test(_))l.text="",l.raws.left=_,l.raws.right="";else{var k=_.match(/^(\s*)([^]*\S)(\s*)$/);l.text=k[2],l.raws.left=k[1],l.raws.right=k[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=tokenizer22(this.input)}},{key:"decl",value:function(e,l){var _=new Ia;this.init(_,e[0][2]);var k,S=e[e.length-1];for(";"===S[0]&&(this.semicolon=!0,e.pop()),_.source.end=this.getPosition(S[3]||S[2]||function(e){for(var l=e.length-1;l>=0;l--){var _=e[l],k=_[3]||_[2];if(k)return k}}(e)),_.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),_.raws.before+=e.shift()[1];for(_.source.start=this.getPosition(e[0][2]),_.prop="";e.length;){var E=e[0][0];if(":"===E||"space"===E||"comment"===E)break;_.prop+=e.shift()[1]}for(_.raws.between="";e.length;){if(":"===(k=e.shift())[0]){_.raws.between+=k[1];break}"word"===k[0]&&/\w/.test(k[1])&&this.unknownWord([k]),_.raws.between+=k[1]}"_"!==_.prop[0]&&"*"!==_.prop[0]||(_.raws.before+=_.prop[0],_.prop=_.prop.slice(1));for(var T,O=[];e.length&&("space"===(T=e[0][0])||"comment"===T);)O.push(e.shift());this.precheckMissedSemicolon(e);for(var I=e.length-1;I>=0;I--){if("!important"===(k=e[I])[1].toLowerCase()){_.important=!0;var R=this.stringFrom(e,I);" !important"!==(R=this.spacesFromEnd(e)+R)&&(_.raws.important=R);break}if("important"===k[1].toLowerCase()){for(var M=e.slice(0),j="",D=I;D>0;D--){var L=M[D][0];if(0===j.trim().indexOf("!")&&"space"!==L)break;j=M.pop()[1]+j}0===j.trim().indexOf("!")&&(_.important=!0,_.raws.important=j,e=M)}if("space"!==k[0]&&"comment"!==k[0])break}var U=e.some(function(e){return"space"!==e[0]&&"comment"!==e[0]});U&&(_.raws.between+=O.map(function(e){return e[1]}).join(""),O=[]),this.raw(_,"value",O.concat(e),l),_.value.includes(":")&&!l&&this.checkMissedSemicolon(e)}},{key:"doubleColon",value:function(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}},{key:"emptyRule",value:function(e){var l=new ja;this.init(l,e[2]),l.selector="",l.raws.between="",this.current=l}},{key:"end",value:function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(e){if(this.spaces+=e[1],this.current.nodes){var l=this.current.nodes[this.current.nodes.length-1];l&&"rule"===l.type&&!l.raws.ownSemicolon&&(l.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(e){var l=this.input.fromOffset(e);return{column:l.col,line:l.line,offset:e}}},{key:"init",value:function(e,l){this.current.push(e),e.source={input:this.input,start:this.getPosition(l)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}},{key:"other",value:function(e){for(var l=!1,_=null,k=!1,S=null,E=[],T=e[1].startsWith("--"),O=[],I=e;I;){if(_=I[0],O.push(I),"("===_||"["===_)S||(S=I),E.push("("===_?")":"]");else if(T&&k&&"{"===_)S||(S=I),E.push("}");else if(0===E.length){if(";"===_){if(k)return void this.decl(O,T);break}if("{"===_)return void this.rule(O);if("}"===_){this.tokenizer.back(O.pop()),l=!0;break}":"===_&&(k=!0)}else _===E[E.length-1]&&(E.pop(),0===E.length&&(S=null));I=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(l=!0),E.length>0&&this.unclosedBracket(S),l&&k){if(!T)for(;O.length&&("space"===(I=O[O.length-1][0])||"comment"===I);)this.tokenizer.back(O.pop());this.decl(O,T)}else this.unknownWord(O)}},{key:"parse",value:function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(e,l,_,k){for(var S,E,T,O,I=_.length,R="",M=!0,j=0;j<I;j+=1)"space"!==(E=(S=_[j])[0])||j!==I-1||k?"comment"===E?(O=_[j-1]?_[j-1][0]:"empty",T=_[j+1]?_[j+1][0]:"empty",Da[O]||Da[T]||","===R.slice(-1)?M=!1:R+=S[1]):R+=S[1]:M=!1;if(!M){var D=_.reduce(function(e,l){return e+l[1]},"");e.raws[l]={raw:D,value:R}}e[l]=R}},{key:"rule",value:function(e){e.pop();var l=new ja;this.init(l,e[0][2]),l.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(l,"selector",e),this.current=l}},{key:"spacesAndCommentsFromEnd",value:function(e){for(var l,_="";e.length&&("space"===(l=e[e.length-1][0])||"comment"===l);)_=e.pop()[1]+_;return _}},{key:"spacesAndCommentsFromStart",value:function(e){for(var l,_="";e.length&&("space"===(l=e[0][0])||"comment"===l);)_+=e.shift()[1];return _}},{key:"spacesFromEnd",value:function(e){for(var l="";e.length&&"space"===e[e.length-1][0];)l=e.pop()[1]+l;return l}},{key:"stringFrom",value:function(e,l){for(var _="",k=l;k<e.length;k++)_+=e[k][1];return e.splice(l,e.length-l),_}},{key:"unclosedBlock",value:function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}},{key:"unclosedBracket",value:function(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}},{key:"unexpectedClose",value:function(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}},{key:"unknownWord",value:function(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}},{key:"unnamedAtrule",value:function(e,l){throw this.input.error("At-rule without name",{offset:l[2]},{offset:l[2]+l[1].length})}}])}(),La=Li,Na=Fa,Ua=pi;function parse$3(e,l){var _=new Ua(e,l),k=new Na(_);try{k.parse()}catch(S){throw S}return k.root}var Ba=parse$3;parse$3.default=parse$3,La.registerParse(parse$3);var qa=Rn.isClean,za=Rn.my,Ga=Ei,Wa=Fn,Va=Li,Ka=qi,Ha=Ki,$a=Ba,Ja=Sa,Ya={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Xa={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Za={Once:!0,postcssPlugin:!0,prepare:!0};function isPromise(e){return"object"===_typeof3(e)&&"function"==typeof e.then}function getEvents(e){var l=!1,_=Ya[e.type];return"decl"===e.type?l=e.prop.toLowerCase():"atrule"===e.type&&(l=e.name.toLowerCase()),l&&e.append?[_,_+"-"+l,0,_+"Exit",_+"Exit-"+l]:l?[_,_+"-"+l,_+"Exit",_+"Exit-"+l]:e.append?[_,0,_+"Exit"]:[_,_+"Exit"]}function toStack(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:getEvents(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function cleanMarks(e){return e[qa]=!1,e.nodes&&e.nodes.forEach(function(e){return cleanMarks(e)}),e}var Qa={},eo=function(){return _createClass3(function LazyResult2(e,l,_){var k,S=this;if(_classCallCheck3(this,LazyResult2),this.stringified=!1,this.processed=!1,"object"!==_typeof3(l)||null===l||"root"!==l.type&&"document"!==l.type)if(l instanceof LazyResult2||l instanceof Ha)k=cleanMarks(l.root),l.map&&(void 0===_.map&&(_.map={}),_.map.inline||(_.map.inline=!1),_.map.prev=l.map);else{var E=$a;_.syntax&&(E=_.syntax.parse),_.parser&&(E=_.parser),E.parse&&(E=E.parse);try{k=E(l,_)}catch(T){this.processed=!0,this.error=T}k&&!k[za]&&Va.rebuild(k)}else k=cleanMarks(l);this.result=new Ha(e,k,_),this.helpers=_objectSpread2(_objectSpread2({},Qa),{},{postcss:Qa,result:this.result}),this.plugins=this.processor.plugins.map(function(e){return"object"===_typeof3(e)&&e.prepare?_objectSpread2(_objectSpread2({},e),e.prepare(S.result)):e})},[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"getAsyncError",value:function(){throw new Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(e,l){var _=this.result.lastPlugin;try{l&&l.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?_.postcssVersion:(e.plugin=_.postcssPlugin,e.setMessage())}catch(k){console&&console.error}return e}},{key:"prepareVisitors",value:function(){var e=this;this.listeners={};var l,add=function(l,_,k){e.listeners[_]||(e.listeners[_]=[]),e.listeners[_].push([l,k])},_=_createForOfIteratorHelper2(this.plugins);try{for(_.s();!(l=_.n()).done;){var k=l.value;if("object"===_typeof3(k))for(var S in k){if(!Xa[S]&&/^[A-Z]/.test(S))throw new Error("Unknown event ".concat(S," in ").concat(k.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Za[S])if("object"===_typeof3(k[S]))for(var E in k[S])add(k,"*"===E?S:S+"-"+E.toLowerCase(),k[S][E]);else"function"==typeof k[S]&&add(k,S,k[S])}}}catch(T){_.e(T)}finally{_.f()}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:(e=_asyncToGenerator(_regenerator().m(function _callee24(){var e,l,_,k,S,E,T,O,I,R,M,j,D,L=this;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:this.plugin=0,e=0;case 1:if(!(e<this.plugins.length)){U.n=6;break}if(l=this.plugins[e],!isPromise(_=this.runOnRoot(l))){U.n=5;break}return U.p=2,U.n=3,_;case 3:U.n=5;break;case 4:throw U.p=4,M=U.v,this.handleError(M);case 5:e++,U.n=1;break;case 6:if(this.prepareVisitors(),!this.hasListener){U.n=21;break}k=this.result.root;case 7:if(k[qa]){U.n=14;break}k[qa]=!0,S=[toStack(k)];case 8:if(!(S.length>0)){U.n=13;break}if(!isPromise(E=this.visitTick(S))){U.n=12;break}return U.p=9,U.n=10,E;case 10:U.n=12;break;case 11:throw U.p=11,j=U.v,T=S[S.length-1].node,this.handleError(j,T);case 12:U.n=8;break;case 13:U.n=7;break;case 14:if(!this.listeners.OnceExit){U.n=21;break}O=_createForOfIteratorHelper2(this.listeners.OnceExit),U.p=15,R=_regenerator().m(function _loop2(){var e,l,_,S,E;return _regenerator().w(function(T){for(;;)switch(T.p=T.n){case 0:if(e=_slicedToArray(I.value,2),l=e[0],_=e[1],L.result.lastPlugin=l,T.p=1,"document"!==k.type){T.n=3;break}return S=k.nodes.map(function(e){return _(e,L.helpers)}),T.n=2,Promise.all(S);case 2:T.n=4;break;case 3:return T.n=4,_(k,L.helpers);case 4:T.n=6;break;case 5:throw T.p=5,E=T.v,L.handleError(E);case 6:return T.a(2)}},_loop2,null,[[1,5]])}),O.s();case 16:if((I=O.n()).done){U.n=18;break}return U.d(_regeneratorValues(R()),17);case 17:U.n=16;break;case 18:U.n=20;break;case 19:U.p=19,D=U.v,O.e(D);case 20:return U.p=20,O.f(),U.f(20);case 21:return this.processed=!0,U.a(2,this.stringify())}},_callee24,this,[[15,19,20,21],[9,11],[2,4]])})),function(){return e.apply(this,arguments)})},{key:"runOnRoot",value:function(e){var l=this;this.result.lastPlugin=e;try{if("object"===_typeof3(e)&&e.Once){if("document"===this.result.root.type){var _=this.result.root.nodes.map(function(_){return e.Once(_,l.helpers)});return isPromise(_[0])?Promise.all(_):_}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(k){throw this.handleError(k)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,l=Wa;e.syntax&&(l=e.syntax.stringify),e.stringifier&&(l=e.stringifier),l.stringify&&(l=l.stringify);var _=new Ga(l,this.result.root,this.result.opts).generate();return this.result.css=_[0],this.result.map=_[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var e,l=_createForOfIteratorHelper2(this.plugins);try{for(l.s();!(e=l.n()).done;){var _=e.value;if(isPromise(this.runOnRoot(_)))throw this.getAsyncError()}}catch(O){l.e(O)}finally{l.f()}if(this.prepareVisitors(),this.hasListener){for(var k=this.result.root;!k[qa];)k[qa]=!0,this.walkSync(k);if(this.listeners.OnceExit)if("document"===k.type){var S,E=_createForOfIteratorHelper2(k.nodes);try{for(E.s();!(S=E.n()).done;){var T=S.value;this.visitSync(this.listeners.OnceExit,T)}}catch(O){E.e(O)}finally{E.f()}}else this.visitSync(this.listeners.OnceExit,k)}return this.result}},{key:"then",value:function(e,l){return this.async().then(e,l)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(e,l){var _,k=_createForOfIteratorHelper2(e);try{for(k.s();!(_=k.n()).done;){var S=_slicedToArray(_.value,2),E=S[0],T=S[1];this.result.lastPlugin=E;var O=void 0;try{O=T(l,this.helpers)}catch(I){throw this.handleError(I,l.proxyOf)}if("root"!==l.type&&"document"!==l.type&&!l.parent)return!0;if(isPromise(O))throw this.getAsyncError()}}catch(R){k.e(R)}finally{k.f()}}},{key:"visitTick",value:function(e){var l=e[e.length-1],_=l.node,k=l.visitors;if("root"===_.type||"document"===_.type||_.parent){if(k.length>0&&l.visitorIndex<k.length){var S=_slicedToArray(k[l.visitorIndex],2),E=S[0],T=S[1];l.visitorIndex+=1,l.visitorIndex===k.length&&(l.visitors=[],l.visitorIndex=0),this.result.lastPlugin=E;try{return T(_.toProxy(),this.helpers)}catch(j){throw this.handleError(j,_)}}if(0!==l.iterator){for(var O,I=l.iterator;O=_.nodes[_.indexes[I]];)if(_.indexes[I]+=1,!O[qa])return O[qa]=!0,void e.push(toStack(O));l.iterator=0,delete _.indexes[I]}for(var R=l.events;l.eventIndex<R.length;){var M=R[l.eventIndex];if(l.eventIndex+=1,0===M)return void(_.nodes&&_.nodes.length&&(_[qa]=!0,l.iterator=_.getIterator()));if(this.listeners[M])return void(l.visitors=this.listeners[M])}e.pop()}else e.pop()}},{key:"walkSync",value:function(e){var l=this;e[qa]=!0;var _,k=_createForOfIteratorHelper2(getEvents(e));try{for(k.s();!(_=k.n()).done;){var S=_.value;if(0===S)e.nodes&&e.each(function(e){e[qa]||l.walkSync(e)});else{var E=this.listeners[S];if(E&&this.visitSync(E,e.toProxy()))return}}}catch(T){k.e(T)}finally{k.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]);var e}();eo.registerPostcss=function(e){Qa=e};var to=eo;eo.default=eo,Ja.registerLazyResult(eo),Ka.registerLazyResult(eo);var ro=Ei,no=Fn,io=Ba,ao=Ki,oo=function(){return _createClass3(function NoWorkResult2(e,l,_){var k;_classCallCheck3(this,NoWorkResult2),l=l.toString(),this.stringified=!1,this._processor=e,this._css=l,this._opts=_,this._map=void 0;var S=no;this.result=new ao(this._processor,k,this._opts),this.result.css=l;var E=this;Object.defineProperty(this.result,"root",{get:function(){return E.root}});var T=new ro(S,k,this._opts,l);if(T.isMap()){var O=_slicedToArray(T.generate(),2),I=O[0],R=O[1];I&&(this.result.css=I),R&&(this.result.map=R)}else T.clearAnnotation(),this.result.css=T.css},[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(e,l){return this.async().then(e,l)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var e,l=io;try{e=l(this._css,this._opts)}catch(_){this.error=_}if(this.error)throw this.error;return this._root=e,e}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}(),so=oo;oo.default=oo;var uo=so,lo=to,co=qi,ho=Sa,fo=function(){return _createClass3(function Processor2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck3(this,Processor2),this.version="8.4.38",this.plugins=this.normalize(e)},[{key:"normalize",value:function(e){var l,_=[],k=_createForOfIteratorHelper2(e);try{for(k.s();!(l=k.n()).done;){var S=l.value;if(!0===S.postcss?S=S():S.postcss&&(S=S.postcss),"object"===_typeof3(S)&&Array.isArray(S.plugins))_=_.concat(S.plugins);else if("object"===_typeof3(S)&&S.postcssPlugin)_.push(S);else if("function"==typeof S)_.push(S);else if("object"!==_typeof3(S)||!S.parse&&!S.stringify)throw new Error(S+" is not a PostCSS plugin")}}catch(E){k.e(E)}finally{k.f()}return _}},{key:"process",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||l.parser||l.stringifier||l.syntax?new lo(this,e,l):new uo(this,e,l)}},{key:"use",value:function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}])}(),po=fo;fo.default=fo,ho.registerProcessor(fo),co.registerProcessor(fo);var vo=Vn,go=Qn,mo=Ai,yo=ya,_o=pi,bo=Sa,ko=Oa;function fromJSON$1(e,l){if(Array.isArray(e))return e.map(function(e){return fromJSON$1(e)});var S=e.inputs,E=_objectWithoutProperties3(e,_);if(S){l=[];var T,O=_createForOfIteratorHelper2(S);try{for(O.s();!(T=O.n()).done;){var I=_objectSpread2(_objectSpread2({},T.value),{},{__proto__:_o.prototype});I.map&&(I.map=_objectSpread2(_objectSpread2({},I.map),{},{__proto__:go.prototype})),l.push(I)}}catch(D){O.e(D)}finally{O.f()}}if(E.nodes&&(E.nodes=e.nodes.map(function(e){return fromJSON$1(e,l)})),E.source){var R=E.source,M=R.inputId,j=_objectWithoutProperties3(R,k);E.source=j,null!=M&&(E.source.input=l[M])}if("root"===E.type)return new bo(E);if("decl"===E.type)return new vo(E);if("rule"===E.type)return new ko(E);if("comment"===E.type)return new mo(E);if("atrule"===E.type)return new yo(E);throw new Error("Unknown node type: "+e.type)}var wo=fromJSON$1;fromJSON$1.default=fromJSON$1;var So=In,Co=Vn,Eo=to,To=Li,Ao=po,xo=Fn,Oo=wo,Io=qi,Ro=Gi,Po=Ai,Mo=ya,jo=Ki,Do=pi,Fo=Ba,Lo=Ea,No=Oa,Uo=Sa,Bo=Gn;function postcss(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return 1===l.length&&Array.isArray(l[0])&&(l=l[0]),new Ao(l)}postcss.plugin=function(e,l){var _,k=!1;function creator(){console&&console.warn&&!k&&(k=!0,T.LANG&&T.LANG.startsWith("cn"));var _=l.apply(void 0,arguments);return _.postcssPlugin=e,_.postcssVersion=(new Ao).version,_}return Object.defineProperty(creator,"postcss",{get:function(){return _||(_=creator()),_}}),creator.process=function(e,l,_){return postcss([creator(_)]).process(e,l)},creator},postcss.stringify=xo,postcss.parse=Fo,postcss.fromJSON=Oo,postcss.list=Lo,postcss.comment=function(e){return new Po(e)},postcss.atRule=function(e){return new Mo(e)},postcss.decl=function(e){return new Co(e)},postcss.rule=function(e){return new No(e)},postcss.root=function(e){return new Uo(e)},postcss.document=function(e){return new Io(e)},postcss.CssSyntaxError=So,postcss.Declaration=Co,postcss.Container=To,postcss.Processor=Ao,postcss.Document=Io,postcss.Comment=Po,postcss.Warning=Ro,postcss.AtRule=Mo,postcss.Result=jo,postcss.Input=Do,postcss.Rule=No,postcss.Root=Uo,postcss.Node=Bo,Eo.registerPostcss(postcss);var qo=postcss;postcss.default=postcss;var zo=getDefaultExportFromCjs(qo);zo.stringify,zo.fromJSON,zo.plugin,zo.parse,zo.list,zo.document,zo.comment,zo.atRule,zo.rule,zo.decl,zo.root,zo.CssSyntaxError,zo.Declaration,zo.Container,zo.Processor,zo.Document,zo.Comment,zo.Warning,zo.AtRule,zo.Result,zo.Input,zo.Rule,zo.Root,zo.Node;var Go=function(){function BaseRRNode(){_classCallCheck3(this,BaseRRNode),__publicField2(this,"parentElement",null),__publicField2(this,"parentNode",null),__publicField2(this,"ownerDocument"),__publicField2(this,"firstChild",null),__publicField2(this,"lastChild",null),__publicField2(this,"previousSibling",null),__publicField2(this,"nextSibling",null),__publicField2(this,"ELEMENT_NODE",1),__publicField2(this,"TEXT_NODE",3),__publicField2(this,"nodeType"),__publicField2(this,"nodeName"),__publicField2(this,"RRNodeType")}return _createClass3(BaseRRNode,[{key:"childNodes",get:function(){for(var e=[],l=this.firstChild;l;)e.push(l),l=l.nextSibling;return e}},{key:"contains",value:function(e){if(!(e instanceof BaseRRNode))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}},{key:"appendChild",value:function(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"insertBefore",value:function(e,l){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}},{key:"removeChild",value:function(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"toString",value:function(){return"RRNode"}}])}(),Wo={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Vo={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ko={};function getUntaintedPrototype(e){if(Ko[e])return Ko[e];var l=globalThis[e],_=l.prototype,k=e in Wo?Wo[e]:void 0,S=Boolean(k&&k.every(function(e){var l,k;return Boolean(null==(k=null==(l=Object.getOwnPropertyDescriptor(_,e))?void 0:l.get)?void 0:k.toString().includes("[native code]"))})),E=e in Vo?Vo[e]:void 0,T=Boolean(E&&E.every(function(e){var l;return"function"==typeof _[e]&&(null==(l=_[e])?void 0:l.toString().includes("[native code]"))}));if(S&&T)return Ko[e]=l.prototype,l.prototype;try{var O=document.createElement("iframe");document.body.appendChild(O);var I=O.contentWindow;if(!I)return l.prototype;var R=I[e].prototype;return document.body.removeChild(O),R?Ko[e]=R:_}catch(M){return _}}var Ho={};function getUntaintedAccessor(e,l,_){var k,S="".concat(e,".").concat(String(_));if(Ho[S])return Ho[S].call(l);var E=getUntaintedPrototype(e),T=null==(k=Object.getOwnPropertyDescriptor(E,_))?void 0:k.get;return T?(Ho[S]=T,T.call(l)):l[_]}var $o={};function getUntaintedMethod(e,l,_){var k="".concat(e,".").concat(String(_));if($o[k])return $o[k].bind(l);var S=getUntaintedPrototype(e)[_];return"function"!=typeof S?l[_]:($o[k]=S,S.bind(l))}function mutationObserverCtor(){return getUntaintedPrototype("MutationObserver").constructor}var Jo={childNodes:function(e){return getUntaintedAccessor("Node",e,"childNodes")},parentNode:function(e){return getUntaintedAccessor("Node",e,"parentNode")},parentElement:function(e){return getUntaintedAccessor("Node",e,"parentElement")},textContent:function(e){return getUntaintedAccessor("Node",e,"textContent")},contains:function(e,l){return getUntaintedMethod("Node",e,"contains")(l)},getRootNode:function(e){return getUntaintedMethod("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?getUntaintedAccessor("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?getUntaintedAccessor("Element",e,"shadowRoot"):null},querySelector:function(e,l){return getUntaintedAccessor("Element",e,"querySelector")(l)},querySelectorAll:function(e,l){return getUntaintedAccessor("Element",e,"querySelectorAll")(l)},mutationObserver:mutationObserverCtor};function on(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,k={capture:!0,passive:!0};return _.addEventListener(e,l,k),function(){return _.removeEventListener(e,l,k)}}var Yo={map:{},getId:function(){return-1},getNode:function(){return null},removeNodeFromMap:function(){},has:function(){return!1},reset:function(){}};function throttle(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=null,S=0;return function(){for(var E=arguments.length,T=new Array(E),O=0;O<E;O++)T[O]=arguments[O];var I=Date.now();S||!1!==_.leading||(S=I);var R=l-(I-S),M=this;R<=0||R>l?(k&&(clearTimeout(k),k=null),S=I,e.apply(M,T)):k||!1===_.trailing||(k=setTimeout(function(){S=!1===_.leading?0:Date.now(),k=null,e.apply(M,T)},R))}}function hookSetter(e,l,_,k){var S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,E=S.Object.getOwnPropertyDescriptor(e,l);return S.Object.defineProperty(e,l,k?_:{set:function(e){var l=this;setTimeout(function(){_.set.call(l,e)},0),E&&E.set&&E.set.call(this,e)}}),function(){return hookSetter(e,l,E||{},!0)}}function patch(e,l,_){try{if(!(l in e))return function(){};var k=e[l],S=_(k);return"function"==typeof S&&(S.prototype=S.prototype||{},Object.defineProperties(S,{__rrweb_original__:{enumerable:!1,value:k}})),e[l]=S,function(){e[l]=k}}catch(E){return function(){}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Yo=new Proxy(Yo,{get:function(e,l,_){return Reflect.get(e,l,_)}}));var Xo=Date.now;function getWindowScroll(e){var l,_,k,S,E=e.document;return{left:E.scrollingElement?E.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:E.documentElement.scrollLeft||(null==E?void 0:E.body)&&(null==(l=Jo.parentElement(E.body))?void 0:l.scrollLeft)||(null==(_=null==E?void 0:E.body)?void 0:_.scrollLeft)||0,top:E.scrollingElement?E.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==E?void 0:E.documentElement.scrollTop)||(null==E?void 0:E.body)&&(null==(k=Jo.parentElement(E.body))?void 0:k.scrollTop)||(null==(S=null==E?void 0:E.body)?void 0:S.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode(e){return e?e.nodeType===e.ELEMENT_NODE?e:Jo.parentElement(e):null}function isBlocked(e,l,_,k){if(!e)return!1;var S=closestElementOfNode(e);if(!S)return!1;try{if("string"==typeof l){if(S.classList.contains(l))return!0;if(k&&null!==S.closest("."+l))return!0}else if(classMatchesRegex(S,l,k))return!0}catch(E){}if(_){if(S.matches(_))return!0;if(k&&null!==S.closest(_))return!0}return!1}function isIgnored(e,l,_){return!("TITLE"!==e.tagName||!_.headTitleMutations)||-2===l.getId(e)}function isAncestorRemoved(e,l){if(isShadowRoot(e))return!1;var _=l.getId(e);if(!l.has(_))return!0;var k=Jo.parentNode(e);return(!k||k.nodeType!==e.DOCUMENT_NODE)&&(!k||isAncestorRemoved(k,l))}function legacy_isTouchEvent(e){return Boolean(e.changedTouches)}function isSerializedIframe(e,l){return Boolean("IFRAME"===e.nodeName&&l.getMeta(e))}function isSerializedStylesheet(e,l){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&l.getMeta(e))}function hasShadowRoot(e){return!!e&&(e instanceof Go&&"shadowRoot"in e?Boolean(e.shadowRoot):Boolean(Jo.shadowRoot(e)))}/[1-9][0-9]{12}/.test(Date.now().toString())||(Xo=function(){return(new Date).getTime()});var Zo=function(){return _createClass3(function StyleSheetMirror(){_classCallCheck3(this,StyleSheetMirror),__publicField(this,"id",1),__publicField(this,"styleIDMap",new WeakMap),__publicField(this,"idStyleMap",new Map)},[{key:"getId",value:function(e){var l;return null!==(l=this.styleIDMap.get(e))&&void 0!==l?l:-1}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,l){return this.has(e)?this.getId(e):(_=void 0===l?this.id++:l,this.styleIDMap.set(e,_),this.idStyleMap.set(_,e),_);var _}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}])}();function getShadowHost(e){var l,_=null;return"getRootNode"in e&&(null==(l=Jo.getRootNode(e))?void 0:l.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Jo.host(Jo.getRootNode(e))&&(_=Jo.host(Jo.getRootNode(e))),_}function shadowHostInDom(e){var l=e.ownerDocument;if(!l)return!1;var _=function(e){for(var l,_=e;l=getShadowHost(_);)_=l;return _}(e);return Jo.contains(l,_)}function inDom(e){var l=e.ownerDocument;return!!l&&(Jo.contains(l,e)||shadowHostInDom(e))}var Qo=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Qo||{}),es=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(es||{}),ts=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(ts||{}),rs=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(rs||{}),ns=function(e){return e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e}(ns||{}),is=function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e}(is||{});function isNodeInLinkedList(e){return"__ln"in e}var as,os=function(){return _createClass3(function DoubleLinkedList(){_classCallCheck3(this,DoubleLinkedList),__publicField(this,"length",0),__publicField(this,"head",null),__publicField(this,"tail",null)},[{key:"get",value:function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var l=this.head,_=0;_<e;_++)l=(null==l?void 0:l.next)||null;return l}},{key:"addNode",value:function(e){var l={value:e,previous:null,next:null};if(e.__ln=l,e.previousSibling&&isNodeInLinkedList(e.previousSibling)){var _=e.previousSibling.__ln.next;l.next=_,l.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=l,_&&(_.previous=l)}else if(e.nextSibling&&isNodeInLinkedList(e.nextSibling)&&e.nextSibling.__ln.previous){var k=e.nextSibling.__ln.previous;l.previous=k,l.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=l,k&&(k.next=l)}else this.head&&(this.head.previous=l),l.next=this.head,this.head=l;null===l.next&&(this.tail=l),this.length++}},{key:"removeNode",value:function(e){var l=e.__ln;this.head&&(l.previous?(l.previous.next=l.next,l.next?l.next.previous=l.previous:this.tail=l.previous):(this.head=l.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}])}(),moveKey=function(e,l){return"".concat(e,"@").concat(l)},ss=function(){return _createClass3(function MutationBuffer(){var e=this;_classCallCheck3(this,MutationBuffer),__publicField(this,"frozen",!1),__publicField(this,"locked",!1),__publicField(this,"texts",[]),__publicField(this,"attributes",[]),__publicField(this,"attributeMap",new WeakMap),__publicField(this,"removes",[]),__publicField(this,"mapRemoves",[]),__publicField(this,"movedMap",{}),__publicField(this,"addedSet",new Set),__publicField(this,"movedSet",new Set),__publicField(this,"droppedSet",new Set),__publicField(this,"mutationCb"),__publicField(this,"blockClass"),__publicField(this,"blockSelector"),__publicField(this,"maskTextClass"),__publicField(this,"maskTextSelector"),__publicField(this,"inlineStylesheet"),__publicField(this,"maskInputOptions"),__publicField(this,"maskTextFn"),__publicField(this,"maskInputFn"),__publicField(this,"keepIframeSrcFn"),__publicField(this,"recordCanvas"),__publicField(this,"inlineImages"),__publicField(this,"slimDOMOptions"),__publicField(this,"dataURLOptions"),__publicField(this,"doc"),__publicField(this,"mirror"),__publicField(this,"iframeManager"),__publicField(this,"stylesheetManager"),__publicField(this,"shadowDomManager"),__publicField(this,"canvasManager"),__publicField(this,"processedNodeManager"),__publicField(this,"unattachedDoc"),__publicField(this,"processMutations",function(l){l.forEach(e.processMutation),e.emit()}),__publicField(this,"emit",function(){if(!e.frozen&&!e.locked){for(var l=[],_=new Set,k=new os,getNextId=function(l){for(var _=l,k=-2;-2===k;)k=(_=_&&_.nextSibling)&&e.mirror.getId(_);return k},pushAdd=function(S){var E=Jo.parentNode(S);if(E&&inDom(S)&&"TEXTAREA"!==E.tagName){var T=isShadowRoot(E)?e.mirror.getId(getShadowHost(S)):e.mirror.getId(E),O=getNextId(S);if(-1===T||-1===O)return k.addNode(S);var I=serializeNodeWithId(S,{doc:e.doc,mirror:e.mirror,blockClass:e.blockClass,blockSelector:e.blockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,maskInputFn:e.maskInputFn,slimDOMOptions:e.slimDOMOptions,dataURLOptions:e.dataURLOptions,recordCanvas:e.recordCanvas,inlineImages:e.inlineImages,onSerialize:function(l){isSerializedIframe(l,e.mirror)&&e.iframeManager.addIframe(l),isSerializedStylesheet(l,e.mirror)&&e.stylesheetManager.trackLinkElement(l),hasShadowRoot(S)&&e.shadowDomManager.addShadowRoot(Jo.shadowRoot(S),e.doc)},onIframeLoad:function(l,_){e.iframeManager.attachIframe(l,_),e.shadowDomManager.observeAttachShadow(l)},onStylesheetLoad:function(l,_){e.stylesheetManager.attachLinkElement(l,_)}});I&&(l.push({parentId:T,nextId:O,node:I}),_.add(I.id))}};e.mapRemoves.length;)e.mirror.removeNodeFromMap(e.mapRemoves.shift());var S,E=_createForOfIteratorHelper2(e.movedSet);try{for(E.s();!(S=E.n()).done;){var T=S.value;isParentRemoved(e.removes,T,e.mirror)&&!e.movedSet.has(Jo.parentNode(T))||pushAdd(T)}}catch(K){E.e(K)}finally{E.f()}var O,I=_createForOfIteratorHelper2(e.addedSet);try{for(I.s();!(O=I.n()).done;){var R=O.value;isAncestorInSet(e.droppedSet,R)||isParentRemoved(e.removes,R,e.mirror)?isAncestorInSet(e.movedSet,R)?pushAdd(R):e.droppedSet.add(R):pushAdd(R)}}catch(K){I.e(K)}finally{I.f()}for(var M=null;k.length;){var j=null;if(M){var D=e.mirror.getId(Jo.parentNode(M.value)),L=getNextId(M.value);-1!==D&&-1!==L&&(j=M)}if(!j)for(var U=k.tail;U;){var B=U;if(U=U.previous,B){var q=e.mirror.getId(Jo.parentNode(B.value));if(-1===getNextId(B.value))continue;if(-1!==q){j=B;break}var z=B.value,G=Jo.parentNode(z);if(G&&G.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var W=Jo.host(G);if(-1!==e.mirror.getId(W)){j=B;break}}}}if(!j){for(;k.head;)k.removeNode(k.head.value);break}M=j.previous,k.removeNode(j.value),pushAdd(j.value)}var V={texts:e.texts.map(function(l){var _=l.node,k=Jo.parentNode(_);return k&&"TEXTAREA"===k.tagName&&e.genTextAreaValueMutation(k),{id:e.mirror.getId(_),value:l.value}}).filter(function(e){return!_.has(e.id)}).filter(function(l){return e.mirror.has(l.id)}),attributes:e.attributes.map(function(l){var _=l.attributes;if("string"==typeof _.style){var k=JSON.stringify(l.styleDiff),S=JSON.stringify(l._unchangedStyles);k.length<_.style.length&&(k+S).split("var(").length===_.style.split("var(").length&&(_.style=l.styleDiff)}return{id:e.mirror.getId(l.node),attributes:_}}).filter(function(e){return!_.has(e.id)}).filter(function(l){return e.mirror.has(l.id)}),removes:e.removes,adds:l};(V.texts.length||V.attributes.length||V.removes.length||V.adds.length)&&(e.texts=[],e.attributes=[],e.attributeMap=new WeakMap,e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.mutationCb(V))}}),__publicField(this,"genTextAreaValueMutation",function(l){var _=e.attributeMap.get(l);_||(_={node:l,attributes:{},styleDiff:{},_unchangedStyles:{}},e.attributes.push(_),e.attributeMap.set(l,_)),_.attributes.value=Array.from(Jo.childNodes(l),function(e){return Jo.textContent(e)||""}).join("")}),__publicField(this,"processMutation",function(l){if(!isIgnored(l.target,e.mirror,e.slimDOMOptions))switch(l.type){case"characterData":var _=Jo.textContent(l.target);isBlocked(l.target,e.blockClass,e.blockSelector,!1)||_===l.oldValue||e.texts.push({value:needMaskingText(l.target,e.maskTextClass,e.maskTextSelector,!0)&&_?e.maskTextFn?e.maskTextFn(_,closestElementOfNode(l.target)):_.replace(/[\S]/g,"*"):_,node:l.target});break;case"attributes":var k=l.target,S=l.attributeName,E=l.target.getAttribute(S);if("value"===S){var T=getInputType(k);E=maskInputValue({element:k,maskInputOptions:e.maskInputOptions,tagName:k.tagName,type:T,value:E,maskInputFn:e.maskInputFn})}if(isBlocked(l.target,e.blockClass,e.blockSelector,!1)||E===l.oldValue)return;var O=e.attributeMap.get(l.target);if("IFRAME"===k.tagName&&"src"===S&&!e.keepIframeSrcFn(E)){if(k.contentDocument)return;S="rr_src"}if(O||(O={node:l.target,attributes:{},styleDiff:{},_unchangedStyles:{}},e.attributes.push(O),e.attributeMap.set(l.target,O)),"type"===S&&"INPUT"===k.tagName&&"password"===(l.oldValue||"").toLowerCase()&&k.setAttribute("data-rr-is-password","true"),!ignoreAttribute(k.tagName,S))if(O.attributes[S]=transformAttribute(e.doc,toLowerCase(k.tagName),toLowerCase(S),E),"style"===S){if(!e.unattachedDoc)try{e.unattachedDoc=document.implementation.createHTMLDocument()}catch(z){e.unattachedDoc=e.doc}var I=e.unattachedDoc.createElement("span");l.oldValue&&I.setAttribute("style",l.oldValue);for(var R=0,M=Array.from(k.style);R<M.length;R++){var j=M[R],D=k.style.getPropertyValue(j),L=k.style.getPropertyPriority(j);D!==I.style.getPropertyValue(j)||L!==I.style.getPropertyPriority(j)?O.styleDiff[j]=""===L?D:[D,L]:O._unchangedStyles[j]=[D,L]}for(var U=0,B=Array.from(I.style);U<B.length;U++){var q=B[U];""===k.style.getPropertyValue(q)&&(O.styleDiff[q]=!1)}}else"open"===S&&"DIALOG"===k.tagName&&(k.matches("dialog:modal")?O.attributes.rr_open_mode="modal":O.attributes.rr_open_mode="non-modal");break;case"childList":if(isBlocked(l.target,e.blockClass,e.blockSelector,!0))return;if("TEXTAREA"===l.target.tagName)return void e.genTextAreaValueMutation(l.target);l.addedNodes.forEach(function(_){return e.genAdds(_,l.target)}),l.removedNodes.forEach(function(_){var k=e.mirror.getId(_),S=isShadowRoot(l.target)?e.mirror.getId(Jo.host(l.target)):e.mirror.getId(l.target);isBlocked(l.target,e.blockClass,e.blockSelector,!1)||isIgnored(_,e.mirror,e.slimDOMOptions)||!function(e,l){return-1!==l.getId(e)}(_,e.mirror)||(e.addedSet.has(_)?(deepDelete(e.addedSet,_),e.droppedSet.add(_)):e.addedSet.has(l.target)&&-1===k||isAncestorRemoved(l.target,e.mirror)||(e.movedSet.has(_)&&e.movedMap[moveKey(k,S)]?deepDelete(e.movedSet,_):e.removes.push({parentId:S,id:k,isShadow:!(!isShadowRoot(l.target)||!isNativeShadowDom(l.target))||void 0})),e.mapRemoves.push(_))})}}),__publicField(this,"genAdds",function(l,_){if(!e.processedNodeManager.inOtherBuffer(l,e)&&!e.addedSet.has(l)&&!e.movedSet.has(l)){if(e.mirror.hasNode(l)){if(isIgnored(l,e.mirror,e.slimDOMOptions))return;e.movedSet.add(l);var k=null;_&&e.mirror.hasNode(_)&&(k=e.mirror.getId(_)),k&&-1!==k&&(e.movedMap[moveKey(e.mirror.getId(l),k)]=!0)}else e.addedSet.add(l),e.droppedSet.delete(l);isBlocked(l,e.blockClass,e.blockSelector,!1)||(Jo.childNodes(l).forEach(function(l){return e.genAdds(l)}),hasShadowRoot(l)&&Jo.childNodes(Jo.shadowRoot(l)).forEach(function(_){e.processedNodeManager.add(_,e),e.genAdds(_,l)}))}})},[{key:"init",value:function(e){var l=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(_){l[_]=e[_]})}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}])}();function deepDelete(e,l){e.delete(l),Jo.childNodes(l).forEach(function(l){return deepDelete(e,l)})}function isParentRemoved(e,l,_){return 0!==e.length&&function(e,l,_){var k,S=Jo.parentNode(l),_loop3=function(){var l=_.getId(S);if(e.some(function(e){return e.id===l}))return{v:!0};S=Jo.parentNode(S)};for(;S;)if(k=_loop3())return k.v;return!1}(e,l,_)}function isAncestorInSet(e,l){return 0!==e.size&&_isAncestorInSet(e,l)}function _isAncestorInSet(e,l){var _=Jo.parentNode(l);return!!_&&(!!e.has(_)||_isAncestorInSet(e,_))}var callbackWrapper=function(e){if(!as)return e;return function(){try{return e.apply(void 0,arguments)}catch(l){if(as&&!0===as(l))return;throw l}}},us=[];function getEventTarget(e){try{if("composedPath"in e){var l=e.composedPath();if(l.length)return l[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(_){}return e&&e.target}function initMutationObserver(e,l){var _=new ss;us.push(_),_.init(e);var k=new(mutationObserverCtor())(callbackWrapper(_.processMutations.bind(_)));return k.observe(l,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),k}function initMouseInteractionObserver(e){var l=e.mouseInteractionCb,_=e.doc,k=e.mirror,S=e.blockClass,E=e.blockSelector,T=e.sampling;if(!1===T.mouseInteraction)return function(){};var O=!0===T.mouseInteraction||void 0===T.mouseInteraction?{}:T.mouseInteraction,I=[],R=null;return Object.keys(ts).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==O[e]}).forEach(function(e){var T=toLowerCase(e),O=function(e){return function(_){var T=getEventTarget(_);if(!isBlocked(T,S,E,!0)){var O=null,I=e;if("pointerType"in _){switch(_.pointerType){case"mouse":O=rs.Mouse;break;case"touch":O=rs.Touch;break;case"pen":O=rs.Pen}O===rs.Touch?ts[e]===ts.MouseDown?I="TouchStart":ts[e]===ts.MouseUp&&(I="TouchEnd"):rs.Pen}else legacy_isTouchEvent(_)&&(O=rs.Touch);null!==O?(R=O,(I.startsWith("Touch")&&O===rs.Touch||I.startsWith("Mouse")&&O===rs.Mouse)&&(O=null)):ts[e]===ts.Click&&(O=R,R=null);var M=legacy_isTouchEvent(_)?_.changedTouches[0]:_;if(M){var j=k.getId(T),D=M.clientX,L=M.clientY;callbackWrapper(l)(_objectSpread2({type:ts[I],id:j,x:D,y:L},null!==O&&{pointerType:O}))}}}}(e);if(window.PointerEvent)switch(ts[e]){case ts.MouseDown:case ts.MouseUp:T=T.replace("mouse","pointer");break;case ts.TouchStart:case ts.TouchEnd:return}I.push(on(T,O,_))}),callbackWrapper(function(){I.forEach(function(e){return e()})})}function initScrollObserver(e){var l=e.scrollCb,_=e.doc,k=e.mirror,S=e.blockClass,E=e.blockSelector,T=e.sampling;return on("scroll",callbackWrapper(throttle(callbackWrapper(function(e){var T=getEventTarget(e);if(T&&!isBlocked(T,S,E,!0)){var O=k.getId(T);if(T===_&&_.defaultView){var I=getWindowScroll(_.defaultView);l({id:O,x:I.left,y:I.top})}else l({id:O,x:T.scrollLeft,y:T.scrollTop})}}),T.scroll||100)),_)}var ls=["INPUT","TEXTAREA","SELECT"],cs=new WeakMap;function getNestedCSSRulePositions(e){return function(e,l){if(hasNestedCSSRule("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var _=Array.from(e.parentRule.cssRules).indexOf(e);l.unshift(_)}else if(e.parentStyleSheet){var k=Array.from(e.parentStyleSheet.cssRules).indexOf(e);l.unshift(k)}return l}(e,[])}function getIdAndStyleId(e,l,_){var k,S;return e?(e.ownerNode?k=l.getId(e.ownerNode):S=_.getId(e),{styleId:S,id:k}):{}}function initAdoptedStyleSheetObserver(e,l){var _,k,S,E=e.mirror,T=e.stylesheetManager,O=null;O="#document"===l.nodeName?E.getId(l):E.getId(Jo.host(l));var I="#document"===l.nodeName?null==(_=l.defaultView)?void 0:_.Document:null==(S=null==(k=l.ownerDocument)?void 0:k.defaultView)?void 0:S.ShadowRoot,R=(null==I?void 0:I.prototype)?Object.getOwnPropertyDescriptor(null==I?void 0:I.prototype,"adoptedStyleSheets"):void 0;return null!==O&&-1!==O&&I&&R?(Object.defineProperty(l,"adoptedStyleSheets",{configurable:R.configurable,enumerable:R.enumerable,get:function(){var e;return null==(e=R.get)?void 0:e.call(this)},set:function(e){var l,_=null==(l=R.set)?void 0:l.call(this,e);if(null!==O&&-1!==O)try{T.adoptStyleSheets(e,O)}catch(k){}return _}}),callbackWrapper(function(){Object.defineProperty(l,"adoptedStyleSheets",{configurable:R.configurable,enumerable:R.enumerable,get:R.get,set:R.set})})):function(){}}function initObservers(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=e.doc.defaultView;if(!k)return function(){};!function(e,l){var _=e.mutationCb,k=e.mousemoveCb,S=e.mouseInteractionCb,E=e.scrollCb,T=e.viewportResizeCb,O=e.inputCb,I=e.mediaInteractionCb,R=e.styleSheetRuleCb,M=e.styleDeclarationCb,j=e.canvasMutationCb,D=e.fontCb,L=e.selectionCb,U=e.customElementCb;e.mutationCb=function(){l.mutation&&l.mutation.apply(l,arguments),_.apply(void 0,arguments)},e.mousemoveCb=function(){l.mousemove&&l.mousemove.apply(l,arguments),k.apply(void 0,arguments)},e.mouseInteractionCb=function(){l.mouseInteraction&&l.mouseInteraction.apply(l,arguments),S.apply(void 0,arguments)},e.scrollCb=function(){l.scroll&&l.scroll.apply(l,arguments),E.apply(void 0,arguments)},e.viewportResizeCb=function(){l.viewportResize&&l.viewportResize.apply(l,arguments),T.apply(void 0,arguments)},e.inputCb=function(){l.input&&l.input.apply(l,arguments),O.apply(void 0,arguments)},e.mediaInteractionCb=function(){l.mediaInteaction&&l.mediaInteaction.apply(l,arguments),I.apply(void 0,arguments)},e.styleSheetRuleCb=function(){l.styleSheetRule&&l.styleSheetRule.apply(l,arguments),R.apply(void 0,arguments)},e.styleDeclarationCb=function(){l.styleDeclaration&&l.styleDeclaration.apply(l,arguments),M.apply(void 0,arguments)},e.canvasMutationCb=function(){l.canvasMutation&&l.canvasMutation.apply(l,arguments),j.apply(void 0,arguments)},e.fontCb=function(){l.font&&l.font.apply(l,arguments),D.apply(void 0,arguments)},e.selectionCb=function(){l.selection&&l.selection.apply(l,arguments),L.apply(void 0,arguments)},e.customElementCb=function(){l.customElement&&l.customElement.apply(l,arguments),U.apply(void 0,arguments)}}(e,_),e.recordDOM&&(l=initMutationObserver(e,e.doc));var S,E,T,O,I,R,M,j,D,L,U,B,q,z,G=function(e){var l=e.mousemoveCb,_=e.sampling,k=e.doc,S=e.mirror;if(!1===_.mousemove)return function(){};var E,T="number"==typeof _.mousemove?_.mousemove:50,O="number"==typeof _.mousemoveCallback?_.mousemoveCallback:500,I=[],R=throttle(callbackWrapper(function(e){var _=Date.now()-E;l(I.map(function(e){return e.timeOffset-=_,e}),e),I=[],E=null}),O),M=callbackWrapper(throttle(callbackWrapper(function(e){var l=getEventTarget(e),_=legacy_isTouchEvent(e)?e.changedTouches[0]:e,k=_.clientX,T=_.clientY;E||(E=Xo()),I.push({x:k,y:T,id:S.getId(l),timeOffset:Xo()-E}),R("undefined"!=typeof DragEvent&&e instanceof DragEvent?es.Drag:e instanceof MouseEvent?es.MouseMove:es.TouchMove)}),T,{trailing:!1})),j=[on("mousemove",M,k),on("touchmove",M,k),on("drag",M,k)];return callbackWrapper(function(){j.forEach(function(e){return e()})})}(e),W=initMouseInteractionObserver(e),V=initScrollObserver(e),K=(S={win:k},E=e.viewportResizeCb,T=S.win,O=-1,I=-1,on("resize",callbackWrapper(throttle(callbackWrapper(function(){var e=getWindowHeight(),l=getWindowWidth();O===e&&I===l||(E({width:Number(l),height:Number(e)}),O=e,I=l)}),200)),T)),H=function(e){var l=e.inputCb,_=e.doc,k=e.mirror,S=e.blockClass,E=e.blockSelector,T=e.ignoreClass,O=e.ignoreSelector,I=e.maskInputOptions,R=e.maskInputFn,M=e.sampling,j=e.userTriggeredOnInput;function eventHandler(e){var l=getEventTarget(e),k=e.isTrusted,M=l&&l.tagName;if(l&&"OPTION"===M&&(l=Jo.parentElement(l)),l&&M&&!(ls.indexOf(M)<0)&&!isBlocked(l,S,E,!0)&&!(l.classList.contains(T)||O&&l.matches(O))){var D=l.value,L=!1,U=getInputType(l)||"";"radio"===U||"checkbox"===U?L=l.checked:(I[M.toLowerCase()]||I[U])&&(D=maskInputValue({element:l,maskInputOptions:I,tagName:M,type:U,value:D,maskInputFn:R})),cbWithDedup(l,j?{text:D,isChecked:L,userTriggered:k}:{text:D,isChecked:L});var B=l.name;"radio"===U&&B&&L&&_.querySelectorAll('input[type="radio"][name="'.concat(B,'"]')).forEach(function(e){if(e!==l){var _=e.value;cbWithDedup(e,j?{text:_,isChecked:!L,userTriggered:!1}:{text:_,isChecked:!L})}})}}function cbWithDedup(e,_){var S=cs.get(e);if(!S||S.text!==_.text||S.isChecked!==_.isChecked){cs.set(e,_);var E=k.getId(e);callbackWrapper(l)(_objectSpread2(_objectSpread2({},_),{},{id:E}))}}var D=("last"===M.input?["change"]:["input","change"]).map(function(e){return on(e,callbackWrapper(eventHandler),_)}),L=_.defaultView;if(!L)return function(){D.forEach(function(e){return e()})};var U=L.Object.getOwnPropertyDescriptor(L.HTMLInputElement.prototype,"value"),B=[[L.HTMLInputElement.prototype,"value"],[L.HTMLInputElement.prototype,"checked"],[L.HTMLSelectElement.prototype,"value"],[L.HTMLTextAreaElement.prototype,"value"],[L.HTMLSelectElement.prototype,"selectedIndex"],[L.HTMLOptionElement.prototype,"selected"]];return U&&U.set&&D.push.apply(D,_toConsumableArray3(B.map(function(e){return hookSetter(e[0],e[1],{set:function(){callbackWrapper(eventHandler)({target:this,isTrusted:!1})}},!1,L)}))),callbackWrapper(function(){D.forEach(function(e){return e()})})}(e),$=(M=(R=e).mediaInteractionCb,j=R.blockClass,D=R.blockSelector,L=R.mirror,U=R.sampling,B=R.doc,q=callbackWrapper(function(e){return throttle(callbackWrapper(function(l){var _=getEventTarget(l);if(_&&!isBlocked(_,j,D,!0)){var k=_.currentTime,S=_.volume,E=_.muted,T=_.playbackRate,O=_.loop;M({type:e,id:L.getId(_),currentTime:k,volume:S,muted:E,playbackRate:T,loop:O})}}),U.media||500)}),z=[on("play",q(is.Play),B),on("pause",q(is.Pause),B),on("seeked",q(is.Seeked),B),on("volumechange",q(is.VolumeChange),B),on("ratechange",q(is.RateChange),B)],callbackWrapper(function(){z.forEach(function(e){return e()})})),styleSheetObserver=function(){},adoptedStyleSheetObserver=function(){},styleDeclarationObserver=function(){},fontObserver=function(){};e.recordDOM&&(styleSheetObserver=function(e,l){var _=e.styleSheetRuleCb,k=e.mirror,S=e.stylesheetManager,E=l.win;if(!E.CSSStyleSheet||!E.CSSStyleSheet.prototype)return function(){};var T=E.CSSStyleSheet.prototype.insertRule;E.CSSStyleSheet.prototype.insertRule=new Proxy(T,{apply:callbackWrapper(function(e,l,E){var T=_slicedToArray(E,2),O=T[0],I=T[1],R=getIdAndStyleId(l,k,S.styleMirror),M=R.id,j=R.styleId;return(M&&-1!==M||j&&-1!==j)&&_({id:M,styleId:j,adds:[{rule:O,index:I}]}),e.apply(l,E)})}),E.CSSStyleSheet.prototype.addRule=function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,k="".concat(e," { ").concat(l," }");return E.CSSStyleSheet.prototype.insertRule.apply(this,[k,_])};var O,I,R=E.CSSStyleSheet.prototype.deleteRule;E.CSSStyleSheet.prototype.deleteRule=new Proxy(R,{apply:callbackWrapper(function(e,l,E){var T=_slicedToArray(E,1)[0],O=getIdAndStyleId(l,k,S.styleMirror),I=O.id,R=O.styleId;return(I&&-1!==I||R&&-1!==R)&&_({id:I,styleId:R,removes:[{index:T}]}),e.apply(l,E)})}),E.CSSStyleSheet.prototype.removeRule=function(e){return E.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},E.CSSStyleSheet.prototype.replace&&(O=E.CSSStyleSheet.prototype.replace,E.CSSStyleSheet.prototype.replace=new Proxy(O,{apply:callbackWrapper(function(e,l,E){var T=_slicedToArray(E,1)[0],O=getIdAndStyleId(l,k,S.styleMirror),I=O.id,R=O.styleId;return(I&&-1!==I||R&&-1!==R)&&_({id:I,styleId:R,replace:T}),e.apply(l,E)})})),E.CSSStyleSheet.prototype.replaceSync&&(I=E.CSSStyleSheet.prototype.replaceSync,E.CSSStyleSheet.prototype.replaceSync=new Proxy(I,{apply:callbackWrapper(function(e,l,E){var T=_slicedToArray(E,1)[0],O=getIdAndStyleId(l,k,S.styleMirror),I=O.id,R=O.styleId;return(I&&-1!==I||R&&-1!==R)&&_({id:I,styleId:R,replaceSync:T}),e.apply(l,E)})}));var M={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?M.CSSGroupingRule=E.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(M.CSSMediaRule=E.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(M.CSSConditionRule=E.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(M.CSSSupportsRule=E.CSSSupportsRule));var j={};return Object.entries(M).forEach(function(e){var l=_slicedToArray(e,2),E=l[0],T=l[1];j[E]={insertRule:T.prototype.insertRule,deleteRule:T.prototype.deleteRule},T.prototype.insertRule=new Proxy(j[E].insertRule,{apply:callbackWrapper(function(e,l,E){var T=_slicedToArray(E,2),O=T[0],I=T[1],R=getIdAndStyleId(l.parentStyleSheet,k,S.styleMirror),M=R.id,j=R.styleId;return(M&&-1!==M||j&&-1!==j)&&_({id:M,styleId:j,adds:[{rule:O,index:[].concat(_toConsumableArray3(getNestedCSSRulePositions(l)),[I||0])}]}),e.apply(l,E)})}),T.prototype.deleteRule=new Proxy(j[E].deleteRule,{apply:callbackWrapper(function(e,l,E){var T=_slicedToArray(E,1)[0],O=getIdAndStyleId(l.parentStyleSheet,k,S.styleMirror),I=O.id,R=O.styleId;return(I&&-1!==I||R&&-1!==R)&&_({id:I,styleId:R,removes:[{index:[].concat(_toConsumableArray3(getNestedCSSRulePositions(l)),[T])}]}),e.apply(l,E)})})}),callbackWrapper(function(){E.CSSStyleSheet.prototype.insertRule=T,E.CSSStyleSheet.prototype.deleteRule=R,O&&(E.CSSStyleSheet.prototype.replace=O),I&&(E.CSSStyleSheet.prototype.replaceSync=I),Object.entries(M).forEach(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];k.prototype.insertRule=j[_].insertRule,k.prototype.deleteRule=j[_].deleteRule})})}(e,{win:k}),adoptedStyleSheetObserver=initAdoptedStyleSheetObserver(e,e.doc),styleDeclarationObserver=function(e,l){var _=e.styleDeclarationCb,k=e.mirror,S=e.ignoreCSSAttributes,E=e.stylesheetManager,T=l.win,O=T.CSSStyleDeclaration.prototype.setProperty;T.CSSStyleDeclaration.prototype.setProperty=new Proxy(O,{apply:callbackWrapper(function(e,l,T){var I,R=_slicedToArray(T,3),M=R[0],j=R[1],D=R[2];if(S.has(M))return O.apply(l,[M,j,D]);var L=getIdAndStyleId(null==(I=l.parentRule)?void 0:I.parentStyleSheet,k,E.styleMirror),U=L.id,B=L.styleId;return(U&&-1!==U||B&&-1!==B)&&_({id:U,styleId:B,set:{property:M,value:j,priority:D},index:getNestedCSSRulePositions(l.parentRule)}),e.apply(l,T)})});var I=T.CSSStyleDeclaration.prototype.removeProperty;return T.CSSStyleDeclaration.prototype.removeProperty=new Proxy(I,{apply:callbackWrapper(function(e,l,T){var O,R=_slicedToArray(T,1)[0];if(S.has(R))return I.apply(l,[R]);var M=getIdAndStyleId(null==(O=l.parentRule)?void 0:O.parentStyleSheet,k,E.styleMirror),j=M.id,D=M.styleId;return(j&&-1!==j||D&&-1!==D)&&_({id:j,styleId:D,remove:{property:R},index:getNestedCSSRulePositions(l.parentRule)}),e.apply(l,T)})}),callbackWrapper(function(){T.CSSStyleDeclaration.prototype.setProperty=O,T.CSSStyleDeclaration.prototype.removeProperty=I})}(e,{win:k}),e.collectFonts&&(fontObserver=function(e){var l=e.fontCb,_=e.doc,k=_.defaultView;if(!k)return function(){};var S=[],E=new WeakMap,T=k.FontFace;k.FontFace=function(e,l,_){var k=new T(e,l,_);return E.set(k,{family:e,buffer:"string"!=typeof l,descriptors:_,fontSource:"string"==typeof l?l:JSON.stringify(Array.from(new Uint8Array(l)))}),k};var O=patch(_.fonts,"add",function(e){return function(_){return setTimeout(callbackWrapper(function(){var e=E.get(_);e&&(l(e),E.delete(_))}),0),e.apply(this,[_])}});return S.push(function(){k.FontFace=T}),S.push(O),callbackWrapper(function(){S.forEach(function(e){return e()})})}(e)));var J,Y=function(e){var l=e.doc,_=e.mirror,k=e.blockClass,S=e.blockSelector,E=e.selectionCb,T=!0,O=callbackWrapper(function(){var e=l.getSelection();if(!(!e||T&&(null==e?void 0:e.isCollapsed))){T=e.isCollapsed||!1;for(var O=[],I=e.rangeCount||0,R=0;R<I;R++){var M=e.getRangeAt(R),j=M.startContainer,D=M.startOffset,L=M.endContainer,U=M.endOffset;isBlocked(j,k,S,!0)||isBlocked(L,k,S,!0)||O.push({start:_.getId(j),startOffset:D,end:_.getId(L),endOffset:U})}E({ranges:O})}});return O(),on("selectionchange",O)}(e),X=function(e){var l=e.doc,_=e.customElementCb,k=l.defaultView;return k&&k.customElements?patch(k.customElements,"define",function(e){return function(l,k,S){try{_({define:{name:l}})}catch(E){}return e.apply(this,[l,k,S])}}):function(){}}(e),Z=[],Q=_createForOfIteratorHelper2(e.plugins);try{for(Q.s();!(J=Q.n()).done;){var ee=J.value;Z.push(ee.observer(ee.callback,k,ee.options))}}catch(te){Q.e(te)}finally{Q.f()}return callbackWrapper(function(){us.forEach(function(e){return e.reset()}),null==l||l.disconnect(),G(),W(),V(),K(),H(),$(),styleSheetObserver(),adoptedStyleSheetObserver(),styleDeclarationObserver(),fontObserver(),Y(),X(),Z.forEach(function(e){return e()})})}function hasNestedCSSRule(e){return void 0!==window[e]}function canMonkeyPatchNestedCSSRule(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}for(var hs=function(){return _createClass3(function CrossOriginIframeMirror(e){_classCallCheck3(this,CrossOriginIframeMirror),__publicField(this,"iframeIdToRemoteIdMap",new WeakMap),__publicField(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e},[{key:"getId",value:function(e,l,_,k){var S=_||this.getIdToRemoteIdMap(e),E=k||this.getRemoteIdToIdMap(e),T=S.get(l);return T||(T=this.generateIdFn(),S.set(l,T),E.set(T,l)),T}},{key:"getIds",value:function(e,l){var _=this,k=this.getIdToRemoteIdMap(e),S=this.getRemoteIdToIdMap(e);return l.map(function(l){return _.getId(e,l,k,S)})}},{key:"getRemoteId",value:function(e,l,_){var k=_||this.getRemoteIdToIdMap(e);if("number"!=typeof l)return l;var S=k.get(l);return S||-1}},{key:"getRemoteIds",value:function(e,l){var _=this,k=this.getRemoteIdToIdMap(e);return l.map(function(l){return _.getRemoteId(e,l,k)})}},{key:"reset",value:function(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var l=this.iframeIdToRemoteIdMap.get(e);return l||(l=new Map,this.iframeIdToRemoteIdMap.set(e,l)),l}},{key:"getRemoteIdToIdMap",value:function(e){var l=this.iframeRemoteIdToIdMap.get(e);return l||(l=new Map,this.iframeRemoteIdToIdMap.set(e,l)),l}}])}(),ds=function(){return _createClass3(function IframeManager(e){_classCallCheck3(this,IframeManager),__publicField(this,"iframes",new WeakMap),__publicField(this,"crossOriginIframeMap",new WeakMap),__publicField(this,"crossOriginIframeMirror",new hs(genId)),__publicField(this,"crossOriginIframeStyleMirror"),__publicField(this,"crossOriginIframeRootIdMap",new WeakMap),__publicField(this,"mirror"),__publicField(this,"mutationCb"),__publicField(this,"wrappedEmit"),__publicField(this,"loadListener"),__publicField(this,"stylesheetManager"),__publicField(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new hs(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))},[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,l){var _,k;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:l}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(_=e.contentWindow)||_.addEventListener("message",this.handleMessage.bind(this))),null==(k=this.loadListener)||k.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}},{key:"handleMessage",value:function(e){var l=e;if("rrweb"===l.data.type&&l.origin===l.data.origin&&e.source){var _=this.crossOriginIframeMap.get(e.source);if(_){var k=this.transformCrossOriginEvent(_,l.data.event);k&&this.wrappedEmit(k,l.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,l){var _,k=this;switch(l.type){case Qo.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(l.data.node,e);var S=l.data.node.id;return this.crossOriginIframeRootIdMap.set(e,S),this.patchRootIdOnNode(l.data.node,S),{timestamp:l.timestamp,type:Qo.IncrementalSnapshot,data:{source:es.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:l.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Qo.Meta:case Qo.Load:case Qo.DomContentLoaded:return!1;case Qo.Plugin:return l;case Qo.Custom:return this.replaceIds(l.data.payload,e,["id","parentId","previousId","nextId"]),l;case Qo.IncrementalSnapshot:switch(l.data.source){case es.Mutation:return l.data.adds.forEach(function(l){k.replaceIds(l,e,["parentId","nextId","previousId"]),k.replaceIdOnNode(l.node,e);var _=k.crossOriginIframeRootIdMap.get(e);_&&k.patchRootIdOnNode(l.node,_)}),l.data.removes.forEach(function(l){k.replaceIds(l,e,["parentId","id"])}),l.data.attributes.forEach(function(l){k.replaceIds(l,e,["id"])}),l.data.texts.forEach(function(l){k.replaceIds(l,e,["id"])}),l;case es.Drag:case es.TouchMove:case es.MouseMove:return l.data.positions.forEach(function(l){k.replaceIds(l,e,["id"])}),l;case es.ViewportResize:return!1;case es.MediaInteraction:case es.MouseInteraction:case es.Scroll:case es.CanvasMutation:case es.Input:return this.replaceIds(l.data,e,["id"]),l;case es.StyleSheetRule:case es.StyleDeclaration:return this.replaceIds(l.data,e,["id"]),this.replaceStyleIds(l.data,e,["styleId"]),l;case es.Font:return l;case es.Selection:return l.data.ranges.forEach(function(l){k.replaceIds(l,e,["start","end"])}),l;case es.AdoptedStyleSheet:return this.replaceIds(l.data,e,["id"]),this.replaceStyleIds(l.data,e,["styleIds"]),null==(_=l.data.styles)||_.forEach(function(l){k.replaceStyleIds(l,e,["styleId"])}),l}}return!1}},{key:"replace",value:function(e,l,_,k){var S,E=_createForOfIteratorHelper2(k);try{for(E.s();!(S=E.n()).done;){var T=S.value;(Array.isArray(l[T])||"number"==typeof l[T])&&(Array.isArray(l[T])?l[T]=e.getIds(_,l[T]):l[T]=e.getId(_,l[T]))}}catch(O){E.e(O)}finally{E.f()}return l}},{key:"replaceIds",value:function(e,l,_){return this.replace(this.crossOriginIframeMirror,e,l,_)}},{key:"replaceStyleIds",value:function(e,l,_){return this.replace(this.crossOriginIframeStyleMirror,e,l,_)}},{key:"replaceIdOnNode",value:function(e,l){var _=this;this.replaceIds(e,l,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(function(e){_.replaceIdOnNode(e,l)})}},{key:"patchRootIdOnNode",value:function(e,l){var _=this;e.type===M.Document||e.rootId||(e.rootId=l),"childNodes"in e&&e.childNodes.forEach(function(e){_.patchRootIdOnNode(e,l)})}}])}(),fs=function(){return _createClass3(function ShadowDomManager(e){_classCallCheck3(this,ShadowDomManager),__publicField(this,"shadowDoms",new WeakSet),__publicField(this,"mutationCb"),__publicField(this,"scrollCb"),__publicField(this,"bypassOptions"),__publicField(this,"mirror"),__publicField(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()},[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,l){var _=this;if(isNativeShadowDom(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e);var k=initMutationObserver(_objectSpread2(_objectSpread2({},this.bypassOptions),{},{doc:l,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(function(){return k.disconnect()}),this.restoreHandlers.push(initScrollObserver(_objectSpread2(_objectSpread2({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&_.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,_.mirror.getId(Jo.host(e))),_.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:_.mirror,stylesheetManager:_.bypassOptions.stylesheetManager},e))},0)}}},{key:"observeAttachShadow",value:function(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}},{key:"patchAttachShadow",value:function(e,l){var _=this;this.restoreHandlers.push(patch(e.prototype,"attachShadow",function(e){return function(k){var S=e.call(this,k),E=Jo.shadowRoot(this);return E&&inDom(this)&&_.addShadowRoot(E,l),S}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(e){try{e()}catch(l){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}])}(),ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vs="undefined"==typeof Uint8Array?[]:new Uint8Array(256),gs=0;gs<64;gs++)vs[ps.charCodeAt(gs)]=gs;var ms=new Map;var saveWebGLVar=function(e,l,_){if(e&&(isInstanceOfWebGLObject(e,l)||"object"===_typeof3(e))){var k=function(e,l){var _=ms.get(e);return _||(_=new Map,ms.set(e,_)),_.has(l)||_.set(l,[]),_.get(l)}(_,e.constructor.name),S=k.indexOf(e);return-1===S&&(S=k.length,k.push(e)),S}};function serializeArg(e,l,_){if(e instanceof Array)return e.map(function(e){return serializeArg(e,l,_)});if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){var k=e.constructor.name,S=function(e){var l,_=new Uint8Array(e),k=_.length,S="";for(l=0;l<k;l+=3)S+=ps[_[l]>>2],S+=ps[(3&_[l])<<4|_[l+1]>>4],S+=ps[(15&_[l+1])<<2|_[l+2]>>6],S+=ps[63&_[l+2]];return k%3==2?S=S.substring(0,S.length-1)+"=":k%3==1&&(S=S.substring(0,S.length-2)+"=="),S}(e);return{rr_type:k,base64:S}}if(e instanceof DataView)return{rr_type:e.constructor.name,args:[serializeArg(e.buffer,l,_),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement)return{rr_type:e.constructor.name,src:e.src};if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}return e instanceof ImageData?{rr_type:e.constructor.name,args:[serializeArg(e.data,l,_),e.width,e.height]}:isInstanceOfWebGLObject(e,l)||"object"===_typeof3(e)?{rr_type:e.constructor.name,index:saveWebGLVar(e,l,_)}:e}var serializeArgs=function(e,l,_){return e.map(function(e){return serializeArg(e,l,_)})},isInstanceOfWebGLObject=function(e,l){var _=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(function(e){return"function"==typeof l[e]});return Boolean(_.find(function(_){return e instanceof l[_]}))};function initCanvasContextObserver(e,l,_,k){var S=[];try{var E=patch(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(S){for(var E=arguments.length,T=new Array(E>1?E-1:0),O=1;O<E;O++)T[O-1]=arguments[O];if(!isBlocked(this,l,_,!0)){var I=function(e){return"experimental-webgl"===e?"webgl":e}(S);if("__context"in this||(this.__context=I),k&&["webgl","webgl2"].includes(I))if(T[0]&&"object"===_typeof3(T[0])){var R=T[0];R.preserveDrawingBuffer||(R.preserveDrawingBuffer=!0)}else T.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[S].concat(T))}});S.push(E)}catch(T){}return function(){S.forEach(function(e){return e()})}}function patchGLPrototype(e,l,_,k,S,E){var T,O=[],I=_createForOfIteratorHelper2(Object.getOwnPropertyNames(e));try{var _loop5=function(){var I=T.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(I))return 0;try{if("function"!=typeof e[I])return 0;var R=patch(e,I,function(e){return function(){for(var T=arguments.length,O=new Array(T),R=0;R<T;R++)O[R]=arguments[R];var M=e.apply(this,O);if(saveWebGLVar(M,E,this),"tagName"in this.canvas&&!isBlocked(this.canvas,k,S,!0)){var j=serializeArgs(O,E,this),D={type:l,property:I,args:j};_(this.canvas,D)}return M}});O.push(R)}catch(j){var M=hookSetter(e,I,{set:function(e){_(this.canvas,{type:l,property:I,args:[e],setter:!0})}});O.push(M)}};for(I.s();!(T=I.n()).done;)_loop5()}catch(R){I.e(R)}finally{I.f()}return O}var ys,_s="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",bs="undefined"!=typeof window&&window.Blob&&new Blob([(ys=_s,Uint8Array.from(atob(ys),function(e){return e.charCodeAt(0)}))],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(e){var l;try{if(!(l=bs&&(window.URL||window.webkitURL).createObjectURL(bs)))throw"";var _=new Worker(l,{name:null==e?void 0:e.name});return _.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(l)}),_}catch(k){return new Worker("data:text/javascript;base64,"+_s,{name:null==e?void 0:e.name})}finally{l&&(window.URL||window.webkitURL).revokeObjectURL(l)}}var ks,ws,Ss,Cs=function(){return _createClass3(function CanvasManager(e){var l=this;_classCallCheck3(this,CanvasManager),__publicField(this,"pendingCanvasMutations",new Map),__publicField(this,"rafStamps",{latestId:0,invokeId:null}),__publicField(this,"mirror"),__publicField(this,"mutationCb"),__publicField(this,"resetObservers"),__publicField(this,"frozen",!1),__publicField(this,"locked",!1),__publicField(this,"processMutation",function(e,_){!(l.rafStamps.invokeId&&l.rafStamps.latestId!==l.rafStamps.invokeId)&&l.rafStamps.invokeId||(l.rafStamps.invokeId=l.rafStamps.latestId),l.pendingCanvasMutations.has(e)||l.pendingCanvasMutations.set(e,[]),l.pendingCanvasMutations.get(e).push(_)});var _=e.sampling,k=void 0===_?"all":_,S=e.win,E=e.blockClass,T=e.blockSelector,O=e.recordCanvas,I=e.dataURLOptions;this.mutationCb=e.mutationCb,this.mirror=e.mirror,O&&"all"===k&&this.initCanvasMutationObserver(S,E,T),O&&"number"==typeof k&&this.initCanvasFPSObserver(k,S,E,T,{dataURLOptions:I})},[{key:"reset",value:function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=!0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(e,l,_,k,S){var E=this,T=initCanvasContextObserver(l,_,k,!0),O=new Map,I=new WorkerWrapper;I.onmessage=function(e){var l=e.data.id;if(O.set(l,!1),"base64"in e.data){var _=e.data,k=_.base64,S=_.type,T=_.width,I=_.height;E.mutationCb({id:l,type:ns["2D"],commands:[{property:"clearRect",args:[0,0,T,I]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:k}],type:S}]},0,0]}]})}};var R,M=1e3/e,j=0,_takeCanvasSnapshots=function(e){var T;j&&e-j<M?R=requestAnimationFrame(_takeCanvasSnapshots):(j=e,(T=[],l.document.querySelectorAll("canvas").forEach(function(e){isBlocked(e,_,k,!0)||T.push(e)}),T).forEach(function(){var e=_asyncToGenerator(_regenerator().m(function _callee25(e){var l,_,k,T;return _regenerator().w(function(R){for(;;)switch(R.n){case 0:if(_=E.mirror.getId(e),!O.get(_)){R.n=1;break}return R.a(2);case 1:if(0!==e.width&&0!==e.height){R.n=2;break}return R.a(2);case 2:return O.set(_,!0),["webgl","webgl2"].includes(e.__context)&&(k=e.getContext(e.__context),!1===(null==(l=null==k?void 0:k.getContextAttributes())?void 0:l.preserveDrawingBuffer)&&k.clear(k.COLOR_BUFFER_BIT)),R.n=3,createImageBitmap(e);case 3:T=R.v,I.postMessage({id:_,bitmap:T,width:e.width,height:e.height,dataURLOptions:S.dataURLOptions},[T]);case 4:return R.a(2)}},_callee25)}));return function(l){return e.apply(this,arguments)}}()),R=requestAnimationFrame(_takeCanvasSnapshots))};R=requestAnimationFrame(_takeCanvasSnapshots),this.resetObservers=function(){T(),cancelAnimationFrame(R)}}},{key:"initCanvasMutationObserver",value:function(e,l,_){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var k=initCanvasContextObserver(e,l,_,!1),S=function(e,l,_,k){var S,E=[],T=_createForOfIteratorHelper2(Object.getOwnPropertyNames(l.CanvasRenderingContext2D.prototype));try{var _loop4=function(){var T=S.value;try{if("function"!=typeof l.CanvasRenderingContext2D.prototype[T])return 1;var O=patch(l.CanvasRenderingContext2D.prototype,T,function(S){return function(){for(var E=this,O=arguments.length,I=new Array(O),R=0;R<O;R++)I[R]=arguments[R];return isBlocked(this.canvas,_,k,!0)||setTimeout(function(){var _=serializeArgs(I,l,E);e(E.canvas,{type:ns["2D"],property:T,args:_})},0),S.apply(this,I)}});E.push(O)}catch(R){var I=hookSetter(l.CanvasRenderingContext2D.prototype,T,{set:function(l){e(this.canvas,{type:ns["2D"],property:T,args:[l],setter:!0})}});E.push(I)}};for(T.s();!(S=T.n()).done;)_loop4()}catch(O){T.e(O)}finally{T.f()}return function(){E.forEach(function(e){return e()})}}(this.processMutation.bind(this),e,l,_),E=function(e,l,_,k){var S=[];return S.push.apply(S,_toConsumableArray3(patchGLPrototype(l.WebGLRenderingContext.prototype,ns.WebGL,e,_,k,l))),void 0!==l.WebGL2RenderingContext&&S.push.apply(S,_toConsumableArray3(patchGLPrototype(l.WebGL2RenderingContext.prototype,ns.WebGL2,e,_,k,l))),function(){S.forEach(function(e){return e()})}}(this.processMutation.bind(this),e,l,_);this.resetObservers=function(){k(),S(),E()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var e=this;requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})}},{key:"startRAFTimestamping",value:function(){var e=this,_setLatestRAFTimestamp=function(l){e.rafStamps.latestId=l,requestAnimationFrame(_setLatestRAFTimestamp)};requestAnimationFrame(_setLatestRAFTimestamp)}},{key:"flushPendingCanvasMutations",value:function(){var e=this;this.pendingCanvasMutations.forEach(function(l,_){var k=e.mirror.getId(_);e.flushPendingCanvasMutationFor(_,k)}),requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})}},{key:"flushPendingCanvasMutationFor",value:function(e,l){if(!this.frozen&&!this.locked){var _=this.pendingCanvasMutations.get(e);if(_&&-1!==l){var k=_.map(function(e){e.type;return _objectWithoutProperties3(e,S)}),E=_[0].type;this.mutationCb({id:l,type:E,commands:k}),this.pendingCanvasMutations.delete(e)}}}}])}(),Es=function(){return _createClass3(function StylesheetManager(e){_classCallCheck3(this,StylesheetManager),__publicField(this,"trackedLinkElements",new WeakSet),__publicField(this,"mutationCb"),__publicField(this,"adoptedStyleSheetCb"),__publicField(this,"styleMirror",new Zo),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb},[{key:"attachLinkElement",value:function(e,l){"_cssText"in l.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:l.id,attributes:l.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,l){var _=this;if(0!==e.length){var k,S={id:l,styleIds:[]},E=[],T=_createForOfIteratorHelper2(e);try{var _loop6=function(){var e,l=k.value;_.styleMirror.has(l)?e=_.styleMirror.getId(l):(e=_.styleMirror.add(l),E.push({styleId:e,rules:Array.from(l.rules||CSSRule,function(e,_){return{rule:stringifyRule(e,l.href),index:_}})})),S.styleIds.push(e)};for(T.s();!(k=T.n()).done;)_loop6()}catch(O){T.e(O)}finally{T.f()}E.length>0&&(S.styles=E),this.adoptedStyleSheetCb(S)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}])}(),Ts=function(){return _createClass3(function ProcessedNodeManager(){_classCallCheck3(this,ProcessedNodeManager),__publicField(this,"nodeMap",new WeakMap),__publicField(this,"active",!1)},[{key:"inOtherBuffer",value:function(e,l){var _=this.nodeMap.get(e);return _&&Array.from(_).some(function(e){return e!==l})}},{key:"add",value:function(e,l){var _=this;this.active||(this.active=!0,requestAnimationFrame(function(){_.nodeMap=new WeakMap,_.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(l))}},{key:"destroy",value:function(){}}])}(),As=!1;try{if(2!==Array.from([1],function(e){return 2*e})[0]){var xs=document.createElement("iframe");document.body.appendChild(xs),Array.from=(null==(O=xs.contentWindow)?void 0:O.Array.from)||Array.from,document.body.removeChild(xs)}}catch(Ps){}var Os,Is,Rs=new z;function record(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.emit,_=e.checkoutEveryNms,k=e.checkoutEveryNth,S=e.blockClass,E=void 0===S?"rr-block":S,T=e.blockSelector,O=void 0===T?null:T,I=e.ignoreClass,R=void 0===I?"rr-ignore":I,M=e.ignoreSelector,j=void 0===M?null:M,D=e.maskTextClass,L=void 0===D?"rr-mask":D,U=e.maskTextSelector,B=void 0===U?null:U,q=e.inlineStylesheet,G=void 0===q||q,W=e.maskAllInputs,V=e.maskInputOptions,K=e.slimDOMOptions,H=e.maskInputFn,$=e.maskTextFn,J=e.hooks,Y=e.packFn,X=e.sampling,Z=void 0===X?{}:X,Q=e.dataURLOptions,ee=void 0===Q?{}:Q,te=e.mousemoveWait,re=e.recordDOM,ne=void 0===re||re,ie=e.recordCanvas,ae=void 0!==ie&&ie,oe=e.recordCrossOriginIframes,se=void 0!==oe&&oe,ue=e.recordAfter,le=void 0===ue?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":ue,ce=e.userTriggeredOnInput,he=void 0!==ce&&ce,de=e.collectFonts,fe=void 0!==de&&de,pe=e.inlineImages,ve=void 0!==pe&&pe,ge=e.plugins,me=e.keepIframeSrcFn,ye=void 0===me?function(){return!1}:me,_e=e.ignoreCSSAttributes,be=void 0===_e?new Set([]):_e,ke=e.errorHandler;as=ke;var we=!se||window.parent===window,Se=!1;if(!we)try{window.parent.document&&(Se=!1)}catch(Fe){Se=!0}if(we&&!l)throw new Error("emit function is required");if(!we&&!Se)return function(){};void 0!==te&&void 0===Z.mousemove&&(Z.mousemove=te),Rs.reset();var Ce,Ee=!0===W?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==V?V:{password:!0},Te=!0===K||"all"===K?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===K,headMetaDescKeywords:"all"===K,headTitleMutations:"all"===K}:K||{};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();var Ae=0,eventProcessor=function(e){var l,_=_createForOfIteratorHelper2(ge||[]);try{for(_.s();!(l=_.n()).done;){var k=l.value;k.eventProcessor&&(e=k.eventProcessor(e))}}catch(Ps){_.e(Ps)}finally{_.f()}return Y&&!Se&&(e=Y(e)),e};ks=function(e,S){var E,T=e;if(T.timestamp=Xo(),!(null==(E=us[0])?void 0:E.isFrozen())||T.type===Qo.FullSnapshot||T.type===Qo.IncrementalSnapshot&&T.data.source===es.Mutation||us.forEach(function(e){return e.unfreeze()}),we)null==l||l(eventProcessor(T),S);else if(Se){var O={type:"rrweb",event:eventProcessor(T),origin:window.location.origin,isCheckout:S};window.parent.postMessage(O,"*")}if(T.type===Qo.FullSnapshot)Ce=T,Ae=0;else if(T.type===Qo.IncrementalSnapshot){if(T.data.source===es.Mutation&&T.data.isAttachIframe)return;Ae++;var I=k&&Ae>=k,R=_&&T.timestamp-Ce.timestamp>_;(I||R)&&ws(!0)}};var xe,wrappedMutationEmit=function(e){ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.Mutation},e)})},wrappedScrollEmit=function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.Scroll},e)})},wrappedCanvasMutationEmit=function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.CanvasMutation},e)})},Oe=new Es({mutationCb:wrappedMutationEmit,adoptedStyleSheetCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.AdoptedStyleSheet},e)})}}),Ie=new ds({mirror:Rs,mutationCb:wrappedMutationEmit,stylesheetManager:Oe,recordCrossOriginIframes:se,wrappedEmit:ks}),Re=_createForOfIteratorHelper2(ge||[]);try{for(Re.s();!(xe=Re.n()).done;){var Pe=xe.value;Pe.getMirror&&Pe.getMirror({nodeMirror:Rs,crossOriginIframeMirror:Ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ie.crossOriginIframeStyleMirror})}}catch(Ps){Re.e(Ps)}finally{Re.f()}var Me=new Ts;Ss=new Cs({recordCanvas:ae,mutationCb:wrappedCanvasMutationEmit,win:window,blockClass:E,blockSelector:O,mirror:Rs,sampling:Z.canvas,dataURLOptions:ee});var je=new fs({mutationCb:wrappedMutationEmit,scrollCb:wrappedScrollEmit,bypassOptions:{blockClass:E,blockSelector:O,maskTextClass:L,maskTextSelector:B,inlineStylesheet:G,maskInputOptions:Ee,dataURLOptions:ee,maskTextFn:$,maskInputFn:H,recordCanvas:ae,inlineImages:ve,sampling:Z,slimDOMOptions:Te,iframeManager:Ie,stylesheetManager:Oe,canvasManager:Ss,keepIframeSrcFn:ye,processedNodeManager:Me},mirror:Rs});ws=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ne){ks({type:Qo.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}},e),Oe.reset(),je.init(),us.forEach(function(e){return e.lock()});var l=function(e,l){var _=l||{},k=_.mirror,S=void 0===k?new z:k,E=_.blockClass,T=void 0===E?"rr-block":E,O=_.blockSelector,I=void 0===O?null:O,R=_.maskTextClass,M=void 0===R?"rr-mask":R,j=_.maskTextSelector,D=void 0===j?null:j,L=_.inlineStylesheet,U=void 0===L||L,B=_.inlineImages,q=void 0!==B&&B,G=_.recordCanvas,W=void 0!==G&&G,V=_.maskAllInputs,K=void 0!==V&&V,H=_.maskTextFn,$=_.maskInputFn,J=_.slimDOM,Y=void 0!==J&&J,X=_.dataURLOptions,Z=_.preserveWhiteSpace,Q=_.onSerialize,ee=_.onIframeLoad,te=_.iframeLoadTimeout,re=_.onStylesheetLoad,ne=_.stylesheetLoadTimeout,ie=_.keepIframeSrcFn;return serializeNodeWithId(e,{doc:e,mirror:S,blockClass:T,blockSelector:I,maskTextClass:M,maskTextSelector:D,skipChild:!1,inlineStylesheet:U,maskInputOptions:!0===K?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===K?{password:!0}:K,maskTextFn:H,maskInputFn:$,slimDOMOptions:!0===Y||"all"===Y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===Y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===Y?{}:Y,dataURLOptions:X,inlineImages:q,recordCanvas:W,preserveWhiteSpace:Z,onSerialize:Q,onIframeLoad:ee,iframeLoadTimeout:te,onStylesheetLoad:re,stylesheetLoadTimeout:ne,keepIframeSrcFn:void 0===ie?function(){return!1}:ie,newlyAddedElement:!1})}(document,{mirror:Rs,blockClass:E,blockSelector:O,maskTextClass:L,maskTextSelector:B,inlineStylesheet:G,maskAllInputs:Ee,maskTextFn:$,maskInputFn:H,slimDOM:Te,dataURLOptions:ee,recordCanvas:ae,inlineImages:ve,onSerialize:function(e){isSerializedIframe(e,Rs)&&Ie.addIframe(e),isSerializedStylesheet(e,Rs)&&Oe.trackLinkElement(e),hasShadowRoot(e)&&je.addShadowRoot(Jo.shadowRoot(e),document)},onIframeLoad:function(e,l){Ie.attachIframe(e,l),je.observeAttachShadow(e)},onStylesheetLoad:function(e,l){Oe.attachLinkElement(e,l)},keepIframeSrcFn:ye});l&&(ks({type:Qo.FullSnapshot,data:{node:l,initialOffset:getWindowScroll(window)}},e),us.forEach(function(e){return e.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Oe.adoptStyleSheets(document.adoptedStyleSheets,Rs.getId(document)))}};try{var De=[],observe=function(e){var l;return callbackWrapper(initObservers)({mutationCb:wrappedMutationEmit,mousemoveCb:function(e,l){return ks({type:Qo.IncrementalSnapshot,data:{source:l,positions:e}})},mouseInteractionCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.MouseInteraction},e)})},scrollCb:wrappedScrollEmit,viewportResizeCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.ViewportResize},e)})},inputCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.Input},e)})},mediaInteractionCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.MediaInteraction},e)})},styleSheetRuleCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.StyleSheetRule},e)})},styleDeclarationCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.StyleDeclaration},e)})},canvasMutationCb:wrappedCanvasMutationEmit,fontCb:function(e){return ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.Font},e)})},selectionCb:function(e){ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.Selection},e)})},customElementCb:function(e){ks({type:Qo.IncrementalSnapshot,data:_objectSpread2({source:es.CustomElement},e)})},blockClass:E,ignoreClass:R,ignoreSelector:j,maskTextClass:L,maskTextSelector:B,maskInputOptions:Ee,inlineStylesheet:G,sampling:Z,recordDOM:ne,recordCanvas:ae,inlineImages:ve,userTriggeredOnInput:he,collectFonts:fe,doc:e,maskInputFn:H,maskTextFn:$,keepIframeSrcFn:ye,blockSelector:O,slimDOMOptions:Te,dataURLOptions:ee,mirror:Rs,iframeManager:Ie,stylesheetManager:Oe,shadowDomManager:je,processedNodeManager:Me,canvasManager:Ss,ignoreCSSAttributes:be,plugins:(null==(l=null==ge?void 0:ge.filter(function(e){return e.observer}))?void 0:l.map(function(e){return{observer:e.observer,options:e.options,callback:function(l){return ks({type:Qo.Plugin,data:{plugin:e.name,payload:l}})}}}))||[]},J)};Ie.addLoadListener(function(e){try{De.push(observe(e.contentDocument))}catch(l){}});var init=function(){ws(),De.push(observe(document)),As=!0};return"interactive"===document.readyState||"complete"===document.readyState?init():(De.push(on("DOMContentLoaded",function(){ks({type:Qo.DomContentLoaded,data:{}}),"DOMContentLoaded"===le&&init()})),De.push(on("load",function(){ks({type:Qo.Load,data:{}}),"load"===le&&init()},window))),function(){De.forEach(function(e){return e()}),Me.destroy(),As=!1,as=void 0}}catch(Le){}}record.addCustomEvent=function(e,l){if(!As)throw new Error("please add custom event after start recording");ks({type:Qo.Custom,data:{tag:e,payload:l}})},record.freezePage=function(){us.forEach(function(e){return e.freeze()})},record.takeFullSnapshot=function(e){if(!As)throw new Error("please take full snapshot after start recording");ws(e)},record.mirror=Rs,(Is=Os||(Os={}))[Is.NotStarted=0]="NotStarted",Is[Is.Running=1]="Running",Is[Is.Stopped=2]="Stopped",E.record=record}(yi)),yi}function requireSessionReplayClient(){if(fi)return mi;fi=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.SessionReplayClient=void 0;var e=requireRecord(),l=requireSrc$3(),_=function(){return _createClass3(function SessionReplayClient(){_classCallCheck3(this,SessionReplayClient),this._startTimestamp=null,this._endTimestamp=null},[{key:"record",value:function(_,k,S){var E=this,T=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!=(0,l._getDocumentSafe)()&&(this._startTimestamp=null,this._endTimestamp=null,this._stopCallback=S,!this._stopFn)){this._stopFn=function(l,_,k){return k?(0,e.record)(Object.assign(Object.assign({},_),{emit:l,checkoutEveryNms:3e4})):(0,e.record)(Object.assign(Object.assign({},_),{emit:l}))}(function(e,l){var k,S,O;T?E._startTimestamp=l?e.timestamp:null!==(k=E._startTimestamp)&&void 0!==k?k:e.timestamp:null!==(S=E._startTimestamp)&&void 0!==S||(E._startTimestamp=e.timestamp),E._endTimestamp=e.timestamp;var I=0;(function(e){return 3===e.type&&2===e.data.source&&(2===e.data.type||4===e.data.type)})(e)&&I++,_(Object.assign(Object.assign({},e),{eventIndex:0}),{startTime:E._startTimestamp,endTime:E._endTimestamp,clickCount:I},null!=l&&l),E._endTimestamp-E._startTimestamp>144e5&&(null===(O=E._stopFn)||void 0===O||O.call(E),E._stopCallback&&E._stopCallback())},k,T)}}},{key:"stop",value:function(){this._stopFn&&(this._stopFn(),this._stopFn=void 0)}},{key:"isRecording",value:function(){return null!=this._stopFn}}])}();return mi.SessionReplayClient=_,mi}var _i,bi,ki,wi={};function requireSessionReplayUtils(){if(_i)return wi;_i=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi._appendSlicedMetadata=wi._slicePayload=wi._makeLoggableRrwebEvent=wi.MAX_LOGS=wi.MAX_INDIVIDUAL_EVENT_BYTES=wi.REPLAY_ENQUEUE_TRIGGER_BYTES=void 0;var e=requireSrc$3(),l=1048576;return wi.REPLAY_ENQUEUE_TRIGGER_BYTES=10240,wi.MAX_INDIVIDUAL_EVENT_BYTES=10485760,wi.MAX_LOGS=1e4,wi._makeLoggableRrwebEvent=function(l,_,k,S,E){return{eventName:"statsig::session_recording",value:k,metadata:{session_start_ts:String(S.startTime),session_end_ts:String(S.endTime),clicks_captured_cumulative:String(S.clickCount),rrweb_events:l,rrweb_payload_size:String(_.length),session_replay_sdk_version:e.SDK_VERSION,sdk_instance_id:E}}},wi._slicePayload=function(e){for(var _=[],k=0;k<e.length;k+=l)_.push(e.slice(k,k+l));return _},wi._appendSlicedMetadata=function(e,l,_,k,S){e.sliced_id=l,e.slice_index=String(_),e.slice_count=String(k),e.slice_byte_size=String(S)},wi}function requireSessionReplayBase(){if(bi)return gi;bi=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.SessionReplayBase=gi.forceStartRecording=gi.startRecording=gi.stopRecording=void 0;var e=requireSrc$3(),l=requireSessionReplayClient(),_=requireSessionReplayUtils();function _getInstanceFromSdkKey(l){var _,S,E=null==l?(0,e._getStatsigGlobal)().firstSRInstance:null===(S=null===(_=(0,e._getStatsigGlobal)())||void 0===_?void 0:_.srInstances)||void 0===S?void 0:S[l];return E instanceof k?E:null}gi.stopRecording=function(e){var l;null===(l=_getInstanceFromSdkKey(e))||void 0===l||l.stopRecording()},gi.startRecording=function(e){var l;null===(l=_getInstanceFromSdkKey(e))||void 0===l||l.startRecording()},gi.forceStartRecording=function(e){var l;null===(l=_getInstanceFromSdkKey(e))||void 0===l||l.forceStartRecording()};var k=function(){function SessionReplayBase(_,k){var S=this;_classCallCheck3(this,SessionReplayBase),this._sessionData={startTime:-1,endTime:0,clickCount:0},this._events=[],this._wasStopped=!1,this._currentEventIndex=0,this._totalLogs=0,this._client=_,this._options=k;var E=this._client.getContext(),T=E.sdkKey,O=E.errorBoundary;if(this._errorBoundary=O,this._errorBoundary.wrap(this),this._replayer=new l.SessionReplayClient,this._client.$on("pre_shutdown",function(){return S._shutdown()}),this._client.on("session_expired",function(){S._shutdown("session_expired")}),!(0,e._isServerEnv)()){var I=(0,e._getStatsigGlobal)();I.srInstances=Object.assign(Object.assign({},I.srInstances),_defineProperty3({},T,this)),I.firstSRInstance||(I.firstSRInstance=this)}this._currentSessionID=this._getSessionIdFromClient(),this._subscribeToVisibilityChanged()}return _createClass3(SessionReplayBase,[{key:"forceStartRecording",value:function(){this._wasStopped=!1,this._attemptToStartRecording(!0)}},{key:"stopRecording",value:function(){this._wasStopped=!0,this._shutdown()}},{key:"startRecording",value:function(){var e;this._wasStopped=!1,this._attemptToStartRecording(null===(e=this._options)||void 0===e?void 0:e.forceRecording)}},{key:"isRecording",value:function(){return this._replayer.isRecording()}},{key:"_logRecording",value:function(l){0!==this._events.length&&(l=(0,e._isUnloading)()?"is_leaving_page":l,this._logRecordingWithSessionID(this._currentSessionID,l))}},{key:"_onVisibilityChanged",value:function(e){var l=this;"background"===e&&(this._logRecording(),this._client.flush().catch(function(e){l._errorBoundary.logError("SR::visibility",e)}))}},{key:"_subscribeToVisibilityChanged",value:function(){var l=this._client.getContext().sdkKey;(0,e._subscribeToVisiblityChanged)(function(_){var k,S,E=null===(S=null===(k=(0,e._getStatsigGlobal)())||void 0===k?void 0:k.srInstances)||void 0===S?void 0:S[l];E instanceof SessionReplayBase&&E._onVisibilityChanged(_)})}},{key:"_logRecordingWithSessionID",value:function(l,k){var S=this._sessionData;if(0!==this._events.length){for(var E=JSON.stringify(this._events),T=(0,_._slicePayload)(E),O=T.length>1?(0,e.getUUID)():null,I=0;I<T.length;I++){var R=T[I],M=(0,_._makeLoggableRrwebEvent)(R,E,l,S,this._client.getContext().sdkInstanceID);null!=O&&(0,_._appendSlicedMetadata)(M.metadata,O,I,T.length,R.length),k&&(M.metadata[k]="true"),this._totalLogs++,this._client.logEvent(M),null!=O&&this._client.flush().catch(function(l){e.Log.error(l)})}this._events=[],this._totalLogs>_.MAX_LOGS&&this._shutdown()}}},{key:"_bumpSessionIdleTimerAndLogRecording",value:function(){this._getSessionIdFromClient(),this._logRecording()}},{key:"_getSessionIdFromClient",value:function(){return this._client.getContext().session.data.sessionID}},{key:"_shutdownImpl",value:function(l){var _=this;if(this._replayer.isRecording()){this._replayer.stop();var _handler=function(){e.StatsigMetadataProvider.add({isRecordingSession:"false"}),_._client.off("logs_flushed",_handler)};this._client.$on("logs_flushed",_handler)}0!==this._events.length?(this._logRecording(l),"session_expired"===l&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData())):"session_expired"===l&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData())}},{key:"_makeEmptySessionData",value:function(){return{startTime:-1,endTime:0,clickCount:0}}},{key:"_onRecordingEvent",value:function(l,k){if(this._currentSessionID===this._getSessionIdFromClient())if(this._totalLogs>=_.MAX_LOGS)this._shutdown();else{l.eventIndex=this._currentEventIndex++,this._sessionData.clickCount+=k.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?k.startTime:Math.min(this._sessionData.startTime,k.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,k.endTime);var S=(0,e._fastApproxSizeOf)(l,_.MAX_INDIVIDUAL_EVENT_BYTES);if(S>_.MAX_INDIVIDUAL_EVENT_BYTES)e.Log.warn("SessionReplay event is too large (~".concat(S," bytes) and will not be logged"),l);else{var E=(0,e._fastApproxSizeOf)(this._events,_.REPLAY_ENQUEUE_TRIGGER_BYTES);this._events.push(l),E+S<_.REPLAY_ENQUEUE_TRIGGER_BYTES||((0,e._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording())}}else this._shutdown("session_expired")}}])}();return gi.SessionReplayBase=k,gi}var Si,Ci,Ei={};R("ai",(Ci||(Ci=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.forceStartRecording=e.stopRecording=e.startRecording=e.StatsigTriggeredSessionReplayPlugin=e.StatsigSessionReplayPlugin=e.runStatsigTriggeredSessionReplay=e.runStatsigSessionReplay=e.SessionReplay=e.SessionReplayClient=void 0;var l=requireSrc$3(),_=function(){if(ki)return vi;ki=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.SessionReplay=vi.runStatsigSessionReplay=vi.StatsigSessionReplayPlugin=void 0;var e=requireSrc$3(),l=requireSessionReplayBase(),_=requireSessionReplayUtils(),k=function(){return _createClass3(function StatsigSessionReplayPlugin(e){_classCallCheck3(this,StatsigSessionReplayPlugin),this.options=e,this.__plugin="session-replay"},[{key:"bind",value:function(e){runStatsigSessionReplay(e,this.options)}}])}();function runStatsigSessionReplay(e,l){new S(e,l)}vi.StatsigSessionReplayPlugin=k,vi.runStatsigSessionReplay=runStatsigSessionReplay;var S=function(l){function SessionReplay(e,l){var _,k;return _classCallCheck3(this,SessionReplay),(_=_callSuper(this,SessionReplay,[e,l]))._client.$on("values_updated",function(){var e;_._wasStopped||_._attemptToStartRecording(null===(e=_._options)||void 0===e?void 0:e.forceRecording)}),_._attemptToStartRecording(null===(k=_._options)||void 0===k?void 0:k.forceRecording),_}return _inherits(SessionReplay,l),_createClass3(SessionReplay,[{key:"_shutdown",value:function(e){_superPropGet(SessionReplay,"_shutdownImpl",this,3)([e])}},{key:"_attemptToStartRecording",value:function(){var l,k,S=this,E=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this._totalLogs>=_.MAX_LOGS)){var T=this._client.getContext().values;!0===(null==T?void 0:T.recording_blocked)||!E&&!0!==(null==T?void 0:T.can_record_session)||!1===(null==T?void 0:T.passes_session_recording_targeting)?this._shutdown():this._replayer.isRecording()||(this._wasStopped=!1,e.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.record(function(e,l){return S._onRecordingEvent(e,l)},null!==(k=null===(l=this._options)||void 0===l?void 0:l.rrwebConfig)&&void 0!==k?k:{},function(){S._shutdown()}))}}}])}(l.SessionReplayBase);return vi.SessionReplay=S,vi}();Object.defineProperty(e,"SessionReplay",{enumerable:!0,get:function(){return _.SessionReplay}}),Object.defineProperty(e,"StatsigSessionReplayPlugin",{enumerable:!0,get:function(){return _.StatsigSessionReplayPlugin}}),Object.defineProperty(e,"runStatsigSessionReplay",{enumerable:!0,get:function(){return _.runStatsigSessionReplay}});var k=requireSessionReplayBase();Object.defineProperty(e,"forceStartRecording",{enumerable:!0,get:function(){return k.forceStartRecording}}),Object.defineProperty(e,"startRecording",{enumerable:!0,get:function(){return k.startRecording}}),Object.defineProperty(e,"stopRecording",{enumerable:!0,get:function(){return k.stopRecording}});var S=requireSessionReplayClient();Object.defineProperty(e,"SessionReplayClient",{enumerable:!0,get:function(){return S.SessionReplayClient}});var E=function(){if(Si)return Ei;Si=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.TriggeredSessionReplay=Ei.runStatsigTriggeredSessionReplay=Ei.StatsigTriggeredSessionReplayPlugin=void 0;var e=requireSrc$3(),l=requireSessionReplayBase(),_=requireSessionReplayUtils(),k=function(){return _createClass3(function StatsigTriggeredSessionReplayPlugin(e){_classCallCheck3(this,StatsigTriggeredSessionReplayPlugin),this.options=e,this.__plugin="triggered-session-replay"},[{key:"bind",value:function(e){runStatsigTriggeredSessionReplay(e,this.options)}}])}();function runStatsigTriggeredSessionReplay(e,l){new S(e,l)}Ei.StatsigTriggeredSessionReplayPlugin=k,Ei.runStatsigTriggeredSessionReplay=runStatsigTriggeredSessionReplay;var S=function(l){function TriggeredSessionReplay(e,l){var _,k;return _classCallCheck3(this,TriggeredSessionReplay),(_=_callSuper(this,TriggeredSessionReplay,[e,l]))._runningEventData=[],_._isActiveRecording=!1,_._subscribeToClientEvents(l),(null==l?void 0:l.autoStartRecording)?_._attemptToStartRecording(null===(k=_._options)||void 0===k?void 0:k.forceRecording):(null==l?void 0:l.keepRollingWindow)&&_._attemptToStartRollingWindow(),_}return _inherits(TriggeredSessionReplay,l),_createClass3(TriggeredSessionReplay,[{key:"_subscribeToClientEvents",value:function(e){this._subscribeToValuesUpdated(e),this._subscribeToLogEventCalled(),this._subscribeToGateEvaluation(),this._subscribeToExperimentEvaluation()}},{key:"_subscribeToValuesUpdated",value:function(e){var l=this;this._client.$on("values_updated",function(){var _;l._wasStopped||((null==e?void 0:e.autoStartRecording)?l._attemptToStartRecording(null===(_=l._options)||void 0===_?void 0:_.forceRecording):(null==e?void 0:e.keepRollingWindow)&&l._attemptToStartRollingWindow())})}},{key:"_subscribeToLogEventCalled",value:function(){var e=this;this._client.$on("log_event_called",function(l){var _;if(!e._wasStopped){var k=e._client.getContext().values;if(!1!==(null==k?void 0:k.passes_session_recording_targeting)&&null!=(null==k?void 0:k.session_recording_event_triggers)){var S=k.session_recording_event_triggers[l.event.eventName];if(null!=S&&!1!==S.passes_sampling){var E=S.values;null!=E?E.includes(String(null!==(_=l.event.value)&&void 0!==_?_:""))&&e._attemptToStartRecording(!0):e._attemptToStartRecording(!0)}}}})}},{key:"_subscribeToGateEvaluation",value:function(){var e=this;this._client.$on("gate_evaluation",function(l){e._tryStartExposureRecording(l.gate.name,String(l.gate.value))})}},{key:"_subscribeToExperimentEvaluation",value:function(){var e=this;this._client.$on("experiment_evaluation",function(l){var _;e._tryStartExposureRecording(l.experiment.name,null!==(_=l.experiment.groupName)&&void 0!==_?_:"")})}},{key:"_tryStartExposureRecording",value:function(l,_){var k;if(!this._wasStopped){var S=this._client.getContext().values;if(!1!==(null==S?void 0:S.passes_session_recording_targeting)&&null!=(null==S?void 0:S.session_recording_exposure_triggers)){var E=null!==(k=S.session_recording_exposure_triggers[l])&&void 0!==k?k:S.session_recording_exposure_triggers[(0,e._DJB2)(l)];if(null!=E&&!1!==E.passes_sampling){var T=E.values;null!=T?T.includes(_)&&this._attemptToStartRecording(!0):this._attemptToStartRecording(!0)}}}}},{key:"forceStartRecording",value:function(){_superPropGet(TriggeredSessionReplay,"forceStartRecording",this,3)([])}},{key:"stopRecording",value:function(){this._isActiveRecording=!1,this._runningEventData=[],_superPropGet(TriggeredSessionReplay,"stopRecording",this,3)([])}},{key:"_handleStartActiveRecording",value:function(){if(this._isActiveRecording=!0,0!==this._runningEventData.length){for(var l=this._runningEventData.map(function(e){return e.events}).flat(),_=0;_<l.length;_++)l[_].event.eventIndex=_,this._sessionData.clickCount+=l[_].data.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?l[_].data.startTime:Math.min(this._sessionData.startTime,l[_].data.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,l[_].data.endTime);this._events=l.map(function(e){return e.event}),this._currentEventIndex=l.length,(0,e._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording(),this._replayer.stop()}}},{key:"_shutdown",value:function(e){this._isActiveRecording=!1,this._runningEventData=[],_superPropGet(TriggeredSessionReplay,"_shutdownImpl",this,3)([e])}},{key:"_onRecordingEvent",value:function(e,l,_){if(!this._isActiveRecording)return this._currentSessionID!==this._getSessionIdFromClient()?void this._shutdown("session_expired"):void(_&&4===e.type||0===this._runningEventData.length?(this._runningEventData.length>1&&this._runningEventData.shift(),this._runningEventData.push({events:[{event:e,data:l}]})):this._runningEventData[this._runningEventData.length-1].events.push({event:e,data:l}));_superPropGet(TriggeredSessionReplay,"_onRecordingEvent",this,3)([e,l])}},{key:"_attemptToStartRollingWindow",value:function(){var e,l,_=this,k=this._client.getContext().values;!1!==(null==k?void 0:k.passes_session_recording_targeting)?this._replayer.isRecording()||this._replayer.record(function(e,l,k){return _._onRecordingEvent(e,l,k)},null!==(l=null===(e=this._options)||void 0===e?void 0:e.rrwebConfig)&&void 0!==l?l:{},function(){_._shutdown()},!0):this._shutdown()}},{key:"_attemptToStartRecording",value:function(){var l,k,S=this,E=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this._totalLogs>=_.MAX_LOGS)){var T=this._client.getContext().values;!0===(null==T?void 0:T.recording_blocked)||!E&&!0!==(null==T?void 0:T.can_record_session)||!1===(null==T?void 0:T.passes_session_recording_targeting)?this._shutdown():(this._handleStartActiveRecording(),this._wasStopped=!1,e.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.isRecording()||this._replayer.record(function(e,l,_){return S._onRecordingEvent(e,l,_)},null!==(k=null===(l=this._options)||void 0===l?void 0:l.rrwebConfig)&&void 0!==k?k:{},function(){S._shutdown()}))}}}])}(l.SessionReplayBase);return Ei.TriggeredSessionReplay=S,Ei}();Object.defineProperty(e,"StatsigTriggeredSessionReplayPlugin",{enumerable:!0,get:function(){return E.StatsigTriggeredSessionReplayPlugin}}),Object.defineProperty(e,"runStatsigTriggeredSessionReplay",{enumerable:!0,get:function(){return E.runStatsigTriggeredSessionReplay}}),Object.assign((0,l._getStatsigGlobal)(),{SessionReplayClient:S.SessionReplayClient,SessionReplay:_.SessionReplay,runStatsigSessionReplay:_.runStatsigSessionReplay,runStatsigTriggeredSessionReplay:E.runStatsigTriggeredSessionReplay,StatsigSessionReplayPlugin:_.StatsigSessionReplayPlugin,StatsigTriggeredSessionReplayPlugin:E.StatsigTriggeredSessionReplayPlugin,startRecording:k.startRecording,stopRecording:k.stopRecording,forceStartRecording:k.forceStartRecording})}(pi)),pi));var Ti,Ai={},xi={},Oi={};function requireAutoCaptureEvent(){return Ti||(Ti=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.AutoCaptureEventName=void 0,Oi.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}),Oi}var Ii,Ri={},Pi={};function requireCommonUtils(){return Ii||(Ii=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapFunctionWithRestore=e.throttle=e._sanitizeString=e._getAnchorNodeInHierarchy=e._getSafeTimezoneOffset=e._getSafeTimezone=e._getSafeNetworkInformation=e._registerEventHandler=e._getSanitizedPageUrl=e._getSafeUrlString=e._getSafeUrl=e._shouldLogEvent=e._getTargetNode=e._stripEmptyValues=e.interactiveElements=void 0;var l=requireSrc$3(),_=new RegExp("^(?:".concat("(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",")$")),k=new RegExp("^(".concat("\\d{3}-?\\d{2}-?\\d{4}",")$"));function _getSafeUrl(){var e,_,k,S,E=null!==(k=null===(_=null===(e=(0,l._getWindowSafe)())||void 0===e?void 0:e.location)||void 0===_?void 0:_.href)&&void 0!==k?k:"";try{S=new URL(E)}catch(ta){S=new URL("error:")}return S}function _getAnchorNodeInHierarchy(e){if(!e)return null;for(var l=e;l;){var _=l.tagName.toLowerCase();if(["body","document"].includes(_))return null;if("a"===l.tagName.toLowerCase())return l;l=l.parentElement}return null}e.interactiveElements=["button","a","input","select","textarea","form","select","label"],e._stripEmptyValues=function(e){return Object.fromEntries(Object.entries(e).filter(function(e){var l=_slicedToArray(e,2),_=(l[0],l[1]);return null!=_&&""!==_&&void 0!==_}))},e._getTargetNode=function(e){if(!e)return null;var l=e.target||e.srcElement;return l&&l instanceof Element?(3===l.nodeType&&(l=l.parentNode||null),l):null},e._shouldLogEvent=function(l,_){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!l||!_||1!==_.nodeType)return!1;var S=_.tagName.toLowerCase(),E=l.type.toLowerCase();if(_.classList.contains("statsig-no-capture"))return!1;if(k)return!0;switch(S){case"html":return!1;case"form":return["submit"].indexOf(E)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(E)>=0;default:if("click"===E){var T=window.getComputedStyle(_);if(T&&"pointer"===T.getPropertyValue("cursor"))return!0;if(e.interactiveElements.includes(S))return!0;if("true"===_.getAttribute("contenteditable"))return!0;if(_getAnchorNodeInHierarchy(_))return!0}return!1}},e._getSafeUrl=_getSafeUrl,e._getSafeUrlString=function(){var e=_getSafeUrl().toString();return e.startsWith("error:")?"":e},e._getSanitizedPageUrl=function(){return(0,l._getCurrentPageUrlSafe)()||""},e._registerEventHandler=function(e,l,_){e&&e.addEventListener&&e.addEventListener(l,_,!0)},e._getSafeNetworkInformation=function(){var e=(0,l._getWindowSafe)();if(!e||!e.navigator)return null;var _=e.navigator.connection;return _||null},e._getSafeTimezone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(ta){return null}},e._getSafeTimezoneOffset=function(){try{return(new Date).getTimezoneOffset()}catch(ta){return null}},e._getAnchorNodeInHierarchy=_getAnchorNodeInHierarchy,e._sanitizeString=function(e){return e?e.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(function(e){return function(e){if(_.test((e||"").replace(/[- ]/g,"")))return!1;if(k.test((e||"").replace(/[- ]/g,"")))return!1;return!0}(e)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null},e.throttle=function(e,l){var _=0;return function(){var k=Date.now();k-_>=l&&(_=k,e.apply(void 0,arguments))}},e.wrapFunctionWithRestore=function(e,l,_){var k=e[l];if("function"!=typeof k)return function(){};try{var S=_(k);return Object.defineProperty(S,"__statsig_original__",{enumerable:!1,value:k}),e[l]=S,function(){e[l]=k}}catch(E){return function(){}}}}(Pi)),Pi}var Mi,ji={};function requireConsoleLogsUtils(){if(Mi)return ji;function _truncateString(e,l){return e.length<=l?e:e.slice(0,l)+"..."}function _isObjectTooDeep(e,l){return l<=0||"object"===_typeof3(e)&&null!==e&&Object.keys(e).some(function(_){return _isObjectTooDeep(e[_],l-1)})}return Mi=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji._getStackTrace=ji._safeStringify=void 0,ji._safeStringify=function(e,l,_,k){try{return function(e,l,_){if(k=e,"[object Object]"===Object.prototype.toString.call(k)){if(Object.keys(e).length>l)return!0;if(_isObjectTooDeep(e,_))return!0}var k;if("function"==typeof e)return!0;return!1}(e,l,_)?function(e,l){return _truncateString(e.toString(),l)}(e,k):"string"==typeof e?_truncateString(e,k):"object"===_typeof3(e)&&null!==e?_truncateString(JSON.stringify(e),k):_truncateString(String(e),k)}catch(S){return _truncateString("[Unserializable]",k)}},ji._getStackTrace=function(){var e,l;try{return null!==(l=null===(e=(new Error).stack)||void 0===e?void 0:e.split("\n").slice(2))&&void 0!==l?l:[]}catch(_){return[]}},ji}var Di,Fi,Li={};function requireMetadataUtils(){if(Di)return Li;Di=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li._getPossibleFirstTouchMetadata=Li._getNetworkInfo=Li._gatherAllMetadata=Li._gatherCommonMetadata=void 0;var e=requireSrc$3(),l=requireCommonUtils();function _gatherCommonMetadata(_){var k,S,E,T,O,I,R,M,j=(0,e._getDocumentSafe)(),D=(0,e._getWindowSafe)();return(0,l._stripEmptyValues)(Object.assign({title:null==j?void 0:j.title,current_url:null===(k=null==D?void 0:D.location)||void 0===k?void 0:k.href,user_agent:(null===(S=null==D?void 0:D.navigator)||void 0===S?void 0:S.userAgent)&&(null===(T=null===(E=null==D?void 0:D.navigator)||void 0===E?void 0:E.userAgent)||void 0===T?void 0:T.length)>200?D.navigator.userAgent.substring(0,200):null===(O=null==D?void 0:D.navigator)||void 0===O?void 0:O.userAgent,locale:null===(I=null==D?void 0:D.navigator)||void 0===I?void 0:I.language,hostname:_.hostname,pathname:_.pathname,screen_width:null===(R=null==D?void 0:D.screen)||void 0===R?void 0:R.width,screen_height:null===(M=null==D?void 0:D.screen)||void 0===M?void 0:M.height,viewport_width:null==D?void 0:D.innerWidth,viewport_height:null==D?void 0:D.innerHeight,viewport:"".concat(null==D?void 0:D.innerWidth,"x").concat(null==D?void 0:D.innerHeight),timestamp:Date.now(),timezone:(0,l._getSafeTimezone)(),timezone_offset:(0,l._getSafeTimezoneOffset)()},_getNetworkInfo()))}function _getNetworkInfo(){var e=(0,l._getSafeNetworkInformation)(),_={};return void 0!==(null==e?void 0:e.effectiveType)&&(_.effective_connection_type=e.effectiveType),void 0!==(null==e?void 0:e.rtt)&&(_.rtt_ms=e.rtt),void 0!==(null==e?void 0:e.downlink)&&(_.downlink_mbps=e.downlink,_.downlink_kbps=1e3*e.downlink),void 0!==(null==e?void 0:e.saveData)&&(_.save_data=e.saveData),_}function getReferrerInfo(e){var l=(null==e?void 0:e.referrer)||"";if(!l)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{var _=new URL(l),k=_.hostname,S=["google","bing","yahoo","duckduckgo","baidu"].find(function(e){return k.includes(e+".")})||"",E=_.searchParams.get("yahoo"===S?"p":"q")||"";return{referrer:l,referrer_domain:_.hostname,referrer_path:_.pathname,searchEngine:S,searchQuery:E}}catch(ta){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function getCampaignParams(e){var l=e.searchParams,_={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(function(e){var k=l.get(e);k&&(_[e]=k)}),_}return Li._gatherCommonMetadata=_gatherCommonMetadata,Li._gatherAllMetadata=function(_){var k=(0,e._getDocumentSafe)(),S=(0,e._getWindowSafe)();if(!k||!S)return{};var E=getReferrerInfo(k),T=_gatherCommonMetadata(_),O=getCampaignParams(_),I={};return _.searchParams.forEach(function(e,l){I[l]=e}),Object.assign(Object.assign({},T),(0,l._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},E),O),I)))},Li._getNetworkInfo=_getNetworkInfo,Li._getPossibleFirstTouchMetadata=function(_){var k=(0,e._getDocumentSafe)(),S=(0,e._getWindowSafe)();if(!k||!S)return{};for(var E=getReferrerInfo(k),T=getCampaignParams(_),O=(0,l._stripEmptyValues)(Object.assign(Object.assign({},E),T)),I={},R=0,M=Object.entries(O);R<M.length;R++){var j=_slicedToArray(M[R],2),D=j[0],L=j[1];I["$s_".concat(D)]=L}return I},Li}var Ni,Ui,Bi={},qi={};function requireEventUtils(){if(Ni)return qi;Ni=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi._getMetadataFromElement=qi._gatherCopyEventData=qi._gatherEventData=void 0;var e=requireSrc$3(),l=requireCommonUtils(),_=1e3;function _truncateString(e,l){return e?e.length>l?e.substring(0,l)+"...":e:null}function _getSafeMetadataAttributes(e){var l={};return l.class=(_truncateString(e.getAttribute("class"),_)||"").replace(/\s+/g," ").trim(),l.id=_truncateString(e.getAttribute("id"),_),l.ariaLabel=_truncateString(e.getAttribute("aria-label"),_),l.name=_truncateString(e.getAttribute("name"),_),l}function _getMetadataFromElement(e){var l={},_=_getSafeMetadataAttributes(e);Object.assign(l,_);var k=Array.from(e.classList);return l.classList=k.length>0?k.slice(0,100):null,l.selector=function(e){if(!e)return"";if(!e.parentNode){var l=e.tagName.toLowerCase();if(e.id)return"#".concat(e.id);var _=l;if(e.className&&"string"==typeof e.className){var k=e.className.trim().split(/\s+/);k.length>0&&""!==k[0]&&(_+="."+k.join("."))}return _}var S=[],E=e,T=0;for(;E&&E.nodeType===Node.ELEMENT_NODE&&T<50;){var O=getElementSelector(E);if(S.unshift(O),E.id)break;if((E=E.parentElement)&&"body"===E.tagName.toLowerCase())break;T++}return S.join(" > ")}(e),l}function getElementSelector(e){var l=e.tagName.toLowerCase();if(e.id)return"#".concat(e.id);var _=l;if(e.className&&"string"==typeof e.className){var k=e.className.trim().split(/\s+/);k.length>0&&""!==k[0]&&(_+="."+k.join("."))}var S=e.parentElement;if(S&&S.children.length>1){for(var E=1,T=1,O=e.previousElementSibling;O;)E++,O.tagName===e.tagName&&T++,O=O.previousElementSibling;_+=":nth-child(".concat(E,")"),(T>1||function(e){for(var l=e.nextElementSibling;l;){if(l.tagName===e.tagName)return!0;l=l.nextElementSibling}return!1}(e))&&(_+=":nth-of-type(".concat(T,")"))}return _}return qi._gatherEventData=function(e){var _=(0,l._getSanitizedPageUrl)()||"",k=e.tagName.toLowerCase();if(function(e){return"input"===e.tagName.toLowerCase()&&["button","checkbox","submit","reset"].includes(e.getAttribute("type")||"")||"textarea"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase()||"true"===e.getAttribute("contenteditable")}(e))return{value:_,metadata:_getSafeMetadataAttributes(e)};var S={};S.tagName=k;var E=_getMetadataFromElement(e);Object.assign(S,E),"form"===k&&Object.assign(S,function(e){var l,_={};return _.action=e.getAttribute("action"),_.method=null!==(l=e.getAttribute("method"))&&void 0!==l?l:"GET",_.formName=e.getAttribute("name"),_.formId=e.getAttribute("id"),_}(e)),"input"===k&&Object.assign(S,function(e){var l={};return l.content=e.value,l.inputName=e.getAttribute("name"),l}(e));var T=(0,l._getAnchorNodeInHierarchy)(e);return T&&Object.assign(S,function(e){var l={};return l.href=e.getAttribute("href"),l}(T)),("button"===k||T)&&Object.assign(S,function(e){var l={};l.content=(e.textContent||"").trim();var _=function(e){var l={};if(!e)return l;var _=null==e?void 0:e.dataset;if(!_)return l;for(var k in _)l["data-".concat(k)]=_[k]||"";return l}(e);return Object.assign(l,_),l}(T||e)),function(e){var _;if(Array.isArray(e.classList)&&(null===(_=e.classList)||void 0===_?void 0:_.includes("statsig-ctr-capture")))return!0;var k=e.href;if(k)try{var S=(0,l._getSafeUrl)(),E=new URL(k);return S.host!==E.host}catch(T){return!1}return!1}(S)&&(S.isOutbound="true"),{value:_,metadata:S}},qi._gatherCopyEventData=function(_){var k,S,E=null===(S=null===(k=(0,e._getWindowSafe)())||void 0===k?void 0:k.getSelection())||void 0===S?void 0:S.toString(),T={};T.selectedText=(0,l._sanitizeString)(E);var O=_.type||"clipboard";return T.clipType=O,T},qi._getMetadataFromElement=_getMetadataFromElement,qi}var zi,Gi={};var Wi,Vi={};var Ki,Hi,$i,Ji,Yi={},Xi={exports:{}};function requireWebVitals_umd(){return Ki||(Ki=1,function(e,l){!function(e){var l=-1,n=function(e){addEventListener("pageshow",function(_){_.persisted&&(l=_.timeStamp,e(_))},!0)},i=function(e,l,_,k){var S,E;return function(T){l.value>=0&&(T||k)&&((E=l.value-(null!=S?S:0))||void 0===S)&&(S=l.value,l.delta=E,l.rating=function(e,l){return e>l[1]?"poor":e>l[0]?"needs-improvement":"good"}(l.value,_),e(l))}},o=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},s=function(){var e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},r=function(){var e,l=s();return null!==(e=null==l?void 0:l.activationStart)&&void 0!==e?e:0},c=function(e){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,k=s(),S="navigate";return l>=0?S="back-forward-cache":k&&(document.prerendering||r()>0?S="prerender":document.wasDiscarded?S="restore":k.type&&(S=k.type.replace(/_/g,"-"))),{name:e,value:_,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:S}},_=new WeakMap;function d(e,l){return _.get(e)||_.set(e,new l),_.get(e)}var k,S=function(){function h(){_classCallCheck3(this,h),_defineProperty3(this,"t",void 0),_defineProperty3(this,"i",0),_defineProperty3(this,"o",[])}return _createClass3(h,[{key:"h",value:function(e){var l;if(!e.hadRecentInput){var _=this.o[0],k=this.o.at(-1);this.i&&_&&k&&e.startTime-k.startTime<1e3&&e.startTime-_.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),null===(l=this.t)||void 0===l||l.call(this,e)}}}])}(),f=function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var k=new PerformanceObserver(function(e){Promise.resolve().then(function(){l(e.getEntries())})});return k.observe(_objectSpread2({type:e,buffered:!0},_)),k}}catch(S){}},u=function(e){var l=!1;return function(){l||(e(),l=!0)}},E=-1,m=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},p=function(e){"hidden"===document.visibilityState&&E>-1&&(E="visibilitychange"===e.type?e.timeStamp:0,v())},g=function(){addEventListener("visibilitychange",p,!0),addEventListener("prerenderingchange",p,!0)},v=function(){removeEventListener("visibilitychange",p,!0),removeEventListener("prerenderingchange",p,!0)},y=function(){if(E<0){var e,l=r(),_=document.prerendering||null===(e=globalThis.performance.getEntriesByType("visibility-state").filter(function(e){return"hidden"===e.name&&e.startTime>l})[0])||void 0===e?void 0:e.startTime;E=null!=_?_:m(),g(),n(function(){setTimeout(function(){E=m(),g()})})}return{get firstHiddenTime(){return E}}},b=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},T=[1800,3e3],P=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(function(){var _,k=y(),S=c("FCP"),E=f("paint",function(e){var l,T=_createForOfIteratorHelper2(e);try{for(T.s();!(l=T.n()).done;){var O=l.value;"first-contentful-paint"===O.name&&(E.disconnect(),O.startTime<k.firstHiddenTime&&(S.value=Math.max(O.startTime-r(),0),S.entries.push(O),_(!0)))}}catch(I){T.e(I)}finally{T.f()}});E&&(_=i(e,S,T,l.reportAllChanges),n(function(k){S=c("FCP"),_=i(e,S,T,l.reportAllChanges),o(function(){S.value=performance.now()-k.timeStamp,_(!0)})}))})},O=[.1,.25],I=0,R=1/0,M=0,C=function(e){var l,_=_createForOfIteratorHelper2(e);try{for(_.s();!(l=_.n()).done;){var k=l.value;k.interactionId&&(R=Math.min(R,k.interactionId),M=Math.max(M,k.interactionId),I=M?(M-R)/7+1:0)}}catch(S){_.e(S)}finally{_.f()}},w=function(){var e;return k?I:null!==(e=performance.interactionCount)&&void 0!==e?e:0},F=function(){"interactionCount"in performance||k||(k=f("event",C,{type:"event",buffered:!0,durationThreshold:0}))},j=0,D=function(){function x(){_classCallCheck3(this,x),_defineProperty3(this,"u",[]),_defineProperty3(this,"l",new Map),_defineProperty3(this,"m",void 0),_defineProperty3(this,"p",void 0)}return _createClass3(x,[{key:"v",value:function(){j=w(),this.u.length=0,this.l.clear()}},{key:"T",value:function(){var e=Math.min(this.u.length-1,Math.floor((w()-j)/50));return this.u[e]}},{key:"h",value:function(e){var l;if(null!==(l=this.m)&&void 0!==l&&l.call(this,e),e.interactionId||"first-input"===e.entryType){var _=this.u.at(-1),k=this.l.get(e.interactionId);if(k||this.u.length<10||e.duration>_.P){var S;if(k?e.duration>k.P?(k.entries=[e],k.P=e.duration):e.duration===k.P&&e.startTime===k.entries[0].startTime&&k.entries.push(e):(k={id:e.interactionId,entries:[e],P:e.duration},this.l.set(k.id,k),this.u.push(k)),this.u.sort(function(e,l){return l.P-e.P}),this.u.length>10){var E,T=_createForOfIteratorHelper2(this.u.splice(10));try{for(T.s();!(E=T.n()).done;){var O=E.value;this.l.delete(O.id)}}catch(I){T.e(I)}finally{T.f()}}null===(S=this.p)||void 0===S||S.call(this,k)}}}}])}(),A=function(e){var l=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=u(e),document.addEventListener("visibilitychange",e,{once:!0}),l(function(){e(),document.removeEventListener("visibilitychange",e)}))},L=[200,500],U=function(){function N(){_classCallCheck3(this,N),_defineProperty3(this,"m",void 0)}return _createClass3(N,[{key:"h",value:function(e){var l;null===(l=this.m)||void 0===l||l.call(this,e)}}])}(),B=[2500,4e3],q=[800,1800],_O=function(e){document.prerendering?b(function(){return _O(e)}):"complete"!==document.readyState?addEventListener("load",function(){return _O(e)},!0):setTimeout(e)};e.CLSThresholds=O,e.FCPThresholds=T,e.INPThresholds=L,e.LCPThresholds=B,e.TTFBThresholds=q,e.onCLS=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};P(u(function(){var _,k=c("CLS",0),E=d(l,S),u=function(e){var l,S=_createForOfIteratorHelper2(e);try{for(S.s();!(l=S.n()).done;){var T=l.value;E.h(T)}}catch(O){S.e(O)}finally{S.f()}E.i>k.value&&(k.value=E.i,k.entries=E.o,_())},T=f("layout-shift",u);T&&(_=i(e,k,O,l.reportAllChanges),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(u(T.takeRecords()),_(!0))}),n(function(){E.i=0,k=c("CLS",0),_=i(e,k,O,l.reportAllChanges),o(function(){return _()})}),setTimeout(_))}))},e.onFCP=P,e.onINP=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&b(function(){var _;F();var k,S=c("INP"),E=d(l,D),a=function(e){A(function(){var l,_=_createForOfIteratorHelper2(e);try{for(_.s();!(l=_.n()).done;){var T=l.value;E.h(T)}}catch(I){_.e(I)}finally{_.f()}var O=E.T();O&&O.P!==S.value&&(S.value=O.P,S.entries=O.entries,k())})},T=f("event",a,{durationThreshold:null!==(_=l.durationThreshold)&&void 0!==_?_:40});k=i(e,S,L,l.reportAllChanges),T&&(T.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(a(T.takeRecords()),k(!0))}),n(function(){E.v(),S=c("INP"),k=i(e,S,L,l.reportAllChanges)}))})},e.onLCP=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(function(){var _,k=y(),S=c("LCP"),E=d(l,U),m=function(e){l.reportAllChanges||(e=e.slice(-1));var T,O=_createForOfIteratorHelper2(e);try{for(O.s();!(T=O.n()).done;){var I=T.value;E.h(I),I.startTime<k.firstHiddenTime&&(S.value=Math.max(I.startTime-r(),0),S.entries=[I],_())}}catch(R){O.e(R)}finally{O.f()}},T=f("largest-contentful-paint",m);if(T){_=i(e,S,B,l.reportAllChanges);for(var O=u(function(){m(T.takeRecords()),T.disconnect(),_(!0)}),I=0,R=["keydown","click","visibilitychange"];I<R.length;I++){var M=R[I];addEventListener(M,function(){return A(O)},{capture:!0,once:!0})}n(function(k){S=c("LCP"),_=i(e,S,B,l.reportAllChanges),o(function(){S.value=performance.now()-k.timeStamp,_(!0)})})}})},e.onTTFB=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=c("TTFB"),k=i(e,_,q,l.reportAllChanges);_O(function(){var S=s();S&&(_.value=Math.max(S.responseStart-r(),0),_.entries=[S],k(!0),n(function(){_=c("TTFB",0),(k=i(e,_,q,l.reportAllChanges))(!0)}))})}}(l)}(0,Xi.exports)),Xi.exports}function requireAutoCapture(){if($i)return xi;$i=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.AutoCapture=xi.runStatsigAutoCapture=xi.StatsigAutoCapturePlugin=void 0;var e=requireSrc$3(),l=requireAutoCaptureEvent(),_=function(){if(Fi)return Ri;Fi=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.ConsoleLogManager=void 0;var e=requireSrc$3(),l=requireAutoCaptureEvent(),_=requireCommonUtils(),k=requireConsoleLogsUtils(),S=requireMetadataUtils(),E={trace:10,debug:20,log:30,info:30,warn:40,error:50},T=function(){return _createClass3(function ConsoleLogManager(e,l,_){var k,S,E,T;_classCallCheck3(this,ConsoleLogManager),this._enqueueFn=e,this._errorBoundary=l,this._options=_,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=null!==(k=this._options.logLevel)&&void 0!==k?k:"info",this._maxKeys=null!==(S=this._options.maxKeys)&&void 0!==S?S:10,this._maxDepth=null!==(E=this._options.maxDepth)&&void 0!==E?E:10,this._maxStringLength=null!==(T=this._options.maxStringLength)&&void 0!==T?T:500},[{key:"startTracking",value:function(){try{if(this._isTracking||!this._options.enabled)return;if(!(0,e._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(l){e.Log.error("Error starting console log tracking",l),this._errorBoundary.logError("autoCapture:ConsoleLogManager",l)}}},{key:"stopTracking",value:function(){this._isTracking&&(this._restoreFns.forEach(function(e){return e()}),this._restoreFns=[],this._isTracking=!1)}},{key:"_patchConsole",value:function(){var e=this;Object.entries(E).forEach(function(l){var S=_slicedToArray(l,2),T=S[0];if(!(S[1]<E[e._logLevel])&&console[T]){var O=function(){}.bind(),I=!1,R=(0,_.wrapFunctionWithRestore)(console,T,function(l){return function(){for(var _=arguments.length,S=new Array(_),E=0;E<_;E++)S[E]=arguments[E];if(l.apply(void 0,S),!I){I=!0;try{var R=S.map(function(l){return(0,k._safeStringify)(l,e._maxKeys,e._maxDepth,e._maxStringLength)}),M=(0,k._getStackTrace)();e._enqueueConsoleLog(T,R,M)}catch(j){O.apply(void 0,["console observer error:",j].concat(S)),e._errorBoundary.logError("autoCapture:ConsoleLogManager",j)}finally{I=!1}}}});e._restoreFns.push(R)}})}},{key:"_enqueueConsoleLog",value:function(e,k,E){if(this._shouldLog()){var T=Object.assign({status:"log"===e?"info":e,log_level:e,payload:k,trace:E,timestamp:Date.now(),source:this.__source},(0,S._gatherAllMetadata)((0,_._getSafeUrl)()));this._enqueueFn(l.AutoCaptureEventName.CONSOLE_LOG,k.join(" "),T)}}},{key:"_shouldLog",value:function(){return!this._options.sampleRate||"number"!=typeof this._options.sampleRate||this._options.sampleRate<=0||this._options.sampleRate>=1||Math.random()<this._options.sampleRate}}])}();return Ri.ConsoleLogManager=T,Ri}(),k=(Ui||(Ui=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeadClickConfig=void 0;var l=requireSrc$3(),_=requireAutoCaptureEvent(),k=requireCommonUtils(),S=requireEventUtils(),E=requireMetadataUtils();e.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};var T=function(){return _createClass3(function DeadClickManager(l,_){var S=this;_classCallCheck3(this,DeadClickManager),this._enqueueFn=l,this._errorBoundary=_,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=e.DeadClickConfig,this._handleScroll=(0,k.throttle)(function(){var e=Date.now();S._clicks.forEach(function(l){l.scrollDelayMs||(l.scrollDelayMs=e-l.timestamp)})},50)},[{key:"startTracking",value:function(){var e=this;try{var _=(0,l._getWindowSafe)();if(!_)return;_.addEventListener("click",function(l){return e._handleClick(l)},{capture:!0}),_.addEventListener("scroll",function(){return e._handleScroll()},{capture:!0,passive:!0}),_.addEventListener("selectionchange",function(){return e._handleSelectionChange()}),this._setupMutationObserver()}catch(k){l.Log.error("Error starting dead click tracking",k),this._errorBoundary.logError("autoCapture:DeadClickManager",k)}}},{key:"_handleClick",value:function(e){var _,S,E=this,T=e.target;if(T){var O={timestamp:Date.now(),eventTarget:T};k.interactiveElements.includes(null===(_=null==T?void 0:T.tagName)||void 0===_?void 0:_.toLowerCase())||this._clicks.push(O),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null===(S=(0,l._getWindowSafe)())||void 0===S?void 0:S.setTimeout(function(){E._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}}},{key:"_handleSelectionChange",value:function(){this._lastSelectionChangeTime=Date.now()}},{key:"_setupMutationObserver",value:function(){var e=this,_=(0,l._getDocumentSafe)();_&&(this._observer=new MutationObserver(function(){e._lastMutationTime=Date.now()}),this._observer.observe(_.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}},{key:"_checkForDeadClick",value:function(){var e,_=this;if(this._clicks.length){clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;var k=this._clicks;this._clicks=[];var S,E=_createForOfIteratorHelper2(k);try{for(E.s();!(S=E.n()).done;){var T=S.value;this._updateClickDelayMs(T);var O=null!=T.scrollDelayMs&&T.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,I=null!=T.selectionChangeDelayMs&&T.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,R=null!=T.mutationDelayMs&&T.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(!(O||I||R)){var M=null!=T.scrollDelayMs&&T.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,j=null!=T.selectionChangeDelayMs&&T.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,D=null!=T.mutationDelayMs&&T.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,L=null!=T.absoluteDelayMs&&T.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;M||j||D||L?this._logDeadClick(T,{scrollTimeout:M,selectionChangeTimeout:j,mutationTimeout:D,absoluteTimeout:L}):null!=T.absoluteDelayMs&&T.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(T)}}}catch(U){E.e(U)}finally{E.f()}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null===(e=(0,l._getWindowSafe)())||void 0===e?void 0:e.setTimeout(function(){_._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}}},{key:"_logDeadClick",value:function(e,l){var T=(0,S._gatherEventData)(e.eventTarget),O=T.value,I=T.metadata;O&&this._enqueueFn(_.AutoCaptureEventName.DEAD_CLICK,O,Object.assign(Object.assign(Object.assign(Object.assign({},I),l),(0,E._gatherCommonMetadata)((0,k._getSafeUrl)())),{scrollDelayMs:e.scrollDelayMs,selectionChangeDelayMs:e.selectionChangeDelayMs,mutationDelayMs:e.mutationDelayMs,absoluteDelayMs:e.absoluteDelayMs}))}},{key:"_updateClickDelayMs",value:function(e){!e.mutationDelayMs&&this._lastMutationTime>0&&e.timestamp<=this._lastMutationTime&&(e.mutationDelayMs=Date.now()-this._lastMutationTime),!e.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&e.timestamp<=this._lastSelectionChangeTime&&(e.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),e.absoluteDelayMs=Date.now()-e.timestamp}}])}();e.default=T}(Bi)),Bi),S=function(){if(zi)return Gi;zi=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.EngagementManager=void 0;var e=requireSrc$3(),l=function(){return _createClass3(function EngagementManager(){_classCallCheck3(this,EngagementManager),this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()},[{key:"_initializeScrollTracking",value:function(){var l=this,_=(0,e._getWindowSafe)();_&&(_.addEventListener("scroll",function(){return l._handleScroll()}),_.addEventListener("scrollend",function(){return l._handleScroll()}),_.addEventListener("resize",function(){return l._handleScroll()}))}},{key:"_handleScroll",value:function(){var l=(0,e._getWindowSafe)(),_=(0,e._getDocumentSafe)();if(l&&_){var k=_.body.scrollHeight,S=l.scrollY||_.documentElement.scrollTop||0,E=l.innerHeight;this._lastScrollY=S,this._maxScrollY=Math.max(this._maxScrollY,S);var T=Math.min(100,Math.round((S+E)/k*100));this._lastScrollPercentage=T,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,T),this.bumpInactiveTimer()}}},{key:"getScrollMetrics",value:function(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}},{key:"getPageViewLength",value:function(){return Date.now()-this._lastPageViewTime}},{key:"setLastPageViewTime",value:function(e){this._lastPageViewTime=e}},{key:"startInactivityTracking",value:function(e){this._onInactivityCallback=e}},{key:"bumpInactiveTimer",value:function(){var l=this,_=(0,e._getWindowSafe)();_&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=_.setTimeout(function(){l._onInactivityCallback&&l._onInactivityCallback()},6e5))}},{key:"setMeaningfulEngagementOccurred",value:function(e){this._meaningfulEngagementOccurred=e}},{key:"getPageViewEndMetadata",value:function(){var e=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),e}}])}();return Gi.EngagementManager=l,Gi}(),E=function(){if(Wi)return Vi;Wi=1,Object.defineProperty(Vi,"__esModule",{value:!0});var e=function(){return _createClass3(function RageClickManager(){_classCallCheck3(this,RageClickManager),this._clicks=[]},[{key:"isRageClick",value:function(e,l,_){var k,S,E;return this._clicks=this._clicks.filter(function(e){return _-e.timestamp<1e3}),this._clicks.length>0&&(S=e-(k=this._clicks[this._clicks.length-1]).x,E=l-k.y,!(Math.abs(S)+Math.abs(E)<=30))&&(this._clicks=[]),this._clicks.push({x:e,y:l,timestamp:_}),this._clicks.length>=3}}])}();return Vi.default=e,Vi}(),T=function(){if(Hi)return Yi;Hi=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.WebVitalsManager=void 0;var e=requireWebVitals_umd(),l=requireSrc$3(),_=requireAutoCaptureEvent(),k=requireCommonUtils(),S=["CLS","FCP","INP","LCP","TTFB"],E=function(){return _createClass3(function WebVitalsManager(e,l){_classCallCheck3(this,WebVitalsManager),this._enqueueFn=e,this._errorBoundary=l,this._isInitialized=!1,this._metricEvent={url:(0,k._getSafeUrlString)(),sanitizedUrl:(0,k._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}},[{key:"startTracking",value:function(){var _,k,S=this;try{if(this._isInitialized)return;var E=null===(k=null===(_=(0,l._getWindowSafe)())||void 0===_?void 0:_.location)||void 0===k?void 0:k.protocol;if("https:"!==E&&"http:"!==E)return;(0,e.onCLS)(function(e){return S._handleMetric(e)}),(0,e.onFCP)(function(e){return S._handleMetric(e)}),(0,e.onINP)(function(e){return S._handleMetric(e)}),(0,e.onLCP)(function(e){return S._handleMetric(e)}),(0,e.onTTFB)(function(e){return S._handleMetric(e)}),this._isInitialized=!0}catch(T){l.Log.error("Error starting web vitals tracking",T),this._errorBoundary.logError("autoCapture:WebVitalsManager",T)}}},{key:"_handleMetric",value:function(e){if(void 0===this._metricEvent.firstMetricTimestamp&&(this._metricEvent.firstMetricTimestamp=Date.now()),void 0!==e&&void 0!==(null==e?void 0:e.name)){var l=(0,k._getSafeUrlString)();if(""!==l&&S.includes(e.name)){l!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=l);var _=e;this._metricEvent.metrics.push({name:_.name,value:_.value,delta:_.delta,id:_.id}),this._metricEvent.metrics.length===S.length&&this._enqueueWebVitalsAutoCaptureEvent()}}}},{key:"_enqueueWebVitalsAutoCaptureEvent",value:function(){if(""!==this._metricEvent.url&&0!==this._metricEvent.metrics.length){var e={};this._metricEvent.metrics.forEach(function(l){var _=l.name.toLowerCase();e["".concat(_,"_value")]=l.value,e["".concat(_,"_delta")]=l.delta,e["".concat(_,"_id")]=l.id}),this._enqueueFn(_.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},e),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,k._getSafeUrlString)(),sanitizedUrl:(0,k._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}}}])}();return Yi.WebVitalsManager=E,Yi}(),O=requireCommonUtils(),I=requireEventUtils(),R=requireMetadataUtils(),M={submit:l.AutoCaptureEventName.FORM_SUBMIT,click:l.AutoCaptureEventName.CLICK,copy:l.AutoCaptureEventName.COPY,cut:l.AutoCaptureEventName.COPY},j=function(){return _createClass3(function StatsigAutoCapturePlugin(e){_classCallCheck3(this,StatsigAutoCapturePlugin),this._options=e,this.__plugin="auto-capture"},[{key:"bind",value:function(e){runStatsigAutoCapture(e,this._options)}}])}();function runStatsigAutoCapture(l,_){var k,S=l.getContext().sdkKey;if(!(0,e._isServerEnv)()){var E=null!==(k=(0,e._getStatsigGlobal)().acInstances)&&void 0!==k?k:{};if(E[S])return E[S]}return new D(l,_)}xi.StatsigAutoCapturePlugin=j,xi.runStatsigAutoCapture=runStatsigAutoCapture;var D=function(){return _createClass3(function AutoCapture(l,O){var I,R,M,j,D=this;_classCallCheck3(this,AutoCapture),this._client=l,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;var L=l.getContext(),U=L.sdkKey,B=L.errorBoundary,q=L.values;this._options=O,this._disabledEvents=null!==(R=null===(I=null==q?void 0:q.auto_capture_settings)||void 0===I?void 0:I.disabled_events)&&void 0!==R?R:{},this._errorBoundary=B,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",function(){var e,l,_=D._client.getContext().values;D._disabledEvents=null!==(l=null===(e=null==_?void 0:_.auto_capture_settings)||void 0===e?void 0:e.disabled_events)&&void 0!==l?l:D._disabledEvents}),this._engagementManager=new S.EngagementManager,this._rageClickManager=new E.default,this._webVitalsManager=new T.WebVitalsManager(this._enqueueAutoCapture.bind(this),B),this._deadClickManager=new k.default(this._enqueueAutoCapture.bind(this),B),this._consoleLogManager=new _.ConsoleLogManager(this._enqueueAutoCapture.bind(this),B,null!==(M=null==O?void 0:O.consoleLogAutoCaptureSettings)&&void 0!==M?M:{enabled:!1}),this._eventFilterFunc=null==O?void 0:O.eventFilterFunc;var z=(0,e._getDocumentSafe)();if(!(0,e._isServerEnv)()){__STATSIG__=(0,e._getStatsigGlobal)();var G=null!==(j=__STATSIG__.acInstances)&&void 0!==j?j:{};G[U]=this,__STATSIG__.acInstances=G}"loading"!==(null==z?void 0:z.readyState)?this._initialize():z.addEventListener("DOMContentLoaded",function(){return D._initialize()})},[{key:"_addEventHandlers",value:function(){var l=this,_=(0,e._getWindowSafe)(),k=(0,e._getDocumentSafe)();if(_&&k){var eventHandler=function(_){var k,S=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],E=_||(null===(k=(0,e._getWindowSafe)())||void 0===k?void 0:k.event);(l._autoLogEvent(E),S&&l._engagementManager.bumpInactiveTimer(),"click"===E.type&&E instanceof MouseEvent)&&(l._rageClickManager.isRageClick(E.clientX,E.clientY,Date.now())&&l._logRageClick(E))};(0,O._registerEventHandler)(k,"click",function(e){return eventHandler(e)}),(0,O._registerEventHandler)(k,"submit",function(e){return eventHandler(e)}),(0,O._registerEventHandler)(k,"copy",function(e){return eventHandler(e)}),(0,O._registerEventHandler)(k,"cut",function(e){return eventHandler(e)}),(0,O._registerEventHandler)(_,"error",function(e){return eventHandler(e,!1)}),(0,O._registerEventHandler)(_,"pagehide",function(){return l._tryLogPageViewEnd()}),(0,O._registerEventHandler)(_,"beforeunload",function(){return l._tryLogPageViewEnd()})}}},{key:"_addPageViewTracking",value:function(){var l=this,_=(0,e._getWindowSafe)(),k=(0,e._getDocumentSafe)();_&&k&&((0,O._registerEventHandler)(_,"popstate",function(){return l._tryLogPageView("popstate")}),window.history.pushState=new Proxy(window.history.pushState,{apply:function(e,_,k){var S=_slicedToArray(k,3),E=S[0],T=S[1],O=S[2];e.apply(_,[E,T,O]),l._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:function(e,_,k){var S=_slicedToArray(k,3),E=S[0],T=S[1],O=S[2];e.apply(_,[E,T,O]),l._tryLogPageView("replacestate")}}),this._tryLogPageView())}},{key:"_autoLogEvent",value:function(_){var k,S,E,T,j=null===(k=_.type)||void 0===k?void 0:k.toLowerCase();if("error"===j&&_ instanceof ErrorEvent)this._logError(_);else{var D=(0,O._getTargetNode)(_);if(D){var L=M[j];if(L){var U=L===l.AutoCaptureEventName.COPY;if((0,O._shouldLogEvent)(_,D,U)){var B={};if(U){var q=null===(E=null===(S=(0,e._getWindowSafe)())||void 0===S?void 0:S.getSelection())||void 0===E?void 0:E.toString();if(!q)return;(null===(T=this._options)||void 0===T?void 0:T.captureCopyText)&&(B.selectedText=(0,O._sanitizeString)(q));var z=_.type||"clipboard";B.clipType=z}var G=(0,I._gatherEventData)(D),W=G.value,V=G.metadata;V.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(B,V);var K=(0,R._gatherAllMetadata)((0,O._getSafeUrl)());this._enqueueAutoCapture(L,W,Object.assign(Object.assign({},K),B))}}}}}},{key:"_initialize",value:function(){var e=this;this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(function(){return e._tryLogPageViewEnd(!0)}),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}},{key:"_logError",value:function(e){var _=(null==e?void 0:e.error)||{},k=_;if("object"===_typeof3(_))try{k=JSON.stringify(_)}catch(ta){k="function"==typeof(null==_?void 0:_.toString)?_.toString():"Unknown Error"}this._enqueueAutoCapture(l.AutoCaptureEventName.ERROR,e.message,{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error_str:k})}},{key:"_logSessionStart",value:function(){var e=this._getSessionFromClient();try{if(!this._isNewSession(e))return;this._enqueueAutoCapture(l.AutoCaptureEventName.SESSION_START,(0,O._getSanitizedPageUrl)(),Object.assign({sessionID:e.data.sessionID},(0,R._gatherAllMetadata)((0,O._getSafeUrl)())),{flushImmediately:!0})}catch(_){this._errorBoundary.logError("AC::logSession",_)}}},{key:"_tryLogPageView",value:function(e){var _=(0,O._getSafeUrl)(),k=this._previousLoggedPageViewUrl;if(!k||_.pathname!==k.pathname){this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;var S=(0,R._gatherAllMetadata)(_);e&&(S.navigation_type=e),this._previousLoggedPageViewUrl&&(S.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(l.AutoCaptureEventName.PAGE_VIEW,(0,O._getSanitizedPageUrl)(),S,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=_,this._engagementManager.bumpInactiveTimer()}}},{key:"_tryLogPageViewEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(l.AutoCaptureEventName.PAGE_VIEW_END,(0,O._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:e}),{flushImmediately:!0}))}},{key:"_logRageClick",value:function(e){if((0,O._shouldLogEvent)(e,e.target)){var _=(0,I._gatherEventData)(e.target),k=_.value,S=_.metadata;this._enqueueAutoCapture(l.AutoCaptureEventName.RAGE_CLICK,k,Object.assign(Object.assign({x:e.clientX,y:e.clientY,timestamp:Date.now()},(0,R._gatherAllMetadata)((0,O._getSafeUrl)())),S))}}},{key:"_logPerformance",value:function(){var _=this,k=(0,e._getWindowSafe)();k&&k.performance&&void 0!==(null==k?void 0:k.performance)&&"function"==typeof k.performance.getEntriesByType&&"function"==typeof k.performance.getEntriesByName&&setTimeout(function(){var e={},S=k.performance.getEntriesByType("navigation");if(S&&S.length>0&&S[0]instanceof PerformanceNavigationTiming){var E=S[0];e.load_time_ms=E.duration,e.dom_interactive_time_ms=E.domInteractive-E.startTime,e.redirect_count=E.redirectCount,e.transfer_bytes=E.transferSize}var T=k.performance.getEntriesByName("first-contentful-paint");T&&T.length>0&&T[0]instanceof PerformancePaintTiming&&(e.first_contentful_paint_time_ms=T[0].startTime),_._enqueueAutoCapture(l.AutoCaptureEventName.PERFORMANCE,(0,O._getSanitizedPageUrl)(),Object.assign(Object.assign({},e),(0,R._getNetworkInfo)()))},1)}},{key:"_enqueueAutoCapture",value:function(l,_,k,S){var E,T,O;if(_){var I=l.slice(14);if(!this._disabledEvents[l]&&!this._disabledEvents[I]){var R=this._getSessionFromClient();try{var M=Object.assign({sessionID:R.data.sessionID,page_url:null!==(O=null===(T=null===(E=(0,e._getWindowSafe)())||void 0===E?void 0:E.location)||void 0===T?void 0:T.href)&&void 0!==O?O:""},k);(null==S?void 0:S.addNewSessionMetadata)&&(M.isNewSession=String(this._isNewSession(R)));var j={eventName:l,value:_,metadata:M};if(this._eventFilterFunc&&!this._eventFilterFunc(j))return;this._client.logEvent(j),(null==S?void 0:S.flushImmediately)&&this._flushImmediately()}catch(D){this._errorBoundary.logError("AC::enqueue",D)}}}}},{key:"_updateClientWithPossibleFirstTouchMetadata",value:function(){var e=this._client;e._possibleFirstTouchMetadata=(0,R._getPossibleFirstTouchMetadata)((0,O._getSafeUrl)()),Object.keys(e._possibleFirstTouchMetadata).length>0&&(e._user=Object.assign(Object.assign({},e._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},e._possibleFirstTouchMetadata),e._user.analyticsOnlyMetadata)}))}},{key:"_flushImmediately",value:function(){this._client.flush().catch(function(l){e.Log.error(l)})}},{key:"_isNewSession",value:function(e){return Math.abs(e.data.startTime-Date.now())<1e3}},{key:"_getSessionFromClient",value:function(){return this._client.getContext().session}}],[{key:"getAllMetadata",value:function(){return(0,R._gatherAllMetadata)((0,O._getSafeUrl)())}}])}();return xi.AutoCapture=D,xi}R("aj",(Ji||(Ji=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigAutoCapturePlugin=e.runStatsigAutoCapture=e.AutoCapture=e.AutoCaptureEventName=void 0;var l=requireSrc$3(),_=requireAutoCapture();Object.defineProperty(e,"AutoCapture",{enumerable:!0,get:function(){return _.AutoCapture}}),Object.defineProperty(e,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return _.StatsigAutoCapturePlugin}}),Object.defineProperty(e,"runStatsigAutoCapture",{enumerable:!0,get:function(){return _.runStatsigAutoCapture}});var k=requireAutoCaptureEvent();Object.defineProperty(e,"AutoCaptureEventName",{enumerable:!0,get:function(){return k.AutoCaptureEventName}});var S=Object.assign((0,l._getStatsigGlobal)(),{AutoCapture:_.AutoCapture,runStatsigAutoCapture:_.runStatsigAutoCapture,StatsigAutoCapturePlugin:_.StatsigAutoCapturePlugin});e.default=S}(Ai)),Ai));function t(e,l,_){return Math.max(e,Math.min(l,_))}var Zi=function(){return _createClass3(function Animate(){_classCallCheck3(this,Animate)},[{key:"advance",value:function(e){var l;if(this.isRunning){var _,k,S,E,T=!1;if(this.lerp)this.value=(_=this.value,k=this.to,S=60*this.lerp,E=e,function(e,l,_){return(1-_)*e+_*l}(_,k,1-Math.exp(-S*E))),Math.round(this.value)===this.to&&(this.value=this.to,T=!0);else{this.currentTime+=e;var O=t(0,this.currentTime/this.duration,1),I=(T=O>=1)?1:this.easing(O);this.value=this.from+(this.to-this.from)*I}null!==(l=this.onUpdate)&&void 0!==l&&l.call(this,this.value,T),T&&this.stop()}}},{key:"stop",value:function(){this.isRunning=!1}},{key:"fromTo",value:function(e,l,_){var k=_.lerp,S=void 0===k?.1:k,E=_.duration,T=void 0===E?1:E,O=_.easing,I=void 0===O?function(e){return e}:O,R=_.onStart,M=_.onUpdate;this.from=this.value=e,this.to=l,this.lerp=S,this.duration=T,this.easing=I,this.currentTime=0,this.isRunning=!0,null!=R&&R(),this.onUpdate=M}}])}(),Qi=function(){return _createClass3(function Dimensions(){var e=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=l.wrapper,k=l.content,S=l.autoResize,E=void 0===S||S,T=l.debounce,O=void 0===T?250:T;_classCallCheck3(this,Dimensions),_defineProperty3(this,"resize",function(){e.onWrapperResize(),e.onContentResize()}),_defineProperty3(this,"onWrapperResize",function(){e.wrapper===window?(e.width=window.innerWidth,e.height=window.innerHeight):(e.width=e.wrapper.clientWidth,e.height=e.wrapper.clientHeight)}),_defineProperty3(this,"onContentResize",function(){e.wrapper===window?(e.scrollHeight=e.content.scrollHeight,e.scrollWidth=e.content.scrollWidth):(e.scrollHeight=e.wrapper.scrollHeight,e.scrollWidth=e.wrapper.scrollWidth)}),this.wrapper=_,this.content=k,E&&(this.debouncedResize=function(e,l){var _;return function(){var k=arguments,S=this;clearTimeout(_),_=setTimeout(function(){e.apply(S,k)},l)}}(this.resize,O),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()},[{key:"destroy",value:function(){var e,l;null!==(e=this.wrapperResizeObserver)&&void 0!==e&&e.disconnect(),null!==(l=this.contentResizeObserver)&&void 0!==l&&l.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}},{key:"limit",get:function(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}])}(),ea=function(){return _createClass3(function Emitter(){_classCallCheck3(this,Emitter),this.events={}},[{key:"emit",value:function(e){for(var l=this.events[e]||[],_=arguments.length,k=new Array(_>1?_-1:0),S=1;S<_;S++)k[S-1]=arguments[S];for(var E=0,T=l.length;E<T;E++)l[E].apply(l,k)}},{key:"on",value:function(e,l){var _,k=this;return null!==(_=this.events[e])&&void 0!==_&&_.push(l)||(this.events[e]=[l]),function(){var _;k.events[e]=null===(_=k.events[e])||void 0===_?void 0:_.filter(function(e){return l!==e})}}},{key:"off",value:function(e,l){var _;this.events[e]=null===(_=this.events[e])||void 0===_?void 0:_.filter(function(e){return l!==e})}},{key:"destroy",value:function(){this.events={}}}])}(),ta=100/6,ra=function(){return _createClass3(function VirtualScroll(e,l){var _=this,k=l.wheelMultiplier,S=void 0===k?1:k,E=l.touchMultiplier,T=void 0===E?1:E;_classCallCheck3(this,VirtualScroll),_defineProperty3(this,"onTouchStart",function(e){var l=e.targetTouches?e.targetTouches[0]:e,k=l.clientX,S=l.clientY;_.touchStart.x=k,_.touchStart.y=S,_.lastDelta={x:0,y:0},_.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})}),_defineProperty3(this,"onTouchMove",function(e){var l=e.targetTouches?e.targetTouches[0]:e,k=l.clientX,S=l.clientY,E=-(k-_.touchStart.x)*_.touchMultiplier,T=-(S-_.touchStart.y)*_.touchMultiplier;_.touchStart.x=k,_.touchStart.y=S,_.lastDelta={x:E,y:T},_.emitter.emit("scroll",{deltaX:E,deltaY:T,event:e})}),_defineProperty3(this,"onTouchEnd",function(e){_.emitter.emit("scroll",{deltaX:_.lastDelta.x,deltaY:_.lastDelta.y,event:e})}),_defineProperty3(this,"onWheel",function(e){var l=e.deltaX,k=e.deltaY,S=e.deltaMode;l*=1===S?ta:2===S?_.windowWidth:1,k*=1===S?ta:2===S?_.windowHeight:1,l*=_.wheelMultiplier,k*=_.wheelMultiplier,_.emitter.emit("scroll",{deltaX:l,deltaY:k,event:e})}),_defineProperty3(this,"onWindowResize",function(){_.windowWidth=window.innerWidth,_.windowHeight=window.innerHeight}),this.element=e,this.wheelMultiplier=S,this.touchMultiplier=T,this.touchStart={x:null,y:null},this.emitter=new ea,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})},[{key:"on",value:function(e,l){return this.emitter.on(e,l)}},{key:"destroy",value:function(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}])}(),na=function(){return _createClass3(function Lenis(){var e=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=l.wrapper,k=void 0===_?window:_,S=l.content,E=void 0===S?document.documentElement:S,T=l.wheelEventsTarget,O=void 0===T?k:T,I=l.eventsTarget,R=void 0===I?O:I,M=l.smoothWheel,j=void 0===M||M,D=l.syncTouch,L=void 0!==D&&D,U=l.syncTouchLerp,B=void 0===U?.075:U,q=l.touchInertiaMultiplier,z=void 0===q?35:q,G=l.duration,W=l.easing,V=void 0===W?function(e){return Math.min(1,1.001-Math.pow(2,-10*e))}:W,K=l.lerp,H=void 0===K?!G&&.1:K,$=l.infinite,J=void 0!==$&&$,Y=l.orientation,X=void 0===Y?"vertical":Y,Z=l.gestureOrientation,Q=void 0===Z?"vertical":Z,ee=l.touchMultiplier,te=void 0===ee?1:ee,re=l.wheelMultiplier,ne=void 0===re?1:re,ie=l.autoResize,ae=void 0===ie||ie,oe=l.__experimental__naiveDimensions,se=void 0!==oe&&oe;_classCallCheck3(this,Lenis),this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=function(l){var _=l.deltaX,k=l.deltaY,S=l.event;if(!S.ctrlKey){var E=S.type.includes("touch"),T=S.type.includes("wheel");if(!e.options.syncTouch||!E||"touchstart"!==S.type||e.isStopped||e.isLocked){var O=0===_&&0===k,I="vertical"===e.options.gestureOrientation&&0===k||"horizontal"===e.options.gestureOrientation&&0===_;if(!O&&!I){var R=S.composedPath();if(!(R=R.slice(0,R.indexOf(e.rootElement))).find(function(e){var l,_,k,S,O;return(null===(l=e.hasAttribute)||void 0===l?void 0:l.call(e,"data-lenis-prevent"))||E&&(null===(_=e.hasAttribute)||void 0===_?void 0:_.call(e,"data-lenis-prevent-touch"))||T&&(null===(k=e.hasAttribute)||void 0===k?void 0:k.call(e,"data-lenis-prevent-wheel"))||(null===(S=e.classList)||void 0===S?void 0:S.contains("lenis"))&&!(null===(O=e.classList)||void 0===O?void 0:O.contains("lenis-stopped"))}))if(e.isStopped||e.isLocked)S.preventDefault();else{if(e.isSmooth=e.options.syncTouch&&E||e.options.smoothWheel&&T,!e.isSmooth)return e.isScrolling=!1,void e.animate.stop();S.preventDefault();var M=k;"both"===e.options.gestureOrientation?M=Math.abs(k)>Math.abs(_)?k:_:"horizontal"===e.options.gestureOrientation&&(M=_);var j=E&&e.options.syncTouch,D=E&&"touchend"===S.type&&Math.abs(M)>5;D&&(M=e.velocity*e.options.touchInertiaMultiplier),e.scrollTo(e.targetScroll+M,Object.assign({programmatic:!1},j?{lerp:D?e.options.syncTouchLerp:1}:{lerp:e.options.lerp,duration:e.options.duration,easing:e.options.easing}))}}}else e.reset()}},this.onNativeScroll=function(){if(!e.__preventNextScrollEvent&&!e.isScrolling){var l=e.animatedScroll;e.animatedScroll=e.targetScroll=e.actualScroll,e.velocity=0,e.direction=Math.sign(e.animatedScroll-l),e.emit()}},window.lenisVersion="1.0.42",k!==document.documentElement&&k!==document.body||(k=window),this.options={wrapper:k,content:E,wheelEventsTarget:O,eventsTarget:R,smoothWheel:j,syncTouch:L,syncTouchLerp:B,touchInertiaMultiplier:z,duration:G,easing:V,lerp:H,infinite:J,gestureOrientation:Q,orientation:X,touchMultiplier:te,wheelMultiplier:ne,autoResize:ae,__experimental__naiveDimensions:se},this.animate=new Zi,this.emitter=new ea,this.dimensions=new Qi({wrapper:k,content:E,autoResize:ae}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=L||j,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new ra(R,{touchMultiplier:te,wheelMultiplier:ne}),this.virtualScroll.on("scroll",this.onVirtualScroll)},[{key:"destroy",value:function(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}},{key:"on",value:function(e,l){return this.emitter.on(e,l)}},{key:"off",value:function(e,l){return this.emitter.off(e,l)}},{key:"setScroll",value:function(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}},{key:"resize",value:function(){this.dimensions.resize()}},{key:"emit",value:function(){this.emitter.emit("scroll",this)}},{key:"reset",value:function(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}},{key:"start",value:function(){this.isStopped&&(this.isStopped=!1,this.reset())}},{key:"stop",value:function(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}},{key:"raf",value:function(e){var l=e-(this.time||e);this.time=e,this.animate.advance(.001*l)}},{key:"scrollTo",value:function(e){var l=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=_.offset,S=void 0===k?0:k,E=_.immediate,T=void 0!==E&&E,O=_.lock,I=void 0!==O&&O,R=_.duration,M=void 0===R?this.options.duration:R,j=_.easing,D=void 0===j?this.options.easing:j,L=_.lerp,U=void 0===L?!M&&this.options.lerp:L,B=_.onComplete,q=_.force,z=void 0!==q&&q,G=_.programmatic,W=void 0===G||G;if(!this.isStopped&&!this.isLocked||z){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{var V;if("string"==typeof e?V=document.querySelector(e):(null==e?void 0:e.nodeType)&&(V=e),V){if(this.options.wrapper!==window){var K=this.options.wrapper.getBoundingClientRect();S-=this.isHorizontal?K.left:K.top}var H=V.getBoundingClientRect();e=(this.isHorizontal?H.left:H.top)+this.animatedScroll}}if("number"==typeof e){if(e+=S,e=Math.round(e),this.options.infinite?W&&(this.targetScroll=this.animatedScroll=this.scroll):e=t(0,e,this.limit),T)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(null==B||B(this));if(!W){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:M,easing:D,lerp:U,onStart:function(){I&&(l.isLocked=!0),l.isScrolling=!0},onUpdate:function(e,_){l.isScrolling=!0,l.velocity=e-l.animatedScroll,l.direction=Math.sign(l.velocity),l.animatedScroll=e,l.setScroll(l.scroll),W&&(l.targetScroll=e),_||l.emit(),_&&(l.reset(),l.emit(),null==B||B(l),l.__preventNextScrollEvent=!0,requestAnimationFrame(function(){delete l.__preventNextScrollEvent}))}})}}}},{key:"rootElement",get:function(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}},{key:"limit",get:function(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}},{key:"isHorizontal",get:function(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function(){return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll;var e}},{key:"progress",get:function(){return 0===this.limit?1:this.scroll/this.limit}},{key:"isSmooth",get:function(){return this.__isSmooth},set:function(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}},{key:"isScrolling",get:function(){return this.__isScrolling},set:function(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}},{key:"isStopped",get:function(){return this.__isStopped},set:function(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}},{key:"isLocked",get:function(){return this.__isLocked},set:function(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}},{key:"className",get:function(){var e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}},{key:"toggleClassName",value:function(e,l){this.rootElement.classList.toggle(e,l),this.emitter.emit("className change",this)}}])}();R("ak",na);var ia,aa=function(e){function FunctionsError(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",k=arguments.length>2?arguments[2]:void 0;return _classCallCheck3(this,FunctionsError),(l=_callSuper(this,FunctionsError,[e])).name=_,l.context=k,l}return _inherits(FunctionsError,e),_createClass3(FunctionsError)}(_wrapNativeSuper(Error)),oa=function(e){function FunctionsFetchError(e){return _classCallCheck3(this,FunctionsFetchError),_callSuper(this,FunctionsFetchError,["Failed to send a request to the Edge Function","FunctionsFetchError",e])}return _inherits(FunctionsFetchError,e),_createClass3(FunctionsFetchError)}(aa),sa=function(e){function FunctionsRelayError(e){return _classCallCheck3(this,FunctionsRelayError),_callSuper(this,FunctionsRelayError,["Relay Error invoking the Edge Function","FunctionsRelayError",e])}return _inherits(FunctionsRelayError,e),_createClass3(FunctionsRelayError)}(aa),ua=function(e){function FunctionsHttpError(e){return _classCallCheck3(this,FunctionsHttpError),_callSuper(this,FunctionsHttpError,["Edge Function returned a non-2xx status code","FunctionsHttpError",e])}return _inherits(FunctionsHttpError,e),_createClass3(FunctionsHttpError)}(aa);!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(ia||(ia={}));var la,ca,ha,da,fa,pa,va,__awaiter$9=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},ga=function(){return _createClass3(function FunctionsClient(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.headers,k=void 0===_?{}:_,S=l.customFetch,E=l.region,T=void 0===E?ia.Any:E;_classCallCheck3(this,FunctionsClient),this.url=e,this.headers=k,this.region=T,this.fetch=function(e){var l;return l=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return B(_asyncToGenerator(_regenerator().m(function _callee26(){var e,l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,Promise.resolve().then(function(){return Oa});case 1:return e=_.v,l=e.default,_.a(2,{default:l})}},_callee26)})),void 0).then(function(e){return e.default.apply(void 0,l)})}:fetch),function(){return l.apply(void 0,arguments)}}(S)},[{key:"setAuth",value:function(e){this.headers.Authorization="Bearer ".concat(e)}},{key:"invoke",value:function(e){return __awaiter$9(this,arguments,void 0,function(e){var l=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator().m(function _callee27(){var k,S,E,T,O,I,R,M,j,D,L,U,B,q;return _regenerator().w(function(z){for(;;)switch(z.p=z.n){case 0:return z.p=0,S=_.headers,E=_.method,T=_.body,O=_.signal,I={},(R=_.region)||(R=l.region),M=new URL("".concat(l.url,"/").concat(e)),R&&"any"!==R&&(I["x-region"]=R,M.searchParams.set("forceFunctionRegion",R)),T&&(S&&!Object.prototype.hasOwnProperty.call(S,"Content-Type")||!S)&&("undefined"!=typeof Blob&&T instanceof Blob||T instanceof ArrayBuffer?(I["Content-Type"]="application/octet-stream",j=T):"string"==typeof T?(I["Content-Type"]="text/plain",j=T):"undefined"!=typeof FormData&&T instanceof FormData?j=T:(I["Content-Type"]="application/json",j=JSON.stringify(T))),z.n=1,l.fetch(M.toString(),{method:E||"POST",headers:Object.assign(Object.assign(Object.assign({},I),l.headers),S),body:j,signal:O}).catch(function(e){if("AbortError"===e.name)throw e;throw new oa(e)});case 1:if(D=z.v,!(L=D.headers.get("x-relay-error"))||"true"!==L){z.n=2;break}throw new sa(D);case 2:if(D.ok){z.n=3;break}throw new ua(D);case 3:if("application/json"!==(U=(null!==(k=D.headers.get("Content-Type"))&&void 0!==k?k:"text/plain").split(";")[0].trim())){z.n=5;break}return z.n=4,D.json();case 4:B=z.v,z.n=12;break;case 5:if("application/octet-stream"!==U){z.n=7;break}return z.n=6,D.blob();case 6:B=z.v,z.n=12;break;case 7:if("text/event-stream"!==U){z.n=8;break}B=D,z.n=12;break;case 8:if("multipart/form-data"!==U){z.n=10;break}return z.n=9,D.formData();case 9:B=z.v,z.n=12;break;case 10:return z.n=11,D.text();case 11:B=z.v;case 12:return z.a(2,{data:B,error:null,response:D});case 13:if(z.p=13,!((q=z.v)instanceof Error&&"AbortError"===q.name)){z.n=14;break}return z.a(2,{data:null,error:new oa(q)});case 14:return z.a(2,{data:null,error:q,response:q instanceof ua||q instanceof sa?q.context:void 0})}},_callee27,null,[[0,13]])})()})}}])}(),ma={},ya={},_a={},ba={},ka={},wa={},Sa=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),Ca=Sa.fetch,Ea=Sa.fetch.bind(Sa),Ta=Sa.Headers,Aa=Sa.Request,xa=Sa.Response,Oa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ta,Request:Aa,Response:xa,default:Ea,fetch:Ca},Symbol.toStringTag,{value:"Module"})),Ia=getAugmentedNamespace(Oa),Ra={};function requirePostgrestError(){if(la)return Ra;la=1,Object.defineProperty(Ra,"__esModule",{value:!0});var e=function(e){function PostgrestError(e){var l;return _classCallCheck3(this,PostgrestError),(l=_callSuper(this,PostgrestError,[e.message])).name="PostgrestError",l.details=e.details,l.hint=e.hint,l.code=e.code,l}return _inherits(PostgrestError,e),_createClass3(PostgrestError)}(_wrapNativeSuper(Error));return Ra.default=e,Ra}function requirePostgrestBuilder(){if(ca)return wa;ca=1;var e=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});var l=e(Ia),_=e(requirePostgrestError()),k=function(){return _createClass3(function PostgrestBuilder(e){var _,k;_classCallCheck3(this,PostgrestBuilder),this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(_=e.shouldThrowOnError)&&void 0!==_&&_,this.signal=e.signal,this.isMaybeSingle=null!==(k=e.isMaybeSingle)&&void 0!==k&&k,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=l.default:this.fetch=fetch},[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"setHeader",value:function(e,l){return this.headers=new Headers(this.headers),this.headers.set(e,l),this}},{key:"then",value:function(e,l){var k=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");var S=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var e=_asyncToGenerator(_regenerator().m(function _callee28(e){var l,S,E,T,O,I,R,M,j,D,L,U,B,q;return _regenerator().w(function(z){for(;;)switch(z.n){case 0:if(O=null,I=null,R=null,M=e.status,j=e.statusText,!e.ok){z.n=3;break}if("HEAD"===k.method){z.n=2;break}return z.n=1,e.text();case 1:""===(D=z.v)||(I="text/csv"===k.headers.get("Accept")||k.headers.get("Accept")&&(null===(l=k.headers.get("Accept"))||void 0===l?void 0:l.includes("application/vnd.pgrst.plan+text"))?D:JSON.parse(D));case 2:L=null===(S=k.headers.get("Prefer"))||void 0===S?void 0:S.match(/count=(exact|planned|estimated)/),U=null===(E=e.headers.get("content-range"))||void 0===E?void 0:E.split("/"),L&&U&&U.length>1&&(R=parseInt(U[1])),k.isMaybeSingle&&"GET"===k.method&&Array.isArray(I)&&(I.length>1?(O={code:"PGRST116",details:"Results contain ".concat(I.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},I=null,R=null,M=406,j="Not Acceptable"):I=1===I.length?I[0]:null),z.n=5;break;case 3:return z.n=4,e.text();case 4:B=z.v;try{O=JSON.parse(B),Array.isArray(O)&&404===e.status&&(I=[],O=null,M=200,j="OK")}catch(G){404===e.status&&""===B?(M=204,j="No Content"):O={message:B}}if(O&&k.isMaybeSingle&&(null===(T=null==O?void 0:O.details)||void 0===T?void 0:T.includes("0 rows"))&&(O=null,M=200,j="OK"),!O||!k.shouldThrowOnError){z.n=5;break}throw new _.default(O);case 5:return q={error:O,data:I,count:R,status:M,statusText:j},z.a(2,q)}},_callee28)}));return function(l){return e.apply(this,arguments)}}());return this.shouldThrowOnError||(S=S.catch(function(e){var l,_,k;return{error:{message:"".concat(null!==(l=null==e?void 0:e.name)&&void 0!==l?l:"FetchError",": ").concat(null==e?void 0:e.message),details:"".concat(null!==(_=null==e?void 0:e.stack)&&void 0!==_?_:""),hint:"",code:"".concat(null!==(k=null==e?void 0:e.code)&&void 0!==k?k:"")},data:null,count:null,status:0,statusText:""}})),S.then(e,l)}},{key:"returns",value:function(){return this}},{key:"overrideTypes",value:function(){return this}}])}();return wa.default=k,wa}function requirePostgrestTransformBuilder(){if(ha)return ka;ha=1;var e=ka&&ka.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ka,"__esModule",{value:!0});var l=function(e){function PostgrestTransformBuilder(){return _classCallCheck3(this,PostgrestTransformBuilder),_callSuper(this,PostgrestTransformBuilder,arguments)}return _inherits(PostgrestTransformBuilder,e),_createClass3(PostgrestTransformBuilder,[{key:"select",value:function(e){var l=!1,_=(null!=e?e:"*").split("").map(function(e){return/\s/.test(e)&&!l?"":('"'===e&&(l=!l),e)}).join("");return this.url.searchParams.set("select",_),this.headers.append("Prefer","return=representation"),this}},{key:"order",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.ascending,k=void 0===_||_,S=l.nullsFirst,E=l.foreignTable,T=l.referencedTable,O=void 0===T?E:T,I=O?"".concat(O,".order"):"order",R=this.url.searchParams.get(I);return this.url.searchParams.set(I,"".concat(R?"".concat(R,","):"").concat(e,".").concat(k?"asc":"desc").concat(void 0===S?"":S?".nullsfirst":".nullslast")),this}},{key:"limit",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.foreignTable,k=l.referencedTable,S=void 0===k?_:k,E=void 0===S?"limit":"".concat(S,".limit");return this.url.searchParams.set(E,"".concat(e)),this}},{key:"range",value:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=_.foreignTable,S=_.referencedTable,E=void 0===S?k:S,T=void 0===E?"offset":"".concat(E,".offset"),O=void 0===E?"limit":"".concat(E,".limit");return this.url.searchParams.set(T,"".concat(e)),this.url.searchParams.set(O,"".concat(l-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}},{key:"maybeSingle",value:function(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}},{key:"csv",value:function(){return this.headers.set("Accept","text/csv"),this}},{key:"geojson",value:function(){return this.headers.set("Accept","application/geo+json"),this}},{key:"explain",value:function(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=l.analyze,k=void 0!==_&&_,S=l.verbose,E=void 0!==S&&S,T=l.settings,O=void 0!==T&&T,I=l.buffers,R=void 0!==I&&I,M=l.wal,j=void 0!==M&&M,D=l.format,L=void 0===D?"text":D,U=[k?"analyze":null,E?"verbose":null,O?"settings":null,R?"buffers":null,j?"wal":null].filter(Boolean).join("|"),B=null!==(e=this.headers.get("Accept"))&&void 0!==e?e:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(L,'; for="').concat(B,'"; options=').concat(U,";")),this}},{key:"rollback",value:function(){return this.headers.append("Prefer","tx=rollback"),this}},{key:"returns",value:function(){return this}},{key:"maxAffected",value:function(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}])}(e(requirePostgrestBuilder()).default);return ka.default=l,ka}function requirePostgrestFilterBuilder(){if(da)return ba;da=1;var e=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ba,"__esModule",{value:!0});var l=function(e){function PostgrestFilterBuilder(){return _classCallCheck3(this,PostgrestFilterBuilder),_callSuper(this,PostgrestFilterBuilder,arguments)}return _inherits(PostgrestFilterBuilder,e),_createClass3(PostgrestFilterBuilder,[{key:"eq",value:function(e,l){return this.url.searchParams.append(e,"eq.".concat(l)),this}},{key:"neq",value:function(e,l){return this.url.searchParams.append(e,"neq.".concat(l)),this}},{key:"gt",value:function(e,l){return this.url.searchParams.append(e,"gt.".concat(l)),this}},{key:"gte",value:function(e,l){return this.url.searchParams.append(e,"gte.".concat(l)),this}},{key:"lt",value:function(e,l){return this.url.searchParams.append(e,"lt.".concat(l)),this}},{key:"lte",value:function(e,l){return this.url.searchParams.append(e,"lte.".concat(l)),this}},{key:"like",value:function(e,l){return this.url.searchParams.append(e,"like.".concat(l)),this}},{key:"likeAllOf",value:function(e,l){return this.url.searchParams.append(e,"like(all).{".concat(l.join(","),"}")),this}},{key:"likeAnyOf",value:function(e,l){return this.url.searchParams.append(e,"like(any).{".concat(l.join(","),"}")),this}},{key:"ilike",value:function(e,l){return this.url.searchParams.append(e,"ilike.".concat(l)),this}},{key:"ilikeAllOf",value:function(e,l){return this.url.searchParams.append(e,"ilike(all).{".concat(l.join(","),"}")),this}},{key:"ilikeAnyOf",value:function(e,l){return this.url.searchParams.append(e,"ilike(any).{".concat(l.join(","),"}")),this}},{key:"is",value:function(e,l){return this.url.searchParams.append(e,"is.".concat(l)),this}},{key:"in",value:function(e,l){var _=Array.from(new Set(l)).map(function(e){return"string"==typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)}).join(",");return this.url.searchParams.append(e,"in.(".concat(_,")")),this}},{key:"contains",value:function(e,l){return"string"==typeof l?this.url.searchParams.append(e,"cs.".concat(l)):Array.isArray(l)?this.url.searchParams.append(e,"cs.{".concat(l.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(l))),this}},{key:"containedBy",value:function(e,l){return"string"==typeof l?this.url.searchParams.append(e,"cd.".concat(l)):Array.isArray(l)?this.url.searchParams.append(e,"cd.{".concat(l.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(l))),this}},{key:"rangeGt",value:function(e,l){return this.url.searchParams.append(e,"sr.".concat(l)),this}},{key:"rangeGte",value:function(e,l){return this.url.searchParams.append(e,"nxl.".concat(l)),this}},{key:"rangeLt",value:function(e,l){return this.url.searchParams.append(e,"sl.".concat(l)),this}},{key:"rangeLte",value:function(e,l){return this.url.searchParams.append(e,"nxr.".concat(l)),this}},{key:"rangeAdjacent",value:function(e,l){return this.url.searchParams.append(e,"adj.".concat(l)),this}},{key:"overlaps",value:function(e,l){return"string"==typeof l?this.url.searchParams.append(e,"ov.".concat(l)):this.url.searchParams.append(e,"ov.{".concat(l.join(","),"}")),this}},{key:"textSearch",value:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=_.config,S=_.type,E="";"plain"===S?E="pl":"phrase"===S?E="ph":"websearch"===S&&(E="w");var T=void 0===k?"":"(".concat(k,")");return this.url.searchParams.append(e,"".concat(E,"fts").concat(T,".").concat(l)),this}},{key:"match",value:function(e){var l=this;return Object.entries(e).forEach(function(e){var _=_slicedToArray(e,2),k=_[0],S=_[1];l.url.searchParams.append(k,"eq.".concat(S))}),this}},{key:"not",value:function(e,l,_){return this.url.searchParams.append(e,"not.".concat(l,".").concat(_)),this}},{key:"or",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.foreignTable,k=l.referencedTable,S=void 0===k?_:k,E=S?"".concat(S,".or"):"or";return this.url.searchParams.append(E,"(".concat(e,")")),this}},{key:"filter",value:function(e,l,_){return this.url.searchParams.append(e,"".concat(l,".").concat(_)),this}}])}(e(requirePostgrestTransformBuilder()).default);return ba.default=l,ba}function requirePostgrestQueryBuilder(){if(fa)return _a;fa=1;var e=_a&&_a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_a,"__esModule",{value:!0});var l=e(requirePostgrestFilterBuilder()),_=function(){return _createClass3(function PostgrestQueryBuilder(e,l){var _=l.headers,k=void 0===_?{}:_,S=l.schema,E=l.fetch;_classCallCheck3(this,PostgrestQueryBuilder),this.url=e,this.headers=new Headers(k),this.schema=S,this.fetch=E},[{key:"select",value:function(e,_){var k=null!=_?_:{},S=k.head,E=void 0!==S&&S,T=k.count,O=E?"HEAD":"GET",I=!1,R=(null!=e?e:"*").split("").map(function(e){return/\s/.test(e)&&!I?"":('"'===e&&(I=!I),e)}).join("");return this.url.searchParams.set("select",R),T&&this.headers.append("Prefer","count=".concat(T)),new l.default({method:O,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}},{key:"insert",value:function(e){var _,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=k.count,E=k.defaultToNull,T=void 0===E||E;if(S&&this.headers.append("Prefer","count=".concat(S)),T||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var O=e.reduce(function(e,l){return e.concat(Object.keys(l))},[]);if(O.length>0){var I=_toConsumableArray3(new Set(O)).map(function(e){return'"'.concat(e,'"')});this.url.searchParams.set("columns",I.join(","))}}return new l.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(_=this.fetch)&&void 0!==_?_:fetch})}},{key:"upsert",value:function(e){var _,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=k.onConflict,E=k.ignoreDuplicates,T=void 0!==E&&E,O=k.count,I=k.defaultToNull,R=void 0===I||I;if(this.headers.append("Prefer","resolution=".concat(T?"ignore":"merge","-duplicates")),void 0!==S&&this.url.searchParams.set("on_conflict",S),O&&this.headers.append("Prefer","count=".concat(O)),R||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var M=e.reduce(function(e,l){return e.concat(Object.keys(l))},[]);if(M.length>0){var j=_toConsumableArray3(new Set(M)).map(function(e){return'"'.concat(e,'"')});this.url.searchParams.set("columns",j.join(","))}}return new l.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(_=this.fetch)&&void 0!==_?_:fetch})}},{key:"update",value:function(e){var _,k=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count;return k&&this.headers.append("Prefer","count=".concat(k)),new l.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(_=this.fetch)&&void 0!==_?_:fetch})}},{key:"delete",value:function(){var e,_=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).count;return _&&this.headers.append("Prefer","count=".concat(_)),new l.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(e=this.fetch)&&void 0!==e?e:fetch})}}])}();return _a.default=_,_a}var Pa,Ma,ja,Da,Fa,La=function(){if(va)return ma;va=1;var e=ma&&ma.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0}),ma.PostgrestError=ma.PostgrestBuilder=ma.PostgrestTransformBuilder=ma.PostgrestFilterBuilder=ma.PostgrestQueryBuilder=ma.PostgrestClient=void 0;var l=e(function(){if(pa)return ya;pa=1;var e=ya&&ya.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});var l=e(requirePostgrestQueryBuilder()),_=e(requirePostgrestFilterBuilder()),k=function(){function PostgrestClient(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.headers,k=void 0===_?{}:_,S=l.schema,E=l.fetch;_classCallCheck3(this,PostgrestClient),this.url=e,this.headers=new Headers(k),this.schemaName=S,this.fetch=E}return _createClass3(PostgrestClient,[{key:"from",value:function(e){var _=new URL("".concat(this.url,"/").concat(e));return new l.default(_,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}},{key:"schema",value:function(e){return new PostgrestClient(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}},{key:"rpc",value:function(e){var l,k,S,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=T.head,I=void 0!==O&&O,R=T.get,M=void 0!==R&&R,j=T.count,D=new URL("".concat(this.url,"/rpc/").concat(e));I||M?(k=I?"HEAD":"GET",Object.entries(E).filter(function(e){var l=_slicedToArray(e,2);return l[0],void 0!==l[1]}).map(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];return[_,Array.isArray(k)?"{".concat(k.join(","),"}"):"".concat(k)]}).forEach(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];D.searchParams.append(_,k)})):(k="POST",S=E);var L=new Headers(this.headers);return j&&L.set("Prefer","count=".concat(j)),new _.default({method:k,url:D,headers:L,schema:this.schemaName,body:S,fetch:null!==(l=this.fetch)&&void 0!==l?l:fetch})}}])}();return ya.default=k,ya}());ma.PostgrestClient=l.default;var _=e(requirePostgrestQueryBuilder());ma.PostgrestQueryBuilder=_.default;var k=e(requirePostgrestFilterBuilder());ma.PostgrestFilterBuilder=k.default;var S=e(requirePostgrestTransformBuilder());ma.PostgrestTransformBuilder=S.default;var E=e(requirePostgrestBuilder());ma.PostgrestBuilder=E.default;var T=e(requirePostgrestError());return ma.PostgrestError=T.default,ma.default={PostgrestClient:l.default,PostgrestQueryBuilder:_.default,PostgrestFilterBuilder:k.default,PostgrestTransformBuilder:S.default,PostgrestBuilder:E.default,PostgrestError:T.default},ma}(),Na=getDefaultExportFromCjs(La),Ua=Na.PostgrestClient,Ba=(Na.PostgrestQueryBuilder,Na.PostgrestFilterBuilder,Na.PostgrestTransformBuilder,Na.PostgrestBuilder,Na.PostgrestError,function(){return _createClass3(function WebSocketFactory(){_classCallCheck3(this,WebSocketFactory)},null,[{key:"detectEnvironment",value:function(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){var l=process.versions;if(l&&l.node){var _=l.node,k=parseInt(_.replace(/^v/,"").split(".")[0]);return k>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(k," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(k," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}},{key:"getWebSocketConstructor",value:function(){var e=this.detectEnvironment();if(e.constructor)return e.constructor;var l=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(l+="\n\nSuggested solution: ".concat(e.workaround)),new Error(l)}},{key:"createWebSocket",value:function(e,l){return new(this.getWebSocketConstructor())(e,l)}},{key:"isWebSocketSupported",value:function(){try{var e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(l){return!1}}}])}()),qa="realtime-js/".concat("2.75.0"),za=1e4;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Pa||(Pa={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ma||(Ma={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(ja||(ja={})),function(e){e.websocket="websocket"}(Da||(Da={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Fa||(Fa={}));var Ga,Wa=function(){return _createClass3(function Serializer(){_classCallCheck3(this,Serializer),this.HEADER_LENGTH=1},[{key:"decode",value:function(e,l){return e.constructor===ArrayBuffer?l(this._binaryDecode(e)):l("string"==typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var l=new DataView(e),_=new TextDecoder;return this._decodeBroadcast(e,l,_)}},{key:"_decodeBroadcast",value:function(e,l,_){var k=l.getUint8(1),S=l.getUint8(2),E=this.HEADER_LENGTH+2,T=_.decode(e.slice(E,E+k));E+=k;var O=_.decode(e.slice(E,E+S));return E+=S,{ref:null,topic:T,event:O,payload:JSON.parse(_.decode(e.slice(E,e.byteLength)))}}}])}(),Va=function(){return _createClass3(function Timer(e,l){_classCallCheck3(this,Timer),this.callback=e,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=l},[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.tries=e.tries+1,e.callback()},this.timerCalc(this.tries+1))}}])}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Ga||(Ga={}));var Ka,convertChangeData=function(e,l){var _,k=null!==(_=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==_?_:[];return l?Object.keys(l).reduce(function(_,S){return _[S]=convertColumn(S,e,l,k),_},{}):{}},convertColumn=function(e,l,_,k){var S=l.find(function(l){return l.name===e}),E=null==S?void 0:S.type,T=_[e];return E&&!k.includes(E)?convertCell(E,T):noop$3(T)},convertCell=function(e,l){if("_"===e.charAt(0)){var _=e.slice(1,e.length);return toArray$1(l,_)}switch(e){case Ga.bool:return toBoolean(l);case Ga.float4:case Ga.float8:case Ga.int2:case Ga.int4:case Ga.int8:case Ga.numeric:case Ga.oid:return toNumber(l);case Ga.json:case Ga.jsonb:return toJson(l);case Ga.timestamp:return toTimestampString(l);case Ga.abstime:case Ga.date:case Ga.daterange:case Ga.int4range:case Ga.int8range:case Ga.money:case Ga.reltime:case Ga.text:case Ga.time:case Ga.timestamptz:case Ga.timetz:case Ga.tsrange:case Ga.tstzrange:default:return noop$3(l)}},noop$3=function(e){return e},toBoolean=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=function(e){if("string"==typeof e){var l=parseFloat(e);if(!Number.isNaN(l))return l}return e},toJson=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(l){return e}return e},toArray$1=function(e,l){if("string"!=typeof e)return e;var _=e.length-1,k=e[_];if("{"===e[0]&&"}"===k){var S,E=e.slice(1,_);try{S=JSON.parse("["+E+"]")}catch(T){S=E?E.split(","):[]}return S.map(function(e){return convertCell(l,e)})}return e},toTimestampString=function(e){return"string"==typeof e?e.replace(" ","T"):e},httpEndpointURL=function(e){var l=e;return(l=(l=l.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"},Ha=function(){return _createClass3(function Push(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:za;_classCallCheck3(this,Push),this.channel=e,this.event=l,this.payload=_,this.timeout=k,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null},[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,l){var _;return this._hasReceived(e)&&l(null===(_=this.receivedResp)||void 0===_?void 0:_.response),this.recHooks.push({status:e,callback:l}),this}},{key:"startTimeout",value:function(){var e=this;if(!this.timeoutTimer){this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},function(l){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=l,e._matchReceive(l)}),this.timeoutTimer=setTimeout(function(){e.trigger("timeout",{})},this.timeout)}}},{key:"trigger",value:function(e,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:l})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel._off(this.refEvent,{})}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var l=e.status,_=e.response;this.recHooks.filter(function(e){return e.status===l}).forEach(function(e){return e.callback(_)})}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}])}();!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Ka||(Ka={}));var $a,Ja,Ya,Xa=function(){return _createClass3(function RealtimePresence(e,l){var _=this;_classCallCheck3(this,RealtimePresence),this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}};var k=(null==l?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(k.state,{},function(e){var l=_.caller,k=l.onJoin,S=l.onLeave,E=l.onSync;_.joinRef=_.channel._joinRef(),_.state=RealtimePresence.syncState(_.state,e,k,S),_.pendingDiffs.forEach(function(e){_.state=RealtimePresence.syncDiff(_.state,e,k,S)}),_.pendingDiffs=[],E()}),this.channel._on(k.diff,{},function(e){var l=_.caller,k=l.onJoin,S=l.onLeave,E=l.onSync;_.inPendingSyncState()?_.pendingDiffs.push(e):(_.state=RealtimePresence.syncDiff(_.state,e,k,S),E())}),this.onJoin(function(e,l,k){_.channel._trigger("presence",{event:"join",key:e,currentPresences:l,newPresences:k})}),this.onLeave(function(e,l,k){_.channel._trigger("presence",{event:"leave",key:e,currentPresences:l,leftPresences:k})}),this.onSync(function(){_.channel._trigger("presence",{event:"sync"})})},[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}],[{key:"syncState",value:function(e,l,_,k){var S=this.cloneDeep(e),E=this.transformState(l),T={},O={};return this.map(S,function(e,l){E[e]||(O[e]=l)}),this.map(E,function(e,l){var _=S[e];if(_){var k=l.map(function(e){return e.presence_ref}),E=_.map(function(e){return e.presence_ref}),I=l.filter(function(e){return E.indexOf(e.presence_ref)<0}),R=_.filter(function(e){return k.indexOf(e.presence_ref)<0});I.length>0&&(T[e]=I),R.length>0&&(O[e]=R)}else T[e]=l}),this.syncDiff(S,{joins:T,leaves:O},_,k)}},{key:"syncDiff",value:function(e,l,_,k){var S=this,E={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)},T=E.joins,O=E.leaves;return _||(_=function(){}),k||(k=function(){}),this.map(T,function(l,k){var E,T=null!==(E=e[l])&&void 0!==E?E:[];if(e[l]=S.cloneDeep(k),T.length>0){var O,I=e[l].map(function(e){return e.presence_ref}),R=T.filter(function(e){return I.indexOf(e.presence_ref)<0});(O=e[l]).unshift.apply(O,_toConsumableArray3(R))}_(l,T,k)}),this.map(O,function(l,_){var S=e[l];if(S){var E=_.map(function(e){return e.presence_ref});S=S.filter(function(e){return E.indexOf(e.presence_ref)<0}),e[l]=S,k(l,S,_),0===S.length&&delete e[l]}}),e}},{key:"map",value:function(e,l){return Object.getOwnPropertyNames(e).map(function(_){return l(_,e[_])})}},{key:"transformState",value:function(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(function(l,_){var k=e[_];return l[_]="metas"in k?k.metas.map(function(e){return e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e}):k,l},{})}},{key:"cloneDeep",value:function(e){return JSON.parse(JSON.stringify(e))}}])}();!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}($a||($a={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Ja||(Ja={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Ya||(Ya={}));var Za=function(){function RealtimeChannel(e){var l,_,k=this,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},E=arguments.length>2?arguments[2]:void 0;if(_classCallCheck3(this,RealtimeChannel),this.topic=e,this.params=S,this.socket=E,this.bindings={},this.state=Ma.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},S.config),this.timeout=this.socket.timeout,this.joinPush=new Ha(this,ja.join,this.params,this.timeout),this.rejoinTimer=new Va(function(){return k._rejoinUntilConnected()},this.socket.reconnectAfterMs),this.joinPush.receive("ok",function(){k.state=Ma.joined,k.rejoinTimer.reset(),k.pushBuffer.forEach(function(e){return e.send()}),k.pushBuffer=[]}),this._onClose(function(){k.rejoinTimer.reset(),k.socket.log("channel","close ".concat(k.topic," ").concat(k._joinRef())),k.state=Ma.closed,k.socket._remove(k)}),this._onError(function(e){k._isLeaving()||k._isClosed()||(k.socket.log("channel","error ".concat(k.topic),e),k.state=Ma.errored,k.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",function(){k._isJoining()&&(k.socket.log("channel","timeout ".concat(k.topic),k.joinPush.timeout),k.state=Ma.errored,k.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",function(e){k._isLeaving()||k._isClosed()||(k.socket.log("channel","error ".concat(k.topic),e),k.state=Ma.errored,k.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},function(e,l){k._trigger(k._replyEventName(l),e)}),this.presence=new Xa(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(_=null===(l=this.params.config)||void 0===l?void 0:l.broadcast)||void 0===_?void 0:_.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}return _createClass3(RealtimeChannel,[{key:"subscribe",value:function(e){var l,_,k,S=this,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;if(this.socket.isConnected()||this.socket.connect(),this.state==Ma.closed){var T=this.params.config,O=T.broadcast,I=T.presence,R=T.private,M=null!==(_=null===(l=this.bindings.postgres_changes)||void 0===l?void 0:l.map(function(e){return e.filter}))&&void 0!==_?_:[],j=!!this.bindings[Ja.PRESENCE]&&this.bindings[Ja.PRESENCE].length>0||!0===(null===(k=this.params.config.presence)||void 0===k?void 0:k.enabled),D={},L={broadcast:O,presence:Object.assign(Object.assign({},I),{enabled:j}),postgres_changes:M,private:R};this.socket.accessTokenValue&&(D.access_token=this.socket.accessTokenValue),this._onError(function(l){return null==e?void 0:e(Ya.CHANNEL_ERROR,l)}),this._onClose(function(){return null==e?void 0:e(Ya.CLOSED)}),this.updateJoinPayload(Object.assign({config:L},D)),this.joinedOnce=!0,this._rejoin(E),this.joinPush.receive("ok",function(){var l=_asyncToGenerator(_regenerator().m(function _callee29(l){var _,k,E,T,O,I,R,M,j,D,L,U,B;return _regenerator().w(function(q){for(;;)switch(q.n){case 0:if(_=l.postgres_changes,S.socket.setAuth(),void 0!==_){q.n=1;break}return null==e||e(Ya.SUBSCRIBED),q.a(2);case 1:E=S.bindings.postgres_changes,T=null!==(k=null==E?void 0:E.length)&&void 0!==k?k:0,O=[],I=0;case 2:if(!(I<T)){q.n=5;break}if(R=E[I],M=R.filter,j=M.event,D=M.schema,L=M.table,U=M.filter,!(B=_&&_[I])||B.event!==j||B.schema!==D||B.table!==L||B.filter!==U){q.n=3;break}O.push(Object.assign(Object.assign({},R),{id:B.id})),q.n=4;break;case 3:return S.unsubscribe(),S.state=Ma.errored,null==e||e(Ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")),q.a(2);case 4:I++,q.n=2;break;case 5:return S.bindings.postgres_changes=O,e&&e(Ya.SUBSCRIBED),q.a(2);case 6:return q.a(2)}},_callee29)}));return function(e){return l.apply(this,arguments)}}()).receive("error",function(l){S.state=Ma.errored,null==e||e(Ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",function(){null==e||e(Ya.TIMED_OUT)})}return this}},{key:"presenceState",value:function(){return this.presence.state}},{key:"track",value:(k=_asyncToGenerator(_regenerator().m(function _callee30(e){var l,_=arguments;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:return l=_.length>1&&void 0!==_[1]?_[1]:{},k.n=1,this.send({type:"presence",event:"track",payload:e},l.timeout||this.timeout);case 1:return k.a(2,k.v)}},_callee30,this)})),function(e){return k.apply(this,arguments)})},{key:"untrack",value:(_=_asyncToGenerator(_regenerator().m(function _callee31(){var e,l=arguments;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:{},_.n=1,this.send({type:"presence",event:"untrack"},e);case 1:return _.a(2,_.v)}},_callee31,this)})),function(){return _.apply(this,arguments)})},{key:"on",value:function(e,l,_){var k=this;return this.state===Ma.joined&&e===Ja.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(function(){return k.subscribe()})),this._on(e,l,_)}},{key:"send",value:(l=_asyncToGenerator(_regenerator().m(function _callee32(e){var l,_,k,S,E,T,O,I,R=this,M=arguments;return _regenerator().w(function(j){for(;;)switch(j.p=j.n){case 0:if(l=M.length>1&&void 0!==M[1]?M[1]:{},this._canPush()||"broadcast"!==e.type){j.n=7;break}return S=e.event,E=e.payload,T=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",O={method:"POST",headers:{Authorization:T,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:S,payload:E,private:this.private}]})},j.p=1,j.n=2,this._fetchWithTimeout(this.broadcastEndpointURL,O,null!==(_=l.timeout)&&void 0!==_?_:this.timeout);case 2:return I=j.v,j.n=3,null===(k=I.body)||void 0===k?void 0:k.cancel();case 3:return j.a(2,I.ok?"ok":"error");case 4:if(j.p=4,"AbortError"!==j.v.name){j.n=5;break}return j.a(2,"timed out");case 5:return j.a(2,"error");case 6:j.n=8;break;case 7:return j.a(2,new Promise(function(_){var k,S,E,T=R._push(e.type,e,l.timeout||R.timeout);"broadcast"!==e.type||(null===(E=null===(S=null===(k=R.params)||void 0===k?void 0:k.config)||void 0===S?void 0:S.broadcast)||void 0===E?void 0:E.ack)||_("ok"),T.receive("ok",function(){return _("ok")}),T.receive("error",function(){return _("error")}),T.receive("timeout",function(){return _("timed out")})}));case 8:return j.a(2)}},_callee32,this,[[1,4]])})),function(e){return l.apply(this,arguments)})},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ma.leaving;var onClose=function(){e.socket.log("channel","leave ".concat(e.topic)),e._trigger(ja.close,"leave",e._joinRef())};this.joinPush.destroy();var _=null;return new Promise(function(k){(_=new Ha(e,ja.leave,{},l)).receive("ok",function(){onClose(),k("ok")}).receive("timeout",function(){onClose(),k("timed out")}).receive("error",function(){k("error")}),_.send(),e._canPush()||_.trigger("ok",{})}).finally(function(){null==_||_.destroy()})}},{key:"teardown",value:function(){this.pushBuffer.forEach(function(e){return e.destroy()}),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ma.closed,this.bindings={}}},{key:"_fetchWithTimeout",value:(e=_asyncToGenerator(_regenerator().m(function _callee33(e,l,_){var k,S,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:return k=new AbortController,S=setTimeout(function(){return k.abort()},_),T.n=1,this.socket.fetch(e,Object.assign(Object.assign({},l),{signal:k.signal}));case 1:return E=T.v,clearTimeout(S),T.a(2,E)}},_callee33,this)})),function(l,_,k){return e.apply(this,arguments)})},{key:"_push",value:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var k=new Ha(this,e,l,_);return this._canPush()?k.send():this._addToPushBuffer(k),k}},{key:"_addToPushBuffer",value:function(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){var l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(l.event),l.payload))}}},{key:"_onMessage",value:function(e,l,_){return l}},{key:"_isMember",value:function(e){return this.topic===e}},{key:"_joinRef",value:function(){return this.joinPush.ref}},{key:"_trigger",value:function(e,l,_){var k,S,E=this,T=e.toLocaleLowerCase(),O=ja,I=O.close,R=O.error,M=O.leave,j=O.join;if(!(_&&[I,R,M,j].indexOf(T)>=0&&_!==this._joinRef())){var D=this._onMessage(T,l,_);if(l&&!D)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(T)?null===(k=this.bindings.postgres_changes)||void 0===k||k.filter(function(e){var l,_,k;return"*"===(null===(l=e.filter)||void 0===l?void 0:l.event)||(null===(k=null===(_=e.filter)||void 0===_?void 0:_.event)||void 0===k?void 0:k.toLocaleLowerCase())===T}).map(function(e){return e.callback(D,_)}):null===(S=this.bindings[T])||void 0===S||S.filter(function(e){var _,k,S,E,O,I;if(["broadcast","presence","postgres_changes"].includes(T)){if("id"in e){var R=e.id,M=null===(_=e.filter)||void 0===_?void 0:_.event;return R&&(null===(k=l.ids)||void 0===k?void 0:k.includes(R))&&("*"===M||(null==M?void 0:M.toLocaleLowerCase())===(null===(S=l.data)||void 0===S?void 0:S.type.toLocaleLowerCase()))}var j=null===(O=null===(E=null==e?void 0:e.filter)||void 0===E?void 0:E.event)||void 0===O?void 0:O.toLocaleLowerCase();return"*"===j||j===(null===(I=null==l?void 0:l.event)||void 0===I?void 0:I.toLocaleLowerCase())}return e.type.toLocaleLowerCase()===T}).map(function(e){if("object"===_typeof3(D)&&"ids"in D){var l=D.data,k={schema:l.schema,table:l.table,commit_timestamp:l.commit_timestamp,eventType:l.type,new:{},old:{},errors:l.errors};D=Object.assign(Object.assign({},k),E._getPayloadRecords(l))}e.callback(D,_)})}}},{key:"_isClosed",value:function(){return this.state===Ma.closed}},{key:"_isJoined",value:function(){return this.state===Ma.joined}},{key:"_isJoining",value:function(){return this.state===Ma.joining}},{key:"_isLeaving",value:function(){return this.state===Ma.leaving}},{key:"_replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"_on",value:function(e,l,_){var k=e.toLocaleLowerCase(),S={type:k,filter:l,callback:_};return this.bindings[k]?this.bindings[k].push(S):this.bindings[k]=[S],this}},{key:"_off",value:function(e,l){var _=e.toLocaleLowerCase();return this.bindings[_]&&(this.bindings[_]=this.bindings[_].filter(function(e){var k;return!((null===(k=e.type)||void 0===k?void 0:k.toLocaleLowerCase())===_&&RealtimeChannel.isEqual(e.filter,l))})),this}},{key:"_rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}},{key:"_onClose",value:function(e){this._on(ja.close,{},e)}},{key:"_onError",value:function(e){this._on(ja.error,{},function(l){return e(l)})}},{key:"_canPush",value:function(){return this.socket.isConnected()&&this._isJoined()}},{key:"_rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ma.joining,this.joinPush.resend(e))}},{key:"_getPayloadRecords",value:function(e){var l={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(l.new=convertChangeData(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(l.old=convertChangeData(e.columns,e.old_record)),l}}],[{key:"isEqual",value:function(e,l){if(Object.keys(e).length!==Object.keys(l).length)return!1;for(var _ in e)if(e[_]!==l[_])return!1;return!0}}]);var e,l,_,k}(),noop$2=function(){},Qa=25e3,eo=10,to=100,ro=[1e3,2e3,5e3,1e4],no=function(){return _createClass3(function RealtimeClient(e,l){var _;if(_classCallCheck3(this,RealtimeClient),this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=za,this.transport=null,this.heartbeatIntervalMs=Qa,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$2,this.ref=0,this.reconnectTimer=null,this.logger=noop$2,this.conn=null,this.sendBuffer=[],this.serializer=new Wa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=function(e){var l;return l=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return B(_asyncToGenerator(_regenerator().m(function _callee34(){var e,l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,Promise.resolve().then(function(){return Oa});case 1:return e=_.v,l=e.default,_.a(2,{default:l})}},_callee34)})),void 0).then(function(e){return e.default.apply(void 0,l)}).catch(function(e){throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return l.apply(void 0,arguments)}},!(null===(_=null==l?void 0:l.params)||void 0===_?void 0:_.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint="".concat(e,"/").concat(Da.websocket),this.httpEndpoint=httpEndpointURL(e),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==l?void 0:l.fetch)},[{key:"connect",value:function(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ba.createWebSocket(this.endpointURL())}catch(l){this._setConnectionState("disconnected");var e=l.message;if(e.includes("Node.js"))throw new Error("".concat(e,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(e))}this._setupConnectionHandlers()}}},{key:"endpointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"disconnect",value:function(e,l){var _=this;if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){var k=setTimeout(function(){_._setConnectionState("disconnected")},100);this.conn.onclose=function(){clearTimeout(k),_._setConnectionState("disconnected")},e?this.conn.close(e,null!=l?l:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}},{key:"getChannels",value:function(){return this.channels}},{key:"removeChannel",value:(E=_asyncToGenerator(_regenerator().m(function _callee35(e){var l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,e.unsubscribe();case 1:return l=_.v,0===this.channels.length&&this.disconnect(),_.a(2,l)}},_callee35,this)})),function(e){return E.apply(this,arguments)})},{key:"removeAllChannels",value:(S=_asyncToGenerator(_regenerator().m(function _callee36(){var e;return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,Promise.all(this.channels.map(function(e){return e.unsubscribe()}));case 1:return e=l.v,this.channels=[],this.disconnect(),l.a(2,e)}},_callee36,this)})),function(){return S.apply(this,arguments)})},{key:"log",value:function(e,l,_){this.logger(e,l,_)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case Pa.connecting:return Fa.Connecting;case Pa.open:return Fa.Open;case Pa.closing:return Fa.Closing;default:return Fa.Closed}}},{key:"isConnected",value:function(){return this.connectionState()===Fa.Open}},{key:"isConnecting",value:function(){return"connecting"===this._connectionState}},{key:"isDisconnecting",value:function(){return"disconnecting"===this._connectionState}},{key:"channel",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},_="realtime:".concat(e),k=this.getChannels().find(function(e){return e.topic===_});if(k)return k;var S=new Za("realtime:".concat(e),l,this);return this.channels.push(S),S}},{key:"push",value:function(e){var l=this,_=e.topic,k=e.event,S=e.payload,E=e.ref,callback=function(){l.encode(e,function(e){var _;null===(_=l.conn)||void 0===_||_.send(e)})};this.log("push","".concat(_," ").concat(k," (").concat(E,")"),S),this.isConnected()?callback():this.sendBuffer.push(callback)}},{key:"setAuth",value:(k=_asyncToGenerator(_regenerator().m(function _callee37(){var e,l=arguments;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:null,this._authPromise=this._performAuth(e),_.p=1,_.n=2,this._authPromise;case 2:return _.p=2,this._authPromise=null,_.f(2);case 3:return _.a(2)}},_callee37,this,[[1,,2,3]])})),function(){return k.apply(this,arguments)})},{key:"sendHeartbeat",value:(_=_asyncToGenerator(_regenerator().m(function _callee38(){var e,l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:if(this.isConnected()){_.n=1;break}try{this.heartbeatCallback("disconnected")}catch(ta){this.log("error","error in heartbeat callback",ta)}return _.a(2);case 1:if(!this.pendingHeartbeatRef){_.n=2;break}this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(ta){this.log("error","error in heartbeat callback",ta)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),setTimeout(function(){var e;l.isConnected()||null===(e=l.reconnectTimer)||void 0===e||e.scheduleTimeout()},to),_.a(2);case 2:this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(ta){this.log("error","error in heartbeat callback",ta)}this._setAuthSafely("heartbeat");case 3:return _.a(2)}},_callee38,this)})),function(){return _.apply(this,arguments)})},{key:"onHeartbeat",value:function(e){this.heartbeatCallback=e}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(function(e){return e()}),this.sendBuffer=[])}},{key:"_makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"_leaveOpenTopic",value:function(e){var l=this.channels.find(function(l){return l.topic===e&&(l._isJoined()||l._isJoining())});l&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),l.unsubscribe())}},{key:"_remove",value:function(e){this.channels=this.channels.filter(function(l){return l.topic!==e.topic})}},{key:"_onConnMessage",value:function(e){var l=this;this.decode(e.data,function(e){if("phoenix"===e.topic&&"phx_reply"===e.event)try{l.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(ta){l.log("error","error in heartbeat callback",ta)}e.ref&&e.ref===l.pendingHeartbeatRef&&(l.pendingHeartbeatRef=null);var _=e.topic,k=e.event,S=e.payload,E=e.ref,T=E?"(".concat(E,")"):"",O=S.status||"";l.log("receive","".concat(O," ").concat(_," ").concat(k," ").concat(T).trim(),S),l.channels.filter(function(e){return e._isMember(_)}).forEach(function(e){return e._trigger(k,S,E)}),l._triggerStateCallbacks("message",e)})}},{key:"_clearTimer",value:function(e){var l;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(l=this.reconnectTimer)||void 0===l||l.reset())}},{key:"_clearAllTimers",value:function(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}},{key:"_setupConnectionHandlers",value:function(){var e=this;this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(l){return e._onConnError(l)},this.conn.onmessage=function(l){return e._onConnMessage(l)},this.conn.onclose=function(l){return e._onConnClose(l)})}},{key:"_teardownConnection",value:function(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(function(e){return e.teardown()})}},{key:"_onConnOpen",value:function(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}},{key:"_startHeartbeat",value:function(){var e=this;this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(function(){return e.sendHeartbeat()},this.heartbeatIntervalMs)}},{key:"_startWorkerHeartbeat",value:function(){var e=this;this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");var l=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(l),this.workerRef.onerror=function(l){e.log("worker","worker error",l.message),e.workerRef.terminate()},this.workerRef.onmessage=function(l){"keepAlive"===l.data.event&&e.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}},{key:"_onConnClose",value:function(e){var l;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(l=this.reconnectTimer)||void 0===l||l.scheduleTimeout(),this._triggerStateCallbacks("close",e)}},{key:"_onConnError",value:function(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}},{key:"_triggerChanError",value:function(){this.channels.forEach(function(e){return e._trigger(ja.error)})}},{key:"_appendParams",value:function(e,l){if(0===Object.keys(l).length)return e;var _=e.match(/\?/)?"&":"?",k=new URLSearchParams(l);return"".concat(e).concat(_).concat(k)}},{key:"_workerObjectUrl",value:function(e){var l;if(e)l=e;else{var _=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});l=URL.createObjectURL(_)}return l}},{key:"_setConnectionState",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=l)}},{key:"_performAuth",value:(l=_asyncToGenerator(_regenerator().m(function _callee39(){var e,l,_=arguments;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:if(!(e=_.length>0&&void 0!==_[0]?_[0]:null)){k.n=1;break}l=e,k.n=4;break;case 1:if(!this.accessToken){k.n=3;break}return k.n=2,this.accessToken();case 2:l=k.v,k.n=4;break;case 3:l=this.accessTokenValue;case 4:this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(function(e){var _={access_token:l,version:qa};l&&e.updateJoinPayload(_),e.joinedOnce&&e._isJoined()&&e._push(ja.access_token,{access_token:l})}));case 5:return k.a(2)}},_callee39,this)})),function(){return l.apply(this,arguments)})},{key:"_waitForAuthIfNeeded",value:(e=_asyncToGenerator(_regenerator().m(function _callee40(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(!this._authPromise){e.n=1;break}return e.n=1,this._authPromise;case 1:return e.a(2)}},_callee40,this)})),function(){return e.apply(this,arguments)})},{key:"_setAuthSafely",value:function(){var e=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(function(_){e.log("error","error setting auth in ".concat(l),_)})}},{key:"_triggerStateCallbacks",value:function(e,l){var _=this;try{this.stateChangeCallbacks[e].forEach(function(k){try{k(l)}catch(ta){_.log("error","error in ".concat(e," callback"),ta)}})}catch(ta){this.log("error","error triggering ".concat(e," callbacks"),ta)}}},{key:"_setupReconnectionTimer",value:function(){var e=this;this.reconnectTimer=new Va(_asyncToGenerator(_regenerator().m(function _callee42(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:setTimeout(_asyncToGenerator(_regenerator().m(function _callee41(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,e._waitForAuthIfNeeded();case 1:e.isConnected()||e.connect();case 2:return l.a(2)}},_callee41)})),eo);case 1:return l.a(2)}},_callee42)})),this.reconnectAfterMs)}},{key:"_initializeOptions",value:function(e){var l,_,k,S,E,T,O,I,R;if(this.transport=null!==(l=null==e?void 0:e.transport)&&void 0!==l?l:null,this.timeout=null!==(_=null==e?void 0:e.timeout)&&void 0!==_?_:za,this.heartbeatIntervalMs=null!==(k=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==k?k:Qa,this.worker=null!==(S=null==e?void 0:e.worker)&&void 0!==S&&S,this.accessToken=null!==(E=null==e?void 0:e.accessToken)&&void 0!==E?E:null,this.heartbeatCallback=null!==(T=null==e?void 0:e.heartbeatCallback)&&void 0!==T?T:noop$2,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(O=null==e?void 0:e.reconnectAfterMs)&&void 0!==O?O:function(e){return ro[e-1]||1e4},this.encode=null!==(I=null==e?void 0:e.encode)&&void 0!==I?I:function(e,l){return l(JSON.stringify(e))},this.decode=null!==(R=null==e?void 0:e.decode)&&void 0!==R?R:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}]);var e,l,_,k,S,E}(),io=function(e){function StorageError(e){var l;return _classCallCheck3(this,StorageError),(l=_callSuper(this,StorageError,[e])).__isStorageError=!0,l.name="StorageError",l}return _inherits(StorageError,e),_createClass3(StorageError)}(_wrapNativeSuper(Error));function isStorageError(e){return"object"===_typeof3(e)&&null!==e&&"__isStorageError"in e}var ao=function(e){function StorageApiError(e,l,_){var k;return _classCallCheck3(this,StorageApiError),(k=_callSuper(this,StorageApiError,[e])).name="StorageApiError",k.status=l,k.statusCode=_,k}return _inherits(StorageApiError,e),_createClass3(StorageApiError,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}])}(io),oo=function(e){function StorageUnknownError(e,l){var _;return _classCallCheck3(this,StorageUnknownError),(_=_callSuper(this,StorageUnknownError,[e])).name="StorageUnknownError",_.originalError=l,_}return _inherits(StorageUnknownError,e),_createClass3(StorageUnknownError)}(io),__awaiter$8=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},resolveFetch$2=function(e){var l;return l=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return B(_asyncToGenerator(_regenerator().m(function _callee43(){var e,l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,Promise.resolve().then(function(){return Oa});case 1:return e=_.v,l=e.default,_.a(2,{default:l})}},_callee43)})),void 0).then(function(e){return e.default.apply(void 0,l)})}:fetch),function(){return l.apply(void 0,arguments)}},resolveResponse=function(){return __awaiter$8(void 0,void 0,void 0,_regenerator().m(function _callee44(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if("undefined"!=typeof Response){e.n=2;break}return e.n=1,B(function(){return Promise.resolve().then(function(){return Oa})},void 0);case 1:return e.a(2,e.v.Response);case 2:return e.a(2,Response)}},_callee44)}))},_recursiveToCamel=function(e){if(Array.isArray(e))return e.map(function(e){return _recursiveToCamel(e)});if("function"==typeof e||e!==Object(e))return e;var l={};return Object.entries(e).forEach(function(e){var _=_slicedToArray(e,2),k=_[0],S=_[1],E=k.replace(/([-_][a-z])/gi,function(e){return e.toUpperCase().replace(/[-_]/g,"")});l[E]=_recursiveToCamel(S)}),l},__awaiter$7=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},_getErrorMessage$1=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},handleError$1=function(e,l,_){return __awaiter$7(void 0,void 0,void 0,_regenerator().m(function _callee45(){var k;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:return S.n=1,resolveResponse();case 1:k=S.v,e instanceof k&&!(null==_?void 0:_.noResolveJson)?e.json().then(function(_){var k=e.status||500,S=(null==_?void 0:_.statusCode)||k+"";l(new ao(_getErrorMessage$1(_),k,S))}).catch(function(e){l(new oo(_getErrorMessage$1(e),e))}):l(new oo(_getErrorMessage$1(e),e));case 2:return S.a(2)}},_callee45)}))},_getRequestParams$1=function(e,l,_,k){var S={method:e,headers:(null==l?void 0:l.headers)||{}};return"GET"!==e&&k?(!function(e){if("object"!==_typeof3(e)||null===e)return!1;var l=Object.getPrototypeOf(e);return!(null!==l&&l!==Object.prototype&&null!==Object.getPrototypeOf(l)||Symbol.toStringTag in e||Symbol.iterator in e)}(k)?S.body=k:(S.headers=Object.assign({"Content-Type":"application/json"},null==l?void 0:l.headers),S.body=JSON.stringify(k)),(null==l?void 0:l.duplex)&&(S.duplex=l.duplex),Object.assign(Object.assign({},S),_)):S};function _handleRequest$1(e,l,_,k,S,E){return __awaiter$7(this,void 0,void 0,_regenerator().m(function _callee46(){return _regenerator().w(function(T){for(;;)if(0===T.n)return T.a(2,new Promise(function(T,O){e(_,_getRequestParams$1(l,k,S,E)).then(function(e){if(!e.ok)throw e;return(null==k?void 0:k.noResolveJson)?e:e.json()}).then(function(e){return T(e)}).catch(function(e){return handleError$1(e,O,k)})}))},_callee46)}))}function get(e,l,_,k){return __awaiter$7(this,void 0,void 0,_regenerator().m(function _callee47(){return _regenerator().w(function(S){for(;;)if(0===S.n)return S.a(2,_handleRequest$1(e,"GET",l,_,k))},_callee47)}))}function post(e,l,_,k,S){return __awaiter$7(this,void 0,void 0,_regenerator().m(function _callee48(){return _regenerator().w(function(E){for(;;)if(0===E.n)return E.a(2,_handleRequest$1(e,"POST",l,k,S,_))},_callee48)}))}function put(e,l,_,k,S){return __awaiter$7(this,void 0,void 0,_regenerator().m(function _callee49(){return _regenerator().w(function(E){for(;;)if(0===E.n)return E.a(2,_handleRequest$1(e,"PUT",l,k,S,_))},_callee49)}))}function head(e,l,_,k){return __awaiter$7(this,void 0,void 0,_regenerator().m(function _callee50(){return _regenerator().w(function(S){for(;;)if(0===S.n)return S.a(2,_handleRequest$1(e,"HEAD",l,Object.assign(Object.assign({},_),{noResolveJson:!0}),k))},_callee50)}))}function _remove2(e,l,_,k,S){return __awaiter$7(this,void 0,void 0,_regenerator().m(function _callee51(){return _regenerator().w(function(E){for(;;)if(0===E.n)return E.a(2,_handleRequest$1(e,"DELETE",l,k,S,_))},_callee51)}))}var __awaiter$6=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},so=function(){return _createClass3(function StreamDownloadBuilder(e,l){_classCallCheck3(this,StreamDownloadBuilder),this.downloadFn=e,this.shouldThrowOnError=l},[{key:"then",value:function(e,l){return this.execute().then(e,l)}},{key:"execute",value:function(){return __awaiter$6(this,void 0,void 0,_regenerator().m(function _callee52(){var e,l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,this.downloadFn();case 1:return e=_.v,_.a(2,{data:e.body,error:null});case 2:if(_.p=2,l=_.v,!this.shouldThrowOnError){_.n=3;break}throw l;case 3:if(!isStorageError(l)){_.n=4;break}return _.a(2,{data:null,error:l});case 4:throw l;case 5:return _.a(2)}},_callee52,this,[[0,2]])}))}}])}(),__awaiter$5=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},uo=function(){return _createClass3(function BlobDownloadBuilder(e,l){_classCallCheck3(this,BlobDownloadBuilder),this.downloadFn=e,this.shouldThrowOnError=l},[{key:"asStream",value:function(){return new so(this.downloadFn,this.shouldThrowOnError)}},{key:"then",value:function(e,l){return this.execute().then(e,l)}},{key:"execute",value:function(){return __awaiter$5(this,void 0,void 0,_regenerator().m(function _callee53(){var e,l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,this.downloadFn();case 1:return e=k.v,k.n=2,e.blob();case 2:return l=k.v,k.a(2,{data:l,error:null});case 3:if(k.p=3,_=k.v,!this.shouldThrowOnError){k.n=4;break}throw _;case 4:if(!isStorageError(_)){k.n=5;break}return k.a(2,{data:null,error:_});case 5:throw _;case 6:return k.a(2)}},_callee53,this,[[0,3]])}))}}])}(),__awaiter$4=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},lo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},co={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ho=function(){return _createClass3(function StorageFileApi(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2?arguments[2]:void 0,k=arguments.length>3?arguments[3]:void 0;_classCallCheck3(this,StorageFileApi),this.shouldThrowOnError=!1,this.url=e,this.headers=l,this.bucketId=_,this.fetch=resolveFetch$2(k)},[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"uploadOrUpdate",value:function(e,l,_,k){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee54(){var S,E,T,O,I,R,M,j;return _regenerator().w(function(D){for(;;)switch(D.p=D.n){case 0:return D.p=0,E=Object.assign(Object.assign({},co),k),T=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(E.upsert)}),O=E.metadata,"undefined"!=typeof Blob&&_ instanceof Blob?((S=new FormData).append("cacheControl",E.cacheControl),O&&S.append("metadata",this.encodeMetadata(O)),S.append("",_)):"undefined"!=typeof FormData&&_ instanceof FormData?((S=_).append("cacheControl",E.cacheControl),O&&S.append("metadata",this.encodeMetadata(O))):(S=_,T["cache-control"]="max-age=".concat(E.cacheControl),T["content-type"]=E.contentType,O&&(T["x-metadata"]=this.toBase64(this.encodeMetadata(O)))),(null==k?void 0:k.headers)&&(T=Object.assign(Object.assign({},T),k.headers)),I=this._removeEmptyFolders(l),R=this._getFinalPath(I),D.n=1,("PUT"==e?put:post)(this.fetch,"".concat(this.url,"/object/").concat(R),S,Object.assign({headers:T},(null==E?void 0:E.duplex)?{duplex:E.duplex}:{}));case 1:return M=D.v,D.a(2,{data:{path:I,id:M.Id,fullPath:M.Key},error:null});case 2:if(D.p=2,j=D.v,!this.shouldThrowOnError){D.n=3;break}throw j;case 3:if(!isStorageError(j)){D.n=4;break}return D.a(2,{data:null,error:j});case 4:throw j;case 5:return D.a(2)}},_callee54,this,[[0,2]])}))}},{key:"upload",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee55(){return _regenerator().w(function(k){for(;;)if(0===k.n)return k.a(2,this.uploadOrUpdate("POST",e,l,_))},_callee55,this)}))}},{key:"uploadToSignedUrl",value:function(e,l,_,k){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee56(){var S,E,T,O,I,R,M,j;return _regenerator().w(function(D){for(;;)switch(D.p=D.n){case 0:return S=this._removeEmptyFolders(e),E=this._getFinalPath(S),(T=new URL(this.url+"/object/upload/sign/".concat(E))).searchParams.set("token",l),D.p=1,I=Object.assign({upsert:co.upsert},k),R=Object.assign(Object.assign({},this.headers),{"x-upsert":String(I.upsert)}),"undefined"!=typeof Blob&&_ instanceof Blob?((O=new FormData).append("cacheControl",I.cacheControl),O.append("",_)):"undefined"!=typeof FormData&&_ instanceof FormData?(O=_).append("cacheControl",I.cacheControl):(O=_,R["cache-control"]="max-age=".concat(I.cacheControl),R["content-type"]=I.contentType),D.n=2,put(this.fetch,T.toString(),O,{headers:R});case 2:return M=D.v,D.a(2,{data:{path:S,fullPath:M.Key},error:null});case 3:if(D.p=3,j=D.v,!this.shouldThrowOnError){D.n=4;break}throw j;case 4:if(!isStorageError(j)){D.n=5;break}return D.a(2,{data:null,error:j});case 5:throw j;case 6:return D.a(2)}},_callee56,this,[[1,3]])}))}},{key:"createSignedUploadUrl",value:function(e,l){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee57(){var _,k,S,E,T,O;return _regenerator().w(function(I){for(;;)switch(I.p=I.n){case 0:return I.p=0,_=this._getFinalPath(e),k=Object.assign({},this.headers),(null==l?void 0:l.upsert)&&(k["x-upsert"]="true"),I.n=1,post(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(_),{},{headers:k});case 1:if(S=I.v,E=new URL(this.url+S.url),T=E.searchParams.get("token")){I.n=2;break}throw new io("No token returned by API");case 2:return I.a(2,{data:{signedUrl:E.toString(),path:e,token:T},error:null});case 3:if(I.p=3,O=I.v,!this.shouldThrowOnError){I.n=4;break}throw O;case 4:if(!isStorageError(O)){I.n=5;break}return I.a(2,{data:null,error:O});case 5:throw O;case 6:return I.a(2)}},_callee57,this,[[0,3]])}))}},{key:"update",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee58(){return _regenerator().w(function(k){for(;;)if(0===k.n)return k.a(2,this.uploadOrUpdate("PUT",e,l,_))},_callee58,this)}))}},{key:"move",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee59(){var k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,post(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:l,destinationBucket:null==_?void 0:_.destinationBucket},{headers:this.headers});case 1:return k=E.v,E.a(2,{data:k,error:null});case 2:if(E.p=2,S=E.v,!this.shouldThrowOnError){E.n=3;break}throw S;case 3:if(!isStorageError(S)){E.n=4;break}return E.a(2,{data:null,error:S});case 4:throw S;case 5:return E.a(2)}},_callee59,this,[[0,2]])}))}},{key:"copy",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee60(){var k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,post(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:l,destinationBucket:null==_?void 0:_.destinationBucket},{headers:this.headers});case 1:return k=E.v,E.a(2,{data:{path:k.Key},error:null});case 2:if(E.p=2,S=E.v,!this.shouldThrowOnError){E.n=3;break}throw S;case 3:if(!isStorageError(S)){E.n=4;break}return E.a(2,{data:null,error:S});case 4:throw S;case 5:return E.a(2)}},_callee60,this,[[0,2]])}))}},{key:"createSignedUrl",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee61(){var k,S,E,T,O;return _regenerator().w(function(I){for(;;)switch(I.p=I.n){case 0:return I.p=0,k=this._getFinalPath(e),I.n=1,post(this.fetch,"".concat(this.url,"/object/sign/").concat(k),Object.assign({expiresIn:l},(null==_?void 0:_.transform)?{transform:_.transform}:{}),{headers:this.headers});case 1:return S=I.v,E=(null==_?void 0:_.download)?"&download=".concat(!0===_.download?"":_.download):"",T=encodeURI("".concat(this.url).concat(S.signedURL).concat(E)),S={signedUrl:T},I.a(2,{data:S,error:null});case 2:if(I.p=2,O=I.v,!this.shouldThrowOnError){I.n=3;break}throw O;case 3:if(!isStorageError(O)){I.n=4;break}return I.a(2,{data:null,error:O});case 4:throw O;case 5:return I.a(2)}},_callee61,this,[[0,2]])}))}},{key:"createSignedUrls",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee62(){var k,S,E,T=this;return _regenerator().w(function(O){for(;;)switch(O.p=O.n){case 0:return O.p=0,O.n=1,post(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:l,paths:e},{headers:this.headers});case 1:return k=O.v,S=(null==_?void 0:_.download)?"&download=".concat(!0===_.download?"":_.download):"",O.a(2,{data:k.map(function(e){return Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(T.url).concat(e.signedURL).concat(S)):null})}),error:null});case 2:if(O.p=2,E=O.v,!this.shouldThrowOnError){O.n=3;break}throw E;case 3:if(!isStorageError(E)){O.n=4;break}return O.a(2,{data:null,error:E});case 4:throw E;case 5:return O.a(2)}},_callee62,this,[[0,2]])}))}},{key:"download",value:function(e,l){var _=this,k=void 0!==(null==l?void 0:l.transform)?"render/image/authenticated":"object",S=this.transformOptsToQueryString((null==l?void 0:l.transform)||{}),E=S?"?".concat(S):"",T=this._getFinalPath(e);return new uo(function(){return get(_.fetch,"".concat(_.url,"/").concat(k,"/").concat(T).concat(E),{headers:_.headers,noResolveJson:!0})},this.shouldThrowOnError)}},{key:"info",value:function(e){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee63(){var l,_,k;return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:return l=this._getFinalPath(e),S.p=1,S.n=2,get(this.fetch,"".concat(this.url,"/object/info/").concat(l),{headers:this.headers});case 2:return _=S.v,S.a(2,{data:_recursiveToCamel(_),error:null});case 3:if(S.p=3,k=S.v,!this.shouldThrowOnError){S.n=4;break}throw k;case 4:if(!isStorageError(k)){S.n=5;break}return S.a(2,{data:null,error:k});case 5:throw k;case 6:return S.a(2)}},_callee63,this,[[1,3]])}))}},{key:"exists",value:function(e){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee64(){var l,_,k;return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:return l=this._getFinalPath(e),S.p=1,S.n=2,head(this.fetch,"".concat(this.url,"/object/").concat(l),{headers:this.headers});case 2:return S.a(2,{data:!0,error:null});case 3:if(S.p=3,k=S.v,!this.shouldThrowOnError){S.n=4;break}throw k;case 4:if(!(isStorageError(k)&&k instanceof oo)){S.n=5;break}if(_=k.originalError,![400,404].includes(null==_?void 0:_.status)){S.n=5;break}return S.a(2,{data:!1,error:k});case 5:throw k;case 6:return S.a(2)}},_callee64,this,[[1,3]])}))}},{key:"getPublicUrl",value:function(e,l){var _=this._getFinalPath(e),k=[],S=(null==l?void 0:l.download)?"download=".concat(!0===l.download?"":l.download):"";""!==S&&k.push(S);var E=void 0!==(null==l?void 0:l.transform)?"render/image":"object",T=this.transformOptsToQueryString((null==l?void 0:l.transform)||{});""!==T&&k.push(T);var O=k.join("&");return""!==O&&(O="?".concat(O)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(E,"/public/").concat(_).concat(O))}}}},{key:"remove",value:function(e){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee65(){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,_remove2(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 1:return l=k.v,k.a(2,{data:l,error:null});case 2:if(k.p=2,_=k.v,!this.shouldThrowOnError){k.n=3;break}throw _;case 3:if(!isStorageError(_)){k.n=4;break}return k.a(2,{data:null,error:_});case 4:throw _;case 5:return k.a(2)}},_callee65,this,[[0,2]])}))}},{key:"list",value:function(e,l,_){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee66(){var k,S,E;return _regenerator().w(function(T){for(;;)switch(T.p=T.n){case 0:return T.p=0,k=Object.assign(Object.assign(Object.assign({},lo),l),{prefix:e||""}),T.n=1,post(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),k,{headers:this.headers},_);case 1:return S=T.v,T.a(2,{data:S,error:null});case 2:if(T.p=2,E=T.v,!this.shouldThrowOnError){T.n=3;break}throw E;case 3:if(!isStorageError(E)){T.n=4;break}return T.a(2,{data:null,error:E});case 4:throw E;case 5:return T.a(2)}},_callee66,this,[[0,2]])}))}},{key:"listV2",value:function(e,l){return __awaiter$4(this,void 0,void 0,_regenerator().m(function _callee67(){var _,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,_=Object.assign({},e),E.n=1,post(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),_,{headers:this.headers},l);case 1:return k=E.v,E.a(2,{data:k,error:null});case 2:if(E.p=2,S=E.v,!this.shouldThrowOnError){E.n=3;break}throw S;case 3:if(!isStorageError(S)){E.n=4;break}return E.a(2,{data:null,error:S});case 4:throw S;case 5:return E.a(2)}},_callee67,this,[[0,2]])}))}},{key:"encodeMetadata",value:function(e){return JSON.stringify(e)}},{key:"toBase64",value:function(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}},{key:"transformOptsToQueryString",value:function(e){var l=[];return e.width&&l.push("width=".concat(e.width)),e.height&&l.push("height=".concat(e.height)),e.resize&&l.push("resize=".concat(e.resize)),e.format&&l.push("format=".concat(e.format)),e.quality&&l.push("quality=".concat(e.quality)),l.join("&")}}])}(),fo={"X-Client-Info":"storage-js/".concat("2.75.0")},__awaiter$3=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},po=function(){return _createClass3(function StorageBucketApi(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2?arguments[2]:void 0,k=arguments.length>3?arguments[3]:void 0;_classCallCheck3(this,StorageBucketApi),this.shouldThrowOnError=!1;var S=new URL(e);(null==k?void 0:k.useNewHostname)&&/supabase\.(co|in|red)$/.test(S.hostname)&&!S.hostname.includes("storage.supabase.")&&(S.hostname=S.hostname.replace("supabase.","storage.supabase.")),this.url=S.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fo),l),this.fetch=resolveFetch$2(_)},[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"listBuckets",value:function(){return __awaiter$3(this,void 0,void 0,_regenerator().m(function _callee68(){var e,l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,get(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 1:return e=_.v,_.a(2,{data:e,error:null});case 2:if(_.p=2,l=_.v,!this.shouldThrowOnError){_.n=3;break}throw l;case 3:if(!isStorageError(l)){_.n=4;break}return _.a(2,{data:null,error:l});case 4:throw l;case 5:return _.a(2)}},_callee68,this,[[0,2]])}))}},{key:"getBucket",value:function(e){return __awaiter$3(this,void 0,void 0,_regenerator().m(function _callee69(){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,get(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 1:return l=k.v,k.a(2,{data:l,error:null});case 2:if(k.p=2,_=k.v,!this.shouldThrowOnError){k.n=3;break}throw _;case 3:if(!isStorageError(_)){k.n=4;break}return k.a(2,{data:null,error:_});case 4:throw _;case 5:return k.a(2)}},_callee69,this,[[0,2]])}))}},{key:"createBucket",value:function(e){return __awaiter$3(this,arguments,void 0,function(e){var l=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return _regenerator().m(function _callee70(){var k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,post(l.fetch,"".concat(l.url,"/bucket"),{id:e,name:e,type:_.type,public:_.public,file_size_limit:_.fileSizeLimit,allowed_mime_types:_.allowedMimeTypes},{headers:l.headers});case 1:return k=E.v,E.a(2,{data:k,error:null});case 2:if(E.p=2,S=E.v,!l.shouldThrowOnError){E.n=3;break}throw S;case 3:if(!isStorageError(S)){E.n=4;break}return E.a(2,{data:null,error:S});case 4:throw S;case 5:return E.a(2)}},_callee70,null,[[0,2]])})()})}},{key:"updateBucket",value:function(e,l){return __awaiter$3(this,void 0,void 0,_regenerator().m(function _callee71(){var _,k;return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:return S.p=0,S.n=1,put(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers});case 1:return _=S.v,S.a(2,{data:_,error:null});case 2:if(S.p=2,k=S.v,!this.shouldThrowOnError){S.n=3;break}throw k;case 3:if(!isStorageError(k)){S.n=4;break}return S.a(2,{data:null,error:k});case 4:throw k;case 5:return S.a(2)}},_callee71,this,[[0,2]])}))}},{key:"emptyBucket",value:function(e){return __awaiter$3(this,void 0,void 0,_regenerator().m(function _callee72(){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,post(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 1:return l=k.v,k.a(2,{data:l,error:null});case 2:if(k.p=2,_=k.v,!this.shouldThrowOnError){k.n=3;break}throw _;case 3:if(!isStorageError(_)){k.n=4;break}return k.a(2,{data:null,error:_});case 4:throw _;case 5:return k.a(2)}},_callee72,this,[[0,2]])}))}},{key:"deleteBucket",value:function(e){return __awaiter$3(this,void 0,void 0,_regenerator().m(function _callee73(){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,_remove2(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 1:return l=k.v,k.a(2,{data:l,error:null});case 2:if(k.p=2,_=k.v,!this.shouldThrowOnError){k.n=3;break}throw _;case 3:if(!isStorageError(_)){k.n=4;break}return k.a(2,{data:null,error:_});case 4:throw _;case 5:return k.a(2)}},_callee73,this,[[0,2]])}))}}])}(),vo=function(e){function StorageClient(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2?arguments[2]:void 0,k=arguments.length>3?arguments[3]:void 0;return _classCallCheck3(this,StorageClient),_callSuper(this,StorageClient,[e,l,_,k])}return _inherits(StorageClient,e),_createClass3(StorageClient,[{key:"from",value:function(e){return new ho(this.url,this.headers,e,this.fetch)}}])}(po),go="";go="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";var mo={headers:{"X-Client-Info":"supabase-js-".concat(go,"/").concat("2.75.0")}},yo={schema:"public"},_o={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bo={},__awaiter$2=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},resolveFetch$1=function(e){var l;return l=e||("undefined"==typeof fetch?Ea:fetch),function(){return l.apply(void 0,arguments)}},fetchWithAuth=function(e,l,_){var k=resolveFetch$1(_),S="undefined"==typeof Headers?Ta:Headers;return function(_,E){return __awaiter$2(void 0,void 0,void 0,_regenerator().m(function _callee74(){var T,O,I,R,M,j;return _regenerator().w(function(D){for(;;)switch(D.n){case 0:return D.n=1,l();case 1:if(M=T=D.v,!(R=null!==M)){D.n=2;break}R=void 0!==T;case 2:if(!R){D.n=3;break}j=T,D.n=4;break;case 3:j=e;case 4:return O=j,(I=new S(null==E?void 0:E.headers)).has("apikey")||I.set("apikey",e),I.has("Authorization")||I.set("Authorization","Bearer ".concat(O)),D.a(2,k(_,Object.assign(Object.assign({},E),{headers:I})))}},_callee74)}))}},__awaiter$1=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})};var ko="2.75.0",wo=3e4,So=9e4,Co={"X-Client-Info":"gotrue-js/".concat(ko)},Eo="X-Supabase-Api-Version",To={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ao=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xo=function(e){function AuthError(e,l,_){var k;return _classCallCheck3(this,AuthError),(k=_callSuper(this,AuthError,[e])).__isAuthError=!0,k.name="AuthError",k.status=l,k.code=_,k}return _inherits(AuthError,e),_createClass3(AuthError)}(_wrapNativeSuper(Error));function isAuthError(e){return"object"===_typeof3(e)&&null!==e&&"__isAuthError"in e}var Oo=function(e){function AuthApiError(e,l,_){var k;return _classCallCheck3(this,AuthApiError),(k=_callSuper(this,AuthApiError,[e,l,_])).name="AuthApiError",k.status=l,k.code=_,k}return _inherits(AuthApiError,e),_createClass3(AuthApiError)}(xo);function isAuthApiError(e){return isAuthError(e)&&"AuthApiError"===e.name}var Io=function(e){function AuthUnknownError(e,l){var _;return _classCallCheck3(this,AuthUnknownError),(_=_callSuper(this,AuthUnknownError,[e])).name="AuthUnknownError",_.originalError=l,_}return _inherits(AuthUnknownError,e),_createClass3(AuthUnknownError)}(xo),Ro=function(e){function CustomAuthError(e,l,_,k){var S;return _classCallCheck3(this,CustomAuthError),(S=_callSuper(this,CustomAuthError,[e,_,k])).name=l,S.status=_,S}return _inherits(CustomAuthError,e),_createClass3(CustomAuthError)}(xo),Po=function(e){function AuthSessionMissingError(){return _classCallCheck3(this,AuthSessionMissingError),_callSuper(this,AuthSessionMissingError,["Auth session missing!","AuthSessionMissingError",400,void 0])}return _inherits(AuthSessionMissingError,e),_createClass3(AuthSessionMissingError)}(Ro);function isAuthSessionMissingError(e){return isAuthError(e)&&"AuthSessionMissingError"===e.name}var Mo=function(e){function AuthInvalidTokenResponseError(){return _classCallCheck3(this,AuthInvalidTokenResponseError),_callSuper(this,AuthInvalidTokenResponseError,["Auth session or user missing","AuthInvalidTokenResponseError",500,void 0])}return _inherits(AuthInvalidTokenResponseError,e),_createClass3(AuthInvalidTokenResponseError)}(Ro),jo=function(e){function AuthInvalidCredentialsError(e){return _classCallCheck3(this,AuthInvalidCredentialsError),_callSuper(this,AuthInvalidCredentialsError,[e,"AuthInvalidCredentialsError",400,void 0])}return _inherits(AuthInvalidCredentialsError,e),_createClass3(AuthInvalidCredentialsError)}(Ro),Do=function(e){function AuthImplicitGrantRedirectError(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck3(this,AuthImplicitGrantRedirectError),(l=_callSuper(this,AuthImplicitGrantRedirectError,[e,"AuthImplicitGrantRedirectError",500,void 0])).details=null,l.details=_,l}return _inherits(AuthImplicitGrantRedirectError,e),_createClass3(AuthImplicitGrantRedirectError,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}])}(Ro);function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&"AuthImplicitGrantRedirectError"===e.name}var Fo=function(e){function AuthPKCEGrantCodeExchangeError(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck3(this,AuthPKCEGrantCodeExchangeError),(l=_callSuper(this,AuthPKCEGrantCodeExchangeError,[e,"AuthPKCEGrantCodeExchangeError",500,void 0])).details=null,l.details=_,l}return _inherits(AuthPKCEGrantCodeExchangeError,e),_createClass3(AuthPKCEGrantCodeExchangeError,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}])}(Ro),Lo=function(e){function AuthRetryableFetchError(e,l){return _classCallCheck3(this,AuthRetryableFetchError),_callSuper(this,AuthRetryableFetchError,[e,"AuthRetryableFetchError",l,void 0])}return _inherits(AuthRetryableFetchError,e),_createClass3(AuthRetryableFetchError)}(Ro);function isAuthRetryableFetchError(e){return isAuthError(e)&&"AuthRetryableFetchError"===e.name}var No=function(e){function AuthWeakPasswordError(e,l,_){var k;return _classCallCheck3(this,AuthWeakPasswordError),(k=_callSuper(this,AuthWeakPasswordError,[e,"AuthWeakPasswordError",l,"weak_password"])).reasons=_,k}return _inherits(AuthWeakPasswordError,e),_createClass3(AuthWeakPasswordError)}(Ro),Uo=function(e){function AuthInvalidJwtError(e){return _classCallCheck3(this,AuthInvalidJwtError),_callSuper(this,AuthInvalidJwtError,[e,"AuthInvalidJwtError",400,"invalid_jwt"])}return _inherits(AuthInvalidJwtError,e),_createClass3(AuthInvalidJwtError)}(Ro),Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qo=" \t\n\r=".split(""),zo=function(){for(var e=new Array(128),l=0;l<e.length;l+=1)e[l]=-1;for(var _=0;_<qo.length;_+=1)e[qo[_].charCodeAt(0)]=-2;for(var k=0;k<Bo.length;k+=1)e[Bo[k].charCodeAt(0)]=k;return e}();function byteToBase64URL(e,l,_){if(null!==e)for(l.queue=l.queue<<8|e,l.queuedBits+=8;l.queuedBits>=6;){var k=l.queue>>l.queuedBits-6&63;_(Bo[k]),l.queuedBits-=6}else if(l.queuedBits>0)for(l.queue=l.queue<<6-l.queuedBits,l.queuedBits=6;l.queuedBits>=6;){var S=l.queue>>l.queuedBits-6&63;_(Bo[S]),l.queuedBits-=6}}function byteFromBase64URL(e,l,_){var k=zo[e];if(!(k>-1)){if(-2===k)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(l.queue=l.queue<<6|k,l.queuedBits+=6;l.queuedBits>=8;)_(l.queue>>l.queuedBits-8&255),l.queuedBits-=8}function stringFromBase64URL(e){for(var l=[],utf8Emit=function(e){l.push(String.fromCodePoint(e))},_={utf8seq:0,codepoint:0},k={queue:0,queuedBits:0},byteEmit=function(e){!function(e,l,_){if(0===l.utf8seq){if(e<=127)return void _(e);for(var k=1;k<6;k+=1)if(!(e>>7-k&1)){l.utf8seq=k;break}if(2===l.utf8seq)l.codepoint=31&e;else if(3===l.utf8seq)l.codepoint=15&e;else{if(4!==l.utf8seq)throw new Error("Invalid UTF-8 sequence");l.codepoint=7&e}l.utf8seq-=1}else if(l.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");l.codepoint=l.codepoint<<6|63&e,l.utf8seq-=1,0===l.utf8seq&&_(l.codepoint)}}(e,_,utf8Emit)},S=0;S<e.length;S+=1)byteFromBase64URL(e.charCodeAt(S),k,byteEmit);return l.join("")}function codepointToUTF8(e,l){if(!(e<=127)){if(e<=2047)return l(192|e>>6),void l(128|63&e);if(e<=65535)return l(224|e>>12),l(128|e>>6&63),void l(128|63&e);if(e<=1114111)return l(240|e>>18),l(128|e>>12&63),l(128|e>>6&63),void l(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}l(e)}function base64UrlToUint8Array(e){for(var l=[],_={queue:0,queuedBits:0},onByte=function(e){l.push(e)},k=0;k<e.length;k+=1)byteFromBase64URL(e.charCodeAt(k),_,onByte);return new Uint8Array(l)}function stringToUint8Array(e){var l=[];return function(e,l){for(var _=0;_<e.length;_+=1){var k=e.charCodeAt(_);if(k>55295&&k<=56319){var S=1024*(k-55296)&65535;k=65536+(e.charCodeAt(_+1)-56320&65535|S),_+=1}codepointToUTF8(k,l)}}(e,function(e){return l.push(e)}),new Uint8Array(l)}function bytesToBase64URL(e){var l=[],_={queue:0,queuedBits:0},onChar=function(e){l.push(e)};return e.forEach(function(e){return byteToBase64URL(e,_,onChar)}),byteToBase64URL(null,_,onChar),l.join("")}var isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},Go={tested:!1,writable:!1},supportsLocalStorage=function(){if(!isBrowser())return!1;try{if("object"!==_typeof3(globalThis.localStorage))return!1}catch(ta){return!1}if(Go.tested)return Go.writable;var e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Go.tested=!0,Go.writable=!0}catch(ta){Go.tested=!0,Go.writable=!1}return Go.writable};function parseParametersFromURL(e){var l={},_=new URL(e);if(_.hash&&"#"===_.hash[0])try{new URLSearchParams(_.hash.substring(1)).forEach(function(e,_){l[_]=e})}catch(ta){}return _.searchParams.forEach(function(e,_){l[_]=e}),l}var resolveFetch=function(e){var l;return l=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return B(_asyncToGenerator(_regenerator().m(function _callee76(){var e,l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,Promise.resolve().then(function(){return Oa});case 1:return e=_.v,l=e.default,_.a(2,{default:l})}},_callee76)})),void 0).then(function(e){return e.default.apply(void 0,l)})}:fetch),function(){return l.apply(void 0,arguments)}},looksLikeFetchResponse=function(e){return"object"===_typeof3(e)&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json},Wo=function(){var e=_asyncToGenerator(_regenerator().m(function _callee77(e,l,_){return _regenerator().w(function(k){for(;;)switch(k.n){case 0:return k.n=1,e.setItem(l,JSON.stringify(_));case 1:return k.a(2)}},_callee77)}));return function(l,_,k){return e.apply(this,arguments)}}(),Vo=function(){var e=_asyncToGenerator(_regenerator().m(function _callee78(e,l){var _;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.n=1,e.getItem(l);case 1:if(_=k.v){k.n=2;break}return k.a(2,null);case 2:return k.p=2,k.a(2,JSON.parse(_));case 3:return k.p=3,k.v,k.a(2,_)}},_callee78,null,[[2,3]])}));return function(l,_){return e.apply(this,arguments)}}(),Ko=function(){var e=_asyncToGenerator(_regenerator().m(function _callee79(e,l){return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,e.removeItem(l);case 1:return _.a(2)}},_callee79)}));return function(l,_){return e.apply(this,arguments)}}(),Ho=_createClass3(function Deferred(){var e=this;_classCallCheck3(this,Deferred),this.promise=new Deferred.promiseConstructor(function(l,_){e.resolve=l,e.reject=_})});function decodeJWT(e){var l=e.split(".");if(3!==l.length)throw new Uo("Invalid JWT structure");for(var _=0;_<l.length;_++)if(!Ao.test(l[_]))throw new Uo("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(l[0])),payload:JSON.parse(stringFromBase64URL(l[1])),signature:base64UrlToUint8Array(l[2]),raw:{header:l[0],payload:l[1]}}}function sleep(e){return _sleep.apply(this,arguments)}function _sleep(){return _sleep=_asyncToGenerator(_regenerator().m(function _callee218(e){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,new Promise(function(l){setTimeout(function(){return l(null)},e)});case 1:return l.a(2,l.v)}},_callee218)})),_sleep.apply(this,arguments)}function retryable(e,l){return new Promise(function(_,k){_asyncToGenerator(_regenerator().m(function _callee80(){var S,E,T;return _regenerator().w(function(O){for(;;)switch(O.p=O.n){case 0:S=0;case 1:if(!(S<1/0)){O.n=7;break}return O.p=2,O.n=3,e(S);case 3:if(E=O.v,l(S,null,E)){O.n=4;break}return _(E),O.a(2);case 4:O.n=6;break;case 5:if(O.p=5,T=O.v,l(S,T)){O.n=6;break}return k(T),O.a(2);case 6:S++,O.n=1;break;case 7:return O.a(2)}},_callee80,null,[[2,5]])}))()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){var e=new Uint32Array(56);if("undefined"==typeof crypto){for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",_="",k=0;k<56;k++)_+=l.charAt(Math.floor(66*Math.random()));return _}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}function sha256(e){return _sha.apply(this,arguments)}function _sha(){return(_sha=_asyncToGenerator(_regenerator().m(function _callee219(e){var l,_,k,S;return _regenerator().w(function(E){for(;;)switch(E.n){case 0:return l=new TextEncoder,_=l.encode(e),E.n=1,crypto.subtle.digest("SHA-256",_);case 1:return k=E.v,S=new Uint8Array(k),E.a(2,Array.from(S).map(function(e){return String.fromCharCode(e)}).join(""))}},_callee219)}))).apply(this,arguments)}function generatePKCEChallenge(e){return _generatePKCEChallenge.apply(this,arguments)}function _generatePKCEChallenge(){return(_generatePKCEChallenge=_asyncToGenerator(_regenerator().m(function _callee220(e){var l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:if("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder){_.n=1;break}return _.a(2,e);case 1:return _.n=2,sha256(e);case 2:return l=_.v,_.a(2,btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))}},_callee220)}))).apply(this,arguments)}function getCodeChallengeAndMethod(e,l){return _getCodeChallengeAndMethod.apply(this,arguments)}function _getCodeChallengeAndMethod(){return _getCodeChallengeAndMethod=_asyncToGenerator(_regenerator().m(function _callee221(e,l){var _,k,S,E,T,O=arguments;return _regenerator().w(function(I){for(;;)switch(I.n){case 0:return _=O.length>2&&void 0!==O[2]&&O[2],k=generatePKCEVerifier(),S=k,_&&(S+="/PASSWORD_RECOVERY"),I.n=1,Wo(e,"".concat(l,"-code-verifier"),S);case 1:return I.n=2,generatePKCEChallenge(k);case 2:return E=I.v,T=k===E?"plain":"s256",I.a(2,[E,T])}},_callee221)})),_getCodeChallengeAndMethod.apply(this,arguments)}Ho.promiseConstructor=Promise;var $o=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){var l=e.headers.get(Eo);if(!l)return null;if(!l.match($o))return null;try{return new Date("".concat(l,"T00:00:00.0Z"))}catch(ta){return null}}function validateExp(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}function getAlgorithm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Jo=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(e){if(!Jo.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){return new Proxy({},{get:function(e,l){if("__isUserNotAvailableProxy"===l)return!0;if("symbol"===_typeof3(l)){var _=l.toString();if("Symbol(Symbol.toPrimitive)"===_||"Symbol(Symbol.toStringTag)"===_||"Symbol(util.inspect.custom)"===_)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(l,'" property of the session object is not supported. Please use getUser() instead.'))},set:function(e,l){throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(l,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:function(e,l){throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(l,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function deepClone(e){return JSON.parse(JSON.stringify(e))}var __rest$2=function(e,l){var _={};for(var k in e)Object.prototype.hasOwnProperty.call(e,k)&&l.indexOf(k)<0&&(_[k]=e[k]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(k=Object.getOwnPropertySymbols(e);S<k.length;S++)l.indexOf(k[S])<0&&Object.prototype.propertyIsEnumerable.call(e,k[S])&&(_[k[S]]=e[k[S]])}return _},_getErrorMessage=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},Yo=[502,503,504];function handleError(e){return _handleError.apply(this,arguments)}function _handleError(){return _handleError=_asyncToGenerator(_regenerator().m(function _callee222(e){var l,_,k,S,E;return _regenerator().w(function(T){for(;;)switch(T.p=T.n){case 0:if(looksLikeFetchResponse(e)){T.n=1;break}throw new Lo(_getErrorMessage(e),0);case 1:if(!Yo.includes(e.status)){T.n=2;break}throw new Lo(_getErrorMessage(e),e.status);case 2:return T.p=2,T.n=3,e.json();case 3:_=T.v,T.n=5;break;case 4:throw T.p=4,E=T.v,new Io(_getErrorMessage(E),E);case 5:if(k=void 0,(S=parseResponseAPIVersion(e))&&S.getTime()>=To.timestamp&&"object"===_typeof3(_)&&_&&"string"==typeof _.code?k=_.code:"object"===_typeof3(_)&&_&&"string"==typeof _.error_code&&(k=_.error_code),k){T.n=7;break}if(!("object"===_typeof3(_)&&_&&"object"===_typeof3(_.weak_password)&&_.weak_password&&Array.isArray(_.weak_password.reasons)&&_.weak_password.reasons.length&&_.weak_password.reasons.reduce(function(e,l){return e&&"string"==typeof l},!0))){T.n=6;break}throw new No(_getErrorMessage(_),e.status,_.weak_password.reasons);case 6:T.n=9;break;case 7:if("weak_password"!==k){T.n=8;break}throw new No(_getErrorMessage(_),e.status,(null===(l=_.weak_password)||void 0===l?void 0:l.reasons)||[]);case 8:if("session_not_found"!==k){T.n=9;break}throw new Po;case 9:throw new Oo(_getErrorMessage(_),e.status||500,k);case 10:return T.a(2)}},_callee222,null,[[2,4]])})),_handleError.apply(this,arguments)}var _getRequestParams=function(e,l,_,k){var S={method:e,headers:(null==l?void 0:l.headers)||{}};return"GET"===e?S:(S.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==l?void 0:l.headers),S.body=JSON.stringify(k),Object.assign(Object.assign({},S),_))};function _request(e,l,_,k){return _request2.apply(this,arguments)}function _request2(){return(_request2=_asyncToGenerator(_regenerator().m(function _callee223(e,l,_,k){var S,E,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.n){case 0:return(E=Object.assign({},null==k?void 0:k.headers))[Eo]||(E[Eo]=To.name),(null==k?void 0:k.jwt)&&(E.Authorization="Bearer ".concat(k.jwt)),T=null!==(S=null==k?void 0:k.query)&&void 0!==S?S:{},(null==k?void 0:k.redirectTo)&&(T.redirect_to=k.redirectTo),O=Object.keys(T).length?"?"+new URLSearchParams(T).toString():"",R.n=1,_handleRequest(e,l,_+O,{headers:E,noResolveJson:null==k?void 0:k.noResolveJson},{},null==k?void 0:k.body);case 1:return I=R.v,R.a(2,(null==k?void 0:k.xform)?null==k?void 0:k.xform(I):{data:Object.assign({},I),error:null})}},_callee223)}))).apply(this,arguments)}function _handleRequest(e,l,_,k,S,E){return _handleRequest2.apply(this,arguments)}function _handleRequest2(){return(_handleRequest2=_asyncToGenerator(_regenerator().m(function _callee224(e,l,_,k,S,E){var T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:return T=_getRequestParams(l,k,S,E),M.p=1,M.n=2,e(_,Object.assign({},T));case 2:O=M.v,M.n=4;break;case 3:throw M.p=3,I=M.v,new Lo(_getErrorMessage(I),0);case 4:if(O.ok){M.n=5;break}return M.n=5,handleError(O);case 5:if(!(null==k?void 0:k.noResolveJson)){M.n=6;break}return M.a(2,O);case 6:return M.p=6,M.n=7,O.json();case 7:return M.a(2,M.v);case 8:return M.p=8,R=M.v,M.n=9,handleError(R);case 9:return M.a(2)}},_callee224,null,[[6,8],[1,3]])}))).apply(this,arguments)}function _sessionResponse(e){var l,_,k=null;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(k=Object.assign({},e),e.expires_at||(k.expires_at=(_=e.expires_in,Math.round(Date.now()/1e3)+_))),{data:{session:k,user:null!==(l=e.user)&&void 0!==l?l:e},error:null}}function _sessionResponsePassword(e){var l=_sessionResponse(e);return!l.error&&e.weak_password&&"object"===_typeof3(e.weak_password)&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(function(e,l){return e&&"string"==typeof l},!0)&&(l.data.weak_password=e.weak_password),l}function _userResponse(e){var l;return{data:{user:null!==(l=e.user)&&void 0!==l?l:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){var l=e.action_link,_=e.email_otp,k=e.hashed_token,S=e.redirect_to,E=e.verification_type,T=__rest$2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:l,email_otp:_,hashed_token:k,redirect_to:S,verification_type:E},user:Object.assign({},T)},error:null}}function _noResolveJsonResponse(e){return e}var Xo=["global","local","others"],__rest$1=function(e,l){var _={};for(var k in e)Object.prototype.hasOwnProperty.call(e,k)&&l.indexOf(k)<0&&(_[k]=e[k]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(k=Object.getOwnPropertySymbols(e);S<k.length;S++)l.indexOf(k[S])<0&&Object.prototype.propertyIsEnumerable.call(e,k[S])&&(_[k[S]]=e[k[S]])}return _},Zo=function(){return _createClass3(function GoTrueAdminApi(e){var l=e.url,_=void 0===l?"":l,k=e.headers,S=void 0===k?{}:k,E=e.fetch;_classCallCheck3(this,GoTrueAdminApi),this.url=_,this.headers=S,this.fetch=resolveFetch(E),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}},[{key:"signOut",value:(U=_asyncToGenerator(_regenerator().m(function _callee81(e){var l,_,k=arguments;return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:if(l=k.length>1&&void 0!==k[1]?k[1]:Xo[0],!(Xo.indexOf(l)<0)){S.n=1;break}throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Xo.join(", ")));case 1:return S.p=1,S.n=2,_request(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(l),{headers:this.headers,jwt:e,noResolveJson:!0});case 2:return S.a(2,{data:null,error:null});case 3:if(S.p=3,!isAuthError(_=S.v)){S.n=4;break}return S.a(2,{data:null,error:_});case 4:throw _;case 5:return S.a(2)}},_callee81,this,[[1,3]])})),function(e){return U.apply(this,arguments)})},{key:"inviteUserByEmail",value:(L=_asyncToGenerator(_regenerator().m(function _callee82(e){var l,_,k=arguments;return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:return l=k.length>1&&void 0!==k[1]?k[1]:{},S.p=1,S.n=2,_request(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:_userResponse});case 2:return S.a(2,S.v);case 3:if(S.p=3,!isAuthError(_=S.v)){S.n=4;break}return S.a(2,{data:{user:null},error:_});case 4:throw _;case 5:return S.a(2)}},_callee82,this,[[1,3]])})),function(e){return L.apply(this,arguments)})},{key:"generateLink",value:(D=_asyncToGenerator(_regenerator().m(function _callee83(e){var l,_,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,l=e.options,_=__rest$1(e,["options"]),k=Object.assign(Object.assign({},_),l),"newEmail"in _&&(k.new_email=null==_?void 0:_.newEmail,delete k.newEmail),E.n=1,_request(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:k,headers:this.headers,xform:_generateLinkResponse,redirectTo:null==l?void 0:l.redirectTo});case 1:return E.a(2,E.v);case 2:if(E.p=2,!isAuthError(S=E.v)){E.n=3;break}return E.a(2,{data:{properties:null,user:null},error:S});case 3:throw S;case 4:return E.a(2)}},_callee83,this,[[0,2]])})),function(e){return D.apply(this,arguments)})},{key:"createUser",value:(j=_asyncToGenerator(_regenerator().m(function _callee84(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,_request(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:_userResponse});case 1:return _.a(2,_.v);case 2:if(_.p=2,!isAuthError(l=_.v)){_.n=3;break}return _.a(2,{data:{user:null},error:l});case 3:throw l;case 4:return _.a(2)}},_callee84,this,[[0,2]])})),function(e){return j.apply(this,arguments)})},{key:"listUsers",value:(M=_asyncToGenerator(_regenerator().m(function _callee85(e){var l,_,k,S,E,T,O,I,R,M,j,D,L;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:return U.p=0,I={nextPage:null,lastPage:0,total:0},U.n=1,_request(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(_=null===(l=null==e?void 0:e.page)||void 0===l?void 0:l.toString())&&void 0!==_?_:"",per_page:null!==(S=null===(k=null==e?void 0:e.perPage)||void 0===k?void 0:k.toString())&&void 0!==S?S:""},xform:_noResolveJsonResponse});case 1:if(!(R=U.v).error){U.n=2;break}throw R.error;case 2:return U.n=3,R.json();case 3:return M=U.v,j=null!==(E=R.headers.get("x-total-count"))&&void 0!==E?E:0,(D=null!==(O=null===(T=R.headers.get("link"))||void 0===T?void 0:T.split(","))&&void 0!==O?O:[]).length>0&&(D.forEach(function(e){var l=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(e.split(";")[1].split("=")[1]);I["".concat(_,"Page")]=l}),I.total=parseInt(j)),U.a(2,{data:Object.assign(Object.assign({},M),I),error:null});case 4:if(U.p=4,!isAuthError(L=U.v)){U.n=5;break}return U.a(2,{data:{users:[]},error:L});case 5:throw L;case 6:return U.a(2)}},_callee85,this,[[0,4]])})),function(e){return M.apply(this,arguments)})},{key:"getUserById",value:(R=_asyncToGenerator(_regenerator().m(function _callee86(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return validateUUID(e),_.p=1,_.n=2,_request(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:_userResponse});case 2:return _.a(2,_.v);case 3:if(_.p=3,!isAuthError(l=_.v)){_.n=4;break}return _.a(2,{data:{user:null},error:l});case 4:throw l;case 5:return _.a(2)}},_callee86,this,[[1,3]])})),function(e){return R.apply(this,arguments)})},{key:"updateUserById",value:(I=_asyncToGenerator(_regenerator().m(function _callee87(e,l){var _;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return validateUUID(e),k.p=1,k.n=2,_request(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:l,headers:this.headers,xform:_userResponse});case 2:return k.a(2,k.v);case 3:if(k.p=3,!isAuthError(_=k.v)){k.n=4;break}return k.a(2,{data:{user:null},error:_});case 4:throw _;case 5:return k.a(2)}},_callee87,this,[[1,3]])})),function(e,l){return I.apply(this,arguments)})},{key:"deleteUser",value:(O=_asyncToGenerator(_regenerator().m(function _callee88(e){var l,_,k=arguments;return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:return l=k.length>1&&void 0!==k[1]&&k[1],validateUUID(e),S.p=1,S.n=2,_request(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:l},xform:_userResponse});case 2:return S.a(2,S.v);case 3:if(S.p=3,!isAuthError(_=S.v)){S.n=4;break}return S.a(2,{data:{user:null},error:_});case 4:throw _;case 5:return S.a(2)}},_callee88,this,[[1,3]])})),function(e){return O.apply(this,arguments)})},{key:"_listFactors",value:(T=_asyncToGenerator(_regenerator().m(function _callee89(e){var l,_,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return validateUUID(e.userId),E.p=1,E.n=2,_request(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:function(e){return{data:{factors:e},error:null}}});case 2:return l=E.v,_=l.data,k=l.error,E.a(2,{data:_,error:k});case 3:if(E.p=3,!isAuthError(S=E.v)){E.n=4;break}return E.a(2,{data:null,error:S});case 4:throw S;case 5:return E.a(2)}},_callee89,this,[[1,3]])})),function(e){return T.apply(this,arguments)})},{key:"_deleteFactor",value:(E=_asyncToGenerator(_regenerator().m(function _callee90(e){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return validateUUID(e.userId),validateUUID(e.id),k.p=1,k.n=2,_request(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers});case 2:return l=k.v,k.a(2,{data:l,error:null});case 3:if(k.p=3,!isAuthError(_=k.v)){k.n=4;break}return k.a(2,{data:null,error:_});case 4:throw _;case 5:return k.a(2)}},_callee90,this,[[1,3]])})),function(e){return E.apply(this,arguments)})},{key:"_listOAuthClients",value:(S=_asyncToGenerator(_regenerator().m(function _callee91(e){var l,_,k,S,E,T,O,I,R,M,j,D,L;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:return U.p=0,I={nextPage:null,lastPage:0,total:0},U.n=1,_request(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(_=null===(l=null==e?void 0:e.page)||void 0===l?void 0:l.toString())&&void 0!==_?_:"",per_page:null!==(S=null===(k=null==e?void 0:e.perPage)||void 0===k?void 0:k.toString())&&void 0!==S?S:""},xform:_noResolveJsonResponse});case 1:if(!(R=U.v).error){U.n=2;break}throw R.error;case 2:return U.n=3,R.json();case 3:return M=U.v,j=null!==(E=R.headers.get("x-total-count"))&&void 0!==E?E:0,(D=null!==(O=null===(T=R.headers.get("link"))||void 0===T?void 0:T.split(","))&&void 0!==O?O:[]).length>0&&(D.forEach(function(e){var l=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(e.split(";")[1].split("=")[1]);I["".concat(_,"Page")]=l}),I.total=parseInt(j)),U.a(2,{data:Object.assign(Object.assign({},M),I),error:null});case 4:if(U.p=4,!isAuthError(L=U.v)){U.n=5;break}return U.a(2,{data:{clients:[]},error:L});case 5:throw L;case 6:return U.a(2)}},_callee91,this,[[0,4]])})),function(e){return S.apply(this,arguments)})},{key:"_createOAuthClient",value:(k=_asyncToGenerator(_regenerator().m(function _callee92(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,_request(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:function(e){return{data:e,error:null}}});case 1:return _.a(2,_.v);case 2:if(_.p=2,!isAuthError(l=_.v)){_.n=3;break}return _.a(2,{data:null,error:l});case 3:throw l;case 4:return _.a(2)}},_callee92,this,[[0,2]])})),function(e){return k.apply(this,arguments)})},{key:"_getOAuthClient",value:(_=_asyncToGenerator(_regenerator().m(function _callee93(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,_request(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:function(e){return{data:e,error:null}}});case 1:return _.a(2,_.v);case 2:if(_.p=2,!isAuthError(l=_.v)){_.n=3;break}return _.a(2,{data:null,error:l});case 3:throw l;case 4:return _.a(2)}},_callee93,this,[[0,2]])})),function(e){return _.apply(this,arguments)})},{key:"_deleteOAuthClient",value:(l=_asyncToGenerator(_regenerator().m(function _callee94(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,_request(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:function(e){return{data:e,error:null}}});case 1:return _.a(2,_.v);case 2:if(_.p=2,!isAuthError(l=_.v)){_.n=3;break}return _.a(2,{data:null,error:l});case 3:throw l;case 4:return _.a(2)}},_callee94,this,[[0,2]])})),function(e){return l.apply(this,arguments)})},{key:"_regenerateOAuthClientSecret",value:(e=_asyncToGenerator(_regenerator().m(function _callee95(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,_request(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:function(e){return{data:e,error:null}}});case 1:return _.a(2,_.v);case 2:if(_.p=2,!isAuthError(l=_.v)){_.n=3;break}return _.a(2,{data:null,error:l});case 3:throw l;case 4:return _.a(2)}},_callee95,this,[[0,2]])})),function(l){return e.apply(this,arguments)})}]);var e,l,_,k,S,E,T,O,I,R,M,j,D,L,U}();function memoryLocalStorageAdapter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:function(l){return e[l]||null},setItem:function(l,_){e[l]=_},removeItem:function(l){delete e[l]}}}var Qo=!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")),es=function(e){function LockAcquireTimeoutError(e){var l;return _classCallCheck3(this,LockAcquireTimeoutError),(l=_callSuper(this,LockAcquireTimeoutError,[e])).isAcquireTimeout=!0,l}return _inherits(LockAcquireTimeoutError,e),_createClass3(LockAcquireTimeoutError)}(_wrapNativeSuper(Error)),ts=function(e){function NavigatorLockAcquireTimeoutError(){return _classCallCheck3(this,NavigatorLockAcquireTimeoutError),_callSuper(this,NavigatorLockAcquireTimeoutError,arguments)}return _inherits(NavigatorLockAcquireTimeoutError,e),_createClass3(NavigatorLockAcquireTimeoutError)}(es);function navigatorLock(e,l,_){return _navigatorLock.apply(this,arguments)}function _navigatorLock(){return _navigatorLock=_asyncToGenerator(_regenerator().m(function _callee226(e,l,_){var k;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:return k=new globalThis.AbortController,l>0&&setTimeout(function(){k.abort()},l),S.n=1,Promise.resolve().then(function(){return globalThis.navigator.locks.request(e,0===l?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:k.signal},function(){var k=_asyncToGenerator(_regenerator().m(function _callee225(k){return _regenerator().w(function(S){for(;;)switch(S.p=S.n){case 0:if(!k){S.n=5;break}return S.p=1,S.n=2,_();case 2:return S.a(2,S.v);case 3:return S.p=3,S.f(3);case 4:S.n=12;break;case 5:if(0!==l){S.n=6;break}throw new ts('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));case 6:if(!Qo){S.n=10;break}return S.p=7,S.n=8,globalThis.navigator.locks.query();case 8:S.v,S.n=10;break;case 9:S.p=9,S.v;case 10:return S.n=11,_();case 11:return S.a(2,S.v);case 12:return S.a(2)}},_callee225,null,[[7,9],[1,,3,4]])}));return function(e){return k.apply(this,arguments)}}())});case 1:return S.a(2,S.v)}},_callee226)})),_navigatorLock.apply(this,arguments)}function getAddress(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function fromHex(e){return parseInt(e,16)}function toHex(e){var l=(new TextEncoder).encode(e);return"0x"+Array.from(l,function(e){return e.toString(16).padStart(2,"0")}).join("")}function createSiweMessage(e){var l,_=e.chainId,k=e.domain,S=e.expirationTime,E=e.issuedAt,T=void 0===E?new Date:E,O=e.nonce,I=e.notBefore,R=e.requestId,M=e.resources,j=e.scheme,D=e.uri,L=e.version;if(!Number.isInteger(_))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(_));if(!k)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(O&&O.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(O));if(!D)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==L)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(L));if(null===(l=e.statement)||void 0===l?void 0:l.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));var U=getAddress(e.address),B=j?"".concat(j,"://").concat(k):k,q=e.statement?"".concat(e.statement,"\n"):"",z="".concat(B," wants you to sign in with your Ethereum account:\n").concat(U,"\n\n").concat(q),G="URI: ".concat(D,"\nVersion: ").concat(L,"\nChain ID: ").concat(_).concat(O?"\nNonce: ".concat(O):"","\nIssued At: ").concat(T.toISOString());if(S&&(G+="\nExpiration Time: ".concat(S.toISOString())),I&&(G+="\nNot Before: ".concat(I.toISOString())),R&&(G+="\nRequest ID: ".concat(R)),M){var W,V="\nResources:",K=_createForOfIteratorHelper2(M);try{for(K.s();!(W=K.n()).done;){var H=W.value;if(!H||"string"!=typeof H)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(H));V+="\n- ".concat(H)}}catch($){K.e($)}finally{K.f()}G+=V}return"".concat(z,"\n").concat(G)}var rs=function(e){function WebAuthnError(e){var l,_,k=e.message,S=e.code,E=e.cause,T=e.name;return _classCallCheck3(this,WebAuthnError),(l=_callSuper(this,WebAuthnError,[k,{cause:E}])).__isWebAuthnError=!0,l.name=null!==(_=null!=T?T:E instanceof Error?E.name:void 0)&&void 0!==_?_:"Unknown Error",l.code=S,l}return _inherits(WebAuthnError,e),_createClass3(WebAuthnError)}(_wrapNativeSuper(Error)),ns=function(e){function WebAuthnUnknownError(e,l){var _;return _classCallCheck3(this,WebAuthnUnknownError),(_=_callSuper(this,WebAuthnUnknownError,[{code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:e}])).name="WebAuthnUnknownError",_.originalError=l,_}return _inherits(WebAuthnUnknownError,e),_createClass3(WebAuthnUnknownError)}(rs);function identifyRegistrationError(e){var l,_,k,S=e.error,E=e.options,T=E.publicKey;if(!T)throw Error("options was missing required publicKey property");if("AbortError"===S.name){if(E.signal instanceof AbortSignal)return new rs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:S})}else if("ConstraintError"===S.name){if(!0===(null===(l=T.authenticatorSelection)||void 0===l?void 0:l.requireResidentKey))return new rs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:S});if("conditional"===E.mediation&&"required"===(null===(_=T.authenticatorSelection)||void 0===_?void 0:_.userVerification))return new rs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:S});if("required"===(null===(k=T.authenticatorSelection)||void 0===k?void 0:k.userVerification))return new rs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:S})}else{if("InvalidStateError"===S.name)return new rs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:S});if("NotAllowedError"===S.name)return new rs({message:S.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:S});if("NotSupportedError"===S.name)return 0===T.pubKeyCredParams.filter(function(e){return"public-key"===e.type}).length?new rs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:S}):new rs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:S});if("SecurityError"===S.name){var O=window.location.hostname;if(!isValidDomain(O))return new rs({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:S});if(T.rp.id!==O)return new rs({message:'The RP ID "'.concat(T.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:S})}else if("TypeError"===S.name){if(T.user.id.byteLength<1||T.user.id.byteLength>64)return new rs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:S})}else if("UnknownError"===S.name)return new rs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:S})}return new rs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:S})}function identifyAuthenticationError(e){var l=e.error,_=e.options,k=_.publicKey;if(!k)throw Error("options was missing required publicKey property");if("AbortError"===l.name){if(_.signal instanceof AbortSignal)return new rs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if("NotAllowedError"===l.name)return new rs({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if("SecurityError"===l.name){var S=window.location.hostname;if(!isValidDomain(S))return new rs({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:l});if(k.rpId!==S)return new rs({message:'The RP ID "'.concat(k.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:l})}else if("UnknownError"===l.name)return new rs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new rs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}var __rest=function(e,l){var _={};for(var k in e)Object.prototype.hasOwnProperty.call(e,k)&&l.indexOf(k)<0&&(_[k]=e[k]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(k=Object.getOwnPropertySymbols(e);S<k.length;S++)l.indexOf(k[S])<0&&Object.prototype.propertyIsEnumerable.call(e,k[S])&&(_[k[S]]=e[k[S]])}return _},is=new(function(){return _createClass3(function WebAuthnAbortService(){_classCallCheck3(this,WebAuthnAbortService)},[{key:"createNewAbortSignal",value:function(){if(this.controller){var e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}var l=new AbortController;return this.controller=l,l.signal}},{key:"cancelCeremony",value:function(){if(this.controller){var e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}])}());function deserializeCredentialCreationOptions(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);var l=e.challenge,_=e.user,k=e.excludeCredentials,S=__rest(e,["challenge","user","excludeCredentials"]),E=base64UrlToUint8Array(l).buffer,T=Object.assign(Object.assign({},_),{id:base64UrlToUint8Array(_.id).buffer}),O=Object.assign(Object.assign({},S),{challenge:E,user:T});if(k&&k.length>0){O.excludeCredentials=new Array(k.length);for(var I=0;I<k.length;I++){var R=k[I];O.excludeCredentials[I]=Object.assign(Object.assign({},R),{id:base64UrlToUint8Array(R.id).buffer,type:R.type||"public-key",transports:R.transports})}}return O}function deserializeCredentialRequestOptions(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);var l=e.challenge,_=e.allowCredentials,k=__rest(e,["challenge","allowCredentials"]),S=base64UrlToUint8Array(l).buffer,E=Object.assign(Object.assign({},k),{challenge:S});if(_&&_.length>0){E.allowCredentials=new Array(_.length);for(var T=0;T<_.length;T++){var O=_[T];E.allowCredentials[T]=Object.assign(Object.assign({},O),{id:base64UrlToUint8Array(O.id).buffer,type:O.type||"public-key",transports:O.transports})}}return E}function serializeCredentialCreationResponse(e){var l;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();var _=e;return{id:e.id,rawId:e.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(e.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(l=_.authenticatorAttachment)&&void 0!==l?l:void 0}}function serializeCredentialRequestResponse(e){var l;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();var _=e,k=e.getClientExtensionResults(),S=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(S.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(S.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(S.signature)),userHandle:S.userHandle?bytesToBase64URL(new Uint8Array(S.userHandle)):void 0},type:"public-key",clientExtensionResults:k,authenticatorAttachment:null!==(l=_.authenticatorAttachment)&&void 0!==l?l:void 0}}function isValidDomain(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function browserSupportsWebAuthn(){var e,l;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(l=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===l?void 0:l.get))}function createCredential(e){return _createCredential.apply(this,arguments)}function _createCredential(){return(_createCredential=_asyncToGenerator(_regenerator().m(function _callee227(e){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,navigator.credentials.create(e);case 1:if(l=k.v){k.n=2;break}return k.a(2,{data:null,error:new ns("Empty credential response",l)});case 2:if(l instanceof PublicKeyCredential){k.n=3;break}return k.a(2,{data:null,error:new ns("Browser returned unexpected credential type",l)});case 3:return k.a(2,{data:l,error:null});case 4:return k.p=4,_=k.v,k.a(2,{data:null,error:identifyRegistrationError({error:_,options:e})})}},_callee227,null,[[0,4]])}))).apply(this,arguments)}function getCredential(e){return _getCredential.apply(this,arguments)}function _getCredential(){return(_getCredential=_asyncToGenerator(_regenerator().m(function _callee228(e){var l,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,navigator.credentials.get(e);case 1:if(l=k.v){k.n=2;break}return k.a(2,{data:null,error:new ns("Empty credential response",l)});case 2:if(l instanceof PublicKeyCredential){k.n=3;break}return k.a(2,{data:null,error:new ns("Browser returned unexpected credential type",l)});case 3:return k.a(2,{data:l,error:null});case 4:return k.p=4,_=k.v,k.a(2,{data:null,error:identifyAuthenticationError({error:_,options:e})})}},_callee228,null,[[0,4]])}))).apply(this,arguments)}var as={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},os={userVerification:"preferred",hints:["security-key"]};function deepMerge(){for(var isObject=function(e){return null!==e&&"object"===_typeof3(e)&&!Array.isArray(e)},isArrayBufferLike=function(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)},e={},l=arguments.length,_=new Array(l),k=0;k<l;k++)_[k]=arguments[k];for(var S=0,E=_;S<E.length;S++){var T=E[S];if(T)for(var O in T){var I=T[O];if(void 0!==I)if(Array.isArray(I))e[O]=I;else if(isArrayBufferLike(I))e[O]=I;else if(isObject(I)){var R=e[O];isObject(R)?e[O]=deepMerge(R,I):e[O]=deepMerge(I)}else e[O]=I}}return e}function mergeCredentialCreationOptions(e,l){return deepMerge(as,e,l||{})}function mergeCredentialRequestOptions(e,l){return deepMerge(os,e,l||{})}var ss=function(){return _createClass3(function WebAuthnApi(e){_classCallCheck3(this,WebAuthnApi),this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)},[{key:"_enroll",value:(S=_asyncToGenerator(_regenerator().m(function _callee96(e){return _regenerator().w(function(l){for(;;)if(0===l.n)return l.a(2,this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"})))},_callee96,this)})),function(e){return S.apply(this,arguments)})},{key:"_challenge",value:(k=_asyncToGenerator(_regenerator().m(function _callee97(e,l){var _,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V;return _regenerator().w(function(K){for(;;)switch(K.p=K.n){case 0:return _=e.factorId,k=e.webauthn,S=e.friendlyName,E=e.signal,K.p=1,K.n=2,this.client.mfa.challenge({factorId:_,webauthn:k});case 2:if(T=K.v,O=T.data,I=T.error,O){K.n=3;break}return K.a(2,{data:null,error:I});case 3:R=null!=E?E:is.createNewAbortSignal(),"create"===O.webauthn.type&&((M=O.webauthn.credential_options.publicKey.user).name||(M.name="".concat(M.id,":").concat(S)),M.displayName||(M.displayName=M.name)),W=O.webauthn.type,K.n="create"===W?4:"request"===W?7:10;break;case 4:return j=mergeCredentialCreationOptions(O.webauthn.credential_options.publicKey,null==l?void 0:l.create),K.n=5,createCredential({publicKey:j,signal:R});case 5:if(D=K.v,L=D.data,U=D.error,!L){K.n=6;break}return K.a(2,{data:{factorId:_,challengeId:O.id,webauthn:{type:O.webauthn.type,credential_response:L}},error:null});case 6:return K.a(2,{data:null,error:U});case 7:return B=mergeCredentialRequestOptions(O.webauthn.credential_options.publicKey,null==l?void 0:l.request),K.n=8,getCredential(Object.assign(Object.assign({},O.webauthn.credential_options),{publicKey:B,signal:R}));case 8:if(q=K.v,z=q.data,G=q.error,!z){K.n=9;break}return K.a(2,{data:{factorId:_,challengeId:O.id,webauthn:{type:O.webauthn.type,credential_response:z}},error:null});case 9:return K.a(2,{data:null,error:G});case 10:K.n=13;break;case 11:if(K.p=11,!isAuthError(V=K.v)){K.n=12;break}return K.a(2,{data:null,error:V});case 12:return K.a(2,{data:null,error:new Io("Unexpected error in challenge",V)});case 13:return K.a(2)}},_callee97,this,[[1,11]])})),function(e,l){return k.apply(this,arguments)})},{key:"_verify",value:(_=_asyncToGenerator(_regenerator().m(function _callee98(e){var l,_,k;return _regenerator().w(function(S){for(;;)if(0===S.n)return l=e.challengeId,_=e.factorId,k=e.webauthn,S.a(2,this.client.mfa.verify({factorId:_,challengeId:l,webauthn:k}))},_callee98,this)})),function(e){return _.apply(this,arguments)})},{key:"_authenticate",value:(l=_asyncToGenerator(_regenerator().m(function _callee99(e,l){var _,k,S,E,T,O,I,R,M,j,D,L;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:if(_=e.factorId,k=e.webauthn,S=k.rpId,E=void 0===S?"undefined"!=typeof window?window.location.hostname:void 0:S,T=k.rpOrigins,O=void 0===T?"undefined"!=typeof window?[window.location.origin]:void 0:T,I=k.signal,E){U.n=1;break}return U.a(2,{data:null,error:new xo("rpId is required for WebAuthn authentication")});case 1:if(U.p=1,browserSupportsWebAuthn()){U.n=2;break}return U.a(2,{data:null,error:new Io("Browser does not support WebAuthn",null)});case 2:return U.n=3,this.challenge({factorId:_,webauthn:{rpId:E,rpOrigins:O},signal:I},{request:l});case 3:if(R=U.v,M=R.data,j=R.error,M){U.n=4;break}return U.a(2,{data:null,error:j});case 4:return D=M.webauthn,U.a(2,this._verify({factorId:_,challengeId:M.challengeId,webauthn:{type:D.type,rpId:E,rpOrigins:O,credential_response:D.credential_response}}));case 5:if(U.p=5,!isAuthError(L=U.v)){U.n=6;break}return U.a(2,{data:null,error:L});case 6:return U.a(2,{data:null,error:new Io("Unexpected error in authenticate",L)})}},_callee99,this,[[1,5]])})),function(e,_){return l.apply(this,arguments)})},{key:"_register",value:(e=_asyncToGenerator(_regenerator().m(function _callee100(e,l){var _,k,S,E,T,O,I,R,M,j,D,L,U,B=this;return _regenerator().w(function(q){for(;;)switch(q.p=q.n){case 0:if(_=e.friendlyName,k=e.rpId,S=void 0===k?"undefined"!=typeof window?window.location.hostname:void 0:k,E=e.rpOrigins,T=void 0===E?"undefined"!=typeof window?[window.location.origin]:void 0:E,O=e.signal,S){q.n=1;break}return q.a(2,{data:null,error:new xo("rpId is required for WebAuthn registration")});case 1:if(q.p=1,browserSupportsWebAuthn()){q.n=2;break}return q.a(2,{data:null,error:new Io("Browser does not support WebAuthn",null)});case 2:return q.n=3,this._enroll({friendlyName:_});case 3:if(I=q.v,R=I.data,M=I.error,R){q.n=5;break}return q.n=4,this.client.mfa.listFactors().then(function(e){var l;return null===(l=e.data)||void 0===l?void 0:l.all.find(function(e){return"webauthn"===e.factor_type&&e.friendly_name===_&&"unverified"!==e.status})}).then(function(e){return e?B.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0});case 4:return q.a(2,{data:null,error:M});case 5:return q.n=6,this._challenge({factorId:R.id,friendlyName:R.friendly_name,webauthn:{rpId:S,rpOrigins:T},signal:O},{create:l});case 6:if(j=q.v,D=j.data,L=j.error,D){q.n=7;break}return q.a(2,{data:null,error:L});case 7:return q.a(2,this._verify({factorId:R.id,challengeId:D.challengeId,webauthn:{rpId:S,rpOrigins:T,type:D.webauthn.type,credential_response:D.webauthn.credential_response}}));case 8:if(q.p=8,!isAuthError(U=q.v)){q.n=9;break}return q.a(2,{data:null,error:U});case 9:return q.a(2,{data:null,error:new Io("Unexpected error in register",U)})}},_callee100,this,[[1,8]])})),function(l,_){return e.apply(this,arguments)})}]);var e,l,_,k,S}();!function(){if("object"!==("undefined"==typeof globalThis?"undefined":_typeof3(globalThis)))try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(ta){"undefined"!=typeof self&&(self.globalThis=self)}}();var us={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Co,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function lockNoOp(e,l,_){return _lockNoOp.apply(this,arguments)}function _lockNoOp(){return(_lockNoOp=_asyncToGenerator(_regenerator().m(function _callee229(e,l,_){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_();case 1:return e.a(2,e.v)}},_callee229)}))).apply(this,arguments)}var ls={},cs=function(){return _createClass3(function GoTrueClient(e){var l,_,k=this;_classCallCheck3(this,GoTrueClient),this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser();var S=Object.assign(Object.assign({},us),e);if(this.logDebugMessages=!!S.debug,"function"==typeof S.debug&&(this.logger=S.debug),this.persistSession=S.persistSession,this.storageKey=S.storageKey,this.autoRefreshToken=S.autoRefreshToken,this.admin=new Zo({url:S.url,headers:S.headers,fetch:S.fetch}),this.url=S.url,this.headers=S.headers,this.fetch=resolveFetch(S.fetch),this.lock=S.lock||lockNoOp,this.detectSessionInUrl=S.detectSessionInUrl,this.flowType=S.flowType,this.hasCustomAuthorizationHeader=S.hasCustomAuthorizationHeader,S.lock?this.lock=S.lock:isBrowser()&&(null===(l=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===l?void 0:l.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ss(this)},this.persistSession?(S.storage?this.storage=S.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),S.userStorage&&(this.userStorage=S.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(ta){}null===(_=this.broadcastChannel)||void 0===_||_.addEventListener("message",function(){var e=_asyncToGenerator(_regenerator().m(function _callee101(e){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return k._debug("received broadcast notification from other tab or client",e),l.n=1,k._notifyAllSubscribers(e.data.event,e.data.session,!1);case 1:return l.a(2)}},_callee101)}));return function(l){return e.apply(this,arguments)}}())}this.initialize()},[{key:"jwks",get:function(){var e,l;return null!==(l=null===(e=ls[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==l?l:{keys:[]}},set:function(e){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{jwks:e})}},{key:"jwks_cached_at",get:function(){var e,l;return null!==(l=null===(e=ls[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==l?l:Number.MIN_SAFE_INTEGER},set:function(e){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{cachedAt:e})}},{key:"_debug",value:function(){if(this.logDebugMessages){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];this.logger.apply(this,["GoTrueClient@".concat(this.instanceID," (").concat(ko,") ").concat((new Date).toISOString())].concat(l))}return this}},{key:"initialize",value:(De=_asyncToGenerator(_regenerator().m(function _callee104(){var e=this;return _regenerator().w(function(l){for(;;)switch(l.n){case 0:if(!this.initializePromise){l.n=2;break}return l.n=1,this.initializePromise;case 1:case 3:return l.a(2,l.v);case 2:return this.initializePromise=_asyncToGenerator(_regenerator().m(function _callee103(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,e._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee102(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,e._initialize();case 1:return l.a(2,l.v)}},_callee102)})));case 1:return l.a(2,l.v)}},_callee103)}))(),l.n=3,this.initializePromise}},_callee104,this)})),function(){return De.apply(this,arguments)})},{key:"_initialize",value:(je=_asyncToGenerator(_regenerator().m(function _callee106(){var e,l,_,k,S,E,T,O,I,R,M=this;return _regenerator().w(function(j){for(;;)switch(j.p=j.n){case 0:if(j.p=0,l=parseParametersFromURL(window.location.href),_="none",!this._isImplicitGrantCallback(l)){j.n=1;break}_="implicit",j.n=3;break;case 1:return j.n=2,this._isPKCECallback(l);case 2:if(!j.v){j.n=3;break}_="pkce";case 3:if(!isBrowser()||!this.detectSessionInUrl||"none"===_){j.n=9;break}return j.n=4,this._getSessionFromURL(l,_);case 4:if(k=j.v,S=k.data,!(E=k.error)){j.n=7;break}if(this._debug("#_initialize()","error detecting session from URL",E),!isAuthImplicitGrantRedirectError(E)){j.n=5;break}if("identity_already_exists"!==(T=null===(e=E.details)||void 0===e?void 0:e.code)&&"identity_not_found"!==T&&"single_identity_not_deletable"!==T){j.n=5;break}return j.a(2,{error:E});case 5:return j.n=6,this._removeSession();case 6:return j.a(2,{error:E});case 7:return O=S.session,I=S.redirectType,this._debug("#_initialize()","detected session in URL",O,"redirect type",I),j.n=8,this._saveSession(O);case 8:return setTimeout(_asyncToGenerator(_regenerator().m(function _callee105(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if("recovery"!==I){e.n=2;break}return e.n=1,M._notifyAllSubscribers("PASSWORD_RECOVERY",O);case 1:e.n=3;break;case 2:return e.n=3,M._notifyAllSubscribers("SIGNED_IN",O);case 3:return e.a(2)}},_callee105)})),0),j.a(2,{error:null});case 9:return j.n=10,this._recoverAndRefresh();case 10:return j.a(2,{error:null});case 11:if(j.p=11,!isAuthError(R=j.v)){j.n=12;break}return j.a(2,{error:R});case 12:return j.a(2,{error:new Io("Unexpected error during initialization",R)});case 13:return j.p=13,j.n=14,this._handleVisibilityChange();case 14:return this._debug("#_initialize()","end"),j.f(13);case 15:return j.a(2)}},_callee106,this,[[0,11,13,15]])})),function(){return je.apply(this,arguments)})},{key:"signInAnonymously",value:(Me=_asyncToGenerator(_regenerator().m(function _callee107(e){var l,_,k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:return M.p=0,M.n=1,_request(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(_=null===(l=null==e?void 0:e.options)||void 0===l?void 0:l.data)&&void 0!==_?_:{},gotrue_meta_security:{captcha_token:null===(k=null==e?void 0:e.options)||void 0===k?void 0:k.captchaToken}},xform:_sessionResponse});case 1:if(S=M.v,E=S.data,!(T=S.error)&&E){M.n=2;break}return M.a(2,{data:{user:null,session:null},error:T});case 2:if(O=E.session,I=E.user,!E.session){M.n=4;break}return M.n=3,this._saveSession(E.session);case 3:return M.n=4,this._notifyAllSubscribers("SIGNED_IN",O);case 4:return M.a(2,{data:{user:I,session:O},error:null});case 5:if(M.p=5,!isAuthError(R=M.v)){M.n=6;break}return M.a(2,{data:{user:null,session:null},error:R});case 6:throw R;case 7:return M.a(2)}},_callee107,this,[[0,5]])})),function(e){return Me.apply(this,arguments)})},{key:"signUp",value:(Pe=_asyncToGenerator(_regenerator().m(function _callee108(e){var l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V;return _regenerator().w(function(K){for(;;)switch(K.p=K.n){case 0:if(K.p=0,!("email"in e)){K.n=4;break}if(E=e.email,T=e.password,O=e.options,I=null,R=null,"pkce"!==this.flowType){K.n=2;break}return K.n=1,getCodeChallengeAndMethod(this.storage,this.storageKey);case 1:M=K.v,j=_slicedToArray(M,2),I=j[0],R=j[1];case 2:return K.n=3,_request(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null==O?void 0:O.emailRedirectTo,body:{email:E,password:T,data:null!==(l=null==O?void 0:O.data)&&void 0!==l?l:{},gotrue_meta_security:{captcha_token:null==O?void 0:O.captchaToken},code_challenge:I,code_challenge_method:R},xform:_sessionResponse});case 3:S=K.v,K.n=7;break;case 4:if(!("phone"in e)){K.n=6;break}return D=e.phone,L=e.password,U=e.options,K.n=5,_request(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:D,password:L,data:null!==(_=null==U?void 0:U.data)&&void 0!==_?_:{},channel:null!==(k=null==U?void 0:U.channel)&&void 0!==k?k:"sms",gotrue_meta_security:{captcha_token:null==U?void 0:U.captchaToken}},xform:_sessionResponse});case 5:S=K.v,K.n=7;break;case 6:throw new jo("You must provide either an email or phone number and a password");case 7:if(q=(B=S).data,!(z=B.error)&&q){K.n=8;break}return K.a(2,{data:{user:null,session:null},error:z});case 8:if(G=q.session,W=q.user,!q.session){K.n=10;break}return K.n=9,this._saveSession(q.session);case 9:return K.n=10,this._notifyAllSubscribers("SIGNED_IN",G);case 10:return K.a(2,{data:{user:W,session:G},error:null});case 11:if(K.p=11,!isAuthError(V=K.v)){K.n=12;break}return K.a(2,{data:{user:null,session:null},error:V});case 12:throw V;case 13:return K.a(2)}},_callee108,this,[[0,11]])})),function(e){return Pe.apply(this,arguments)})},{key:"signInWithPassword",value:(Re=_asyncToGenerator(_regenerator().m(function _callee109(e){var l,_,k,S,E,T,O,I,R,M,j;return _regenerator().w(function(D){for(;;)switch(D.p=D.n){case 0:if(D.p=0,!("email"in e)){D.n=2;break}return _=e.email,k=e.password,S=e.options,D.n=1,_request(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:_,password:k,gotrue_meta_security:{captcha_token:null==S?void 0:S.captchaToken}},xform:_sessionResponsePassword});case 1:case 3:l=D.v,D.n=5;break;case 2:if(!("phone"in e)){D.n=4;break}return E=e.phone,T=e.password,O=e.options,D.n=3,_request(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:E,password:T,gotrue_meta_security:{captcha_token:null==O?void 0:O.captchaToken}},xform:_sessionResponsePassword});case 4:throw new jo("You must provide either an email or phone number and a password");case 5:if(R=(I=l).data,!(M=I.error)){D.n=6;break}return D.a(2,{data:{user:null,session:null},error:M});case 6:if(R&&R.session&&R.user){D.n=7;break}return D.a(2,{data:{user:null,session:null},error:new Mo});case 7:if(!R.session){D.n=9;break}return D.n=8,this._saveSession(R.session);case 8:return D.n=9,this._notifyAllSubscribers("SIGNED_IN",R.session);case 9:return D.a(2,{data:Object.assign({user:R.user,session:R.session},R.weak_password?{weakPassword:R.weak_password}:null),error:M});case 10:if(D.p=10,!isAuthError(j=D.v)){D.n=11;break}return D.a(2,{data:{user:null,session:null},error:j});case 11:throw j;case 12:return D.a(2)}},_callee109,this,[[0,10]])})),function(e){return Re.apply(this,arguments)})},{key:"signInWithOAuth",value:(Ie=_asyncToGenerator(_regenerator().m(function _callee110(e){var l,_,k,S;return _regenerator().w(function(E){for(;;)switch(E.n){case 0:return E.n=1,this._handleProviderSignIn(e.provider,{redirectTo:null===(l=e.options)||void 0===l?void 0:l.redirectTo,scopes:null===(_=e.options)||void 0===_?void 0:_.scopes,queryParams:null===(k=e.options)||void 0===k?void 0:k.queryParams,skipBrowserRedirect:null===(S=e.options)||void 0===S?void 0:S.skipBrowserRedirect});case 1:return E.a(2,E.v)}},_callee110,this)})),function(e){return Ie.apply(this,arguments)})},{key:"exchangeCodeForSession",value:(Oe=_asyncToGenerator(_regenerator().m(function _callee112(e){var l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this.initializePromise;case 1:return _.a(2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee111(){return _regenerator().w(function(_){for(;;)if(0===_.n)return _.a(2,l._exchangeCodeForSession(e))},_callee111)}))))}},_callee112,this)})),function(e){return Oe.apply(this,arguments)})},{key:"signInWithWeb3",value:(xe=_asyncToGenerator(_regenerator().m(function _callee113(e){var l,_;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:l=e.chain,_=l,k.n="ethereum"===_?1:"solana"===_?3:5;break;case 1:return k.n=2,this.signInWithEthereum(e);case 2:case 4:return k.a(2,k.v);case 3:return k.n=4,this.signInWithSolana(e);case 5:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(l,'"'));case 6:return k.a(2)}},_callee113,this)})),function(e){return xe.apply(this,arguments)})},{key:"signInWithEthereum",value:(Ae=_asyncToGenerator(_regenerator().m(function _callee114(e){var l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K,H,$,J,Y,X,Z,Q;return _regenerator().w(function(ee){for(;;)switch(ee.p=ee.n){case 0:if(!("message"in e)){ee.n=1;break}D=e.message,L=e.signature,ee.n=12;break;case 1:if(e.chain,U=e.wallet,B=e.statement,q=e.options,isBrowser()){ee.n=3;break}if("object"===_typeof3(U)&&(null==q?void 0:q.url)){ee.n=2;break}throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");case 2:z=U,ee.n=6;break;case 3:if("object"!==_typeof3(U)){ee.n=4;break}z=U,ee.n=6;break;case 4:if(!("ethereum"in(G=window))||"object"!==_typeof3(G.ethereum)||!("request"in G.ethereum)||"function"!=typeof G.ethereum.request){ee.n=5;break}z=G.ethereum,ee.n=6;break;case 5:throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");case 6:return W=new URL(null!==(l=null==q?void 0:q.url)&&void 0!==l?l:window.location.href),ee.n=7,z.request({method:"eth_requestAccounts"}).then(function(e){return e}).catch(function(){throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});case 7:if((V=ee.v)&&0!==V.length){ee.n=8;break}throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");case 8:if(K=getAddress(V[0]),H=null===(_=null==q?void 0:q.signInWithEthereum)||void 0===_?void 0:_.chainId){ee.n=10;break}return ee.n=9,z.request({method:"eth_chainId"});case 9:$=ee.v,H=fromHex($);case 10:return J={domain:W.host,address:K,statement:B,uri:W.href,version:"1",chainId:H,nonce:null===(k=null==q?void 0:q.signInWithEthereum)||void 0===k?void 0:k.nonce,issuedAt:null!==(E=null===(S=null==q?void 0:q.signInWithEthereum)||void 0===S?void 0:S.issuedAt)&&void 0!==E?E:new Date,expirationTime:null===(T=null==q?void 0:q.signInWithEthereum)||void 0===T?void 0:T.expirationTime,notBefore:null===(O=null==q?void 0:q.signInWithEthereum)||void 0===O?void 0:O.notBefore,requestId:null===(I=null==q?void 0:q.signInWithEthereum)||void 0===I?void 0:I.requestId,resources:null===(R=null==q?void 0:q.signInWithEthereum)||void 0===R?void 0:R.resources},D=createSiweMessage(J),ee.n=11,z.request({method:"personal_sign",params:[toHex(D),K]});case 11:L=ee.v;case 12:return ee.p=12,ee.n=13,_request(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:D,signature:L},(null===(M=e.options)||void 0===M?void 0:M.captchaToken)?{gotrue_meta_security:{captcha_token:null===(j=e.options)||void 0===j?void 0:j.captchaToken}}:null),xform:_sessionResponse});case 13:if(Y=ee.v,X=Y.data,!(Z=Y.error)){ee.n=14;break}throw Z;case 14:if(X&&X.session&&X.user){ee.n=15;break}return ee.a(2,{data:{user:null,session:null},error:new Mo});case 15:if(!X.session){ee.n=17;break}return ee.n=16,this._saveSession(X.session);case 16:return ee.n=17,this._notifyAllSubscribers("SIGNED_IN",X.session);case 17:return ee.a(2,{data:Object.assign({},X),error:Z});case 18:if(ee.p=18,!isAuthError(Q=ee.v)){ee.n=19;break}return ee.a(2,{data:{user:null,session:null},error:Q});case 19:throw Q;case 20:return ee.a(2)}},_callee114,this,[[12,18]])})),function(e){return Ae.apply(this,arguments)})},{key:"signInWithSolana",value:(Te=_asyncToGenerator(_regenerator().m(function _callee115(e){var l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K,H,$,J,Y,X,Z;return _regenerator().w(function(Q){for(;;)switch(Q.p=Q.n){case 0:if(!("message"in e)){Q.n=1;break}L=e.message,U=e.signature,Q.n=17;break;case 1:if(e.chain,B=e.wallet,q=e.statement,z=e.options,isBrowser()){Q.n=3;break}if("object"===_typeof3(B)&&(null==z?void 0:z.url)){Q.n=2;break}throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");case 2:G=B,Q.n=6;break;case 3:if("object"!==_typeof3(B)){Q.n=4;break}G=B,Q.n=6;break;case 4:if(!("solana"in(W=window))||"object"!==_typeof3(W.solana)||!("signIn"in W.solana&&"function"==typeof W.solana.signIn||"signMessage"in W.solana&&"function"==typeof W.solana.signMessage)){Q.n=5;break}G=W.solana,Q.n=6;break;case 5:throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");case 6:if(V=new URL(null!==(l=null==z?void 0:z.url)&&void 0!==l?l:window.location.href),!("signIn"in G)||!G.signIn){Q.n=13;break}return Q.n=7,G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==z?void 0:z.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),q?{statement:q}:null));case 7:if(K=Q.v,!Array.isArray(K)||!K[0]||"object"!==_typeof3(K[0])){Q.n=8;break}H=K[0],Q.n=10;break;case 8:if(!(K&&"object"===_typeof3(K)&&"signedMessage"in K&&"signature"in K)){Q.n=9;break}H=K,Q.n=10;break;case 9:throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");case 10:if(!("signedMessage"in H&&"signature"in H&&("string"==typeof H.signedMessage||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)){Q.n=11;break}L="string"==typeof H.signedMessage?H.signedMessage:(new TextDecoder).decode(H.signedMessage),U=H.signature,Q.n=12;break;case 11:throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");case 12:Q.n=17;break;case 13:if("signMessage"in G&&"function"==typeof G.signMessage&&"publicKey"in G&&"object"===_typeof3(G)&&G.publicKey&&"toBase58"in G.publicKey&&"function"==typeof G.publicKey.toBase58){Q.n=14;break}throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");case 14:return L=["".concat(V.host," wants you to sign in with your Solana account:"),G.publicKey.toBase58()].concat(_toConsumableArray3(q?["",q,""]:[""]),["Version: 1","URI: ".concat(V.href),"Issued At: ".concat(null!==(k=null===(_=null==z?void 0:z.signInWithSolana)||void 0===_?void 0:_.issuedAt)&&void 0!==k?k:(new Date).toISOString())],_toConsumableArray3((null===(S=null==z?void 0:z.signInWithSolana)||void 0===S?void 0:S.notBefore)?["Not Before: ".concat(z.signInWithSolana.notBefore)]:[]),_toConsumableArray3((null===(E=null==z?void 0:z.signInWithSolana)||void 0===E?void 0:E.expirationTime)?["Expiration Time: ".concat(z.signInWithSolana.expirationTime)]:[]),_toConsumableArray3((null===(T=null==z?void 0:z.signInWithSolana)||void 0===T?void 0:T.chainId)?["Chain ID: ".concat(z.signInWithSolana.chainId)]:[]),_toConsumableArray3((null===(O=null==z?void 0:z.signInWithSolana)||void 0===O?void 0:O.nonce)?["Nonce: ".concat(z.signInWithSolana.nonce)]:[]),_toConsumableArray3((null===(I=null==z?void 0:z.signInWithSolana)||void 0===I?void 0:I.requestId)?["Request ID: ".concat(z.signInWithSolana.requestId)]:[]),_toConsumableArray3((null===(M=null===(R=null==z?void 0:z.signInWithSolana)||void 0===R?void 0:R.resources)||void 0===M?void 0:M.length)?["Resources"].concat(_toConsumableArray3(z.signInWithSolana.resources.map(function(e){return"- ".concat(e)}))):[])).join("\n"),Q.n=15,G.signMessage((new TextEncoder).encode(L),"utf8");case 15:if(($=Q.v)&&$ instanceof Uint8Array){Q.n=16;break}throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");case 16:U=$;case 17:return Q.p=17,Q.n=18,_request(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:L,signature:bytesToBase64URL(U)},(null===(j=e.options)||void 0===j?void 0:j.captchaToken)?{gotrue_meta_security:{captcha_token:null===(D=e.options)||void 0===D?void 0:D.captchaToken}}:null),xform:_sessionResponse});case 18:if(J=Q.v,Y=J.data,!(X=J.error)){Q.n=19;break}throw X;case 19:if(Y&&Y.session&&Y.user){Q.n=20;break}return Q.a(2,{data:{user:null,session:null},error:new Mo});case 20:if(!Y.session){Q.n=22;break}return Q.n=21,this._saveSession(Y.session);case 21:return Q.n=22,this._notifyAllSubscribers("SIGNED_IN",Y.session);case 22:return Q.a(2,{data:Object.assign({},Y),error:X});case 23:if(Q.p=23,!isAuthError(Z=Q.v)){Q.n=24;break}return Q.a(2,{data:{user:null,session:null},error:Z});case 24:throw Z;case 25:return Q.a(2)}},_callee115,this,[[17,23]])})),function(e){return Te.apply(this,arguments)})},{key:"_exchangeCodeForSession",value:(Ee=_asyncToGenerator(_regenerator().m(function _callee116(e){var l,_,k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:return M.n=1,Vo(this.storage,"".concat(this.storageKey,"-code-verifier"));case 1:return l=M.v,_=(null!=l?l:"").split("/"),k=_slicedToArray(_,2),S=k[0],E=k[1],M.p=2,M.n=3,_request(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:S},xform:_sessionResponse});case 3:return T=M.v,O=T.data,I=T.error,M.n=4,Ko(this.storage,"".concat(this.storageKey,"-code-verifier"));case 4:if(!I){M.n=5;break}throw I;case 5:if(O&&O.session&&O.user){M.n=6;break}return M.a(2,{data:{user:null,session:null,redirectType:null},error:new Mo});case 6:if(!O.session){M.n=8;break}return M.n=7,this._saveSession(O.session);case 7:return M.n=8,this._notifyAllSubscribers("SIGNED_IN",O.session);case 8:return M.a(2,{data:Object.assign(Object.assign({},O),{redirectType:null!=E?E:null}),error:I});case 9:if(M.p=9,!isAuthError(R=M.v)){M.n=10;break}return M.a(2,{data:{user:null,session:null,redirectType:null},error:R});case 10:throw R;case 11:return M.a(2)}},_callee116,this,[[2,9]])})),function(e){return Ee.apply(this,arguments)})},{key:"signInWithIdToken",value:(Ce=_asyncToGenerator(_regenerator().m(function _callee117(e){var l,_,k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:return M.p=0,l=e.options,_=e.provider,k=e.token,S=e.access_token,E=e.nonce,M.n=1,_request(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:_,id_token:k,access_token:S,nonce:E,gotrue_meta_security:{captcha_token:null==l?void 0:l.captchaToken}},xform:_sessionResponse});case 1:if(T=M.v,O=T.data,!(I=T.error)){M.n=2;break}return M.a(2,{data:{user:null,session:null},error:I});case 2:if(O&&O.session&&O.user){M.n=3;break}return M.a(2,{data:{user:null,session:null},error:new Mo});case 3:if(!O.session){M.n=5;break}return M.n=4,this._saveSession(O.session);case 4:return M.n=5,this._notifyAllSubscribers("SIGNED_IN",O.session);case 5:return M.a(2,{data:O,error:I});case 6:if(M.p=6,!isAuthError(R=M.v)){M.n=7;break}return M.a(2,{data:{user:null,session:null},error:R});case 7:throw R;case 8:return M.a(2)}},_callee117,this,[[0,6]])})),function(e){return Ce.apply(this,arguments)})},{key:"signInWithOtp",value:(Se=_asyncToGenerator(_regenerator().m(function _callee118(e){var l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W;return _regenerator().w(function(V){for(;;)switch(V.p=V.n){case 0:if(V.p=0,!("email"in e)){V.n=4;break}if(T=e.email,O=e.options,I=null,R=null,"pkce"!==this.flowType){V.n=2;break}return V.n=1,getCodeChallengeAndMethod(this.storage,this.storageKey);case 1:M=V.v,j=_slicedToArray(M,2),I=j[0],R=j[1];case 2:return V.n=3,_request(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:T,data:null!==(l=null==O?void 0:O.data)&&void 0!==l?l:{},create_user:null===(_=null==O?void 0:O.shouldCreateUser)||void 0===_||_,gotrue_meta_security:{captcha_token:null==O?void 0:O.captchaToken},code_challenge:I,code_challenge_method:R},redirectTo:null==O?void 0:O.emailRedirectTo});case 3:return D=V.v,L=D.error,V.a(2,{data:{user:null,session:null},error:L});case 4:if(!("phone"in e)){V.n=6;break}return U=e.phone,B=e.options,V.n=5,_request(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:U,data:null!==(k=null==B?void 0:B.data)&&void 0!==k?k:{},create_user:null===(S=null==B?void 0:B.shouldCreateUser)||void 0===S||S,gotrue_meta_security:{captcha_token:null==B?void 0:B.captchaToken},channel:null!==(E=null==B?void 0:B.channel)&&void 0!==E?E:"sms"}});case 5:return q=V.v,z=q.data,G=q.error,V.a(2,{data:{user:null,session:null,messageId:null==z?void 0:z.message_id},error:G});case 6:throw new jo("You must provide either an email or phone number.");case 7:if(V.p=7,!isAuthError(W=V.v)){V.n=8;break}return V.a(2,{data:{user:null,session:null},error:W});case 8:throw W;case 9:return V.a(2)}},_callee118,this,[[0,7]])})),function(e){return Se.apply(this,arguments)})},{key:"verifyOtp",value:(we=_asyncToGenerator(_regenerator().m(function _callee119(e){var l,_,k,S,E,T,O,I,R,M;return _regenerator().w(function(j){for(;;)switch(j.p=j.n){case 0:return j.p=0,k=void 0,S=void 0,"options"in e&&(k=null===(l=e.options)||void 0===l?void 0:l.redirectTo,S=null===(_=e.options)||void 0===_?void 0:_.captchaToken),j.n=1,_request(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:S}}),redirectTo:k,xform:_sessionResponse});case 1:if(E=j.v,T=E.data,!(O=E.error)){j.n=2;break}throw O;case 2:if(T){j.n=3;break}throw new Error("An error occurred on token verification.");case 3:if(I=T.session,R=T.user,!(null==I?void 0:I.access_token)){j.n=5;break}return j.n=4,this._saveSession(I);case 4:return j.n=5,this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",I);case 5:return j.a(2,{data:{user:R,session:I},error:null});case 6:if(j.p=6,!isAuthError(M=j.v)){j.n=7;break}return j.a(2,{data:{user:null,session:null},error:M});case 7:throw M;case 8:return j.a(2)}},_callee119,this,[[0,6]])})),function(e){return we.apply(this,arguments)})},{key:"signInWithSSO",value:(ke=_asyncToGenerator(_regenerator().m(function _callee120(e){var l,_,k,S,E,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.p=R.n){case 0:if(R.p=0,S=null,E=null,"pkce"!==this.flowType){R.n=2;break}return R.n=1,getCodeChallengeAndMethod(this.storage,this.storageKey);case 1:T=R.v,O=_slicedToArray(T,2),S=O[0],E=O[1];case 2:return R.n=3,_request(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(_=null===(l=e.options)||void 0===l?void 0:l.redirectTo)&&void 0!==_?_:void 0}),(null===(k=null==e?void 0:e.options)||void 0===k?void 0:k.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:S,code_challenge_method:E}),headers:this.headers,xform:_ssoResponse});case 3:return R.a(2,R.v);case 4:if(R.p=4,!isAuthError(I=R.v)){R.n=5;break}return R.a(2,{data:null,error:I});case 5:throw I;case 6:return R.a(2)}},_callee120,this,[[0,4]])})),function(e){return ke.apply(this,arguments)})},{key:"reauthenticate",value:(be=_asyncToGenerator(_regenerator().m(function _callee122(){var e=this;return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,this.initializePromise;case 1:return l.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee121(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,e._reauthenticate();case 1:return l.a(2,l.v)}},_callee121)})));case 2:return l.a(2,l.v)}},_callee122,this)})),function(){return be.apply(this,arguments)})},{key:"_reauthenticate",value:(_e=_asyncToGenerator(_regenerator().m(function _callee124(){var e,l=this;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,_.n=1,this._useSession(function(){var e=_asyncToGenerator(_regenerator().m(function _callee123(e){var _,k,S,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:if(_=e.data.session,!(k=e.error)){T.n=1;break}throw k;case 1:if(_){T.n=2;break}throw new Po;case 2:return T.n=3,_request(l.fetch,"GET","".concat(l.url,"/reauthenticate"),{headers:l.headers,jwt:_.access_token});case 3:return S=T.v,E=S.error,T.a(2,{data:{user:null,session:null},error:E})}},_callee123)}));return function(l){return e.apply(this,arguments)}}());case 1:return _.a(2,_.v);case 2:if(_.p=2,!isAuthError(e=_.v)){_.n=3;break}return _.a(2,{data:{user:null,session:null},error:e});case 3:throw e;case 4:return _.a(2)}},_callee124,this,[[0,2]])})),function(){return _e.apply(this,arguments)})},{key:"resend",value:(ye=_asyncToGenerator(_regenerator().m(function _callee125(e){var l,_,k,S,E,T,O,I,R,M,j,D,L;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:if(U.p=0,l="".concat(this.url,"/resend"),!("email"in e)){U.n=2;break}return _=e.email,k=e.type,S=e.options,U.n=1,_request(this.fetch,"POST",l,{headers:this.headers,body:{email:_,type:k,gotrue_meta_security:{captcha_token:null==S?void 0:S.captchaToken}},redirectTo:null==S?void 0:S.emailRedirectTo});case 1:return E=U.v,T=E.error,U.a(2,{data:{user:null,session:null},error:T});case 2:if(!("phone"in e)){U.n=4;break}return O=e.phone,I=e.type,R=e.options,U.n=3,_request(this.fetch,"POST",l,{headers:this.headers,body:{phone:O,type:I,gotrue_meta_security:{captcha_token:null==R?void 0:R.captchaToken}}});case 3:return M=U.v,j=M.data,D=M.error,U.a(2,{data:{user:null,session:null,messageId:null==j?void 0:j.message_id},error:D});case 4:throw new jo("You must provide either an email or phone number and a type");case 5:if(U.p=5,!isAuthError(L=U.v)){U.n=6;break}return U.a(2,{data:{user:null,session:null},error:L});case 6:throw L;case 7:return U.a(2)}},_callee125,this,[[0,5]])})),function(e){return ye.apply(this,arguments)})},{key:"getSession",value:(me=_asyncToGenerator(_regenerator().m(function _callee128(){var e,l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this.initializePromise;case 1:return _.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee127(){return _regenerator().w(function(e){for(;;)if(0===e.n)return e.a(2,l._useSession(function(){var e=_asyncToGenerator(_regenerator().m(function _callee126(e){return _regenerator().w(function(l){for(;;)if(0===l.n)return l.a(2,e)},_callee126)}));return function(l){return e.apply(this,arguments)}}()))},_callee127)})));case 2:return e=_.v,_.a(2,e)}},_callee128,this)})),function(){return me.apply(this,arguments)})},{key:"_acquireLock",value:(ge=_asyncToGenerator(_regenerator().m(function _callee133(e,l){var _,k,S=this;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:if(this._debug("#_acquireLock","begin",e),E.p=1,!this.lockAcquired){E.n=2;break}return _=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),k=_asyncToGenerator(_regenerator().m(function _callee129(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_;case 1:return e.n=2,l();case 2:return e.a(2,e.v)}},_callee129)}))(),this.pendingInLock.push(_asyncToGenerator(_regenerator().m(function _callee130(){return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k;case 1:e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},_callee130,null,[[0,2]])}))()),E.a(2,k);case 2:return E.n=3,this.lock("lock:".concat(this.storageKey),e,_asyncToGenerator(_regenerator().m(function _callee132(){var e,_;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return S._debug("#_acquireLock","lock acquired for storage key",S.storageKey),k.p=1,S.lockAcquired=!0,e=l(),S.pendingInLock.push(_asyncToGenerator(_regenerator().m(function _callee131(){return _regenerator().w(function(l){for(;;)switch(l.p=l.n){case 0:return l.p=0,l.n=1,e;case 1:l.n=3;break;case 2:l.p=2,l.v;case 3:return l.a(2)}},_callee131,null,[[0,2]])}))()),k.n=2,e;case 2:if(!S.pendingInLock.length){k.n=4;break}return _=_toConsumableArray3(S.pendingInLock),k.n=3,Promise.all(_);case 3:S.pendingInLock.splice(0,_.length),k.n=2;break;case 4:return k.n=5,e;case 5:return k.a(2,k.v);case 6:return k.p=6,S._debug("#_acquireLock","lock released for storage key",S.storageKey),S.lockAcquired=!1,k.f(6);case 7:return k.a(2)}},_callee132,null,[[1,,6,7]])})));case 3:return E.a(2,E.v);case 4:return E.p=4,this._debug("#_acquireLock","end"),E.f(4);case 5:return E.a(2)}},_callee133,this,[[1,,4,5]])})),function(e,l){return ge.apply(this,arguments)})},{key:"_useSession",value:(ve=_asyncToGenerator(_regenerator().m(function _callee134(e){var l;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return this._debug("#_useSession","begin"),_.p=1,_.n=2,this.__loadSession();case 2:return l=_.v,_.n=3,e(l);case 3:return _.a(2,_.v);case 4:return _.p=4,this._debug("#_useSession","end"),_.f(4);case 5:return _.a(2)}},_callee134,this,[[1,,4,5]])})),function(e){return ve.apply(this,arguments)})},{key:"__loadSession",value:(pe=_asyncToGenerator(_regenerator().m(function _callee135(){var e,l,_,k,S,E,T,O,I,R=this;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:return this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack),M.p=1,e=null,M.n=2,Vo(this.storage,this.storageKey);case 2:if(l=M.v,this._debug("#getSession()","session from storage",l),null===l){M.n=4;break}if(!this._isValidSession(l)){M.n=3;break}e=l,M.n=4;break;case 3:return this._debug("#getSession()","session from storage is not valid"),M.n=4,this._removeSession();case 4:if(e){M.n=5;break}return M.a(2,{data:{session:null},error:null});case 5:if(_=!!e.expires_at&&1e3*e.expires_at-Date.now()<So,this._debug("#__loadSession()","session has".concat(_?"":" not"," expired"),"expires_at",e.expires_at),_){M.n=8;break}if(!this.userStorage){M.n=7;break}return M.n=6,Vo(this.userStorage,this.storageKey+"-user");case 6:(null==(k=M.v)?void 0:k.user)?e.user=k.user:e.user=userNotAvailableProxy();case 7:return this.storage.isServer&&e.user&&(S=this.suppressGetSessionWarning,E=new Proxy(e,{get:function(e,l,_){return S||"user"!==l||(S=!0,R.suppressGetSessionWarning=!0),Reflect.get(e,l,_)}}),e=E),M.a(2,{data:{session:e},error:null});case 8:return M.n=9,this._callRefreshToken(e.refresh_token);case 9:if(T=M.v,O=T.data,!(I=T.error)){M.n=10;break}return M.a(2,{data:{session:null},error:I});case 10:return M.a(2,{data:{session:O},error:null});case 11:return M.p=11,this._debug("#__loadSession()","end"),M.f(11);case 12:return M.a(2)}},_callee135,this,[[1,,11,12]])})),function(){return pe.apply(this,arguments)})},{key:"getUser",value:(fe=_asyncToGenerator(_regenerator().m(function _callee137(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:if(!e){k.n=2;break}return k.n=1,this._getUser(e);case 1:return k.a(2,k.v);case 2:return k.n=3,this.initializePromise;case 3:return k.n=4,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee136(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_._getUser();case 1:return e.a(2,e.v)}},_callee136)})));case 4:return l=k.v,k.a(2,l)}},_callee137,this)})),function(e){return fe.apply(this,arguments)})},{key:"_getUser",value:(de=_asyncToGenerator(_regenerator().m(function _callee139(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:if(k.p=0,!e){k.n=2;break}return k.n=1,_request(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:_userResponse});case 1:case 3:return k.a(2,k.v);case 2:return k.n=3,this._useSession(function(){var e=_asyncToGenerator(_regenerator().m(function _callee138(e){var l,k,S,E,T;return _regenerator().w(function(O){for(;;)switch(O.n){case 0:if(E=e.data,!(T=e.error)){O.n=1;break}throw T;case 1:if((null===(l=E.session)||void 0===l?void 0:l.access_token)||_.hasCustomAuthorizationHeader){O.n=2;break}return O.a(2,{data:{user:null},error:new Po});case 2:return O.n=3,_request(_.fetch,"GET","".concat(_.url,"/user"),{headers:_.headers,jwt:null!==(S=null===(k=E.session)||void 0===k?void 0:k.access_token)&&void 0!==S?S:void 0,xform:_userResponse});case 3:return O.a(2,O.v)}},_callee138)}));return function(l){return e.apply(this,arguments)}}());case 4:if(k.p=4,!isAuthError(l=k.v)){k.n=7;break}if(!isAuthSessionMissingError(l)){k.n=6;break}return k.n=5,this._removeSession();case 5:return k.n=6,Ko(this.storage,"".concat(this.storageKey,"-code-verifier"));case 6:return k.a(2,{data:{user:null},error:l});case 7:throw l;case 8:return k.a(2)}},_callee139,this,[[0,4]])})),function(e){return de.apply(this,arguments)})},{key:"updateUser",value:(he=_asyncToGenerator(_regenerator().m(function _callee141(e){var l,_=this,k=arguments;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:return l=k.length>1&&void 0!==k[1]?k[1]:{},S.n=1,this.initializePromise;case 1:return S.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee140(){return _regenerator().w(function(k){for(;;)switch(k.n){case 0:return k.n=1,_._updateUser(e,l);case 1:return k.a(2,k.v)}},_callee140)})));case 2:return S.a(2,S.v)}},_callee141,this)})),function(e){return he.apply(this,arguments)})},{key:"_updateUser",value:(ce=_asyncToGenerator(_regenerator().m(function _callee143(e){var l,_,k=this,S=arguments;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return l=S.length>1&&void 0!==S[1]?S[1]:{},E.p=1,E.n=2,this._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee142(_){var S,E,T,O,I,R,M,j,D,L;return _regenerator().w(function(U){for(;;)switch(U.n){case 0:if(S=_.data,!(E=_.error)){U.n=1;break}throw E;case 1:if(S.session){U.n=2;break}throw new Po;case 2:if(T=S.session,O=null,I=null,"pkce"!==k.flowType||null==e.email){U.n=4;break}return U.n=3,getCodeChallengeAndMethod(k.storage,k.storageKey);case 3:R=U.v,M=_slicedToArray(R,2),O=M[0],I=M[1];case 4:return U.n=5,_request(k.fetch,"PUT","".concat(k.url,"/user"),{headers:k.headers,redirectTo:null==l?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:O,code_challenge_method:I}),jwt:T.access_token,xform:_userResponse});case 5:if(j=U.v,D=j.data,!(L=j.error)){U.n=6;break}throw L;case 6:return T.user=D.user,U.n=7,k._saveSession(T);case 7:return U.n=8,k._notifyAllSubscribers("USER_UPDATED",T);case 8:return U.a(2,{data:{user:T.user},error:null})}},_callee142)}));return function(e){return _.apply(this,arguments)}}());case 2:return E.a(2,E.v);case 3:if(E.p=3,!isAuthError(_=E.v)){E.n=4;break}return E.a(2,{data:{user:null},error:_});case 4:throw _;case 5:return E.a(2)}},_callee143,this,[[1,3]])})),function(e){return ce.apply(this,arguments)})},{key:"setSession",value:(le=_asyncToGenerator(_regenerator().m(function _callee145(e){var l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this.initializePromise;case 1:return _.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee144(){return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,l._setSession(e);case 1:return _.a(2,_.v)}},_callee144)})));case 2:return _.a(2,_.v)}},_callee145,this)})),function(e){return le.apply(this,arguments)})},{key:"_setSession",value:(ue=_asyncToGenerator(_regenerator().m(function _callee146(e){var l,_,k,S,E,T,O,I,R,M,j,D,L;return _regenerator().w(function(U){for(;;)switch(U.p=U.n){case 0:if(U.p=0,e.access_token&&e.refresh_token){U.n=1;break}throw new Po;case 1:if(l=Date.now()/1e3,_=l,k=!0,S=null,E=decodeJWT(e.access_token),(T=E.payload).exp&&(_=T.exp,k=_<=l),!k){U.n=5;break}return U.n=2,this._callRefreshToken(e.refresh_token);case 2:if(O=U.v,I=O.data,!(R=O.error)){U.n=3;break}return U.a(2,{data:{user:null,session:null},error:R});case 3:if(I){U.n=4;break}return U.a(2,{data:{user:null,session:null},error:null});case 4:S=I,U.n=9;break;case 5:return U.n=6,this._getUser(e.access_token);case 6:if(M=U.v,j=M.data,!(D=M.error)){U.n=7;break}throw D;case 7:return S={access_token:e.access_token,refresh_token:e.refresh_token,user:j.user,token_type:"bearer",expires_in:_-l,expires_at:_},U.n=8,this._saveSession(S);case 8:return U.n=9,this._notifyAllSubscribers("SIGNED_IN",S);case 9:return U.a(2,{data:{user:S.user,session:S},error:null});case 10:if(U.p=10,!isAuthError(L=U.v)){U.n=11;break}return U.a(2,{data:{session:null,user:null},error:L});case 11:throw L;case 12:return U.a(2)}},_callee146,this,[[0,10]])})),function(e){return ue.apply(this,arguments)})},{key:"refreshSession",value:(se=_asyncToGenerator(_regenerator().m(function _callee148(e){var l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this.initializePromise;case 1:return _.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee147(){return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,l._refreshSession(e);case 1:return _.a(2,_.v)}},_callee147)})));case 2:return _.a(2,_.v)}},_callee148,this)})),function(e){return se.apply(this,arguments)})},{key:"_refreshSession",value:(oe=_asyncToGenerator(_regenerator().m(function _callee150(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,this._useSession(function(){var l=_asyncToGenerator(_regenerator().m(function _callee149(l){var k,S,E,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.n){case 0:if(e){R.n=2;break}if(S=l.data,!(E=l.error)){R.n=1;break}throw E;case 1:e=null!==(k=S.session)&&void 0!==k?k:void 0;case 2:if(null==e?void 0:e.refresh_token){R.n=3;break}throw new Po;case 3:return R.n=4,_._callRefreshToken(e.refresh_token);case 4:if(T=R.v,O=T.data,!(I=T.error)){R.n=5;break}return R.a(2,{data:{user:null,session:null},error:I});case 5:if(O){R.n=6;break}return R.a(2,{data:{user:null,session:null},error:null});case 6:return R.a(2,{data:{user:O.user,session:O},error:null})}},_callee149)}));return function(e){return l.apply(this,arguments)}}());case 1:return k.a(2,k.v);case 2:if(k.p=2,!isAuthError(l=k.v)){k.n=3;break}return k.a(2,{data:{user:null,session:null},error:l});case 3:throw l;case 4:return k.a(2)}},_callee150,this,[[0,2]])})),function(e){return oe.apply(this,arguments)})},{key:"_getSessionFromURL",value:(ae=_asyncToGenerator(_regenerator().m(function _callee151(e,l){var _,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K;return _regenerator().w(function(H){for(;;)switch(H.p=H.n){case 0:if(H.p=0,isBrowser()){H.n=1;break}throw new Do("No browser detected.");case 1:if(!(e.error||e.error_description||e.error_code)){H.n=2;break}throw new Do(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});case 2:V=l,H.n="implicit"===V?3:"pkce"===V?5:7;break;case 3:if("pkce"!==this.flowType){H.n=4;break}throw new Fo("Not a valid PKCE flow url.");case 4:case 6:return H.a(3,7);case 5:if("implicit"!==this.flowType){H.n=6;break}throw new Do("Not a valid implicit grant flow url.");case 7:if("pkce"!==l){H.n=11;break}if(this._debug("#_initialize()","begin","is PKCE flow",!0),e.code){H.n=8;break}throw new Fo("No code detected.");case 8:return H.n=9,this._exchangeCodeForSession(e.code);case 9:if(_=H.v,k=_.data,!(S=_.error)){H.n=10;break}throw S;case 10:return(E=new URL(window.location.href)).searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),H.a(2,{data:{session:k.session,redirectType:null},error:null});case 11:if(T=e.provider_token,O=e.provider_refresh_token,I=e.access_token,R=e.refresh_token,M=e.expires_in,j=e.expires_at,D=e.token_type,I&&M&&R&&D){H.n=12;break}throw new Do("No session defined in URL");case 12:return L=Math.round(Date.now()/1e3),U=parseInt(M),B=L+U,j&&(B=parseInt(j)),H.n=13,this._getUser(I);case 13:if(q=H.v,z=q.data,!(G=q.error)){H.n=14;break}throw G;case 14:return W={provider_token:T,provider_refresh_token:O,access_token:I,expires_in:U,expires_at:B,refresh_token:R,token_type:D,user:z.user},window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),H.a(2,{data:{session:W,redirectType:e.type},error:null});case 15:if(H.p=15,!isAuthError(K=H.v)){H.n=16;break}return H.a(2,{data:{session:null,redirectType:null},error:K});case 16:throw K;case 17:return H.a(2)}},_callee151,this,[[0,15]])})),function(e,l){return ae.apply(this,arguments)})},{key:"_isImplicitGrantCallback",value:function(e){return Boolean(e.access_token||e.error_description)}},{key:"_isPKCECallback",value:(ie=_asyncToGenerator(_regenerator().m(function _callee152(e){var l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,Vo(this.storage,"".concat(this.storageKey,"-code-verifier"));case 1:return l=_.v,_.a(2,!(!e.code||!l))}},_callee152,this)})),function(e){return ie.apply(this,arguments)})},{key:"signOut",value:(ne=_asyncToGenerator(_regenerator().m(function _callee154(){var e,l=this,_=arguments;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:return e=_.length>0&&void 0!==_[0]?_[0]:{scope:"global"},k.n=1,this.initializePromise;case 1:return k.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee153(){return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,l._signOut(e);case 1:return _.a(2,_.v)}},_callee153)})));case 2:return k.a(2,k.v)}},_callee154,this)})),function(){return ne.apply(this,arguments)})},{key:"_signOut",value:(re=_asyncToGenerator(_regenerator().m(function _callee156(){var e,l=this,_=arguments;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:return e=(_.length>0&&void 0!==_[0]?_[0]:{scope:"global"}).scope,k.n=1,this._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee155(_){var k,S,E,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.n){case 0:if(S=_.data,!(E=_.error)){R.n=1;break}return R.a(2,{error:E});case 1:if(!(T=null===(k=S.session)||void 0===k?void 0:k.access_token)){R.n=3;break}return R.n=2,l.admin.signOut(T,e);case 2:if(O=R.v,!(I=O.error)){R.n=3;break}if(isAuthApiError(I)&&(404===I.status||401===I.status||403===I.status)){R.n=3;break}return R.a(2,{error:I});case 3:if("others"===e){R.n=5;break}return R.n=4,l._removeSession();case 4:return R.n=5,Ko(l.storage,"".concat(l.storageKey,"-code-verifier"));case 5:return R.a(2,{error:null})}},_callee155)}));return function(e){return _.apply(this,arguments)}}());case 1:return k.a(2,k.v)}},_callee156,this)})),function(){return re.apply(this,arguments)})},{key:"onAuthStateChange",value:function(e){var l=this,_="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var l=16*Math.random()|0;return("x"==e?l:3&l|8).toString(16)}),k={id:_,callback:e,unsubscribe:function(){l._debug("#unsubscribe()","state change callback with id removed",_),l.stateChangeEmitters.delete(_)}};return this._debug("#onAuthStateChange()","registered callback with id",_),this.stateChangeEmitters.set(_,k),_asyncToGenerator(_regenerator().m(function _callee158(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l.initializePromise;case 1:return e.n=2,l._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee157(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:l._emitInitialSession(_);case 1:return e.a(2)}},_callee157)})));case 2:return e.a(2)}},_callee158)}))(),{data:{subscription:k}}}},{key:"_emitInitialSession",value:(te=_asyncToGenerator(_regenerator().m(function _callee160(e){var l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee159(_){var k,S,E,T,O;return _regenerator().w(function(I){for(;;)switch(I.p=I.n){case 0:if(I.p=0,E=_.data.session,!(T=_.error)){I.n=1;break}throw T;case 1:return I.n=2,null===(k=l.stateChangeEmitters.get(e))||void 0===k?void 0:k.callback("INITIAL_SESSION",E);case 2:l._debug("INITIAL_SESSION","callback id",e,"session",E),I.n=5;break;case 3:return I.p=3,O=I.v,I.n=4,null===(S=l.stateChangeEmitters.get(e))||void 0===S?void 0:S.callback("INITIAL_SESSION",null);case 4:l._debug("INITIAL_SESSION","callback id",e,"error",O);case 5:return I.a(2)}},_callee159,null,[[0,3]])}));return function(e){return _.apply(this,arguments)}}());case 1:return _.a(2,_.v)}},_callee160,this)})),function(e){return te.apply(this,arguments)})},{key:"resetPasswordForEmail",value:(ee=_asyncToGenerator(_regenerator().m(function _callee161(e){var l,_,k,S,E,T,O=arguments;return _regenerator().w(function(I){for(;;)switch(I.p=I.n){case 0:if(l=O.length>1&&void 0!==O[1]?O[1]:{},_=null,k=null,"pkce"!==this.flowType){I.n=2;break}return I.n=1,getCodeChallengeAndMethod(this.storage,this.storageKey,!0);case 1:S=I.v,E=_slicedToArray(S,2),_=E[0],k=E[1];case 2:return I.p=2,I.n=3,_request(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:_,code_challenge_method:k,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo});case 3:return I.a(2,I.v);case 4:if(I.p=4,!isAuthError(T=I.v)){I.n=5;break}return I.a(2,{data:null,error:T});case 5:throw T;case 6:return I.a(2)}},_callee161,this,[[2,4]])})),function(e){return ee.apply(this,arguments)})},{key:"getUserIdentities",value:(Q=_asyncToGenerator(_regenerator().m(function _callee162(){var e,l,_,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,this.getUser();case 1:if(l=E.v,_=l.data,!(k=l.error)){E.n=2;break}throw k;case 2:return E.a(2,{data:{identities:null!==(e=_.user.identities)&&void 0!==e?e:[]},error:null});case 3:if(E.p=3,!isAuthError(S=E.v)){E.n=4;break}return E.a(2,{data:null,error:S});case 4:throw S;case 5:return E.a(2)}},_callee162,this,[[0,3]])})),function(){return Q.apply(this,arguments)})},{key:"linkIdentity",value:(Z=_asyncToGenerator(_regenerator().m(function _callee163(e){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:if(!("token"in e)){l.n=1;break}return l.a(2,this.linkIdentityIdToken(e));case 1:return l.a(2,this.linkIdentityOAuth(e))}},_callee163,this)})),function(e){return Z.apply(this,arguments)})},{key:"linkIdentityOAuth",value:(X=_asyncToGenerator(_regenerator().m(function _callee165(e){var l,_,k,S,E,T=this;return _regenerator().w(function(O){for(;;)switch(O.p=O.n){case 0:return O.p=0,O.n=1,this._useSession(function(){var l=_asyncToGenerator(_regenerator().m(function _callee164(l){var _,k,S,E,O,I,R,M;return _regenerator().w(function(j){for(;;)switch(j.n){case 0:if(I=l.data,!(R=l.error)){j.n=1;break}throw R;case 1:return j.n=2,T._getUrlForProvider("".concat(T.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(_=e.options)||void 0===_?void 0:_.redirectTo,scopes:null===(k=e.options)||void 0===k?void 0:k.scopes,queryParams:null===(S=e.options)||void 0===S?void 0:S.queryParams,skipBrowserRedirect:!0});case 2:return M=j.v,j.n=3,_request(T.fetch,"GET",M,{headers:T.headers,jwt:null!==(O=null===(E=I.session)||void 0===E?void 0:E.access_token)&&void 0!==O?O:void 0});case 3:return j.a(2,j.v)}},_callee164)}));return function(e){return l.apply(this,arguments)}}());case 1:if(_=O.v,k=_.data,!(S=_.error)){O.n=2;break}throw S;case 2:return isBrowser()&&!(null===(l=e.options)||void 0===l?void 0:l.skipBrowserRedirect)&&window.location.assign(null==k?void 0:k.url),O.a(2,{data:{provider:e.provider,url:null==k?void 0:k.url},error:null});case 3:if(O.p=3,!isAuthError(E=O.v)){O.n=4;break}return O.a(2,{data:{provider:e.provider,url:null},error:E});case 4:throw E;case 5:return O.a(2)}},_callee165,this,[[0,3]])})),function(e){return X.apply(this,arguments)})},{key:"linkIdentityIdToken",value:(Y=_asyncToGenerator(_regenerator().m(function _callee167(e){var l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee166(_){var k,S,E,T,O,I,R,M,j,D,L,U;return _regenerator().w(function(B){for(;;)switch(B.p=B.n){case 0:if(B.p=0,S=_.error,E=_.data.session,!S){B.n=1;break}throw S;case 1:return T=e.options,O=e.provider,I=e.token,R=e.access_token,M=e.nonce,B.n=2,_request(l.fetch,"POST","".concat(l.url,"/token?grant_type=id_token"),{headers:l.headers,jwt:null!==(k=null==E?void 0:E.access_token)&&void 0!==k?k:void 0,body:{provider:O,id_token:I,access_token:R,nonce:M,link_identity:!0,gotrue_meta_security:{captcha_token:null==T?void 0:T.captchaToken}},xform:_sessionResponse});case 2:if(j=B.v,D=j.data,!(L=j.error)){B.n=3;break}return B.a(2,{data:{user:null,session:null},error:L});case 3:if(D&&D.session&&D.user){B.n=4;break}return B.a(2,{data:{user:null,session:null},error:new Mo});case 4:if(!D.session){B.n=6;break}return B.n=5,l._saveSession(D.session);case 5:return B.n=6,l._notifyAllSubscribers("USER_UPDATED",D.session);case 6:return B.a(2,{data:D,error:L});case 7:if(B.p=7,!isAuthError(U=B.v)){B.n=8;break}return B.a(2,{data:{user:null,session:null},error:U});case 8:throw U;case 9:return B.a(2)}},_callee166,null,[[0,7]])}));return function(e){return _.apply(this,arguments)}}());case 1:return _.a(2,_.v)}},_callee167,this)})),function(e){return Y.apply(this,arguments)})},{key:"unlinkIdentity",value:(J=_asyncToGenerator(_regenerator().m(function _callee169(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,this._useSession(function(){var l=_asyncToGenerator(_regenerator().m(function _callee168(l){var k,S,E,T;return _regenerator().w(function(O){for(;;)switch(O.n){case 0:if(E=l.data,!(T=l.error)){O.n=1;break}throw T;case 1:return O.n=2,_request(_.fetch,"DELETE","".concat(_.url,"/user/identities/").concat(e.identity_id),{headers:_.headers,jwt:null!==(S=null===(k=E.session)||void 0===k?void 0:k.access_token)&&void 0!==S?S:void 0});case 2:return O.a(2,O.v)}},_callee168)}));return function(e){return l.apply(this,arguments)}}());case 1:return k.a(2,k.v);case 2:if(k.p=2,!isAuthError(l=k.v)){k.n=3;break}return k.a(2,{data:null,error:l});case 3:throw l;case 4:return k.a(2)}},_callee169,this,[[0,2]])})),function(e){return J.apply(this,arguments)})},{key:"_refreshAccessToken",value:($=_asyncToGenerator(_regenerator().m(function _callee171(e){var l,_,k,S=this;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return l="#_refreshAccessToken(".concat(e.substring(0,5),"...)"),this._debug(l,"begin"),E.p=1,_=Date.now(),E.n=2,retryable(function(){var _=_asyncToGenerator(_regenerator().m(function _callee170(_){return _regenerator().w(function(k){for(;;)switch(k.n){case 0:if(!(_>0)){k.n=1;break}return k.n=1,sleep(200*Math.pow(2,_-1));case 1:return S._debug(l,"refreshing attempt",_),k.n=2,_request(S.fetch,"POST","".concat(S.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:S.headers,xform:_sessionResponse});case 2:return k.a(2,k.v)}},_callee170)}));return function(e){return _.apply(this,arguments)}}(),function(e,l){var k=200*Math.pow(2,e);return l&&isAuthRetryableFetchError(l)&&Date.now()+k-_<wo});case 2:return E.a(2,E.v);case 3:if(E.p=3,k=E.v,this._debug(l,"error",k),!isAuthError(k)){E.n=4;break}return E.a(2,{data:{session:null,user:null},error:k});case 4:throw k;case 5:return E.p=5,this._debug(l,"end"),E.f(5);case 6:return E.a(2)}},_callee171,this,[[1,3,5,6]])})),function(e){return $.apply(this,arguments)})},{key:"_isValidSession",value:function(e){return"object"===_typeof3(e)&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}},{key:"_handleProviderSignIn",value:(H=_asyncToGenerator(_regenerator().m(function _callee172(e,l){var _;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:return k.n=1,this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});case 1:return _=k.v,this._debug("#_handleProviderSignIn()","provider",e,"options",l,"url",_),isBrowser()&&!l.skipBrowserRedirect&&window.location.assign(_),k.a(2,{data:{provider:e,url:_},error:null})}},_callee172,this)})),function(e,l){return H.apply(this,arguments)})},{key:"_recoverAndRefresh",value:(K=_asyncToGenerator(_regenerator().m(function _callee173(){var e,l,_,k,S,E,T,O,I,R,M,j,D;return _regenerator().w(function(L){for(;;)switch(L.p=L.n){case 0:return _="#_recoverAndRefresh()",this._debug(_,"begin"),L.p=1,L.n=2,Vo(this.storage,this.storageKey);case 2:if(!(k=L.v)||!this.userStorage){L.n=5;break}return L.n=3,Vo(this.userStorage,this.storageKey+"-user");case 3:if(S=L.v,this.storage.isServer||!Object.is(this.storage,this.userStorage)||S){L.n=4;break}return S={user:k.user},L.n=4,Wo(this.userStorage,this.storageKey+"-user",S);case 4:k.user=null!==(e=null==S?void 0:S.user)&&void 0!==e?e:userNotAvailableProxy(),L.n=10;break;case 5:if(!k||k.user){L.n=10;break}if(k.user){L.n=10;break}return L.n=6,Vo(this.storage,this.storageKey+"-user");case 6:if(!(E=L.v)||!(null==E?void 0:E.user)){L.n=9;break}return k.user=E.user,L.n=7,Ko(this.storage,this.storageKey+"-user");case 7:return L.n=8,Wo(this.storage,this.storageKey,k);case 8:L.n=10;break;case 9:k.user=userNotAvailableProxy();case 10:if(this._debug(_,"session from storage",k),this._isValidSession(k)){L.n=12;break}if(this._debug(_,"session is not valid"),null===k){L.n=11;break}return L.n=11,this._removeSession();case 11:return L.a(2);case 12:if(T=1e3*(null!==(l=k.expires_at)&&void 0!==l?l:1/0)-Date.now()<So,this._debug(_,"session has".concat(T?"":" not"," expired with margin of ").concat(So,"s")),!T){L.n=15;break}if(!this.autoRefreshToken||!k.refresh_token){L.n=14;break}return L.n=13,this._callRefreshToken(k.refresh_token);case 13:if(O=L.v,!(I=O.error)){L.n=14;break}if(isAuthRetryableFetchError(I)){L.n=14;break}return this._debug(_,"refresh failed with a non-retryable error, removing the session",I),L.n=14,this._removeSession();case 14:L.n=25;break;case 15:if(!k.user||!0!==k.user.__isUserNotAvailableProxy){L.n=24;break}return L.p=16,L.n=17,this._getUser(k.access_token);case 17:if(R=L.v,M=R.data,R.error||!(null==M?void 0:M.user)){L.n=20;break}return k.user=M.user,L.n=18,this._saveSession(k);case 18:return L.n=19,this._notifyAllSubscribers("SIGNED_IN",k);case 19:L.n=21;break;case 20:this._debug(_,"could not get user data, skipping SIGNED_IN notification");case 21:L.n=23;break;case 22:L.p=22,j=L.v,this._debug(_,"error getting user data, skipping SIGNED_IN notification",j);case 23:L.n=25;break;case 24:return L.n=25,this._notifyAllSubscribers("SIGNED_IN",k);case 25:L.n=27;break;case 26:return L.p=26,D=L.v,this._debug(_,"error",D),L.a(2);case 27:return L.p=27,this._debug(_,"end"),L.f(27);case 28:return L.a(2)}},_callee173,this,[[16,22],[1,26,27,28]])})),function(){return K.apply(this,arguments)})},{key:"_callRefreshToken",value:(V=_asyncToGenerator(_regenerator().m(function _callee174(e){var l,_,k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:if(e){M.n=1;break}throw new Po;case 1:if(!this.refreshingDeferred){M.n=2;break}return M.a(2,this.refreshingDeferred.promise);case 2:return k="#_callRefreshToken(".concat(e.substring(0,5),"...)"),this._debug(k,"begin"),M.p=3,this.refreshingDeferred=new Ho,M.n=4,this._refreshAccessToken(e);case 4:if(S=M.v,E=S.data,!(T=S.error)){M.n=5;break}throw T;case 5:if(E.session){M.n=6;break}throw new Po;case 6:return M.n=7,this._saveSession(E.session);case 7:return M.n=8,this._notifyAllSubscribers("TOKEN_REFRESHED",E.session);case 8:return O={data:E.session,error:null},this.refreshingDeferred.resolve(O),M.a(2,O);case 9:if(M.p=9,R=M.v,this._debug(k,"error",R),!isAuthError(R)){M.n=11;break}if(I={data:null,error:R},isAuthRetryableFetchError(R)){M.n=10;break}return M.n=10,this._removeSession();case 10:return null===(l=this.refreshingDeferred)||void 0===l||l.resolve(I),M.a(2,I);case 11:throw null===(_=this.refreshingDeferred)||void 0===_||_.reject(R),R;case 12:return M.p=12,this.refreshingDeferred=null,this._debug(k,"end"),M.f(12);case 13:return M.a(2)}},_callee174,this,[[3,9,12,13]])})),function(e){return V.apply(this,arguments)})},{key:"_notifyAllSubscribers",value:(W=_asyncToGenerator(_regenerator().m(function _callee176(e,l){var _,k,S,E,T,O=arguments;return _regenerator().w(function(I){for(;;)switch(I.p=I.n){case 0:return _=!(O.length>2&&void 0!==O[2])||O[2],k="#_notifyAllSubscribers(".concat(e,")"),this._debug(k,"begin",l,"broadcast = ".concat(_)),I.p=1,this.broadcastChannel&&_&&this.broadcastChannel.postMessage({event:e,session:l}),S=[],E=Array.from(this.stateChangeEmitters.values()).map(function(){var _=_asyncToGenerator(_regenerator().m(function _callee175(_){var k;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,_.callback(e,l);case 1:E.n=3;break;case 2:E.p=2,k=E.v,S.push(k);case 3:return E.a(2)}},_callee175,null,[[0,2]])}));return function(e){return _.apply(this,arguments)}}()),I.n=2,Promise.all(E);case 2:if(!(S.length>0)){I.n=3;break}for(T=0;T<S.length;T+=1);throw S[0];case 3:return I.p=3,this._debug(k,"end"),I.f(3);case 4:return I.a(2)}},_callee176,this,[[1,,3,4]])})),function(e,l){return W.apply(this,arguments)})},{key:"_saveSession",value:(G=_asyncToGenerator(_regenerator().m(function _callee177(e){var l,_,k,S,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:if(this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,l=Object.assign({},e),_=l.user&&!0===l.user.__isUserNotAvailableProxy,!this.userStorage){T.n=3;break}if(_||!l.user){T.n=1;break}return T.n=1,Wo(this.userStorage,this.storageKey+"-user",{user:l.user});case 1:return delete(k=Object.assign({},l)).user,S=deepClone(k),T.n=2,Wo(this.storage,this.storageKey,S);case 2:T.n=4;break;case 3:return E=deepClone(l),T.n=4,Wo(this.storage,this.storageKey,E);case 4:return T.a(2)}},_callee177,this)})),function(e){return G.apply(this,arguments)})},{key:"_removeSession",value:(z=_asyncToGenerator(_regenerator().m(function _callee178(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return this._debug("#_removeSession()"),e.n=1,Ko(this.storage,this.storageKey);case 1:return e.n=2,Ko(this.storage,this.storageKey+"-code-verifier");case 2:return e.n=3,Ko(this.storage,this.storageKey+"-user");case 3:if(!this.userStorage){e.n=4;break}return e.n=4,Ko(this.userStorage,this.storageKey+"-user");case 4:return e.n=5,this._notifyAllSubscribers("SIGNED_OUT",null);case 5:return e.a(2)}},_callee178,this)})),function(){return z.apply(this,arguments)})},{key:"_removeVisibilityChangedCallback",value:function(){this._debug("#_removeVisibilityChangedCallback()");var e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&isBrowser()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(ta){}}},{key:"_startAutoRefresh",value:(q=_asyncToGenerator(_regenerator().m(function _callee180(){var e,l=this;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:return _.n=1,this._stopAutoRefresh();case 1:this._debug("#_startAutoRefresh()"),e=setInterval(function(){return l._autoRefreshTokenTick()},wo),this.autoRefreshTicker=e,e&&"object"===_typeof3(e)&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(_asyncToGenerator(_regenerator().m(function _callee179(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l.initializePromise;case 1:return e.n=2,l._autoRefreshTokenTick();case 2:return e.a(2)}},_callee179)})),0);case 2:return _.a(2)}},_callee180,this)})),function(){return q.apply(this,arguments)})},{key:"_stopAutoRefresh",value:(B=_asyncToGenerator(_regenerator().m(function _callee181(){var e;return _regenerator().w(function(l){for(;;)switch(l.n){case 0:this._debug("#_stopAutoRefresh()"),e=this.autoRefreshTicker,this.autoRefreshTicker=null,e&&clearInterval(e);case 1:return l.a(2)}},_callee181,this)})),function(){return B.apply(this,arguments)})},{key:"startAutoRefresh",value:(U=_asyncToGenerator(_regenerator().m(function _callee182(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return this._removeVisibilityChangedCallback(),e.n=1,this._startAutoRefresh();case 1:return e.a(2)}},_callee182,this)})),function(){return U.apply(this,arguments)})},{key:"stopAutoRefresh",value:(L=_asyncToGenerator(_regenerator().m(function _callee183(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return this._removeVisibilityChangedCallback(),e.n=1,this._stopAutoRefresh();case 1:return e.a(2)}},_callee183,this)})),function(){return L.apply(this,arguments)})},{key:"_autoRefreshTokenTick",value:(D=_asyncToGenerator(_regenerator().m(function _callee186(){var e,l=this;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return this._debug("#_autoRefreshTokenTick()","begin"),_.p=1,_.n=2,this._acquireLock(0,_asyncToGenerator(_regenerator().m(function _callee185(){var e;return _regenerator().w(function(_){for(;;)switch(_.p=_.n){case 0:return _.p=0,e=Date.now(),_.p=1,_.n=2,l._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee184(_){var k,S;return _regenerator().w(function(E){for(;;)switch(E.n){case 0:if((k=_.data.session)&&k.refresh_token&&k.expires_at){E.n=1;break}return l._debug("#_autoRefreshTokenTick()","no session"),E.a(2);case 1:if(S=Math.floor((1e3*k.expires_at-e)/wo),l._debug("#_autoRefreshTokenTick()","access token expires in ".concat(S," ticks, a tick lasts ").concat(wo,"ms, refresh threshold is ").concat(3," ticks")),!(S<=3)){E.n=2;break}return E.n=2,l._callRefreshToken(k.refresh_token);case 2:return E.a(2)}},_callee184)}));return function(e){return _.apply(this,arguments)}}());case 2:return _.a(2,_.v);case 3:_.p=3,_.v;case 4:return _.p=4,l._debug("#_autoRefreshTokenTick()","end"),_.f(4);case 5:return _.a(2)}},_callee185,null,[[1,3],[0,,4,5]])})));case 2:_.n=5;break;case 3:if(_.p=3,!((e=_.v).isAcquireTimeout||e instanceof es)){_.n=4;break}this._debug("auto refresh token tick lock not available"),_.n=5;break;case 4:throw e;case 5:return _.a(2)}},_callee186,this,[[1,3]])})),function(){return D.apply(this,arguments)})},{key:"_handleVisibilityChange",value:(j=_asyncToGenerator(_regenerator().m(function _callee188(){var e=this;return _regenerator().w(function(l){for(;;)switch(l.p=l.n){case 0:if(this._debug("#_handleVisibilityChange()"),isBrowser()&&(null===window||void 0===window?void 0:window.addEventListener)){l.n=1;break}return this.autoRefreshToken&&this.startAutoRefresh(),l.a(2,!1);case 1:return l.p=1,this.visibilityChangedCallback=_asyncToGenerator(_regenerator().m(function _callee187(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,e._onVisibilityChanged(!1);case 1:return l.a(2,l.v)}},_callee187)})),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),l.n=2,this._onVisibilityChanged(!0);case 2:l.n=4;break;case 3:l.p=3,l.v;case 4:return l.a(2)}},_callee188,this,[[1,3]])})),function(){return j.apply(this,arguments)})},{key:"_onVisibilityChanged",value:(M=_asyncToGenerator(_regenerator().m(function _callee190(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.n){case 0:if(l="#_onVisibilityChanged(".concat(e,")"),this._debug(l,"visibilityState",document.visibilityState),"visible"!==document.visibilityState){k.n=3;break}if(this.autoRefreshToken&&this._startAutoRefresh(),e){k.n=2;break}return k.n=1,this.initializePromise;case 1:return k.n=2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee189(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if("visible"===document.visibilityState){e.n=1;break}return _._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"),e.a(2);case 1:return e.n=2,_._recoverAndRefresh();case 2:return e.a(2)}},_callee189)})));case 2:k.n=4;break;case 3:"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh();case 4:return k.a(2)}},_callee190,this)})),function(e){return M.apply(this,arguments)})},{key:"_getUrlForProvider",value:(R=_asyncToGenerator(_regenerator().m(function _callee191(e,l,_){var k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.n){case 0:if(k=["provider=".concat(encodeURIComponent(l))],(null==_?void 0:_.redirectTo)&&k.push("redirect_to=".concat(encodeURIComponent(_.redirectTo))),(null==_?void 0:_.scopes)&&k.push("scopes=".concat(encodeURIComponent(_.scopes))),"pkce"!==this.flowType){M.n=2;break}return M.n=1,getCodeChallengeAndMethod(this.storage,this.storageKey);case 1:S=M.v,E=_slicedToArray(S,2),T=E[0],O=E[1],I=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(T)),code_challenge_method:"".concat(encodeURIComponent(O))}),k.push(I.toString());case 2:return(null==_?void 0:_.queryParams)&&(R=new URLSearchParams(_.queryParams),k.push(R.toString())),(null==_?void 0:_.skipBrowserRedirect)&&k.push("skip_http_redirect=".concat(_.skipBrowserRedirect)),M.a(2,"".concat(e,"?").concat(k.join("&")))}},_callee191,this)})),function(e,l,_){return R.apply(this,arguments)})},{key:"_unenroll",value:(I=_asyncToGenerator(_regenerator().m(function _callee193(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,this._useSession(function(){var l=_asyncToGenerator(_regenerator().m(function _callee192(l){var k,S,E;return _regenerator().w(function(T){for(;;)switch(T.n){case 0:if(S=l.data,!(E=l.error)){T.n=1;break}return T.a(2,{data:null,error:E});case 1:return T.n=2,_request(_.fetch,"DELETE","".concat(_.url,"/factors/").concat(e.factorId),{headers:_.headers,jwt:null===(k=null==S?void 0:S.session)||void 0===k?void 0:k.access_token});case 2:return T.a(2,T.v)}},_callee192)}));return function(e){return l.apply(this,arguments)}}());case 1:return k.a(2,k.v);case 2:if(k.p=2,!isAuthError(l=k.v)){k.n=3;break}return k.a(2,{data:null,error:l});case 3:throw l;case 4:return k.a(2)}},_callee193,this,[[0,2]])})),function(e){return I.apply(this,arguments)})},{key:"_enroll",value:(O=_asyncToGenerator(_regenerator().m(function _callee195(e){var l,_=this;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,this._useSession(function(){var l=_asyncToGenerator(_regenerator().m(function _callee194(l){var k,S,E,T,O,I,R,M;return _regenerator().w(function(j){for(;;)switch(j.n){case 0:if(E=l.data,!(T=l.error)){j.n=1;break}return j.a(2,{data:null,error:T});case 1:return O=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),j.n=2,_request(_.fetch,"POST","".concat(_.url,"/factors"),{body:O,headers:_.headers,jwt:null===(k=null==E?void 0:E.session)||void 0===k?void 0:k.access_token});case 2:if(I=j.v,R=I.data,!(M=I.error)){j.n=3;break}return j.a(2,{data:null,error:M});case 3:return"totp"===e.factorType&&"totp"===R.type&&(null===(S=null==R?void 0:R.totp)||void 0===S?void 0:S.qr_code)&&(R.totp.qr_code="data:image/svg+xml;utf-8,".concat(R.totp.qr_code)),j.a(2,{data:R,error:null})}},_callee194)}));return function(e){return l.apply(this,arguments)}}());case 1:return k.a(2,k.v);case 2:if(k.p=2,!isAuthError(l=k.v)){k.n=3;break}return k.a(2,{data:null,error:l});case 3:throw l;case 4:return k.a(2)}},_callee195,this,[[0,2]])})),function(e){return O.apply(this,arguments)})},{key:"_verify",value:(T=_asyncToGenerator(_regenerator().m(function _callee198(e){var l=this;return _regenerator().w(function(_){for(;;)if(0===_.n)return _.a(2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee197(){var _;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,l._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee196(_){var k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.n){case 0:if(S=_.data,!(E=_.error)){M.n=1;break}return M.a(2,{data:null,error:E});case 1:return T=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?serializeCredentialCreationResponse(e.webauthn.credential_response):serializeCredentialRequestResponse(e.webauthn.credential_response)})}:{code:e.code}),M.n=2,_request(l.fetch,"POST","".concat(l.url,"/factors/").concat(e.factorId,"/verify"),{body:T,headers:l.headers,jwt:null===(k=null==S?void 0:S.session)||void 0===k?void 0:k.access_token});case 2:if(O=M.v,I=O.data,!(R=O.error)){M.n=3;break}return M.a(2,{data:null,error:R});case 3:return M.n=4,l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+I.expires_in},I));case 4:return M.n=5,l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",I);case 5:return M.a(2,{data:I,error:R})}},_callee196)}));return function(e){return _.apply(this,arguments)}}());case 1:return k.a(2,k.v);case 2:if(k.p=2,!isAuthError(_=k.v)){k.n=3;break}return k.a(2,{data:null,error:_});case 3:throw _;case 4:return k.a(2)}},_callee197,null,[[0,2]])}))))},_callee198,this)})),function(e){return T.apply(this,arguments)})},{key:"_challenge",value:(E=_asyncToGenerator(_regenerator().m(function _callee201(e){var l=this;return _regenerator().w(function(_){for(;;)if(0===_.n)return _.a(2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee200(){var _;return _regenerator().w(function(k){for(;;)switch(k.p=k.n){case 0:return k.p=0,k.n=1,l._useSession(function(){var _=_asyncToGenerator(_regenerator().m(function _callee199(_){var k,S,E,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.n){case 0:if(S=_.data,!(E=_.error)){R.n=1;break}return R.a(2,{data:null,error:E});case 1:return R.n=2,_request(l.fetch,"POST","".concat(l.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:l.headers,jwt:null===(k=null==S?void 0:S.session)||void 0===k?void 0:k.access_token});case 2:if(!(T=R.v).error){R.n=3;break}return R.a(2,T);case 3:if("webauthn"===(O=T.data).type){R.n=4;break}return R.a(2,{data:O,error:null});case 4:I=O.webauthn.type,R.n="create"===I?5:"request"===I?6:7;break;case 5:return R.a(2,{data:Object.assign(Object.assign({},O),{webauthn:Object.assign(Object.assign({},O.webauthn),{credential_options:Object.assign(Object.assign({},O.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(O.webauthn.credential_options.publicKey)})})}),error:null});case 6:return R.a(2,{data:Object.assign(Object.assign({},O),{webauthn:Object.assign(Object.assign({},O.webauthn),{credential_options:Object.assign(Object.assign({},O.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(O.webauthn.credential_options.publicKey)})})}),error:null});case 7:return R.a(2)}},_callee199)}));return function(e){return _.apply(this,arguments)}}());case 1:return k.a(2,k.v);case 2:if(k.p=2,!isAuthError(_=k.v)){k.n=3;break}return k.a(2,{data:null,error:_});case 3:throw _;case 4:return k.a(2)}},_callee200,null,[[0,2]])}))))},_callee201,this)})),function(e){return E.apply(this,arguments)})},{key:"_challengeAndVerify",value:(S=_asyncToGenerator(_regenerator().m(function _callee202(e){var l,_,k;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:return S.n=1,this._challenge({factorId:e.factorId});case 1:if(l=S.v,_=l.data,!(k=l.error)){S.n=2;break}return S.a(2,{data:null,error:k});case 2:return S.n=3,this._verify({factorId:e.factorId,challengeId:_.id,code:e.code});case 3:return S.a(2,S.v)}},_callee202,this)})),function(e){return S.apply(this,arguments)})},{key:"_listFactors",value:(k=_asyncToGenerator(_regenerator().m(function _callee203(){var e,l,_,k,S,E,T,O;return _regenerator().w(function(I){for(;;)switch(I.n){case 0:return I.n=1,this.getUser();case 1:if(l=I.v,_=l.data.user,!(k=l.error)){I.n=2;break}return I.a(2,{data:null,error:k});case 2:S={all:[],phone:[],totp:[],webauthn:[]},E=_createForOfIteratorHelper2(null!==(e=null==_?void 0:_.factors)&&void 0!==e?e:[]);try{for(E.s();!(T=E.n()).done;)O=T.value,S.all.push(O),"verified"===O.status&&S[O.factor_type].push(O)}catch(R){E.e(R)}finally{E.f()}return I.a(2,{data:S,error:null})}},_callee203,this)})),function(){return k.apply(this,arguments)})},{key:"_getAuthenticatorAssuranceLevel",value:(_=_asyncToGenerator(_regenerator().m(function _callee206(){var e=this;return _regenerator().w(function(l){for(;;)if(0===l.n)return l.a(2,this._acquireLock(-1,_asyncToGenerator(_regenerator().m(function _callee205(){return _regenerator().w(function(l){for(;;)switch(l.n){case 0:return l.n=1,e._useSession(function(){var e=_asyncToGenerator(_regenerator().m(function _callee204(e){var l,_,k,S,E,T,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.n){case 0:if(k=e.data.session,!(S=e.error)){M.n=1;break}return M.a(2,{data:null,error:S});case 1:if(k){M.n=2;break}return M.a(2,{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null});case 2:return E=decodeJWT(k.access_token),T=E.payload,O=null,T.aal&&(O=T.aal),I=O,(null!==(_=null===(l=k.user.factors)||void 0===l?void 0:l.filter(function(e){return"verified"===e.status}))&&void 0!==_?_:[]).length>0&&(I="aal2"),R=T.amr||[],M.a(2,{data:{currentLevel:O,nextLevel:I,currentAuthenticationMethods:R},error:null})}},_callee204)}));return function(l){return e.apply(this,arguments)}}());case 1:return l.a(2,l.v)}},_callee205)}))))},_callee206,this)})),function(){return _.apply(this,arguments)})},{key:"fetchJwk",value:(l=_asyncToGenerator(_regenerator().m(function _callee207(e){var l,_,k,S,E,T=arguments;return _regenerator().w(function(O){for(;;)switch(O.n){case 0:if(!(l=(T.length>1&&void 0!==T[1]?T[1]:{keys:[]}).keys.find(function(l){return l.kid===e}))){O.n=1;break}return O.a(2,l);case 1:if(_=Date.now(),!((l=this.jwks.keys.find(function(l){return l.kid===e}))&&this.jwks_cached_at+6e5>_)){O.n=2;break}return O.a(2,l);case 2:return O.n=3,_request(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});case 3:if(k=O.v,S=k.data,!(E=k.error)){O.n=4;break}throw E;case 4:if(S.keys&&0!==S.keys.length){O.n=5;break}return O.a(2,null);case 5:if(this.jwks=S,this.jwks_cached_at=_,l=S.keys.find(function(l){return l.kid===e})){O.n=6;break}return O.a(2,null);case 6:return O.a(2,l)}},_callee207,this)})),function(e){return l.apply(this,arguments)})},{key:"getClaims",value:(e=_asyncToGenerator(_regenerator().m(function _callee208(e){var l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V=arguments;return _regenerator().w(function(K){for(;;)switch(K.p=K.n){case 0:if(l=V.length>1&&void 0!==V[1]?V[1]:{},K.p=1,_=e){K.n=4;break}return K.n=2,this.getSession();case 2:if(k=K.v,S=k.data,!(E=k.error)&&S.session){K.n=3;break}return K.a(2,{data:null,error:E});case 3:_=S.session.access_token;case 4:if(T=decodeJWT(_),O=T.header,I=T.payload,R=T.signature,M=T.raw,j=M.header,D=M.payload,(null==l?void 0:l.allowExpired)||validateExp(I.exp),O.alg&&!O.alg.startsWith("HS")&&O.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto){K.n=5;break}G=null,K.n=7;break;case 5:return K.n=6,this.fetchJwk(O.kid,(null==l?void 0:l.keys)?{keys:l.keys}:null==l?void 0:l.jwks);case 6:G=K.v;case 7:if(L=G){K.n=10;break}return K.n=8,this.getUser(_);case 8:if(U=K.v,!(B=U.error)){K.n=9;break}throw B;case 9:return K.a(2,{data:{claims:I,header:O,signature:R},error:null});case 10:return q=getAlgorithm(O.alg),K.n=11,crypto.subtle.importKey("jwk",L,q,!0,["verify"]);case 11:return z=K.v,K.n=12,crypto.subtle.verify(q,z,R,stringToUint8Array("".concat(j,".").concat(D)));case 12:if(K.v){K.n=13;break}throw new Uo("Invalid JWT signature");case 13:return K.a(2,{data:{claims:I,header:O,signature:R},error:null});case 14:if(K.p=14,!isAuthError(W=K.v)){K.n=15;break}return K.a(2,{data:null,error:W});case 15:throw W;case 16:return K.a(2)}},_callee208,this,[[1,14]])})),function(l){return e.apply(this,arguments)})}]);var e,l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K,H,$,J,Y,X,Z,Q,ee,te,re,ne,ie,ae,oe,se,ue,le,ce,he,de,fe,pe,ve,ge,me,ye,_e,be,ke,we,Se,Ce,Ee,Te,Ae,xe,Oe,Ie,Re,Pe,Me,je,De}();cs.nextInstanceID=0;var hs=function(e){function SupabaseAuthClient(e){return _classCallCheck3(this,SupabaseAuthClient),_callSuper(this,SupabaseAuthClient,[e])}return _inherits(SupabaseAuthClient,e),_createClass3(SupabaseAuthClient)}(cs),__awaiter=function(e,l,_,k){return new(_||(_=Promise))(function(S,E){function fulfilled(e){try{step(k.next(e))}catch(ta){E(ta)}}function rejected(e){try{step(k.throw(e))}catch(ta){E(ta)}}function step(e){var l;e.done?S(e.value):(l=e.value,l instanceof _?l:new _(function(e){e(l)})).then(fulfilled,rejected)}step((k=k.apply(e,l||[])).next())})},ds=function(){return _createClass3(function SupabaseClient(e,l,_){var k,S,E;_classCallCheck3(this,SupabaseClient),this.supabaseUrl=e,this.supabaseKey=l;var T=function(e){var l,_=null==e?void 0:e.trim();if(!_)throw new Error("supabaseUrl is required.");if(!_.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((l=_).endsWith("/")?l:l+"/")}catch(k){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);var O="sb-".concat(T.hostname.split(".")[0],"-auth-token"),I=function(e,l){var _,k,S=this,E=e.db,T=e.auth,O=e.realtime,I=e.global,R=l.db,M=l.auth,j=l.realtime,D=l.global,L={db:Object.assign(Object.assign({},R),E),auth:Object.assign(Object.assign({},M),T),realtime:Object.assign(Object.assign({},j),O),storage:{},global:Object.assign(Object.assign(Object.assign({},D),I),{headers:Object.assign(Object.assign({},null!==(_=null==D?void 0:D.headers)&&void 0!==_?_:{}),null!==(k=null==I?void 0:I.headers)&&void 0!==k?k:{})}),accessToken:function(){return __awaiter$1(S,void 0,void 0,_regenerator().m(function _callee75(){return _regenerator().w(function(e){for(;;)if(0===e.n)return e.a(2,"")},_callee75)}))}};return e.accessToken?L.accessToken=e.accessToken:delete L.accessToken,L}(null!=_?_:{},{db:yo,realtime:bo,auth:Object.assign(Object.assign({},_o),{storageKey:O}),global:mo});this.storageKey=null!==(k=I.auth.storageKey)&&void 0!==k?k:"",this.headers=null!==(S=I.global.headers)&&void 0!==S?S:{},I.accessToken?(this.accessToken=I.accessToken,this.auth=new Proxy({},{get:function(e,l){throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(l)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(E=I.auth)&&void 0!==E?E:{},this.headers,I.global.fetch),this.fetch=fetchWithAuth(l,this._getAccessToken.bind(this),I.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},I.realtime)),this.rest=new Ua(new URL("rest/v1",T).href,{headers:this.headers,schema:I.db.schema,fetch:this.fetch}),this.storage=new vo(this.storageUrl.href,this.headers,this.fetch,null==_?void 0:_.storage),I.accessToken||this._listenForAuthEvents()},[{key:"functions",get:function(){return new ga(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}},{key:"from",value:function(e){return this.rest.from(e)}},{key:"schema",value:function(e){return this.rest.schema(e)}},{key:"rpc",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,l,_)}},{key:"channel",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,l)}},{key:"getChannels",value:function(){return this.realtime.getChannels()}},{key:"removeChannel",value:function(e){return this.realtime.removeChannel(e)}},{key:"removeAllChannels",value:function(){return this.realtime.removeAllChannels()}},{key:"_getAccessToken",value:function(){return __awaiter(this,void 0,void 0,_regenerator().m(function _callee209(){var e,l,_,k;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:if(!this.accessToken){S.n=2;break}return S.n=1,this.accessToken();case 1:return S.a(2,S.v);case 2:return S.n=3,this.auth.getSession();case 3:return _=S.v,k=_.data,S.a(2,null!==(l=null===(e=k.session)||void 0===e?void 0:e.access_token)&&void 0!==l?l:this.supabaseKey)}},_callee209,this)}))}},{key:"_initSupabaseAuthClient",value:function(e,l,_){var k=e.autoRefreshToken,S=e.persistSession,E=e.detectSessionInUrl,T=e.storage,O=e.userStorage,I=e.storageKey,R=e.flowType,M=e.lock,j=e.debug,D={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new hs({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),l),storageKey:I,autoRefreshToken:k,persistSession:S,detectSessionInUrl:E,storage:T,userStorage:O,flowType:R,lock:M,debug:j,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(function(e){return"authorization"===e.toLowerCase()})})}},{key:"_initRealtimeClient",value:function(e){return new no(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange(function(l,_){e._handleTokenChanged(l,"CLIENT",null==_?void 0:_.access_token)})}},{key:"_handleTokenChanged",value:function(e,l,_){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===_?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==l&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=_,this.realtime.setAuth(_))}}])}();R("al",function(e,l,_){return new ds(e,l,_)});!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;var e=process.version;if(null==e)return!1;var l=e.match(/^v(\d+)\./);!!l&&parseInt(l[1],10)}();for(var fs,ps=[],vs=0;vs<256;++vs)ps.push((vs+256).toString(16).slice(1));var gs=new Uint8Array(16);var ms={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function addUniqueItem(e,l){-1===e.indexOf(l)&&e.push(l)}function removeItem(e,l){var _=e.indexOf(l);_>-1&&e.splice(_,1)}var ys=R("H",function(e,l,_){return _>l?l:_<e?e:_}),_s=R("a1",function(){}),bs=R("M",{}),ks=R("j",function(e){return/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e)});function isObject$1(e){return"object"===_typeof3(e)&&null!==e}var ws=R("k",function(e){return/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e)});function memo(e){var l;return function(){return void 0===l&&(l=e()),l}}var Ss=R("N",function(e){return e}),combineFunctions=function(e,l){return function(_){return l(e(_))}},Cs=R("E",function(){for(var e=arguments.length,l=new Array(e),_=0;_<e;_++)l[_]=arguments[_];return l.reduce(combineFunctions)}),Es=R("G",function(e,l,_){var k=l-e;return 0===k?1:(_-e)/k}),Ts=function(){return _createClass3(function SubscriptionManager(){_classCallCheck3(this,SubscriptionManager),this.subscriptions=[]},[{key:"add",value:function(e){var l=this;return addUniqueItem(this.subscriptions,e),function(){return removeItem(l.subscriptions,e)}}},{key:"notify",value:function(e,l,_){var k=this.subscriptions.length;if(k)if(1===k)this.subscriptions[0](e,l,_);else for(var S=0;S<k;S++){var E=this.subscriptions[S];E&&E(e,l,_)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}])}();R("S",Ts);var As=R("x",function(e){return 1e3*e}),xs=R("F",function(e){return e/1e3});function velocityPerSecond(e,l){return l?e*(1e3/l):0}var calcBezier=function(e,l,_){return(((1-3*_+3*l)*e+(3*_-6*l))*e+3*l)*e};function cubicBezier(e,l,_,k){if(e===l&&_===k)return Ss;var getTForX=function(l){return function(e,l,_,k,S){var E,T,O=0;do{(E=calcBezier(T=l+(_-l)/2,k,S)-e)>0?_=T:l=T}while(Math.abs(E)>1e-7&&++O<12);return T}(l,0,1,e,_)};return function(e){return 0===e||1===e?e:calcBezier(getTForX(e),l,k)}}var mirrorEasing=function(e){return function(l){return l<=.5?e(2*l)/2:(2-e(2*(1-l)))/2}},reverseEasing=function(e){return function(l){return 1-e(1-l)}},Os=cubicBezier(.33,1.53,.69,.99),Is=reverseEasing(Os),Rs=mirrorEasing(Is),anticipate=function(e){return(e*=2)<1?.5*Is(e):.5*(2-Math.pow(2,-10*(e-1)))},circIn=function(e){return 1-Math.sin(Math.acos(e))},Ps=R("Q",reverseEasing(circIn)),Ms=mirrorEasing(circIn),js=cubicBezier(.42,0,1,1),Ds=cubicBezier(0,0,.58,1),Fs=cubicBezier(.42,0,.58,1),isBezierDefinition=function(e){return Array.isArray(e)&&"number"==typeof e[0]},Ls={linear:Ss,easeIn:js,easeInOut:Fs,easeOut:Ds,circIn:circIn,circInOut:Ms,circOut:Ps,backIn:Is,backInOut:Rs,backOut:Os,anticipate:anticipate},easingDefinitionToFunction=function(e){if(isBezierDefinition(e)){_s(4===e.length);var l=_slicedToArray(e,4);return cubicBezier(l[0],l[1],l[2],l[3])}return"string"==typeof e?Ls[e]:e},Ns=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderBatcher(e,l){var _=!1,k=!0,S={delta:0,timestamp:0,isProcessing:!1},flagRunNextFrame=function(){return _=!0},E=Ns.reduce(function(e,l){return e[l]=function(e){var l=new Set,_=new Set,k=!1,S=!1,E=new WeakSet,T={delta:0,timestamp:0,isProcessing:!1};function triggerCallback(l){E.has(l)&&(O.schedule(l),e()),l(T)}var O={schedule:function(e){var S=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&k?l:_;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&E.add(e),S.has(e)||S.add(e),e},cancel:function(e){_.delete(e),E.delete(e)},process:function(e){if(T=e,k)S=!0;else{k=!0;var E=[_,l];_=E[1],(l=E[0]).forEach(triggerCallback),l.clear(),k=!1,S&&(S=!1,O.process(e))}}};return O}(flagRunNextFrame),e},{}),T=E.setup,O=E.read,I=E.resolveKeyframes,R=E.preUpdate,M=E.update,j=E.preRender,D=E.render,L=E.postRender,_processBatch=function(){var E=bs.useManualTiming?S.timestamp:performance.now();_=!1,bs.useManualTiming||(S.delta=k?1e3/60:Math.max(Math.min(E-S.timestamp,40),1)),S.timestamp=E,S.isProcessing=!0,T.process(S),O.process(S),I.process(S),R.process(S),M.process(S),j.process(S),D.process(S),L.process(S),S.isProcessing=!1,_&&l&&(k=!1,e(_processBatch))},U=Ns.reduce(function(l,T){var O=E[T];return l[T]=function(l){var E=arguments.length>1&&void 0!==arguments[1]&&arguments[1],T=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _||(_=!0,k=!0,S.isProcessing||e(_processBatch)),O.schedule(l,E,T)},l},{});return{schedule:U,cancel:function(e){for(var l=0;l<Ns.length;l++)E[Ns[l]].cancel(e)},state:S,steps:E}}var Us,Bs=createRenderBatcher("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Ss,!0),qs=Bs.schedule,zs=Bs.cancel,Gs=Bs.state,Ws=Bs.steps;function clearTime(){Us=void 0}R({f:qs,h:zs,C:Gs,U:Ws});var Vs=R("e",{now:function(){return void 0===Us&&Vs.set(Gs.isProcessing||bs.useManualTiming?Gs.timestamp:performance.now()),Us},set:function(e){Us=e,queueMicrotask(clearTime)}}),checkStringStartsWith=function(e){return function(l){return"string"==typeof l&&l.startsWith(e)}},Ks=(R("a",checkStringStartsWith("--")),checkStringStartsWith("var(--")),isCSSVariableToken=function(e){return!!Ks(e)&&Hs.test(e.split("/*")[0].trim())},Hs=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,$s={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},Js=_objectSpread2(_objectSpread2({},$s),{},{transform:function(e){return ys(0,1,e)}}),Ys=_objectSpread2(_objectSpread2({},$s),{},{default:1}),sanitize=function(e){return Math.round(1e5*e)/1e5},Xs=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;var Zs=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,isColorString=function(e,l){return function(_){return Boolean("string"==typeof _&&Zs.test(_)&&_.startsWith(e)||l&&!function(e){return null==e}(_)&&Object.prototype.hasOwnProperty.call(_,l))}},splitColor=function(e,l,_){return function(k){if("string"!=typeof k)return k;var S=_slicedToArray(k.match(Xs),4),E=S[0],T=S[1],O=S[2],I=S[3];return _defineProperty3(_defineProperty3(_defineProperty3(_defineProperty3({},e,parseFloat(E)),l,parseFloat(T)),_,parseFloat(O)),"alpha",void 0!==I?parseFloat(I):1)}},Qs=_objectSpread2(_objectSpread2({},$s),{},{transform:function(e){return Math.round(function(e){return ys(0,255,e)}(e))}}),eu={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:function(e){var l=e.red,_=e.green,k=e.blue,S=e.alpha,E=void 0===S?1:S;return"rgba("+Qs.transform(l)+", "+Qs.transform(_)+", "+Qs.transform(k)+", "+sanitize(Js.transform(E))+")"}};var tu={test:isColorString("#"),parse:function(e){var l="",_="",k="",S="";return e.length>5?(l=e.substring(1,3),_=e.substring(3,5),k=e.substring(5,7),S=e.substring(7,9)):(l=e.substring(1,2),_=e.substring(2,3),k=e.substring(3,4),S=e.substring(4,5),l+=l,_+=_,k+=k,S+=S),{red:parseInt(l,16),green:parseInt(_,16),blue:parseInt(k,16),alpha:S?parseInt(S,16)/255:1}},transform:eu.transform},createUnitType=function(e){return{test:function(l){return"string"==typeof l&&l.endsWith(e)&&1===l.split(" ").length},parse:parseFloat,transform:function(l){return"".concat(l).concat(e)}}},ru=createUnitType("deg"),nu=R("L",createUnitType("%")),iu=R("p",createUnitType("px")),au=createUnitType("vh"),ou=createUnitType("vw"),su=function(){return _objectSpread2(_objectSpread2({},nu),{},{parse:function(e){return nu.parse(e)/100},transform:function(e){return nu.transform(100*e)}})}(),uu={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:function(e){var l=e.hue,_=e.saturation,k=e.lightness,S=e.alpha,E=void 0===S?1:S;return"hsla("+Math.round(l)+", "+nu.transform(sanitize(_))+", "+nu.transform(sanitize(k))+", "+sanitize(Js.transform(E))+")"}},lu={test:function(e){return eu.test(e)||tu.test(e)||uu.test(e)},parse:function(e){return eu.test(e)?eu.parse(e):uu.test(e)?uu.parse(e):tu.parse(e)},transform:function(e){return"string"==typeof e?e:e.hasOwnProperty("red")?eu.transform(e):uu.transform(e)},getAnimatableNone:function(e){var l=lu.parse(e);return l.alpha=0,lu.transform(l)}},cu=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;var hu="number",du="color",fu=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function analyseComplexValue(e){var l=e.toString(),_=[],k={color:[],number:[],var:[]},S=[],E=0,T=l.replace(fu,function(e){return lu.test(e)?(k.color.push(E),S.push(du),_.push(lu.parse(e))):e.startsWith("var(")?(k.var.push(E),S.push("var"),_.push(e)):(k.number.push(E),S.push(hu),_.push(parseFloat(e))),++E,"${}"}).split("${}");return{values:_,split:T,indexes:k,types:S}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){var l=analyseComplexValue(e),_=l.split,k=l.types,S=_.length;return function(e){for(var l="",E=0;E<S;E++)if(l+=_[E],void 0!==e[E]){var T=k[E];l+=T===hu?sanitize(e[E]):T===du?lu.transform(e[E]):e[E]}return l}}var convertNumbersToZero=function(e){return"number"==typeof e?0:lu.test(e)?lu.getAnimatableNone(e):e};var pu=R("o",{test:function(e){var l,_;return isNaN(e)&&"string"==typeof e&&((null===(l=e.match(Xs))||void 0===l?void 0:l.length)||0)+((null===(_=e.match(cu))||void 0===_?void 0:_.length)||0)>0},parse:parseComplexValue,createTransformer:createTransformer,getAnimatableNone:function(e){var l=parseComplexValue(e);return createTransformer(e)(l.map(convertNumbersToZero))}});function hueToRgb(e,l,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?e+6*(l-e)*_:_<.5?l:_<2/3?e+(l-e)*(2/3-_)*6:e}function mixImmediate(e,l){return function(_){return _>0?l:e}}var vu=R("m",function(e,l,_){return e+(l-e)*_}),mixLinearColor=function(e,l,_){var k=e*e,S=_*(l*l-k)+k;return S<0?0:Math.sqrt(S)},gu=[tu,eu,uu];function asRGBA(e){var l,_=(l=e,gu.find(function(e){return e.test(l)}));if(!Boolean(_))return!1;var k=_.parse(e);return _===uu&&(k=function(e){var l=e.hue,_=e.saturation,k=e.lightness,S=e.alpha;l/=360,k/=100;var E=0,T=0,O=0;if(_/=100){var I=k<.5?k*(1+_):k+_-k*_,R=2*k-I;E=hueToRgb(R,I,l+1/3),T=hueToRgb(R,I,l),O=hueToRgb(R,I,l-1/3)}else E=T=O=k;return{red:Math.round(255*E),green:Math.round(255*T),blue:Math.round(255*O),alpha:S}}(k)),k}var mixColor=function(e,l){var _=asRGBA(e),k=asRGBA(l);if(!_||!k)return mixImmediate(e,l);var S=_objectSpread2({},_);return function(e){return S.red=mixLinearColor(_.red,k.red,e),S.green=mixLinearColor(_.green,k.green,e),S.blue=mixLinearColor(_.blue,k.blue,e),S.alpha=vu(_.alpha,k.alpha,e),eu.transform(S)}},mu=new Set(["none","hidden"]);function mixNumber(e,l){return function(_){return vu(e,l,_)}}function getMixer(e){return"number"==typeof e?mixNumber:"string"==typeof e?isCSSVariableToken(e)?mixImmediate:lu.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:"object"===_typeof3(e)?lu.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,l){var _=_toConsumableArray3(e),k=_.length,S=e.map(function(e,_){return getMixer(e)(e,l[_])});return function(e){for(var l=0;l<k;l++)_[l]=S[l](e);return _}}function mixObject(e,l){var _=_objectSpread2(_objectSpread2({},e),l),k={};for(var S in _)void 0!==e[S]&&void 0!==l[S]&&(k[S]=getMixer(e[S])(e[S],l[S]));return function(e){for(var l in k)_[l]=k[l](e);return _}}var mixComplex=function(e,l){var _=pu.createTransformer(l),k=analyseComplexValue(e),S=analyseComplexValue(l);return k.indexes.var.length===S.indexes.var.length&&k.indexes.color.length===S.indexes.color.length&&k.indexes.number.length>=S.indexes.number.length?mu.has(e)&&!S.values.length||mu.has(l)&&!k.values.length?function(e,l){return mu.has(e)?function(_){return _<=0?e:l}:function(_){return _>=1?l:e}}(e,l):Cs(mixArray(function(e,l){for(var _=[],k={color:0,var:0,number:0},S=0;S<l.values.length;S++){var E,T=l.types[S],O=e.indexes[T][k[T]],I=null!==(E=e.values[O])&&void 0!==E?E:0;_[S]=I,k[T]++}return _}(k,S),S.values),_):mixImmediate(e,l)};function mix(e,l,_){return"number"==typeof e&&"number"==typeof l&&"number"==typeof _?vu(e,l,_):getMixer(e)(e,l)}var frameloopDriver=function(e){var passTimestamp=function(l){var _=l.timestamp;return e(_)};return{start:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return qs.update(passTimestamp,e)},stop:function(){return zs(passTimestamp)},now:function(){return Gs.isProcessing?Gs.timestamp:Vs.now()}}},generateLinearEasing=function(e,l){for(var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,k="",S=Math.max(Math.round(l/_),2),E=0;E<S;E++)k+=Math.round(1e4*e(E/(S-1)))/1e4+", ";return"linear(".concat(k.substring(0,k.length-2),")")},yu=2e4;function calcGeneratorDuration(e){for(var l=0,_=e.next(l);!_.done&&l<yu;)l+=50,_=e.next(l);return l>=yu?1/0:l}function calcGeneratorVelocity(e,l,_){var k=Math.max(l-5,0);return velocityPerSecond(_-e(k),l-k)}var _u=100,bu=10,ku=1,wu=0,Su=800,Cu=.3,Eu=.3,Tu={granular:.01,default:2},Au={granular:.005,default:.5},xu=.01,Ou=10,Iu=.05,Ru=1,Pu=.001;function findSpring(e){var l,_,k=e.duration,S=void 0===k?Su:k,E=e.bounce,T=void 0===E?Cu:E,O=e.velocity,I=void 0===O?wu:O,R=e.mass,M=void 0===R?ku:R,j=1-T;j=ys(Iu,Ru,j),S=ys(xu,Ou,xs(S)),j<1?(l=function(e){var l=e*j,_=l*S,k=l-I,E=calcAngularFreq(e,j),T=Math.exp(-_);return Pu-k/E*T},_=function(e){var _=e*j*S,k=_*I+I,E=Math.pow(j,2)*Math.pow(e,2)*S,T=Math.exp(-_),O=calcAngularFreq(Math.pow(e,2),j);return(-l(e)+Pu>0?-1:1)*((k-E)*T)/O}):(l=function(e){return Math.exp(-e*S)*((e-I)*S+1)-.001},_=function(e){return Math.exp(-e*S)*(S*S*(I-e))});var D=function(e,l,_){for(var k=_,S=1;S<Mu;S++)k-=e(k)/l(k);return k}(l,_,5/S);if(S=As(S),isNaN(D))return{stiffness:_u,damping:bu,duration:S};var L=Math.pow(D,2)*M;return{stiffness:L,damping:2*j*Math.sqrt(M*L),duration:S}}var Mu=12;function calcAngularFreq(e,l){return e*Math.sqrt(1-l*l)}var ju=["duration","bounce"],Du=["stiffness","damping","mass"];function isSpringType(e,l){return l.some(function(l){return void 0!==e[l]})}function spring(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eu,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cu,k="object"!==_typeof3(l)?{visualDuration:l,keyframes:[0,1],bounce:_}:l,S=k.restSpeed,E=k.restDelta,T=k.keyframes[0],O=k.keyframes[k.keyframes.length-1],I={done:!1,value:T},R=function(e){var l=_objectSpread2({velocity:wu,stiffness:_u,damping:bu,mass:ku,isResolvedFromDuration:!1},e);if(!isSpringType(e,Du)&&isSpringType(e,ju))if(e.visualDuration){var _=e.visualDuration,k=2*Math.PI/(1.2*_),S=k*k,E=2*ys(.05,1,1-(e.bounce||0))*Math.sqrt(S);l=_objectSpread2(_objectSpread2({},l),{},{mass:ku,stiffness:S,damping:E})}else{var T=findSpring(e);(l=_objectSpread2(_objectSpread2(_objectSpread2({},l),T),{},{mass:ku})).isResolvedFromDuration=!0}return l}(_objectSpread2(_objectSpread2({},k),{},{velocity:-xs(k.velocity||0)})),M=R.stiffness,j=R.damping,D=R.mass,L=R.duration,U=R.velocity,B=R.isResolvedFromDuration,q=U||0,z=j/(2*Math.sqrt(M*D)),G=O-T,W=xs(Math.sqrt(M/D)),V=Math.abs(G)<5;if(S||(S=V?Tu.granular:Tu.default),E||(E=V?Au.granular:Au.default),z<1){var K=calcAngularFreq(W,z);e=function(e){var l=Math.exp(-z*W*e);return O-l*((q+z*W*G)/K*Math.sin(K*e)+G*Math.cos(K*e))}}else if(1===z)e=function(e){return O-Math.exp(-W*e)*(G+(q+W*G)*e)};else{var H=W*Math.sqrt(z*z-1);e=function(e){var l=Math.exp(-z*W*e),_=Math.min(H*e,300);return O-l*((q+z*W*G)*Math.sinh(_)+H*G*Math.cosh(_))/H}}var $={calculatedDuration:B&&L||null,next:function(l){var _=e(l);if(B)I.done=l>=L;else{var k=0===l?q:0;z<1&&(k=0===l?As(q):calcGeneratorVelocity(e,l,_));var T=Math.abs(k)<=S,R=Math.abs(O-_)<=E;I.done=T&&R}return I.value=I.done?O:_,I},toString:function(){var e=Math.min(calcGeneratorDuration($),yu),l=generateLinearEasing(function(l){return $.next(e*l).value},e,30);return e+"ms "+l},toTransition:function(){}};return $}function inertia(e){var l=e.keyframes,_=e.velocity,k=void 0===_?0:_,S=e.power,E=void 0===S?.8:S,T=e.timeConstant,O=void 0===T?325:T,I=e.bounceDamping,R=void 0===I?10:I,M=e.bounceStiffness,j=void 0===M?500:M,D=e.modifyTarget,L=e.min,U=e.max,B=e.restDelta,q=void 0===B?.5:B,z=e.restSpeed,G=l[0],W={done:!1,value:G},nearestBoundary=function(e){return void 0===L?U:void 0===U||Math.abs(L-e)<Math.abs(U-e)?L:U},V=E*k,K=G+V,H=void 0===D?K:D(K);H!==K&&(V=H-G);var $,J,calcDelta=function(e){return-V*Math.exp(-e/O)},calcLatest=function(e){return H+calcDelta(e)},applyFriction=function(e){var l=calcDelta(e),_=calcLatest(e);W.done=Math.abs(l)<=q,W.value=W.done?H:_},checkCatchBoundary=function(e){var l;(l=W.value,void 0!==L&&l<L||void 0!==U&&l>U)&&($=e,J=spring({keyframes:[W.value,nearestBoundary(W.value)],velocity:calcGeneratorVelocity(calcLatest,e,W.value),damping:R,stiffness:j,restDelta:q,restSpeed:z}))};return checkCatchBoundary(0),{calculatedDuration:null,next:function(e){var l=!1;return J||void 0!==$||(l=!0,applyFriction(e),checkCatchBoundary(e)),void 0!==$&&e>=$?J.next(e-$):(!l&&applyFriction(e),W)}}}function interpolate(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=_.clamp,S=void 0===k||k,E=_.ease,T=_.mixer,O=e.length;if(_s(O===l.length),1===O)return function(){return l[0]};if(2===O&&l[0]===l[1])return function(){return l[1]};var I=e[0]===e[1];e[0]>e[O-1]&&(e=_toConsumableArray3(e).reverse(),l=_toConsumableArray3(l).reverse());var R=function(e,l,_){for(var k=[],S=_||bs.mix||mix,E=e.length-1,T=0;T<E;T++){var O=S(e[T],e[T+1]);if(l){var I=Array.isArray(l)?l[T]||Ss:l;O=Cs(I,O)}k.push(O)}return k}(l,E,T),M=R.length,interpolator=function(_){if(I&&_<e[0])return l[0];var k=0;if(M>1)for(;k<e.length-2&&!(_<e[k+1]);k++);var S=Es(e[k],e[k+1],_);return R[k](S)};return S?function(l){return interpolator(ys(e[0],e[O-1],l))}:interpolator}function defaultOffset(e){var l=[0];return function(e,l){for(var _=e[e.length-1],k=1;k<=l;k++){var S=Es(0,l,k);e.push(vu(_,1,S))}}(l,e.length-1),l}function keyframes(e){var l,_,k=e.duration,S=void 0===k?300:k,E=e.keyframes,T=e.times,O=e.ease,I=void 0===O?"easeInOut":O,R=function(e){return Array.isArray(e)&&"number"!=typeof e[0]}(I)?I.map(easingDefinitionToFunction):easingDefinitionToFunction(I),M={done:!1,value:E[0]},j=function(e,l){return e.map(function(e){return e*l})}(T&&T.length===E.length?T:defaultOffset(E),S),D=interpolate(j,E,{ease:Array.isArray(R)?R:(l=E,_=R,l.map(function(){return _||Fs}).splice(0,l.length-1))});return{calculatedDuration:S,next:function(e){return M.value=D(e),M.done=e>=S,M}}}spring.applyToOptions=function(e){var l=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,_=(arguments.length>2?arguments[2]:void 0)(_objectSpread2(_objectSpread2({},e),{},{keyframes:[0,l]})),k=Math.min(calcGeneratorDuration(_),yu);return{type:"keyframes",ease:function(e){return _.next(k*e).value/l},duration:xs(k)}}(e,100,spring);return e.ease=l.ease,e.duration=As(l.duration),e.type="keyframes",e};var isNotNull=function(e){return null!==e};function getFinalKeyframe(e,l,_){var k=l.repeat,S=l.repeatType,E=void 0===S?"loop":S,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,O=e.filter(isNotNull),I=T<0||k&&"loop"!==E&&k%2==1?0:O.length-1;return I&&void 0!==_?_:O[I]}var Fu={decay:inertia,inertia:inertia,tween:keyframes,keyframes:keyframes,spring:spring};function replaceTransitionType(e){"string"==typeof e.type&&(e.type=Fu[e.type])}var Lu=function(){return _createClass3(function WithPromise(){_classCallCheck3(this,WithPromise),this.updateFinished()},[{key:"finished",get:function(){return this._finished}},{key:"updateFinished",value:function(){var e=this;this._finished=new Promise(function(l){e.resolve=l})}},{key:"notifyFinished",value:function(){this.resolve()}},{key:"then",value:function(e,l){return this.finished.then(e,l)}}])}(),percentToProgress=function(e){return e/100},Nu=function(e){function JSAnimation(e){var l;return _classCallCheck3(this,JSAnimation),(l=_callSuper(this,JSAnimation)).state="idle",l.startTime=null,l.isStopped=!1,l.currentTime=0,l.holdTime=null,l.playbackSpeed=1,l.stop=function(){var e,_,k=l.options.motionValue;k&&k.updatedAt!==Vs.now()&&l.tick(Vs.now()),l.isStopped=!0,"idle"!==l.state&&(l.teardown(),null===(e=(_=l.options).onStop)||void 0===e||e.call(_))},l.options=e,l.initAnimation(),l.play(),!1===e.autoplay&&l.pause(),l}return _inherits(JSAnimation,e),_createClass3(JSAnimation,[{key:"initAnimation",value:function(){var e=this.options;replaceTransitionType(e);var l=e.type,_=void 0===l?keyframes:l,k=e.repeat,S=void 0===k?0:k,E=e.repeatDelay,T=void 0===E?0:E,O=e.repeatType,I=e.velocity,R=void 0===I?0:I,M=e.keyframes,j=_||keyframes;j!==keyframes&&"number"!=typeof M[0]&&(this.mixKeyframes=Cs(percentToProgress,mix(M[0],M[1])),M=[0,100]);var D=j(_objectSpread2(_objectSpread2({},e),{},{keyframes:M}));"mirror"===O&&(this.mirroredGenerator=j(_objectSpread2(_objectSpread2({},e),{},{keyframes:_toConsumableArray3(M).reverse(),velocity:-R}))),null===D.calculatedDuration&&(D.calculatedDuration=calcGeneratorDuration(D));var L=D.calculatedDuration;this.calculatedDuration=L,this.resolvedDuration=L+T,this.totalDuration=this.resolvedDuration*(S+1)-T,this.generator=D}},{key:"updateTime",value:function(e){var l=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=l}},{key:"tick",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=this.generator,k=this.totalDuration,S=this.mixKeyframes,E=this.mirroredGenerator,T=this.resolvedDuration,O=this.calculatedDuration;if(null===this.startTime)return _.next(0);var I=this.options,R=I.delay,M=void 0===R?0:R,j=I.keyframes,D=I.repeat,L=I.repeatType,U=I.repeatDelay,B=I.type,q=I.onUpdate,z=I.finalKeyframe;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-k/this.speed,this.startTime)),l?this.currentTime=e:this.updateTime(e);var G=this.currentTime-M*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?G<0:G>k;this.currentTime=Math.max(G,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=k);var V=this.currentTime,K=_;if(D){var H=Math.min(this.currentTime,k)/T,$=Math.floor(H),J=H%1;!J&&H>=1&&(J=1),1===J&&$--,$=Math.min($,D+1),Boolean($%2)&&("reverse"===L?(J=1-J,U&&(J-=U/T)):"mirror"===L&&(K=E)),V=ys(0,1,J)*T}var Y=W?{done:!1,value:j[0]}:K.next(V);S&&(Y.value=S(Y.value));var X=Y.done;W||null===O||(X=this.playbackSpeed>=0?this.currentTime>=k:this.currentTime<=0);var Z=null===this.holdTime&&("finished"===this.state||"running"===this.state&&X);return Z&&B!==inertia&&(Y.value=getFinalKeyframe(j,this.options,z,this.speed)),q&&q(Y.value),Z&&this.finish(),Y}},{key:"then",value:function(e,l){return this.finished.then(e,l)}},{key:"duration",get:function(){return xs(this.calculatedDuration)}},{key:"iterationDuration",get:function(){var e=(this.options||{}).delay,l=void 0===e?0:e;return this.duration+xs(l)}},{key:"time",get:function(){return xs(this.currentTime)},set:function(e){var l;e=As(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(l=this.driver)||void 0===l||l.start(!1)}},{key:"speed",get:function(){return this.playbackSpeed},set:function(e){this.updateTime(Vs.now());var l=this.playbackSpeed!==e;this.playbackSpeed=e,l&&(this.time=xs(this.currentTime))}},{key:"play",value:function(){var e,l,_=this;if(!this.isStopped){var k=this.options,S=k.driver,E=void 0===S?frameloopDriver:S,T=k.startTime;this.driver||(this.driver=E(function(e){return _.tick(e)})),null===(e=(l=this.options).onPlay)||void 0===e||e.call(l);var O=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=O):null!==this.holdTime?this.startTime=O-this.holdTime:this.startTime||(this.startTime=null!=T?T:O),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}}},{key:"pause",value:function(){this.state="paused",this.updateTime(Vs.now()),this.holdTime=this.currentTime}},{key:"complete",value:function(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}},{key:"finish",value:function(){var e,l;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(l=this.options).onComplete)||void 0===e||e.call(l)}},{key:"cancel",value:function(){var e,l;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(l=this.options).onCancel)||void 0===e||e.call(l)}},{key:"teardown",value:function(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}},{key:"stopDriver",value:function(){this.driver&&(this.driver.stop(),this.driver=void 0)}},{key:"sample",value:function(e){return this.startTime=0,this.tick(e,!0)}},{key:"attachTimeline",value:function(e){var l;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(l=this.driver)||void 0===l||l.stop(),e.observe(this)}}])}(Lu);R("J",Nu);var radToDeg=function(e){return 180*e/Math.PI},rotate$2=function(e){var l=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(l)},Uu={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:function(e){return(Math.abs(e[0])+Math.abs(e[3]))/2},rotate:rotate$2,rotateZ:rotate$2,skewX:function(e){return radToDeg(Math.atan(e[1]))},skewY:function(e){return radToDeg(Math.atan(e[2]))},skew:function(e){return(Math.abs(e[1])+Math.abs(e[2]))/2}},rebaseAngle=function(e){return(e%=360)<0&&(e+=360),e},scaleX=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},scaleY=function(e){return Math.sqrt(e[4]*e[4]+e[5]*e[5])},Bu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:scaleX,scaleY:scaleY,scale:function(e){return(scaleX(e)+scaleY(e))/2},rotateX:function(e){return rebaseAngle(radToDeg(Math.atan2(e[6],e[5])))},rotateY:function(e){return rebaseAngle(radToDeg(Math.atan2(-e[2],e[0])))},rotateZ:rotate$2,rotate:rotate$2,skewX:function(e){return radToDeg(Math.atan(e[4]))},skewY:function(e){return radToDeg(Math.atan(e[1]))},skew:function(e){return(Math.abs(e[1])+Math.abs(e[4]))/2}};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,l){if(!e||"none"===e)return defaultTransformValue(l);var _,k,S=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);if(S)_=Bu,k=S;else{var E=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);_=Uu,k=E}if(!k)return defaultTransformValue(l);var T=_[l],O=k[1].split(",").map(convertTransformToNumber);return"function"==typeof T?T(O):O[T]}R("u",function(e,l){var _=getComputedStyle(e).transform;return parseValueFromTransform(void 0===_?"none":_,l)});function convertTransformToNumber(e){return parseFloat(e.trim())}var qu=R("b",["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"]),zu=(R("t",function(){return new Set(qu)}()),function(e){return e===$s||e===iu}),Gu=new Set(["x","y","z"]),Wu=qu.filter(function(e){return!Gu.has(e)});var Vu={width:function(e,l){var _=e.x,k=l.paddingLeft,S=void 0===k?"0":k,E=l.paddingRight,T=void 0===E?"0":E;return _.max-_.min-parseFloat(S)-parseFloat(T)},height:function(e,l){var _=e.y,k=l.paddingTop,S=void 0===k?"0":k,E=l.paddingBottom,T=void 0===E?"0":E;return _.max-_.min-parseFloat(S)-parseFloat(T)},top:function(e,l){var _=l.top;return parseFloat(_)},left:function(e,l){var _=l.left;return parseFloat(_)},bottom:function(e,l){var _=e.y,k=l.top;return parseFloat(k)+(_.max-_.min)},right:function(e,l){var _=e.x,k=l.left;return parseFloat(k)+(_.max-_.min)},x:function(e,l){return parseValueFromTransform(l.transform,"x")},y:function(e,l){return parseValueFromTransform(l.transform,"y")}};Vu.translateX=Vu.x,Vu.translateY=Vu.y;var Ku=new Set,Hu=!1,$u=!1,Ju=!1;function measureAllKeyframes(){if($u){var e=Array.from(Ku).filter(function(e){return e.needsMeasurement}),l=new Set(e.map(function(e){return e.element})),_=new Map;l.forEach(function(e){var l=function(e){var l=[];return Wu.forEach(function(_){var k=e.getValue(_);void 0!==k&&(l.push([_,k.get()]),k.set(_.startsWith("scale")?1:0))}),l}(e);l.length&&(_.set(e,l),e.render())}),e.forEach(function(e){return e.measureInitialState()}),l.forEach(function(e){e.render();var l=_.get(e);l&&l.forEach(function(l){var _,k=_slicedToArray(l,2),S=k[0],E=k[1];null===(_=e.getValue(S))||void 0===_||_.set(E)})}),e.forEach(function(e){return e.measureEndState()}),e.forEach(function(e){void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}$u=!1,Hu=!1,Ku.forEach(function(e){return e.complete(Ju)}),Ku.clear()}function readAllKeyframes(){Ku.forEach(function(e){e.readKeyframes(),e.needsMeasurement&&($u=!0)})}var Yu=function(){return _createClass3(function KeyframeResolver(e,l,_,k,S){var E=arguments.length>5&&void 0!==arguments[5]&&arguments[5];_classCallCheck3(this,KeyframeResolver),this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=_toConsumableArray3(e),this.onComplete=l,this.name=_,this.motionValue=k,this.element=S,this.isAsync=E},[{key:"scheduleResolve",value:function(){this.state="scheduled",this.isAsync?(Ku.add(this),Hu||(Hu=!0,qs.read(readAllKeyframes),qs.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}},{key:"readKeyframes",value:function(){var e=this.unresolvedKeyframes,l=this.name,_=this.element,k=this.motionValue;if(null===e[0]){var S=null==k?void 0:k.get(),E=e[e.length-1];if(void 0!==S)e[0]=S;else if(_&&l){var T=_.readValue(l,E);null!=T&&(e[0]=T)}void 0===e[0]&&(e[0]=E),k&&void 0===S&&k.set(e[0])}!function(e){for(var l=1;l<e.length;l++){var _;null!==(_=e[l])&&void 0!==_||(e[l]=e[l-1])}}(e)}},{key:"setFinalKeyframe",value:function(){}},{key:"measureInitialState",value:function(){}},{key:"renderEndStyles",value:function(){}},{key:"measureEndState",value:function(){}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ku.delete(this)}},{key:"cancel",value:function(){"scheduled"===this.state&&(Ku.delete(this),this.state="pending")}},{key:"resume",value:function(){"pending"===this.state&&this.scheduleResolve()}}])}();R("K",Yu);var Xu=R("$",memo(function(){return void 0!==window.ScrollTimeline})),Zu={};function memoSupports(e,l){var _=memo(e);return function(){var e;return null!==(e=Zu[l])&&void 0!==e?e:_()}}var Qu=memoSupports(function(){try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(ta){return!1}return!0},"linearEasing"),cubicBezierAsString=function(e){var l=_slicedToArray(e,4),_=l[0],k=l[1],S=l[2],E=l[3];return"cubic-bezier(".concat(_,", ").concat(k,", ").concat(S,", ").concat(E,")")},el={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,l){return e?"function"==typeof e?Qu()?generateLinearEasing(e,l):"ease-out":isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(function(e){return mapEasingToNativeEasing(e,l)||el.easeOut}):el[e]:void 0}function startWaapiAnimation(e,l,_){var k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},S=k.delay,E=void 0===S?0:S,T=k.duration,O=void 0===T?300:T,I=k.repeat,R=void 0===I?0:I,M=k.repeatType,j=void 0===M?"loop":M,D=k.ease,L=void 0===D?"easeOut":D,U=k.times,B=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,q=_defineProperty3({},l,_);U&&(q.offset=U);var z=mapEasingToNativeEasing(L,O);Array.isArray(z)&&(q.easing=z);var G={delay:E,duration:O,easing:Array.isArray(z)?"linear":z,fill:"both",iterations:R+1,direction:"reverse"===j?"alternate":"normal"};return B&&(G.pseudoElement=B),e.animate(q,G)}function isGenerator(e){return"function"==typeof e&&"applyToOptions"in e}var tl=function(e){function NativeAnimation(e){var l;if(_classCallCheck3(this,NativeAnimation),(l=_callSuper(this,NativeAnimation)).finishedTime=null,l.isStopped=!1,!e)return _possibleConstructorReturn(l);var _=e.element,k=e.name,S=e.keyframes,T=e.pseudoElement,O=e.allowFlatten,I=void 0!==O&&O,R=e.finalKeyframe,M=e.onComplete;l.isPseudoElement=Boolean(T),l.allowFlatten=I,l.options=e,_s("string"!=typeof e.type);var j=function(e){var l,_,k=e.type,S=_objectWithoutProperties3(e,E);return isGenerator(k)&&Qu()?k.applyToOptions(S):(null!==(l=S.duration)&&void 0!==l||(S.duration=300),null!==(_=S.ease)&&void 0!==_||(S.ease="easeOut"),S)}(e);return l.animation=startWaapiAnimation(_,k,S,j,T),!1===j.autoplay&&l.animation.pause(),l.animation.onfinish=function(){if(l.finishedTime=l.time,!T){var e=getFinalKeyframe(S,l.options,R,l.speed);l.updateMotionValue?l.updateMotionValue(e):function(e,l,_){!function(e){return e.startsWith("--")}(l)?e.style[l]=_:e.style.setProperty(l,_)}(_,k,e),l.animation.cancel()}null==M||M(),l.notifyFinished()},l}return _inherits(NativeAnimation,e),_createClass3(NativeAnimation,[{key:"play",value:function(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}},{key:"pause",value:function(){this.animation.pause()}},{key:"complete",value:function(){var e,l;null===(e=(l=this.animation).finish)||void 0===e||e.call(l)}},{key:"cancel",value:function(){try{this.animation.cancel()}catch(ta){}}},{key:"stop",value:function(){if(!this.isStopped){this.isStopped=!0;var e=this.state;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}}},{key:"commitStyles",value:function(){var e,l;this.isPseudoElement||(null===(e=(l=this.animation).commitStyles)||void 0===e||e.call(l))}},{key:"duration",get:function(){var e,l,_=(null===(e=this.animation.effect)||void 0===e||null===(l=e.getComputedTiming)||void 0===l?void 0:l.call(e).duration)||0;return xs(Number(_))}},{key:"iterationDuration",get:function(){var e=(this.options||{}).delay,l=void 0===e?0:e;return this.duration+xs(l)}},{key:"time",get:function(){return xs(Number(this.animation.currentTime)||0)},set:function(e){this.finishedTime=null,this.animation.currentTime=As(e)}},{key:"speed",get:function(){return this.animation.playbackRate},set:function(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}},{key:"state",get:function(){return null!==this.finishedTime?"finished":this.animation.playState}},{key:"startTime",get:function(){return Number(this.animation.startTime)},set:function(e){this.animation.startTime=e}},{key:"attachTimeline",value:function(e){var l,_=e.timeline,k=e.observe;this.allowFlatten&&(null===(l=this.animation.effect)||void 0===l||l.updateTiming({easing:"linear"}));return this.animation.onfinish=null,_&&Xu()?(this.animation.timeline=_,Ss):k(this)}}])}(Lu),rl={anticipate:anticipate,backInOut:Rs,circInOut:Ms};function replaceStringEasing(e){"string"==typeof e.ease&&e.ease in rl&&(e.ease=rl[e.ease])}var nl=function(e){function NativeAnimationExtended(e){var l;return _classCallCheck3(this,NativeAnimationExtended),replaceStringEasing(e),replaceTransitionType(e),l=_callSuper(this,NativeAnimationExtended,[e]),e.startTime&&(l.startTime=e.startTime),l.options=e,l}return _inherits(NativeAnimationExtended,e),_createClass3(NativeAnimationExtended,[{key:"updateMotionValue",value:function(e){var l,_=this.options,k=_.motionValue,S=(_.onUpdate,_.onComplete,_.element,_objectWithoutProperties3(_,T));if(k)if(void 0===e){var E=new Nu(_objectSpread2(_objectSpread2({},S),{},{autoplay:!1})),O=As(null!==(l=this.finishedTime)&&void 0!==l?l:this.time);k.setWithVelocity(E.sample(O-10).value,E.sample(O).value,10),E.stop()}else k.set(e)}}])}(tl),isAnimatable=function(e,l){return"zIndex"!==l&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!pu.test(e)&&"0"!==e||e.startsWith("url(")))};function makeAnimationInstant(e){e.duration=0,e.type="keyframes"}var il=new Set(["opacity","clipPath","filter","transform"]),al=memo(function(){return Object.hasOwnProperty.call(Element.prototype,"animate")});var ol=function(e){function AsyncMotionValueAnimation(e){var l,_,k=e.autoplay,S=void 0===k||k,E=e.delay,T=void 0===E?0:E,I=e.type,R=void 0===I?"keyframes":I,M=e.repeat,j=void 0===M?0:M,D=e.repeatDelay,L=void 0===D?0:D,U=e.repeatType,B=void 0===U?"loop":U,q=e.keyframes,z=e.name,G=e.motionValue,W=e.element,V=_objectWithoutProperties3(e,O);_classCallCheck3(this,AsyncMotionValueAnimation),(_=_callSuper(this,AsyncMotionValueAnimation)).stop=function(){var e,l,k;_._animation&&(_._animation.stop(),null===(l=(k=_).stopTimeline)||void 0===l||l.call(k));null===(e=_.keyframeResolver)||void 0===e||e.cancel()},_.createdAt=Vs.now();var K=_objectSpread2({autoplay:S,delay:T,type:R,repeat:j,repeatDelay:L,repeatType:B,name:z,motionValue:G,element:W},V),H=(null==W?void 0:W.KeyframeResolver)||Yu;return _.keyframeResolver=new H(q,function(e,l,k){return _.onKeyframesResolved(e,l,K,!k)},z,G,W),null===(l=_.keyframeResolver)||void 0===l||l.scheduleResolve(),_}return _inherits(AsyncMotionValueAnimation,e),_createClass3(AsyncMotionValueAnimation,[{key:"onKeyframesResolved",value:function(e,l,_,k){var S=this;this.keyframeResolver=void 0;var E=_.name,T=_.type,O=_.velocity,I=_.delay,R=_.isHandoff,M=_.onUpdate;this.resolvedAt=Vs.now(),function(e,l,_,k){var S=e[0];if(null===S)return!1;if("display"===l||"visibility"===l)return!0;var E=e[e.length-1],T=isAnimatable(S,l),O=isAnimatable(E,l);return!(!T||!O)&&(function(e){var l=e[0];if(1===e.length)return!0;for(var _=0;_<e.length;_++)if(e[_]!==l)return!0}(e)||("spring"===_||isGenerator(_))&&k)}(e,E,T,O)||(!bs.instantAnimations&&I||null==M||M(getFinalKeyframe(e,_,l)),e[0]=e[e.length-1],makeAnimationInstant(_),_.repeat=0);var j=_objectSpread2(_objectSpread2({startTime:k?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:l},_),{},{keyframes:e}),D=!R&&function(e){var l,_=e.motionValue,k=e.name,S=e.repeatDelay,E=e.repeatType,T=e.damping,O=e.type;if(!((null==_||null===(l=_.owner)||void 0===l?void 0:l.current)instanceof HTMLElement))return!1;var I=_.owner.getProps(),R=I.onUpdate,M=I.transformTemplate;return al()&&k&&il.has(k)&&("transform"!==k||!M)&&!R&&!S&&"mirror"!==E&&0!==T&&"inertia"!==O}(j)?new nl(_objectSpread2(_objectSpread2({},j),{},{element:j.motionValue.owner.current})):new Nu(j);D.finished.then(function(){return S.notifyFinished()}).catch(Ss),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}},{key:"finished",get:function(){return this._animation?this.animation.finished:this._finished}},{key:"then",value:function(e,l){return this.finished.finally(e).then(function(){})}},{key:"animation",get:function(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Ju=!0,readAllKeyframes(),measureAllKeyframes(),Ju=!1);return this._animation}},{key:"duration",get:function(){return this.animation.duration}},{key:"iterationDuration",get:function(){return this.animation.iterationDuration}},{key:"time",get:function(){return this.animation.time},set:function(e){this.animation.time=e}},{key:"speed",get:function(){return this.animation.speed},set:function(e){this.animation.speed=e}},{key:"state",get:function(){return this.animation.state}},{key:"startTime",get:function(){return this.animation.startTime}},{key:"attachTimeline",value:function(e){var l=this;return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,function(){return l.stop()}}},{key:"play",value:function(){this.animation.play()}},{key:"pause",value:function(){this.animation.pause()}},{key:"complete",value:function(){this.animation.complete()}},{key:"cancel",value:function(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}])}(Lu);R("A",ol);var sl=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function getVariableValue(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,k=function(e){var l=sl.exec(e);if(!l)return[,];var _=_slicedToArray(l,4),k=_[1],S=_[2],E=_[3];return["--".concat(null!=k?k:S),E]}(e),S=_slicedToArray(k,2),E=S[0],T=S[1];if(E){var O=window.getComputedStyle(l).getPropertyValue(E);if(O){var I=O.trim();return ks(I)?parseFloat(I):I}return isCSSVariableToken(T)?getVariableValue(T,l,_+1):T}}var ul=R("z",new Set(["width","height","top","left","right","bottom"].concat(_toConsumableArray3(qu)))),testValueType=function(e){return function(l){return l.test(e)}},ll=[$s,iu,nu,ru,ou,au,{test:function(e){return"auto"===e},parse:function(e){return e}}],findDimensionValueType=function(e){return ll.find(testValueType(e))};function isNone(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||ws(e))}var cl=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){var l=_slicedToArray(e.slice(0,-1).split("("),2),_=l[0],k=l[1];if("drop-shadow"===_)return e;var S=_slicedToArray(k.match(Xs)||[],1)[0];if(!S)return e;var E=k.replace(S,""),T=cl.has(_)?1:0;return S!==k&&(T*=100),_+"("+T+E+")"}var hl=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,dl=_objectSpread2(_objectSpread2({},pu),{},{getAnimatableNone:function(e){var l=e.match(hl);return l?l.map(applyDefaultFilter).join(" "):e}}),fl=_objectSpread2(_objectSpread2({},$s),{},{transform:Math.round}),pl=R("n",_objectSpread2(_objectSpread2({borderWidth:iu,borderTopWidth:iu,borderRightWidth:iu,borderBottomWidth:iu,borderLeftWidth:iu,borderRadius:iu,radius:iu,borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomRightRadius:iu,borderBottomLeftRadius:iu,width:iu,maxWidth:iu,height:iu,maxHeight:iu,top:iu,right:iu,bottom:iu,left:iu,padding:iu,paddingTop:iu,paddingRight:iu,paddingBottom:iu,paddingLeft:iu,margin:iu,marginTop:iu,marginRight:iu,marginBottom:iu,marginLeft:iu,backgroundPositionX:iu,backgroundPositionY:iu},{rotate:ru,rotateX:ru,rotateY:ru,rotateZ:ru,scale:Ys,scaleX:Ys,scaleY:Ys,scaleZ:Ys,skew:ru,skewX:ru,skewY:ru,distance:iu,translateX:iu,translateY:iu,translateZ:iu,x:iu,y:iu,z:iu,perspective:iu,transformPerspective:iu,opacity:Js,originX:su,originY:su,originZ:iu}),{},{zIndex:fl,fillOpacity:Js,strokeOpacity:Js,numOctaves:fl})),vl=_objectSpread2(_objectSpread2({},pl),{},{color:lu,backgroundColor:lu,outlineColor:lu,fill:lu,stroke:lu,borderColor:lu,borderTopColor:lu,borderRightColor:lu,borderBottomColor:lu,borderLeftColor:lu,filter:dl,WebkitFilter:dl}),gl=R("v",function(e){return vl[e]});function getAnimatableNone(e,l){var _=gl(e);return _!==dl&&(_=pu),_.getAnimatableNone?_.getAnimatableNone(l):void 0}var ml=new Set(["auto","none","0"]);var yl=function(e){function DOMKeyframesResolver(e,l,_,k,S){return _classCallCheck3(this,DOMKeyframesResolver),_callSuper(this,DOMKeyframesResolver,[e,l,_,k,S,!0])}return _inherits(DOMKeyframesResolver,e),_createClass3(DOMKeyframesResolver,[{key:"readKeyframes",value:function(){var e=this.unresolvedKeyframes,l=this.element,_=this.name;if(l&&l.current){_superPropGet(DOMKeyframesResolver,"readKeyframes",this,3)([]);for(var k=0;k<e.length;k++){var S=e[k];if("string"==typeof S&&(S=S.trim(),isCSSVariableToken(S))){var E=getVariableValue(S,l.current);void 0!==E&&(e[k]=E),k===e.length-1&&(this.finalKeyframe=S)}}if(this.resolveNoneKeyframes(),ul.has(_)&&2===e.length){var T=_slicedToArray(e,2),O=T[0],I=T[1],R=findDimensionValueType(O),M=findDimensionValueType(I);if(R!==M)if(zu(R)&&zu(M))for(var j=0;j<e.length;j++){var D=e[j];"string"==typeof D&&(e[j]=parseFloat(D))}else Vu[_]&&(this.needsMeasurement=!0)}}}},{key:"resolveNoneKeyframes",value:function(){for(var e=this.unresolvedKeyframes,l=this.name,_=[],k=0;k<e.length;k++)(null===e[k]||isNone(e[k]))&&_.push(k);_.length&&function(e,l,_){for(var k=0,S=void 0;k<e.length&&!S;){var E=e[k];"string"==typeof E&&!ml.has(E)&&analyseComplexValue(E).values.length&&(S=e[k]),k++}if(S&&_){var T,O=_createForOfIteratorHelper2(l);try{for(O.s();!(T=O.n()).done;)e[T.value]=getAnimatableNone(_,S)}catch(I){O.e(I)}finally{O.f()}}}(e,_,l)}},{key:"measureInitialState",value:function(){var e=this.element,l=this.unresolvedKeyframes,_=this.name;if(e&&e.current){"height"===_&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vu[_](e.measureViewportBox(),window.getComputedStyle(e.current)),l[0]=this.measuredOrigin;var k=l[l.length-1];void 0!==k&&e.getValue(_,k).jump(k,!1)}}},{key:"measureEndState",value:function(){var e,l=this.element,_=this.name,k=this.unresolvedKeyframes;if(l&&l.current){var S=l.getValue(_);S&&S.jump(this.measuredOrigin,!1);var E=k.length-1,T=k[E];k[E]=Vu[_](l.measureViewportBox(),window.getComputedStyle(l.current)),null!==T&&void 0===this.finalKeyframe&&(this.finalKeyframe=T),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(function(e){var _=_slicedToArray(e,2),k=_[0],S=_[1];l.getValue(k).set(S)}),this.resolveNoneKeyframes()}}}])}(Yu);function resolveElements(e,l,_){if(e instanceof EventTarget)return[e];if("string"==typeof e){var k=document.querySelectorAll(e);return k?Array.from(k):[]}return Array.from(e)}R("D",yl);R("g",function(e,l){return l&&"number"==typeof e?l.transform(e):e});function isHTMLElement(e){return isObject$1(e)&&"offsetHeight"in e}var _l=R("a2",{current:void 0}),bl=function(){return _createClass3(function MotionValue(e){var l=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck3(this,MotionValue),this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){var _,k=Vs.now();if((l.updatedAt!==k&&l.setPrevFrameValue(),l.prev=l.current,l.setCurrent(e),l.current!==l.prev)&&(null===(_=l.events.change)||void 0===_||_.notify(l.current),l.dependents)){var S,E=_createForOfIteratorHelper2(l.dependents);try{for(E.s();!(S=E.n()).done;){S.value.dirty()}}catch(T){E.e(T)}finally{E.f()}}},this.hasAnimated=!1,this.setCurrent(e),this.owner=_.owner},[{key:"setCurrent",value:function(e){var l;this.current=e,this.updatedAt=Vs.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(l=this.current,!isNaN(parseFloat(l))))}},{key:"setPrevFrameValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}},{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,l){var _=this;this.events[e]||(this.events[e]=new Ts);var k=this.events[e].add(l);return"change"===e?function(){k(),qs.read(function(){_.events.change.getSize()||_.stop()})}:k}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,l){this.passiveEffect=e,this.stopPassiveEffect=l}},{key:"set",value:function(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}},{key:"setWithVelocity",value:function(e,l,_){this.set(l),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-_}},{key:"jump",value:function(e){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"dirty",value:function(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}},{key:"addDependent",value:function(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}},{key:"removeDependent",value:function(e){this.dependents&&this.dependents.delete(e)}},{key:"get",value:function(){return _l.current&&_l.current.push(this),this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){var e=Vs.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;var l=Math.min(this.updatedAt-this.prevUpdatedAt,30);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}},{key:"start",value:function(e){var l=this;return this.stop(),new Promise(function(_){l.hasAnimated=!0,l.animation=e(_),l.events.animationStart&&l.events.animationStart.notify()}).then(function(){l.events.animationComplete&&l.events.animationComplete.notify(),l.clearAnimation()})}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){var e,l;null===(e=this.dependents)||void 0===e||e.clear(),null===(l=this.events.destroy)||void 0===l||l.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}])}();var kl=createRenderBatcher(queueMicrotask,!1).schedule;R("r",kl);var wl={x:!1,y:!1};function isDragActive(){return wl.x||wl.y}function setupGesture(e,l){var _=resolveElements(e),k=new AbortController;return[_,_objectSpread2(_objectSpread2({passive:!0},l),{},{signal:k.signal}),function(){return k.abort()}]}function isValidHover(e){return!("touch"===e.pointerType||isDragActive())}var _isNodeOrChild=function(e,l){return!!l&&(e===l||_isNodeOrChild(e,l.parentElement))},Sl=R("B",function(e){return"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary}),Cl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);var El=new WeakSet;function filterEvents(e){return function(l){"Enter"===l.key&&e(l)}}function firePointerEvent(e,l){e.dispatchEvent(new PointerEvent("pointer"+l,{isPrimary:!0,bubbles:!0}))}var enableKeyboardPress=function(e,l){var _=e.currentTarget;if(_){var k=filterEvents(function(){if(!El.has(_)){firePointerEvent(_,"down");var e=filterEvents(function(){firePointerEvent(_,"up")});_.addEventListener("keyup",e,l),_.addEventListener("blur",function(){return firePointerEvent(_,"cancel")},l)}});_.addEventListener("keydown",k,l),_.addEventListener("blur",function(){return _.removeEventListener("keydown",k)},l)}};function isValidPressEvent(e){return Sl(e)&&!isDragActive()}function isSVGElement(e){return isObject$1(e)&&"ownerSVGElement"in e}var Tl,Al=new WeakMap,getSize=function(e,l,_){return function(k,S){return S&&S[0]?S[0][e+"Size"]:isSVGElement(k)&&"getBBox"in k?k.getBBox()[l]:k[_]}},xl=getSize("inline","width","offsetWidth"),Ol=getSize("block","height","offsetHeight");function notifyTarget(e){var l,_=e.target,k=e.borderBoxSize;null===(l=Al.get(_))||void 0===l||l.forEach(function(e){e(_,{get width(){return xl(_,k)},get height(){return Ol(_,k)}})})}function notifyAll(e){e.forEach(notifyTarget)}var Il,Rl=new Set;var Pl=R("c",function(e){return Boolean(e&&e.getVelocity)});function parseValue(e,l){return l?e+l:e}function asNumber(e){return"number"==typeof e?e:parseFloat(e)}var Ml=[].concat(ll,[lu,pu]),jl=(R("l",function(e){return Ml.find(testValueType(e))}),1e-6),Dl="undefined"!=typeof Float32Array?Float32Array:Array;R("aC",function(e,l,_,k,S){var E=1/Math.tan(l/2);if(e[0]=E/_,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=E,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=S&&S!==1/0){var T=1/(k-S);e[10]=(S+k)*T,e[14]=2*S*k*T}else e[10]=-1,e[14]=-2*k;return e});function create$3(){var e=new Dl(3);return Dl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function fromValues$1(e,l,_){var k=new Dl(3);return k[0]=e,k[1]=l,k[2]=_,k}function normalize$5(e,l){var _=l[0],k=l[1],S=l[2],E=_*_+k*k+S*S;return E>0&&(E=1/Math.sqrt(E)),e[0]=l[0]*E,e[1]=l[1]*E,e[2]=l[2]*E,e}function dot$3(e,l){return e[0]*l[0]+e[1]*l[1]+e[2]*l[2]}function cross$1(e,l,_){var k=l[0],S=l[1],E=l[2],T=_[0],O=_[1],I=_[2];return e[0]=S*I-E*O,e[1]=E*T-k*I,e[2]=k*O-S*T,e}function create$1(){var e=new Dl(4);return Dl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function setAxisAngle$1(e,l,_){_*=.5;var k=Math.sin(_);return e[0]=k*l[0],e[1]=k*l[1],e[2]=k*l[2],e[3]=Math.cos(_),e}function slerp$1(e,l,_,k){var S,E,T,O,I,R=l[0],M=l[1],j=l[2],D=l[3],L=_[0],U=_[1],B=_[2],q=_[3];return(E=R*L+M*U+j*B+D*q)<0&&(E=-E,L=-L,U=-U,B=-B,q=-q),1-E>jl?(S=Math.acos(E),T=Math.sin(S),O=Math.sin((1-k)*S)/T,I=Math.sin(k*S)/T):(O=1-k,I=k),e[0]=O*R+I*L,e[1]=O*M+I*U,e[2]=O*j+I*B,e[3]=O*D+I*q,e}create$3(),function(){var e,l=(e=new Dl(4),Dl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e)}();var Fl;R("aP",function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=_*_+k*k+S*S+E*E;return T>0&&(T=1/Math.sqrt(T)),e[0]=_*T,e[1]=k*T,e[2]=S*T,e[3]=E*T,e});function create(){var e=new Dl(2);return Dl!=Float32Array&&(e[0]=0,e[1]=0),e}create$3(),fromValues$1(1,0,0),fromValues$1(0,1,0),create$1(),create$1(),Fl=new Dl(9),Dl!=Float32Array&&(Fl[1]=0,Fl[2]=0,Fl[3]=0,Fl[5]=0,Fl[6]=0,Fl[7]=0),Fl[0]=1,Fl[4]=1,Fl[8]=1;R("aI",function(e,l,_){return e[0]=l[0]-_[0],e[1]=l[1]-_[1],e}),R("aK",function(e){var l=e[0],_=e[1];return l*l+_*_});function bind(e,l){return function(){return e.apply(l,arguments)}}!function(){var e=create()}();var Ll,Nl=Object.prototype.toString,Ul=Object.getPrototypeOf,Bl=Symbol.iterator,ql=Symbol.toStringTag,zl=(Ll=Object.create(null),function(e){var l=Nl.call(e);return Ll[l]||(Ll[l]=l.slice(8,-1).toLowerCase())}),kindOfTest=function(e){return e=e.toLowerCase(),function(l){return zl(l)===e}},typeOfTest=function(e){return function(l){return _typeof3(l)===e}},Gl=Array.isArray,Wl=typeOfTest("undefined");function isBuffer(e){return null!==e&&!Wl(e)&&null!==e.constructor&&!Wl(e.constructor)&&Hl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var Vl=kindOfTest("ArrayBuffer");var Kl=typeOfTest("string"),Hl=typeOfTest("function"),$l=typeOfTest("number"),isObject=function(e){return null!==e&&"object"===_typeof3(e)},isPlainObject=function(e){if("object"!==zl(e))return!1;var l=Ul(e);return!(null!==l&&l!==Object.prototype&&null!==Object.getPrototypeOf(l)||ql in e||Bl in e)},Jl=kindOfTest("Date"),Yl=kindOfTest("File"),Xl=kindOfTest("Blob"),Zl=kindOfTest("FileList"),Ql=kindOfTest("URLSearchParams"),ec=_slicedToArray(["ReadableStream","Request","Response","Headers"].map(kindOfTest),4),tc=ec[0],rc=ec[1],nc=ec[2],ic=ec[3];function forEach(e,l){var _,k,S=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,E=void 0!==S&&S;if(null!=e)if("object"!==_typeof3(e)&&(e=[e]),Gl(e))for(_=0,k=e.length;_<k;_++)l.call(null,e[_],_,e);else{if(isBuffer(e))return;var T,O=E?Object.getOwnPropertyNames(e):Object.keys(e),I=O.length;for(_=0;_<I;_++)T=O[_],l.call(null,e[T],T,e)}}function findKey(e,l){if(isBuffer(e))return null;l=l.toLowerCase();for(var _,k=Object.keys(e),S=k.length;S-- >0;)if(l===(_=k[S]).toLowerCase())return _;return null}var ac="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,isContextDefined=function(e){return!Wl(e)&&e!==ac};var oc,sc=(oc="undefined"!=typeof Uint8Array&&Ul(Uint8Array),function(e){return oc&&e instanceof oc}),uc=kindOfTest("HTMLFormElement"),lc=function(){var e=Object.prototype.hasOwnProperty;return function(l,_){return e.call(l,_)}}(),cc=kindOfTest("RegExp"),reduceDescriptors=function(e,l){var _=Object.getOwnPropertyDescriptors(e),k={};forEach(_,function(_,S){var E;!1!==(E=l(_,S,e))&&(k[S]=E||_)}),Object.defineProperties(e,k)};var hc,dc,fc,pc,vc=kindOfTest("AsyncFunction"),gc=(hc="function"==typeof setImmediate,dc=Hl(ac.postMessage),hc?setImmediate:dc?(fc="axios@".concat(Math.random()),pc=[],ac.addEventListener("message",function(e){var l=e.source,_=e.data;l===ac&&_===fc&&pc.length&&pc.shift()()},!1),function(e){pc.push(e),ac.postMessage(fc,"*")}):function(e){return setTimeout(e)}),mc="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ac):"undefined"!=typeof process&&process.nextTick||gc,yc={isArray:Gl,isArrayBuffer:Vl,isBuffer:isBuffer,isFormData:function(e){var l;return e&&("function"==typeof FormData&&e instanceof FormData||Hl(e.append)&&("formdata"===(l=zl(e))||"object"===l&&Hl(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Vl(e.buffer)},isString:Kl,isNumber:$l,isBoolean:function(e){return!0===e||!1===e},isObject:isObject,isPlainObject:isPlainObject,isEmptyObject:function(e){if(!isObject(e)||isBuffer(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(ta){return!1}},isReadableStream:tc,isRequest:rc,isResponse:nc,isHeaders:ic,isUndefined:Wl,isDate:Jl,isFile:Yl,isBlob:Xl,isRegExp:cc,isFunction:Hl,isStream:function(e){return isObject(e)&&Hl(e.pipe)},isURLSearchParams:Ql,isTypedArray:sc,isFileList:Zl,forEach:forEach,merge:function merge(){for(var e=isContextDefined(this)&&this||{},l=e.caseless,_=e.skipUndefined,k={},assignValue=function(e,S){var E=l&&findKey(k,S)||S;isPlainObject(k[E])&&isPlainObject(e)?k[E]=merge(k[E],e):isPlainObject(e)?k[E]=merge({},e):Gl(e)?k[E]=e.slice():_&&Wl(e)||(k[E]=e)},S=0,E=arguments.length;S<E;S++)arguments[S]&&forEach(arguments[S],assignValue);return k},extend:function(e,l,_){return forEach(l,function(l,k){_&&Hl(l)?e[k]=bind(l,_):e[k]=l},{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,l,_,k){e.prototype=Object.create(l.prototype,k),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:l.prototype}),_&&Object.assign(e.prototype,_)},toFlatObject:function(e,l,_,k){var S,E,T,O={};if(l=l||{},null==e)return l;do{for(E=(S=Object.getOwnPropertyNames(e)).length;E-- >0;)T=S[E],k&&!k(T,e,l)||O[T]||(l[T]=e[T],O[T]=!0);e=!1!==_&&Ul(e)}while(e&&(!_||_(e,l))&&e!==Object.prototype);return l},kindOf:zl,kindOfTest:kindOfTest,endsWith:function(e,l,_){e=String(e),(void 0===_||_>e.length)&&(_=e.length),_-=l.length;var k=e.indexOf(l,_);return-1!==k&&k===_},toArray:function(e){if(!e)return null;if(Gl(e))return e;var l=e.length;if(!$l(l))return null;for(var _=new Array(l);l-- >0;)_[l]=e[l];return _},forEachEntry:function(e,l){for(var _,k=(e&&e[Bl]).call(e);(_=k.next())&&!_.done;){var S=_.value;l.call(e,S[0],S[1])}},matchAll:function(e,l){for(var _,k=[];null!==(_=e.exec(l));)k.push(_);return k},isHTMLForm:uc,hasOwnProperty:lc,hasOwnProp:lc,reduceDescriptors:reduceDescriptors,freezeMethods:function(e){reduceDescriptors(e,function(l,_){if(Hl(e)&&-1!==["arguments","caller","callee"].indexOf(_))return!1;var k=e[_];Hl(k)&&(l.enumerable=!1,"writable"in l?l.writable=!1:l.set||(l.set=function(){throw Error("Can not rewrite read-only method '"+_+"'")}))})},toObjectSet:function(e,l){var _={},define=function(e){e.forEach(function(e){_[e]=!0})};return Gl(e)?define(e):define(String(e).split(l)),_},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,l,_){return l.toUpperCase()+_})},noop:function(){},toFiniteNumber:function(e,l){return null!=e&&Number.isFinite(e=+e)?e:l},findKey:findKey,global:ac,isContextDefined:isContextDefined,isSpecCompliantForm:function(e){return!!(e&&Hl(e.append)&&"FormData"===e[ql]&&e[Bl])},toJSONObject:function(e){var l=new Array(10),_visit=function(e,_){if(isObject(e)){if(l.indexOf(e)>=0)return;if(isBuffer(e))return e;if(!("toJSON"in e)){l[_]=e;var k=Gl(e)?[]:{};return forEach(e,function(e,l){var S=_visit(e,_+1);!Wl(S)&&(k[l]=S)}),l[_]=void 0,k}}return e};return _visit(e,0)},isAsyncFn:vc,isThenable:function(e){return e&&(isObject(e)||Hl(e))&&Hl(e.then)&&Hl(e.catch)},setImmediate:gc,asap:mc,isIterable:function(e){return null!=e&&Hl(e[Bl])}};function AxiosError$1(e,l,_,k,S){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",l&&(this.code=l),_&&(this.config=_),k&&(this.request=k),S&&(this.response=S,this.status=S.status?S.status:null)}yc.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yc.toJSONObject(this.config),code:this.code,status:this.status}}});var _c=AxiosError$1.prototype,bc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){bc[e]={value:e}}),Object.defineProperties(AxiosError$1,bc),Object.defineProperty(_c,"isAxiosError",{value:!0}),AxiosError$1.from=function(e,l,_,k,S,E){var T=Object.create(_c);yc.toFlatObject(e,T,function(e){return e!==Error.prototype},function(e){return"isAxiosError"!==e});var O=e&&e.message?e.message:"Error",I=null==l&&e?e.code:l;return AxiosError$1.call(T,O,I,_,k,S),e&&null==T.cause&&Object.defineProperty(T,"cause",{value:e,configurable:!0}),T.name=e&&e.name||"Error",E&&Object.assign(T,E),T};function isVisitable(e){return yc.isPlainObject(e)||yc.isArray(e)}function removeBrackets(e){return yc.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,l,_){return e?e.concat(l).map(function(e,l){return e=removeBrackets(e),!_&&l?"["+e+"]":e}).join(_?".":""):l}var kc=yc.toFlatObject(yc,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(e,l,_){if(!yc.isObject(e))throw new TypeError("target must be an object");l=l||new FormData;var k=(_=yc.toFlatObject(_,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,l){return!yc.isUndefined(l[e])})).metaTokens,S=_.visitor||defaultVisitor,E=_.dots,T=_.indexes,O=(_.Blob||"undefined"!=typeof Blob&&Blob)&&yc.isSpecCompliantForm(l);if(!yc.isFunction(S))throw new TypeError("visitor must be a function");function convertValue(e){if(null===e)return"";if(yc.isDate(e))return e.toISOString();if(yc.isBoolean(e))return e.toString();if(!O&&yc.isBlob(e))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return yc.isArrayBuffer(e)||yc.isTypedArray(e)?O&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function defaultVisitor(e,_,S){var O=e;if(e&&!S&&"object"===_typeof3(e))if(yc.endsWith(_,"{}"))_=k?_:_.slice(0,-2),e=JSON.stringify(e);else if(yc.isArray(e)&&function(e){return yc.isArray(e)&&!e.some(isVisitable)}(e)||(yc.isFileList(e)||yc.endsWith(_,"[]"))&&(O=yc.toArray(e)))return _=removeBrackets(_),O.forEach(function(e,k){!yc.isUndefined(e)&&null!==e&&l.append(!0===T?renderKey([_],k,E):null===T?_:_+"[]",convertValue(e))}),!1;return!!isVisitable(e)||(l.append(renderKey(S,_,E),convertValue(e)),!1)}var I=[],R=Object.assign(kc,{defaultVisitor:defaultVisitor,convertValue:convertValue,isVisitable:isVisitable});if(!yc.isObject(e))throw new TypeError("data must be an object");return function build(e,_){if(!yc.isUndefined(e)){if(-1!==I.indexOf(e))throw Error("Circular reference detected in "+_.join("."));I.push(e),yc.forEach(e,function(e,k){!0===(!(yc.isUndefined(e)||null===e)&&S.call(l,e,yc.isString(k)?k.trim():k,_,R))&&build(e,_?_.concat(k):[k])}),I.pop()}}(e),l}function encode$1(e){var l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return l[e]})}function AxiosURLSearchParams(e,l){this._pairs=[],e&&toFormData$1(e,this,l)}var wc=AxiosURLSearchParams.prototype;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(e,l,_){if(!l)return e;var k=_&&_.encode||encode;yc.isFunction(_)&&(_={serialize:_});var S,E=_&&_.serialize;if(S=E?E(l,_):yc.isURLSearchParams(l)?l.toString():new AxiosURLSearchParams(l,_).toString(k)){var T=e.indexOf("#");-1!==T&&(e=e.slice(0,T)),e+=(-1===e.indexOf("?")?"?":"&")+S}return e}wc.append=function(e,l){this._pairs.push([e,l])},wc.toString=function(e){var l=e?function(l){return e.call(this,l,encode$1)}:encode$1;return this._pairs.map(function(e){return l(e[0])+"="+l(e[1])},"").join("&")};var Sc=function(){return _createClass3(function InterceptorManager(){_classCallCheck3(this,InterceptorManager),this.handlers=[]},[{key:"use",value:function(e,l,_){return this.handlers.push({fulfilled:e,rejected:l,synchronous:!!_&&_.synchronous,runWhen:_?_.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){yc.forEach(this.handlers,function(l){null!==l&&e(l)})}}])}(),Cc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ec={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Tc="undefined"!=typeof window&&"undefined"!=typeof document,Ac="object"===("undefined"==typeof navigator?"undefined":_typeof3(navigator))&&navigator||void 0,xc=Tc&&(!Ac||["ReactNative","NativeScript","NS"].indexOf(Ac.product)<0),Oc="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ic=Tc&&window.location.href||"http://localhost",Rc=_objectSpread2(_objectSpread2({},Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tc,hasStandardBrowserEnv:xc,hasStandardBrowserWebWorkerEnv:Oc,navigator:Ac,origin:Ic},Symbol.toStringTag,{value:"Module"}))),Ec);function formDataToJSON(e){function buildPath(e,l,_,k){var S=e[k++];if("__proto__"===S)return!0;var E=Number.isFinite(+S),T=k>=e.length;return S=!S&&yc.isArray(_)?_.length:S,T?(yc.hasOwnProp(_,S)?_[S]=[_[S],l]:_[S]=l,!E):(_[S]&&yc.isObject(_[S])||(_[S]=[]),buildPath(e,l,_[S],k)&&yc.isArray(_[S])&&(_[S]=function(e){var l,_,k={},S=Object.keys(e),E=S.length;for(l=0;l<E;l++)k[_=S[l]]=e[_];return k}(_[S])),!E)}if(yc.isFormData(e)&&yc.isFunction(e.entries)){var l={};return yc.forEachEntry(e,function(e,_){buildPath(function(e){return yc.matchAll(/\w+|\[(\w*)]/g,e).map(function(e){return"[]"===e[0]?"":e[1]||e[0]})}(e),_,l,0)}),l}return null}var Pc={transitional:Cc,adapter:["xhr","http","fetch"],transformRequest:[function(e,l){var _,k=l.getContentType()||"",S=k.indexOf("application/json")>-1,E=yc.isObject(e);if(E&&yc.isHTMLForm(e)&&(e=new FormData(e)),yc.isFormData(e))return S?JSON.stringify(formDataToJSON(e)):e;if(yc.isArrayBuffer(e)||yc.isBuffer(e)||yc.isStream(e)||yc.isFile(e)||yc.isBlob(e)||yc.isReadableStream(e))return e;if(yc.isArrayBufferView(e))return e.buffer;if(yc.isURLSearchParams(e))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(E){if(k.indexOf("application/x-www-form-urlencoded")>-1)return function(e,l){return toFormData$1(e,new Rc.classes.URLSearchParams,_objectSpread2({visitor:function(e,l,_,k){return Rc.isNode&&yc.isBuffer(e)?(this.append(l,e.toString("base64")),!1):k.defaultVisitor.apply(this,arguments)}},l))}(e,this.formSerializer).toString();if((_=yc.isFileList(e))||k.indexOf("multipart/form-data")>-1){var T=this.env&&this.env.FormData;return toFormData$1(_?{"files[]":e}:e,T&&new T,this.formSerializer)}}return E||S?(l.setContentType("application/json",!1),function(e,l,_){if(yc.isString(e))try{return(l||JSON.parse)(e),yc.trim(e)}catch(ta){if("SyntaxError"!==ta.name)throw ta}return(_||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var l=this.transitional||Pc.transitional,_=l&&l.forcedJSONParsing,k="json"===this.responseType;if(yc.isResponse(e)||yc.isReadableStream(e))return e;if(e&&yc.isString(e)&&(_&&!this.responseType||k)){var S=!(l&&l.silentJSONParsing)&&k;try{return JSON.parse(e,this.parseReviver)}catch(ta){if(S){if("SyntaxError"===ta.name)throw AxiosError$1.from(ta,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response);throw ta}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rc.classes.FormData,Blob:Rc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yc.forEach(["delete","get","head","post","put","patch"],function(e){Pc.headers[e]={}});var Mc=yc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jc=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:yc.isArray(e)?e.map(normalizeValue):String(e)}function matchHeaderValue(e,l,_,k,S){return yc.isFunction(k)?k.call(this,l,_):(S&&(l=_),yc.isString(l)?yc.isString(k)?-1!==l.indexOf(k):yc.isRegExp(k)?k.test(l):void 0:void 0)}var Dc=function(){return _createClass3(function AxiosHeaders(e){_classCallCheck3(this,AxiosHeaders),e&&this.set(e)},[{key:"set",value:function(e,l,_){var k=this;function setHeader(e,l,_){var S=normalizeHeader(l);if(!S)throw new Error("header name must be a non-empty string");var E=yc.findKey(k,S);(!E||void 0===k[E]||!0===_||void 0===_&&!1!==k[E])&&(k[E||l]=normalizeValue(e))}var setHeaders=function(e,l){return yc.forEach(e,function(e,_){return setHeader(e,_,l)})};if(yc.isPlainObject(e)||e instanceof this.constructor)setHeaders(e,l);else if(yc.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))setHeaders(function(e){var l,_,k,S={};return e&&e.split("\n").forEach(function(e){k=e.indexOf(":"),l=e.substring(0,k).trim().toLowerCase(),_=e.substring(k+1).trim(),!l||S[l]&&Mc[l]||("set-cookie"===l?S[l]?S[l].push(_):S[l]=[_]:S[l]=S[l]?S[l]+", "+_:_)}),S}(e),l);else if(yc.isObject(e)&&yc.isIterable(e)){var S,E,T,O={},I=_createForOfIteratorHelper2(e);try{for(I.s();!(T=I.n()).done;){var R=T.value;if(!yc.isArray(R))throw TypeError("Object iterator must return a key-value pair");O[E=R[0]]=(S=O[E])?yc.isArray(S)?[].concat(_toConsumableArray3(S),[R[1]]):[S,R[1]]:R[1]}}catch(M){I.e(M)}finally{I.f()}setHeaders(O,l)}else null!=e&&setHeader(l,e,_);return this}},{key:"get",value:function(e,l){if(e=normalizeHeader(e)){var _=yc.findKey(this,e);if(_){var k=this[_];if(!l)return k;if(!0===l)return function(e){for(var l,_=Object.create(null),k=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;l=k.exec(e);)_[l[1]]=l[2];return _}(k);if(yc.isFunction(l))return l.call(this,k,_);if(yc.isRegExp(l))return l.exec(k);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,l){if(e=normalizeHeader(e)){var _=yc.findKey(this,e);return!(!_||void 0===this[_]||l&&!matchHeaderValue(0,this[_],_,l))}return!1}},{key:"delete",value:function(e,l){var _=this,k=!1;function deleteHeader(e){if(e=normalizeHeader(e)){var S=yc.findKey(_,e);!S||l&&!matchHeaderValue(0,_[S],S,l)||(delete _[S],k=!0)}}return yc.isArray(e)?e.forEach(deleteHeader):deleteHeader(e),k}},{key:"clear",value:function(e){for(var l=Object.keys(this),_=l.length,k=!1;_--;){var S=l[_];e&&!matchHeaderValue(0,this[S],S,e,!0)||(delete this[S],k=!0)}return k}},{key:"normalize",value:function(e){var l=this,_={};return yc.forEach(this,function(k,S){var E=yc.findKey(_,S);if(E)return l[E]=normalizeValue(k),void delete l[S];var T=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(e,l,_){return l.toUpperCase()+_})}(S):String(S).trim();T!==S&&delete l[S],l[T]=normalizeValue(k),_[T]=!0}),this}},{key:"concat",value:function(){for(var e,l=arguments.length,_=new Array(l),k=0;k<l;k++)_[k]=arguments[k];return(e=this.constructor).concat.apply(e,[this].concat(_))}},{key:"toJSON",value:function(e){var l=Object.create(null);return yc.forEach(this,function(_,k){null!=_&&!1!==_&&(l[k]=e&&yc.isArray(_)?_.join(", "):_)}),l}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(e){var l=_slicedToArray(e,2);return l[0]+": "+l[1]}).join("\n")}},{key:"getSetCookie",value:function(){return this.get("set-cookie")||[]}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var l=new this(e),_=arguments.length,k=new Array(_>1?_-1:0),S=1;S<_;S++)k[S-1]=arguments[S];return k.forEach(function(e){return l.set(e)}),l}},{key:"accessor",value:function(e){var l=(this[jc]=this[jc]={accessors:{}}).accessors,_=this.prototype;function defineAccessor(e){var k=normalizeHeader(e);l[k]||(!function(e,l){var _=yc.toCamelCase(" "+l);["get","set","has"].forEach(function(k){Object.defineProperty(e,k+_,{value:function(e,_,S){return this[k].call(this,l,e,_,S)},configurable:!0})})}(_,e),l[k]=!0)}return yc.isArray(e)?e.forEach(defineAccessor):defineAccessor(e),this}}])}();function transformData(e,l){var _=this||Pc,k=l||_,S=Dc.from(k.headers),E=k.data;return yc.forEach(e,function(e){E=e.call(_,E,S.normalize(),l?l.status:void 0)}),S.normalize(),E}function isCancel$1(e){return!(!e||!e.__CANCEL__)}function CanceledError$1(e,l,_){AxiosError$1.call(this,null==e?"canceled":e,AxiosError$1.ERR_CANCELED,l,_),this.name="CanceledError"}function settle(e,l,_){var k=_.config.validateStatus;_.status&&k&&!k(_.status)?l(new AxiosError$1("Request failed with status code "+_.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(_.status/100)-4],_.config,_.request,_)):e(_)}Dc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yc.reduceDescriptors(Dc.prototype,function(e,l){var _=e.value,k=l[0].toUpperCase()+l.slice(1);return{get:function(){return _},set:function(e){this[k]=e}}}),yc.freezeMethods(Dc),yc.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});var progressEventReducer=function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,k=0,S=function(e,l){e=e||10;var _,k=new Array(e),S=new Array(e),E=0,T=0;return l=void 0!==l?l:1e3,function(O){var I=Date.now(),R=S[T];_||(_=I),k[E]=O,S[E]=I;for(var M=T,j=0;M!==E;)j+=k[M++],M%=e;if((E=(E+1)%e)===T&&(T=(T+1)%e),!(I-_<l)){var D=R&&I-R;return D?Math.round(1e3*j/D):void 0}}}(50,250);return function(e,l){var _,k,S=0,E=1e3/l,invoke=function(l){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();S=E,_=null,k&&(clearTimeout(k),k=null),e.apply(void 0,_toConsumableArray3(l))};return[function(){for(var e=Date.now(),l=e-S,T=arguments.length,O=new Array(T),I=0;I<T;I++)O[I]=arguments[I];l>=E?invoke(O,e):(_=O,k||(k=setTimeout(function(){k=null,invoke(_)},E-l)))},function(){return _&&invoke(_)}]}(function(_){var E=_.loaded,T=_.lengthComputable?_.total:void 0,O=E-k,I=S(O);k=E;var R=_defineProperty3({loaded:E,total:T,progress:T?E/T:void 0,bytes:O,rate:I||void 0,estimated:I&&T&&E<=T?(T-E)/I:void 0,event:_,lengthComputable:null!=T},l?"download":"upload",!0);e(R)},_)},progressEventDecorator=function(e,l){var _=null!=e;return[function(k){return l[0]({lengthComputable:_,total:e,loaded:k})},l[1]]},asyncDecorator=function(e){return function(){for(var l=arguments.length,_=new Array(l),k=0;k<l;k++)_[k]=arguments[k];return yc.asap(function(){return e.apply(void 0,_)})}},Fc=Rc.hasStandardBrowserEnv?function(e,l){return function(_){return _=new URL(_,Rc.origin),e.protocol===_.protocol&&e.host===_.host&&(l||e.port===_.port)}}(new URL(Rc.origin),Rc.navigator&&/(msie|trident)/i.test(Rc.navigator.userAgent)):function(){return!0},Lc=Rc.hasStandardBrowserEnv?{write:function(e,l,_,k,S,E){var T=[e+"="+encodeURIComponent(l)];yc.isNumber(_)&&T.push("expires="+new Date(_).toGMTString()),yc.isString(k)&&T.push("path="+k),yc.isString(S)&&T.push("domain="+S),!0===E&&T.push("secure"),document.cookie=T.join("; ")},read:function(e){var l=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function buildFullPath(e,l,_){var k=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l);return e&&(k||0==_)?function(e,l){return l?e.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):e}(e,l):l}var headersToObject=function(e){return e instanceof Dc?_objectSpread2({},e):e};function mergeConfig$1(e,l){l=l||{};var _={};function getMergedValue(e,l,_,k){return yc.isPlainObject(e)&&yc.isPlainObject(l)?yc.merge.call({caseless:k},e,l):yc.isPlainObject(l)?yc.merge({},l):yc.isArray(l)?l.slice():l}function mergeDeepProperties(e,l,_,k){return yc.isUndefined(l)?yc.isUndefined(e)?void 0:getMergedValue(void 0,e,0,k):getMergedValue(e,l,0,k)}function valueFromConfig2(e,l){if(!yc.isUndefined(l))return getMergedValue(void 0,l)}function defaultToConfig2(e,l){return yc.isUndefined(l)?yc.isUndefined(e)?void 0:getMergedValue(void 0,e):getMergedValue(void 0,l)}function mergeDirectKeys(_,k,S){return S in l?getMergedValue(_,k):S in e?getMergedValue(void 0,_):void 0}var k={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:function(e,l,_){return mergeDeepProperties(headersToObject(e),headersToObject(l),0,!0)}};return yc.forEach(Object.keys(_objectSpread2(_objectSpread2({},e),l)),function(S){var E=k[S]||mergeDeepProperties,T=E(e[S],l[S],S);yc.isUndefined(T)&&E!==mergeDirectKeys||(_[S]=T)}),_}var Nc,resolveConfig=function(e){var l=mergeConfig$1({},e),_=l.data,k=l.withXSRFToken,S=l.xsrfHeaderName,E=l.xsrfCookieName,T=l.headers,O=l.auth;if(l.headers=T=Dc.from(T),l.url=buildURL(buildFullPath(l.baseURL,l.url,l.allowAbsoluteUrls),e.params,e.paramsSerializer),O&&T.set("Authorization","Basic "+btoa((O.username||"")+":"+(O.password?unescape(encodeURIComponent(O.password)):""))),yc.isFormData(_))if(Rc.hasStandardBrowserEnv||Rc.hasStandardBrowserWebWorkerEnv)T.setContentType(void 0);else if(yc.isFunction(_.getHeaders)){var I=_.getHeaders(),R=["content-type","content-length"];Object.entries(I).forEach(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];R.includes(_.toLowerCase())&&T.set(_,k)})}if(Rc.hasStandardBrowserEnv&&(k&&yc.isFunction(k)&&(k=k(l)),k||!1!==k&&Fc(l.url))){var M=S&&E&&Lc.read(E);M&&T.set(S,M)}return l},Uc="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(l,_){var k,S,E,T,O,I=resolveConfig(e),R=I.data,M=Dc.from(I.headers).normalize(),j=I.responseType,D=I.onUploadProgress,L=I.onDownloadProgress;function done(){T&&T(),O&&O(),I.cancelToken&&I.cancelToken.unsubscribe(k),I.signal&&I.signal.removeEventListener("abort",k)}var U=new XMLHttpRequest;function onloadend(){if(U){var k=Dc.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders());settle(function(e){l(e),done()},function(e){_(e),done()},{data:j&&"text"!==j&&"json"!==j?U.response:U.responseText,status:U.status,statusText:U.statusText,headers:k,config:e,request:U}),U=null}}if(U.open(I.method.toUpperCase(),I.url,!0),U.timeout=I.timeout,"onloadend"in U?U.onloadend=onloadend:U.onreadystatechange=function(){U&&4===U.readyState&&(0!==U.status||U.responseURL&&0===U.responseURL.indexOf("file:"))&&setTimeout(onloadend)},U.onabort=function(){U&&(_(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,U)),U=null)},U.onerror=function(l){var k=new AxiosError$1(l&&l.message?l.message:"Network Error",AxiosError$1.ERR_NETWORK,e,U);k.event=l||null,_(k),U=null},U.ontimeout=function(){var l=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded",k=I.transitional||Cc;I.timeoutErrorMessage&&(l=I.timeoutErrorMessage),_(new AxiosError$1(l,k.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,U)),U=null},void 0===R&&M.setContentType(null),"setRequestHeader"in U&&yc.forEach(M.toJSON(),function(e,l){U.setRequestHeader(l,e)}),yc.isUndefined(I.withCredentials)||(U.withCredentials=!!I.withCredentials),j&&"json"!==j&&(U.responseType=I.responseType),L){var B=_slicedToArray(progressEventReducer(L,!0),2);E=B[0],O=B[1],U.addEventListener("progress",E)}if(D&&U.upload){var q=_slicedToArray(progressEventReducer(D),2);S=q[0],T=q[1],U.upload.addEventListener("progress",S),U.upload.addEventListener("loadend",T)}(I.cancelToken||I.signal)&&(k=function(l){U&&(_(!l||l.type?new CanceledError$1(null,e,U):l),U.abort(),U=null)},I.cancelToken&&I.cancelToken.subscribe(k),I.signal&&(I.signal.aborted?k():I.signal.addEventListener("abort",k)));var z,G,W=(z=I.url,(G=/^([-+\w]{1,25})(:?\/\/|:)/.exec(z))&&G[1]||"");W&&-1===Rc.protocols.indexOf(W)?_(new AxiosError$1("Unsupported protocol "+W+":",AxiosError$1.ERR_BAD_REQUEST,e)):U.send(R||null)})},composeSignals=function(e,l){var _=(e=e?e.filter(Boolean):[]).length;if(l||_){var k,S=new AbortController,onabort=function(e){if(!k){k=!0,unsubscribe();var l=e instanceof Error?e:this.reason;S.abort(l instanceof AxiosError$1?l:new CanceledError$1(l instanceof Error?l.message:l))}},E=l&&setTimeout(function(){E=null,onabort(new AxiosError$1("timeout ".concat(l," of ms exceeded"),AxiosError$1.ETIMEDOUT))},l),unsubscribe=function(){e&&(E&&clearTimeout(E),E=null,e.forEach(function(e){e.unsubscribe?e.unsubscribe(onabort):e.removeEventListener("abort",onabort)}),e=null)};e.forEach(function(e){return e.addEventListener("abort",onabort)});var T=S.signal;return T.unsubscribe=function(){return yc.asap(unsubscribe)},T}},Bc=_regenerator().m(function streamChunk(e,l){var _,k,S;return _regenerator().w(function(E){for(;;)switch(E.n){case 0:if(!((_=e.byteLength)<l)){E.n=2;break}return E.n=1,e;case 1:return E.a(2);case 2:k=0;case 3:if(!(k<_)){E.n=5;break}return S=k+l,E.n=4,e.slice(k,S);case 4:k=S,E.n=3;break;case 5:return E.a(2)}},streamChunk)}),qc=function(){var e=_wrapAsyncGenerator(_regenerator().m(function _callee210(e,l){var _,k,S,E,T,O,I;return _regenerator().w(function(R){for(;;)switch(R.p=R.n){case 0:_=!1,k=!1,R.p=1,E=_asyncIterator(zc(e));case 2:return R.n=3,_awaitAsyncGenerator(E.next());case 3:if(!(_=!(T=R.v).done)){R.n=5;break}return O=T.value,R.d(_regeneratorValues(_asyncGeneratorDelegate(_asyncIterator(Bc(O,l)))),4);case 4:_=!1,R.n=2;break;case 5:R.n=7;break;case 6:R.p=6,I=R.v,k=!0,S=I;case 7:if(R.p=7,R.p=8,!_||null==E.return){R.n=9;break}return R.n=9,_awaitAsyncGenerator(E.return());case 9:if(R.p=9,!k){R.n=10;break}throw S;case 10:return R.f(9);case 11:return R.f(7);case 12:return R.a(2)}},_callee210,null,[[8,,9,11],[1,6,7,12]])}));return function(l,_){return e.apply(this,arguments)}}(),zc=function(){var e=_wrapAsyncGenerator(_regenerator().m(function _callee211(e){var l,_,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:if(!e[Symbol.asyncIterator]){E.n=2;break}return E.d(_regeneratorValues(_asyncGeneratorDelegate(_asyncIterator(e))),1);case 1:return E.a(2);case 2:l=e.getReader(),E.p=3;case 4:return E.n=5,_awaitAsyncGenerator(l.read());case 5:if(_=E.v,k=_.done,S=_.value,!k){E.n=6;break}return E.a(3,8);case 6:return E.n=7,S;case 7:E.n=4;break;case 8:return E.p=8,E.n=9,_awaitAsyncGenerator(l.cancel());case 9:return E.f(8);case 10:return E.a(2)}},_callee211,null,[[3,,8,10]])}));return function(l){return e.apply(this,arguments)}}(),trackStream=function(e,l,_,k){var S,E=qc(e,l),T=0,_onFinish=function(e){S||(S=!0,k&&k(e))};return new ReadableStream({pull:function(e){return _asyncToGenerator(_regenerator().m(function _callee212(){var l,k,S,O,I,R;return _regenerator().w(function(M){for(;;)switch(M.p=M.n){case 0:return M.p=0,M.n=1,E.next();case 1:if(l=M.v,k=l.done,S=l.value,!k){M.n=2;break}return _onFinish(),e.close(),M.a(2);case 2:O=S.byteLength,_&&(I=T+=O,_(I)),e.enqueue(new Uint8Array(S)),M.n=4;break;case 3:throw M.p=3,R=M.v,_onFinish(R),R;case 4:return M.a(2)}},_callee212,null,[[0,3]])}))()},cancel:function(e){return _onFinish(e),E.return()}},{highWaterMark:2})},Gc=yc.isFunction,Wc={Request:(Nc=yc.global).Request,Response:Nc.Response},Vc=yc.global,Kc=Vc.ReadableStream,Hc=Vc.TextEncoder,test=function(e){try{for(var l=arguments.length,_=new Array(l>1?l-1:0),k=1;k<l;k++)_[k-1]=arguments[k];return!!e.apply(void 0,_)}catch(ta){return!1}},factory=function(e){var l=e=yc.merge.call({skipUndefined:!0},Wc,e),_=l.fetch,k=l.Request,S=l.Response,E=_?Gc(_):"function"==typeof fetch,T=Gc(k),O=Gc(S);if(!E)return!1;var I,R=E&&Gc(Kc),M=E&&("function"==typeof Hc?(I=new Hc,function(e){return I.encode(e)}):function(){var e=_asyncToGenerator(_regenerator().m(function _callee213(e){var l,_;return _regenerator().w(function(S){for(;;)switch(S.n){case 0:return l=Uint8Array,S.n=1,new k(e).arrayBuffer();case 1:return _=S.v,S.a(2,new l(_))}},_callee213)}));return function(l){return e.apply(this,arguments)}}()),j=T&&R&&test(function(){var e=!1,l=new k(Rc.origin,{body:new Kc,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!l}),D=O&&R&&test(function(){return yc.isReadableStream(new S("").body)}),L={stream:D&&function(e){return e.body}};E&&["text","arrayBuffer","blob","formData","stream"].forEach(function(e){!L[e]&&(L[e]=function(l,_){var k=l&&l[e];if(k)return k.call(l);throw new AxiosError$1("Response type '".concat(e,"' is not supported"),AxiosError$1.ERR_NOT_SUPPORT,_)})});var U=function(){var e=_asyncToGenerator(_regenerator().m(function _callee214(e){var l;return _regenerator().w(function(_){for(;;)switch(_.n){case 0:if(null!=e){_.n=1;break}return _.a(2,0);case 1:if(!yc.isBlob(e)){_.n=2;break}return _.a(2,e.size);case 2:if(!yc.isSpecCompliantForm(e)){_.n=4;break}return l=new k(Rc.origin,{method:"POST",body:e}),_.n=3,l.arrayBuffer();case 3:case 6:return _.a(2,_.v.byteLength);case 4:if(!yc.isArrayBufferView(e)&&!yc.isArrayBuffer(e)){_.n=5;break}return _.a(2,e.byteLength);case 5:if(yc.isURLSearchParams(e)&&(e+=""),!yc.isString(e)){_.n=7;break}return _.n=6,M(e);case 7:return _.a(2)}},_callee214)}));return function(l){return e.apply(this,arguments)}}(),B=function(){var e=_asyncToGenerator(_regenerator().m(function _callee215(e,l){var _;return _regenerator().w(function(k){for(;;)if(0===k.n)return _=yc.toFiniteNumber(e.getContentLength()),k.a(2,null==_?U(l):_)},_callee215)}));return function(l,_){return e.apply(this,arguments)}}();return function(){var e=_asyncToGenerator(_regenerator().m(function _callee216(e){var l,E,O,I,R,M,U,q,z,G,W,V,K,H,$,J,Y,X,Z,Q,ee,te,re,ne,ie,ae,oe,se,ue,le,ce,he,de,fe,pe,ve,ge,me,ye;return _regenerator().w(function(_e){for(;;)switch(_e.p=_e.n){case 0:if(l=resolveConfig(e),E=l.url,O=l.method,I=l.data,R=l.signal,M=l.cancelToken,U=l.timeout,q=l.onDownloadProgress,z=l.onUploadProgress,G=l.responseType,W=l.headers,V=l.withCredentials,K=void 0===V?"same-origin":V,H=l.fetchOptions,$=_||fetch,G=G?(G+"").toLowerCase():"text",J=composeSignals([R,M&&M.toAbortSignal()],U),Y=null,X=J&&J.unsubscribe&&function(){J.unsubscribe()},_e.p=1,!(ge=z&&j&&"get"!==O&&"head"!==O)){_e.n=3;break}return _e.n=2,B(W,I);case 2:me=Z=_e.v,ge=0!==me;case 3:if(!ge){_e.n=4;break}Q=new k(E,{method:"POST",body:I,duplex:"half"}),yc.isFormData(I)&&(ee=Q.headers.get("content-type"))&&W.setContentType(ee),Q.body&&(te=progressEventDecorator(Z,progressEventReducer(asyncDecorator(z))),re=_slicedToArray(te,2),ne=re[0],ie=re[1],I=trackStream(Q.body,65536,ne,ie));case 4:return yc.isString(K)||(K=K?"include":"omit"),ae=T&&"credentials"in k.prototype,oe=_objectSpread2(_objectSpread2({},H),{},{signal:J,method:O.toUpperCase(),headers:W.normalize().toJSON(),body:I,duplex:"half",credentials:ae?K:void 0}),Y=T&&new k(E,oe),_e.n=5,T?$(Y,H):$(E,oe);case 5:return se=_e.v,ue=D&&("stream"===G||"response"===G),D&&(q||ue&&X)&&(le={},["status","statusText","headers"].forEach(function(e){le[e]=se[e]}),ce=yc.toFiniteNumber(se.headers.get("content-length")),he=q&&progressEventDecorator(ce,progressEventReducer(asyncDecorator(q),!0))||[],de=_slicedToArray(he,2),fe=de[0],pe=de[1],se=new S(trackStream(se.body,65536,fe,function(){pe&&pe(),X&&X()}),le)),G=G||"text",_e.n=6,L[yc.findKey(L,G)||"text"](se,e);case 6:return ve=_e.v,!ue&&X&&X(),_e.n=7,new Promise(function(l,_){settle(l,_,{data:ve,headers:Dc.from(se.headers),status:se.status,statusText:se.statusText,config:e,request:Y})});case 7:return _e.a(2,_e.v);case 8:if(_e.p=8,ye=_e.v,X&&X(),!ye||"TypeError"!==ye.name||!/Load failed|fetch/i.test(ye.message)){_e.n=9;break}throw Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,Y),{cause:ye.cause||ye});case 9:throw AxiosError$1.from(ye,ye&&ye.code,e,Y);case 10:return _e.a(2)}},_callee216,null,[[1,8]])}));return function(l){return e.apply(this,arguments)}}()},$c=new Map,getFetch=function(e){for(var l,_,k=e?e.env:{},S=k.fetch,E=[k.Request,k.Response,S],T=E.length,O=$c;T--;)l=E[T],void 0===(_=O.get(l))&&O.set(l,_=T?new Map:factory(k)),O=_;return _};getFetch();var Jc={http:null,xhr:Uc,fetch:{get:getFetch}};yc.forEach(Jc,function(e,l){if(e){try{Object.defineProperty(e,"name",{value:l})}catch(ta){}Object.defineProperty(e,"adapterName",{value:l})}});var renderReason=function(e){return"- ".concat(e)},isResolvedHandle=function(e){return yc.isFunction(e)||null===e||!1===e},adapters_getAdapter=function(e,l){for(var _,k,S=(e=yc.isArray(e)?e:[e]).length,E={},T=0;T<S;T++){var O=void 0;if(k=_=e[T],!isResolvedHandle(_)&&void 0===(k=Jc[(O=String(_)).toLowerCase()]))throw new AxiosError$1("Unknown adapter '".concat(O,"'"));if(k&&(yc.isFunction(k)||(k=k.get(l))))break;E[O||"#"+T]=k}if(!k){var I=Object.entries(E).map(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];return"adapter ".concat(_," ")+(!1===k?"is not supported by the environment":"is not available in the build")});throw new AxiosError$1("There is no suitable adapter to dispatch the request "+(S?I.length>1?"since :\n"+I.map(renderReason).join("\n"):" "+renderReason(I[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return k};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=Dc.from(e.headers),e.data=transformData.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters_getAdapter(e.adapter||Pc.adapter,e)(e).then(function(l){return throwIfCancellationRequested(e),l.data=transformData.call(e,e.transformResponse,l),l.headers=Dc.from(l.headers),l},function(l){return isCancel$1(l)||(throwIfCancellationRequested(e),l&&l.response&&(l.response.data=transformData.call(e,e.transformResponse,l.response),l.response.headers=Dc.from(l.response.headers))),Promise.reject(l)})}var Yc="1.12.2",Xc={};["object","boolean","number","function","string","symbol"].forEach(function(e,l){Xc[e]=function(_){return _typeof3(_)===e||"a"+(l<1?"n ":" ")+e}});var Zc={};Xc.transitional=function(e,l,_){return function(k,S,E){if(!1===e)throw new AxiosError$1(function(e,l){return"[Axios v"+Yc+"] Transitional option '"+e+"'"+l+(_?". "+_:"")}(S," has been removed"+(l?" in "+l:"")),AxiosError$1.ERR_DEPRECATED);return l&&!Zc[S]&&(Zc[S]=!0),!e||e(k,S,E)}},Xc.spelling=function(e){return function(e,l){return!0}};var Qc={assertOptions:function(e,l,_){if("object"!==_typeof3(e))throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);for(var k=Object.keys(e),S=k.length;S-- >0;){var E=k[S],T=l[E];if(T){var O=e[E],I=void 0===O||T(O,E,e);if(!0!==I)throw new AxiosError$1("option "+E+" must be "+I,AxiosError$1.ERR_BAD_OPTION_VALUE)}else if(!0!==_)throw new AxiosError$1("Unknown option "+E,AxiosError$1.ERR_BAD_OPTION)}},validators:Xc},eh=Qc.validators,th=function(){return _createClass3(function Axios(e){_classCallCheck3(this,Axios),this.defaults=e||{},this.interceptors={request:new Sc,response:new Sc}},[{key:"request",value:(e=_asyncToGenerator(_regenerator().m(function _callee217(e,l){var _,k,S;return _regenerator().w(function(E){for(;;)switch(E.p=E.n){case 0:return E.p=0,E.n=1,this._request(e,l);case 1:return E.a(2,E.v);case 2:if(E.p=2,(S=E.v)instanceof Error){_={},Error.captureStackTrace?Error.captureStackTrace(_):_=new Error,k=_.stack?_.stack.replace(/^.+\n/,""):"";try{S.stack?k&&!String(S.stack).endsWith(k.replace(/^.+\n.+\n/,""))&&(S.stack+="\n"+k):S.stack=k}catch(ta){}}throw S;case 3:return E.a(2)}},_callee217,this,[[0,2]])})),function(l,_){return e.apply(this,arguments)})},{key:"_request",value:function(e,l){"string"==typeof e?(l=l||{}).url=e:l=e||{};var _=l=mergeConfig$1(this.defaults,l),k=_.transitional,S=_.paramsSerializer,E=_.headers;void 0!==k&&Qc.assertOptions(k,{silentJSONParsing:eh.transitional(eh.boolean),forcedJSONParsing:eh.transitional(eh.boolean),clarifyTimeoutError:eh.transitional(eh.boolean)},!1),null!=S&&(yc.isFunction(S)?l.paramsSerializer={serialize:S}:Qc.assertOptions(S,{encode:eh.function,serialize:eh.function},!0)),void 0!==l.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Qc.assertOptions(l,{baseUrl:eh.spelling("baseURL"),withXsrfToken:eh.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();var T=E&&yc.merge(E.common,E[l.method]);E&&yc.forEach(["delete","get","head","post","put","patch","common"],function(e){delete E[e]}),l.headers=Dc.concat(T,E);var O=[],I=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(l)||(I=I&&e.synchronous,O.unshift(e.fulfilled,e.rejected))});var R,M=[];this.interceptors.response.forEach(function(e){M.push(e.fulfilled,e.rejected)});var j,D=0;if(!I){var L=[dispatchRequest.bind(this),void 0];for(L.unshift.apply(L,O),L.push.apply(L,M),j=L.length,R=Promise.resolve(l);D<j;)R=R.then(L[D++],L[D++]);return R}j=O.length;for(var U=l;D<j;){var B=O[D++],q=O[D++];try{U=B(U)}catch(z){q.call(this,z);break}}try{R=dispatchRequest.call(this,U)}catch(z){return Promise.reject(z)}for(D=0,j=M.length;D<j;)R=R.then(M[D++],M[D++]);return R}},{key:"getUri",value:function(e){return buildURL(buildFullPath((e=mergeConfig$1(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}]);var e}();yc.forEach(["delete","get","head","options"],function(e){th.prototype[e]=function(l,_){return this.request(mergeConfig$1(_||{},{method:e,url:l,data:(_||{}).data}))}}),yc.forEach(["post","put","patch"],function(e){function generateHTTPMethod(l){return function(_,k,S){return this.request(mergeConfig$1(S||{},{method:e,headers:l?{"Content-Type":"multipart/form-data"}:{},url:_,data:k}))}}th.prototype[e]=generateHTTPMethod(),th.prototype[e+"Form"]=generateHTTPMethod(!0)});var rh=function(){function CancelToken(e){if(_classCallCheck3(this,CancelToken),"function"!=typeof e)throw new TypeError("executor must be a function.");var l;this.promise=new Promise(function(e){l=e});var _=this;this.promise.then(function(e){if(_._listeners){for(var l=_._listeners.length;l-- >0;)_._listeners[l](e);_._listeners=null}}),this.promise.then=function(e){var l,k=new Promise(function(e){_.subscribe(e),l=e}).then(e);return k.cancel=function(){_.unsubscribe(l)},k},e(function(e,k,S){_.reason||(_.reason=new CanceledError$1(e,k,S),l(_.reason))})}return _createClass3(CancelToken,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var l=this._listeners.indexOf(e);-1!==l&&this._listeners.splice(l,1)}}},{key:"toAbortSignal",value:function(){var e=this,l=new AbortController,abort=function(e){l.abort(e)};return this.subscribe(abort),l.signal.unsubscribe=function(){return e.unsubscribe(abort)},l.signal}}],[{key:"source",value:function(){var e;return{token:new CancelToken(function(l){e=l}),cancel:e}}}])}();var nh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nh).forEach(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];nh[k]=_});var ih=R("aT",function createInstance(e){var l=new th(e),_=bind(th.prototype.request,l);return yc.extend(_,th.prototype,l,{allOwnKeys:!0}),yc.extend(_,l,null,{allOwnKeys:!0}),_.create=function(l){return createInstance(mergeConfig$1(e,l))},_}(Pc));ih.Axios=th,ih.CanceledError=CanceledError$1,ih.CancelToken=rh,ih.isCancel=isCancel$1,ih.VERSION=Yc,ih.toFormData=toFormData$1,ih.AxiosError=AxiosError$1,ih.Cancel=ih.CanceledError,ih.all=function(e){return Promise.all(e)},ih.spread=function(e){return function(l){return e.apply(null,l)}},ih.isAxiosError=function(e){return yc.isObject(e)&&!0===e.isAxiosError},ih.mergeConfig=mergeConfig$1,ih.AxiosHeaders=Dc,ih.formToJSON=function(e){return formDataToJSON(yc.isHTMLForm(e)?new FormData(e):e)},ih.getAdapter=adapters_getAdapter,ih.HttpStatusCode=nh,ih.default=ih;ih.Axios,ih.AxiosError,ih.CanceledError,ih.isCancel,ih.CancelToken,ih.VERSION,ih.all,ih.Cancel,ih.isAxiosError,ih.spread,ih.toFormData,ih.AxiosHeaders,ih.HttpStatusCode,ih.formToJSON,ih.getAdapter,ih.mergeConfig;function length(e){var l=e[0],_=e[1],k=e[2];return Math.sqrt(l*l+_*_+k*k)}function copy$4(e,l){return e[0]=l[0],e[1]=l[1],e[2]=l[2],e}function add$1(e,l,_){return e[0]=l[0]+_[0],e[1]=l[1]+_[1],e[2]=l[2]+_[2],e}function subtract$1(e,l,_){return e[0]=l[0]-_[0],e[1]=l[1]-_[1],e[2]=l[2]-_[2],e}function scale$2(e,l,_){return e[0]=l[0]*_,e[1]=l[1]*_,e[2]=l[2]*_,e}function squaredLength(e){var l=e[0],_=e[1],k=e[2];return l*l+_*_+k*k}function normalize$2(e,l){var _=l[0],k=l[1],S=l[2],E=_*_+k*k+S*S;return E>0&&(E=1/Math.sqrt(E)),e[0]=l[0]*E,e[1]=l[1]*E,e[2]=l[2]*E,e}function dot$2(e,l){return e[0]*l[0]+e[1]*l[1]+e[2]*l[2]}function _cross(e,l,_){var k=l[0],S=l[1],E=l[2],T=_[0],O=_[1],I=_[2];return e[0]=S*I-E*O,e[1]=E*T-k*I,e[2]=k*O-S*T,e}var ah,oh,sh=(ah=[0,0,0],oh=[0,0,0],function(e,l){copy$4(ah,e),copy$4(oh,l),normalize$2(ah,ah),normalize$2(oh,oh);var _=dot$2(ah,oh);return _>1?0:_<-1?Math.PI:Math.acos(_)});var uh=function(e){function Vec3(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return _classCallCheck3(this,Vec3),_possibleConstructorReturn(e=_callSuper(this,Vec3,[l,_,k]),e)}return _inherits(Vec3,e),_createClass3(Vec3,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=e}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=e}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=e}},{key:"set",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e.length?this.copy(e):(function(e,l,_,k){e[0]=l,e[1]=_,e[2]=k}(this,e,l,_),this)}},{key:"copy",value:function(e){return copy$4(this,e),this}},{key:"add",value:function(e,l){return l?add$1(this,e,l):add$1(this,this,e),this}},{key:"sub",value:function(e,l){return l?subtract$1(this,e,l):subtract$1(this,this,e),this}},{key:"multiply",value:function(e){return e.length?function(e,l,_){e[0]=l[0]*_[0],e[1]=l[1]*_[1],e[2]=l[2]*_[2]}(this,this,e):scale$2(this,this,e),this}},{key:"divide",value:function(e){return e.length?function(e,l,_){e[0]=l[0]/_[0],e[1]=l[1]/_[1],e[2]=l[2]/_[2]}(this,this,e):scale$2(this,this,1/e),this}},{key:"inverse",value:function(){return function(e,l){e[0]=1/l[0],e[1]=1/l[1],e[2]=1/l[2]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}},{key:"len",value:function(){return length(this)}},{key:"distance",value:function(e){return e?(l=this,k=(_=e)[0]-l[0],S=_[1]-l[1],E=_[2]-l[2],Math.sqrt(k*k+S*S+E*E)):length(this);var l,_,k,S,E}},{key:"squaredLen",value:function(){return squaredLength(this)}},{key:"squaredDistance",value:function(e){return e?(l=this,k=(_=e)[0]-l[0],S=_[1]-l[1],E=_[2]-l[2],k*k+S*S+E*E):squaredLength(this);var l,_,k,S,E}},{key:"negate",value:function(){return function(e,l){e[0]=-l[0],e[1]=-l[1],e[2]=-l[2]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}},{key:"cross",value:function(e,l){return l?_cross(this,e,l):_cross(this,this,e),this}},{key:"scale",value:function(e){return scale$2(this,this,e),this}},{key:"normalize",value:function(){return normalize$2(this,this),this}},{key:"dot",value:function(e){return dot$2(this,e)}},{key:"equals",value:function(e){return _=e,(l=this)[0]===_[0]&&l[1]===_[1]&&l[2]===_[2];var l,_}},{key:"applyMatrix3",value:function(e){return function(e,l,_){var k=l[0],S=l[1],E=l[2];e[0]=k*_[0]+S*_[3]+E*_[6],e[1]=k*_[1]+S*_[4]+E*_[7],e[2]=k*_[2]+S*_[5]+E*_[8]}(this,this,e),this}},{key:"applyMatrix4",value:function(e){return function(e,l,_){var k=l[0],S=l[1],E=l[2],T=_[3]*k+_[7]*S+_[11]*E+_[15];T=T||1,e[0]=(_[0]*k+_[4]*S+_[8]*E+_[12])/T,e[1]=(_[1]*k+_[5]*S+_[9]*E+_[13])/T,e[2]=(_[2]*k+_[6]*S+_[10]*E+_[14])/T}(this,this,e),this}},{key:"scaleRotateMatrix4",value:function(e){return function(e,l,_){var k=l[0],S=l[1],E=l[2],T=_[3]*k+_[7]*S+_[11]*E+_[15];T=T||1,e[0]=(_[0]*k+_[4]*S+_[8]*E)/T,e[1]=(_[1]*k+_[5]*S+_[9]*E)/T,e[2]=(_[2]*k+_[6]*S+_[10]*E)/T}(this,this,e),this}},{key:"applyQuaternion",value:function(e){return function(e,l,_){var k=l[0],S=l[1],E=l[2],T=_[0],O=_[1],I=_[2],R=O*E-I*S,M=I*k-T*E,j=T*S-O*k,D=O*j-I*M,L=I*R-T*j,U=T*M-O*R,B=2*_[3];R*=B,M*=B,j*=B,D*=2,L*=2,U*=2,e[0]=k+R+D,e[1]=S+M+L,e[2]=E+j+U}(this,this,e),this}},{key:"angle",value:function(e){return sh(this,e)}},{key:"lerp",value:function(e,l){return function(e,l,_,k){var S=l[0],E=l[1],T=l[2];e[0]=S+k*(_[0]-S),e[1]=E+k*(_[1]-E),e[2]=T+k*(_[2]-T)}(this,this,e,l),this}},{key:"smoothLerp",value:function(e,l,_){return function(e,l,_,k,S){var E=Math.exp(-k*S),T=l[0],O=l[1],I=l[2];e[0]=_[0]+(T-_[0])*E,e[1]=_[1]+(O-_[1])*E,e[2]=_[2]+(I-_[2])*E}(this,this,e,l,_),this}},{key:"clone",value:function(){return new Vec3(this[0],this[1],this[2])}},{key:"fromArray",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[l],this[1]=e[l+1],this[2]=e[l+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[l]=this[0],e[l+1]=this[1],e[l+2]=this[2],e}},{key:"transformDirection",value:function(e){var l=this[0],_=this[1],k=this[2];return this[0]=e[0]*l+e[4]*_+e[8]*k,this[1]=e[1]*l+e[5]*_+e[9]*k,this[2]=e[2]*l+e[6]*_+e[10]*k,this.normalize()}}])}(_wrapNativeSuper(Array)),lh=new uh,ch=1,hh=1,dh=!1,fh=function(){return _createClass3(function Geometry(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var _ in _classCallCheck3(this,Geometry),e.canvas,this.gl=e,this.attributes=l,this.id=ch++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,l)this.addAttribute(_,l[_])},[{key:"addAttribute",value:function(e,l){if(this.attributes[e]=l,l.id=hh++,l.size=l.size||1,l.type=l.type||(l.data.constructor===Float32Array?this.gl.FLOAT:l.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),l.target="index"===e?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,l.normalized=l.normalized||!1,l.stride=l.stride||0,l.offset=l.offset||0,l.count=l.count||(l.stride?l.data.byteLength/l.stride:l.data.length/l.size),l.divisor=l.instanced||0,l.needsUpdate=!1,l.usage=l.usage||this.gl.STATIC_DRAW,l.buffer||this.updateAttribute(l),l.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==l.count*l.divisor)return this.instancedCount=Math.min(this.instancedCount,l.count*l.divisor);this.instancedCount=l.count*l.divisor}else"index"===e?this.drawRange.count=l.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,l.count))}},{key:"updateAttribute",value:function(e){var l=!e.buffer;l&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),l?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}},{key:"setIndex",value:function(e){this.addAttribute("index",e)}},{key:"setDrawRange",value:function(e,l){this.drawRange.start=e,this.drawRange.count=l}},{key:"setInstancedCount",value:function(e){this.instancedCount=e}},{key:"createVAO",value:function(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}},{key:"bindAttributes",value:function(e){var l=this;e.attributeLocations.forEach(function(e,_){var k=_.name,S=_.type;if(l.attributes[k]){var E=l.attributes[k];l.gl.bindBuffer(E.target,E.buffer),l.glState.boundBuffer=E.buffer;var T=1;35674===S&&(T=2),35675===S&&(T=3),35676===S&&(T=4);for(var O=E.size/T,I=1===T?0:T*T*4,R=1===T?0:4*T,M=0;M<T;M++)l.gl.vertexAttribPointer(e+M,O,E.type,E.normalized,E.stride+I,E.offset+M*R),l.gl.enableVertexAttribArray(e+M),l.gl.renderer.vertexAttribDivisor(e+M,E.divisor)}}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}},{key:"draw",value:function(e){var l,_=this,k=e.program,S=e.mode,E=void 0===S?this.gl.TRIANGLES:S;this.gl.renderer.currentGeometry!=="".concat(this.id,"_").concat(k.attributeOrder)&&(this.VAOs[k.attributeOrder]||this.createVAO(k),this.gl.renderer.bindVertexArray(this.VAOs[k.attributeOrder]),this.gl.renderer.currentGeometry="".concat(this.id,"_").concat(k.attributeOrder)),k.attributeLocations.forEach(function(e,l){var k=l.name,S=_.attributes[k];S.needsUpdate&&_.updateAttribute(S)});var T=2;(null===(l=this.attributes.index)||void 0===l?void 0:l.type)===this.gl.UNSIGNED_INT&&(T=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(E,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*T,this.instancedCount):this.gl.renderer.drawArraysInstanced(E,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(E,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*T):this.gl.drawArrays(E,this.drawRange.start,this.drawRange.count)}},{key:"getPosition",value:function(){var e=this.attributes.position;return e.data?e:dh?void 0:dh=!0}},{key:"computeBoundingBox",value:function(e){e||(e=this.getPosition());var l=e.data,_=e.size;this.bounds||(this.bounds={min:new uh,max:new uh,center:new uh,scale:new uh,radius:1/0});var k=this.bounds.min,S=this.bounds.max,E=this.bounds.center,T=this.bounds.scale;k.set(1/0),S.set(-1/0);for(var O=0,I=l.length;O<I;O+=_){var R=l[O],M=l[O+1],j=l[O+2];k.x=Math.min(R,k.x),k.y=Math.min(M,k.y),k.z=Math.min(j,k.z),S.x=Math.max(R,S.x),S.y=Math.max(M,S.y),S.z=Math.max(j,S.z)}T.sub(S,k),E.add(k,S).divide(2)}},{key:"computeBoundingSphere",value:function(e){e||(e=this.getPosition());var l=e.data,_=e.size;this.bounds||this.computeBoundingBox(e);for(var k=0,S=0,E=l.length;S<E;S+=_)lh.fromArray(l,S),k=Math.max(k,this.bounds.center.squaredDistance(lh));this.bounds.radius=Math.sqrt(k)}},{key:"remove",value:function(){for(var e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(var l in this.attributes)this.gl.deleteBuffer(this.attributes[l].buffer),delete this.attributes[l]}}])}(),ph=1,vh={},gh=function(){return _createClass3(function Program(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.vertex,k=l.fragment,S=l.uniforms,E=void 0===S?{}:S,T=l.transparent,O=void 0!==T&&T,I=l.cullFace,R=void 0===I?e.BACK:I,M=l.frontFace,j=void 0===M?e.CCW:M,D=l.depthTest,L=void 0===D||D,U=l.depthWrite,B=void 0===U||U,q=l.depthFunc,z=void 0===q?e.LEQUAL:q;_classCallCheck3(this,Program),e.canvas,this.gl=e,this.uniforms=E,this.id=ph++,this.transparent=O,this.cullFace=R,this.frontFace=j,this.depthTest=L,this.depthWrite=B,this.depthFunc=z,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:_,fragment:k})},[{key:"setShaders",value:function(e){var l=e.vertex,_=e.fragment;if(l&&(this.gl.shaderSource(this.vertexShader,l),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)),_&&(this.gl.shaderSource(this.fragmentShader,_),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)),this.gl.linkProgram(this.program),this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){this.uniformLocations=new Map;for(var k=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS),S=0;S<k;S++){var E=this.gl.getActiveUniform(this.program,S);this.uniformLocations.set(E,this.gl.getUniformLocation(this.program,E.name));var T=E.name.match(/(\w+)/g);E.uniformName=T[0],E.nameComponents=T.slice(1)}this.attributeLocations=new Map;for(var O=[],I=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),R=0;R<I;R++){var M=this.gl.getActiveAttrib(this.program,R),j=this.gl.getAttribLocation(this.program,M.name);-1!==j&&(O[j]=M.name,this.attributeLocations.set(M,j))}this.attributeOrder=O.join("")}}},{key:"setBlendFunc",value:function(e,l,_,k){this.blendFunc.src=e,this.blendFunc.dst=l,this.blendFunc.srcAlpha=_,this.blendFunc.dstAlpha=k,e&&(this.transparent=!0)}},{key:"setBlendEquation",value:function(e,l){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=l}},{key:"setStencilFunc",value:function(e,l,_){this.stencilRef=l,this.stencilFunc.func=e,this.stencilFunc.ref=l,this.stencilFunc.mask=_}},{key:"setStencilOp",value:function(e,l,_){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=l,this.stencilOp.depthPass=_}},{key:"applyState",value:function(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}},{key:"use",value:function(){var e=this,l=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).flipFaces,_=void 0!==l&&l,k=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach(function(l,_){var S,E=e.uniforms[_.uniformName],T=_createForOfIteratorHelper2(_.nameComponents);try{for(T.s();!(S=T.n()).done;){var O=S.value;if(!E)break;if(!(O in E)){if(Array.isArray(E.value))break;E=void 0;break}E=E[O]}}catch(R){T.e(R)}finally{T.f()}if(!E)return warn("Active uniform ".concat(_.name," has not been supplied"));if(E&&void 0===E.value)return warn("".concat(_.name," uniform is missing a value parameter"));if(E.value.texture)return k+=1,E.value.update(k),setUniform(e.gl,_.type,l,k);if(E.value.length&&E.value[0].texture){var I=[];return E.value.forEach(function(e){k+=1,e.update(k),I.push(k)}),setUniform(e.gl,_.type,l,I)}setUniform(e.gl,_.type,l,E.value)}),this.applyState(),_&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}},{key:"remove",value:function(){this.gl.deleteProgram(this.program)}}])}();function setUniform(e,l,_,k){k=k.length?function(e){var l=e.length,_=e[0].length;if(void 0===_)return e;var k=l*_,S=vh[k];S||(vh[k]=S=new Float32Array(k));for(var E=0;E<l;E++)S.set(e[E],E*_);return S}(k):k;var S=e.renderer.state.uniformLocations.get(_);if(k.length)if(void 0===S||S.length!==k.length)e.renderer.state.uniformLocations.set(_,k.slice(0));else{if(function(e,l){if(e.length!==l.length)return!1;for(var _=0,k=e.length;_<k;_++)if(e[_]!==l[_])return!1;return!0}(S,k))return;S.set?S.set(k):function(e,l){for(var _=0,k=e.length;_<k;_++)e[_]=l[_]}(S,k),e.renderer.state.uniformLocations.set(_,S)}else{if(S===k)return;e.renderer.state.uniformLocations.set(_,k)}switch(l){case 5126:return k.length?e.uniform1fv(_,k):e.uniform1f(_,k);case 35664:return e.uniform2fv(_,k);case 35665:return e.uniform3fv(_,k);case 35666:return e.uniform4fv(_,k);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return k.length?e.uniform1iv(_,k):e.uniform1i(_,k);case 35671:case 35667:return e.uniform2iv(_,k);case 35672:case 35668:return e.uniform3iv(_,k);case 35673:case 35669:return e.uniform4iv(_,k);case 35674:return e.uniformMatrix2fv(_,!1,k);case 35675:return e.uniformMatrix3fv(_,!1,k);case 35676:return e.uniformMatrix4fv(_,!1,k)}}R("aZ",gh);var mh=0;function warn(e){mh>100||mh++}var yh=new uh,_h=1,bh=function(){return _createClass3(function Renderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.canvas,_=void 0===l?document.createElement("canvas"):l,k=e.width,S=void 0===k?300:k,E=e.height,T=void 0===E?150:E,O=e.dpr,I=void 0===O?1:O,R=e.alpha,M=void 0!==R&&R,j=e.depth,D=void 0===j||j,L=e.stencil,U=void 0!==L&&L,B=e.antialias,q=void 0!==B&&B,z=e.premultipliedAlpha,G=void 0!==z&&z,W=e.preserveDrawingBuffer,V=void 0!==W&&W,K=e.powerPreference,H=void 0===K?"default":K,$=e.autoClear,J=void 0===$||$,Y=e.webgl,X=void 0===Y?2:Y;_classCallCheck3(this,Renderer);var Z={alpha:M,depth:D,stencil:U,antialias:q,premultipliedAlpha:G,preserveDrawingBuffer:V,powerPreference:H};this.dpr=I,this.alpha=M,this.color=!0,this.depth=D,this.stencil=U,this.premultipliedAlpha=G,this.autoClear=J,this.id=_h++,2===X&&(this.gl=_.getContext("webgl2",Z)),this.isWebgl2=!!this.gl,this.gl||(this.gl=_.getContext("webgl",Z)),this.gl,this.gl.renderer=this,this.setSize(S,T),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},[{key:"setSize",value:function(e,l){this.width=e,this.height=l,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=l*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:l+"px"})}},{key:"setViewport",value:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.state.viewport.width===e&&this.state.viewport.height===l||(this.state.viewport.width=e,this.state.viewport.height=l,this.state.viewport.x=_,this.state.viewport.y=k,this.gl.viewport(_,k,e,l))}},{key:"setScissor",value:function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.gl.scissor(_,k,e,l)}},{key:"enable",value:function(e){!0!==this.state[e]&&(this.gl.enable(e),this.state[e]=!0)}},{key:"disable",value:function(e){!1!==this.state[e]&&(this.gl.disable(e),this.state[e]=!1)}},{key:"setBlendFunc",value:function(e,l,_,k){this.state.blendFunc.src===e&&this.state.blendFunc.dst===l&&this.state.blendFunc.srcAlpha===_&&this.state.blendFunc.dstAlpha===k||(this.state.blendFunc.src=e,this.state.blendFunc.dst=l,this.state.blendFunc.srcAlpha=_,this.state.blendFunc.dstAlpha=k,void 0!==_?this.gl.blendFuncSeparate(e,l,_,k):this.gl.blendFunc(e,l))}},{key:"setBlendEquation",value:function(e,l){e=e||this.gl.FUNC_ADD,this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===l||(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=l,void 0!==l?this.gl.blendEquationSeparate(e,l):this.gl.blendEquation(e))}},{key:"setCullFace",value:function(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}},{key:"setFrontFace",value:function(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}},{key:"setDepthMask",value:function(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}},{key:"setDepthFunc",value:function(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}},{key:"setStencilMask",value:function(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}},{key:"setStencilFunc",value:function(e,l,_){this.state.stencilFunc===e&&this.state.stencilRef===l&&this.state.stencilFuncMask===_||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=l||0,this.state.stencilFuncMask=_||0,this.gl.stencilFunc(e||this.gl.ALWAYS,l||0,_||0))}},{key:"setStencilOp",value:function(e,l,_){this.state.stencilFail===e&&this.state.stencilDepthFail===l&&this.state.stencilDepthPass===_||(this.state.stencilFail=e,this.state.stencilDepthFail=l,this.state.stencilDepthPass=_,this.gl.stencilOp(e,l,_))}},{key:"activeTexture",value:function(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}},{key:"bindFramebuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.target,_=void 0===l?this.gl.FRAMEBUFFER:l,k=e.buffer,S=void 0===k?null:k;this.state.framebuffer!==S&&(this.state.framebuffer=S,this.gl.bindFramebuffer(_,S))}},{key:"getExtension",value:function(e,l,_){return l&&this.gl[l]?this.gl[l].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),l?this.extensions[e]?this.extensions[e][_].bind(this.extensions[e]):null:this.extensions[e])}},{key:"sortOpaque",value:function(e,l){return e.renderOrder!==l.renderOrder?e.renderOrder-l.renderOrder:e.program.id!==l.program.id?e.program.id-l.program.id:e.zDepth!==l.zDepth?e.zDepth-l.zDepth:l.id-e.id}},{key:"sortTransparent",value:function(e,l){return e.renderOrder!==l.renderOrder?e.renderOrder-l.renderOrder:e.zDepth!==l.zDepth?l.zDepth-e.zDepth:l.id-e.id}},{key:"sortUI",value:function(e,l){return e.renderOrder!==l.renderOrder?e.renderOrder-l.renderOrder:e.program.id!==l.program.id?e.program.id-l.program.id:l.id-e.id}},{key:"getRenderList",value:function(e){var l=e.scene,_=e.camera,k=e.frustumCull,S=e.sort,E=[];if(_&&k&&_.updateFrustum(),l.traverse(function(e){if(!e.visible)return!0;e.draw&&(k&&e.frustumCulled&&_&&!_.frustumIntersectsMesh(e)||E.push(e))}),S){var T=[],O=[],I=[];E.forEach(function(e){e.program.transparent?e.program.depthTest?O.push(e):I.push(e):T.push(e),e.zDepth=0,0===e.renderOrder&&e.program.depthTest&&_&&(e.worldMatrix.getTranslation(yh),yh.applyMatrix4(_.projectionViewMatrix),e.zDepth=yh.z)}),T.sort(this.sortOpaque),O.sort(this.sortTransparent),I.sort(this.sortUI),E=T.concat(O,I)}return E}},{key:"render",value:function(e){var l=e.scene,_=e.camera,k=e.target,S=void 0===k?null:k,E=e.update,T=void 0===E||E,O=e.sort,I=void 0===O||O,R=e.frustumCull,M=void 0===R||R,j=e.clear;null===S?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(S),this.setViewport(S.width,S.height)),(j||this.autoClear&&!1!==j)&&(!this.depth||S&&!S.depth||(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!S||S.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),T&&l.updateMatrixWorld(),_&&_.updateMatrixWorld(),this.getRenderList({scene:l,camera:_,frustumCull:M,sort:I}).forEach(function(e){e.draw({camera:_})})}}])}();function multiply$2(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=_[0],I=_[1],R=_[2],M=_[3];return e[0]=k*M+T*O+S*R-E*I,e[1]=S*M+T*I+E*O-k*R,e[2]=E*M+T*R+k*I-S*O,e[3]=T*M-k*O-S*I-E*R,e}R("aU",bh);var copy$2=function(e,l){return e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e},set$2=function(e,l,_,k,S){return e[0]=l,e[1]=_,e[2]=k,e[3]=S,e},_dot=function(e,l){return e[0]*l[0]+e[1]*l[1]+e[2]*l[2]+e[3]*l[3]},_normalize=function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=_*_+k*k+S*S+E*E;return T>0&&(T=1/Math.sqrt(T)),e[0]=_*T,e[1]=k*T,e[2]=S*T,e[3]=E*T,e},kh=function(e){function Quat(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck3(this,Quat),(e=_callSuper(this,Quat,[l,_,k,S])).onChange=function(){},e._target=e;var E=["0","1","2","3"];return _possibleConstructorReturn(e,new Proxy(e,{set:function(e,l){var _=Reflect.set.apply(Reflect,arguments);return _&&E.includes(l)&&e.onChange(),_}}))}return _inherits(Quat,e),_createClass3(Quat,[{key:"x",get:function(){return this[0]},set:function(e){this._target[0]=e,this.onChange()}},{key:"y",get:function(){return this[1]},set:function(e){this._target[1]=e,this.onChange()}},{key:"z",get:function(){return this[2]},set:function(e){this._target[2]=e,this.onChange()}},{key:"w",get:function(){return this[3]},set:function(e){this._target[3]=e,this.onChange()}},{key:"identity",value:function(){return function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=1}(this._target),this.onChange(),this}},{key:"set",value:function(e,l,_,k){return e.length?this.copy(e):(set$2(this._target,e,l,_,k),this.onChange(),this)}},{key:"rotateX",value:function(e){return function(e,l,_){_*=.5;var k=l[0],S=l[1],E=l[2],T=l[3],O=Math.sin(_),I=Math.cos(_);e[0]=k*I+T*O,e[1]=S*I+E*O,e[2]=E*I-S*O,e[3]=T*I-k*O}(this._target,this._target,e),this.onChange(),this}},{key:"rotateY",value:function(e){return function(e,l,_){_*=.5;var k=l[0],S=l[1],E=l[2],T=l[3],O=Math.sin(_),I=Math.cos(_);e[0]=k*I-E*O,e[1]=S*I+T*O,e[2]=E*I+k*O,e[3]=T*I-S*O}(this._target,this._target,e),this.onChange(),this}},{key:"rotateZ",value:function(e){return function(e,l,_){_*=.5;var k=l[0],S=l[1],E=l[2],T=l[3],O=Math.sin(_),I=Math.cos(_);e[0]=k*I+S*O,e[1]=S*I-k*O,e[2]=E*I+T*O,e[3]=T*I-E*O}(this._target,this._target,e),this.onChange(),this}},{key:"inverse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=_*_+k*k+S*S+E*E,O=T?1/T:0;e[0]=-_*O,e[1]=-k*O,e[2]=-S*O,e[3]=E*O}(this._target,e),this.onChange(),this}},{key:"conjugate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return function(e,l){e[0]=-l[0],e[1]=-l[1],e[2]=-l[2],e[3]=l[3]}(this._target,e),this.onChange(),this}},{key:"copy",value:function(e){return copy$2(this._target,e),this.onChange(),this}},{key:"normalize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return _normalize(this._target,e),this.onChange(),this}},{key:"multiply",value:function(e,l){return l?multiply$2(this._target,e,l):multiply$2(this._target,this._target,e),this.onChange(),this}},{key:"dot",value:function(e){return _dot(this._target,e)}},{key:"fromMatrix3",value:function(e){return function(e,l){var _,k=l[0]+l[4]+l[8];if(k>0)_=Math.sqrt(k+1),e[3]=.5*_,_=.5/_,e[0]=(l[5]-l[7])*_,e[1]=(l[6]-l[2])*_,e[2]=(l[1]-l[3])*_;else{var S=0;l[4]>l[0]&&(S=1),l[8]>l[3*S+S]&&(S=2);var E=(S+1)%3,T=(S+2)%3;_=Math.sqrt(l[3*S+S]-l[3*E+E]-l[3*T+T]+1),e[S]=.5*_,_=.5/_,e[3]=(l[3*E+T]-l[3*T+E])*_,e[E]=(l[3*E+S]+l[3*S+E])*_,e[T]=(l[3*T+S]+l[3*S+T])*_}}(this._target,e),this.onChange(),this}},{key:"fromEuler",value:function(e,l){return function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ",k=Math.sin(.5*l[0]),S=Math.cos(.5*l[0]),E=Math.sin(.5*l[1]),T=Math.cos(.5*l[1]),O=Math.sin(.5*l[2]),I=Math.cos(.5*l[2]);"XYZ"===_?(e[0]=k*T*I+S*E*O,e[1]=S*E*I-k*T*O,e[2]=S*T*O+k*E*I,e[3]=S*T*I-k*E*O):"YXZ"===_?(e[0]=k*T*I+S*E*O,e[1]=S*E*I-k*T*O,e[2]=S*T*O-k*E*I,e[3]=S*T*I+k*E*O):"ZXY"===_?(e[0]=k*T*I-S*E*O,e[1]=S*E*I+k*T*O,e[2]=S*T*O+k*E*I,e[3]=S*T*I-k*E*O):"ZYX"===_?(e[0]=k*T*I-S*E*O,e[1]=S*E*I+k*T*O,e[2]=S*T*O-k*E*I,e[3]=S*T*I+k*E*O):"YZX"===_?(e[0]=k*T*I+S*E*O,e[1]=S*E*I+k*T*O,e[2]=S*T*O-k*E*I,e[3]=S*T*I-k*E*O):"XZY"===_&&(e[0]=k*T*I-S*E*O,e[1]=S*E*I-k*T*O,e[2]=S*T*O+k*E*I,e[3]=S*T*I+k*E*O)}(this._target,e,e.order),l||this.onChange(),this}},{key:"fromAxisAngle",value:function(e,l){return function(e,l,_){_*=.5;var k=Math.sin(_);e[0]=k*l[0],e[1]=k*l[1],e[2]=k*l[2],e[3]=Math.cos(_)}(this._target,e,l),this.onChange(),this}},{key:"slerp",value:function(e,l){return function(e,l,_,k){var S,E,T,O,I,R=l[0],M=l[1],j=l[2],D=l[3],L=_[0],U=_[1],B=_[2],q=_[3];(E=R*L+M*U+j*B+D*q)<0&&(E=-E,L=-L,U=-U,B=-B,q=-q),1-E>1e-6?(S=Math.acos(E),T=Math.sin(S),O=Math.sin((1-k)*S)/T,I=Math.sin(k*S)/T):(O=1-k,I=k),e[0]=O*R+I*L,e[1]=O*M+I*U,e[2]=O*j+I*B,e[3]=O*D+I*q}(this._target,this._target,e,l),this.onChange(),this}},{key:"fromArray",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._target[0]=e[l],this._target[1]=e[l+1],this._target[2]=e[l+2],this._target[3]=e[l+3],this.onChange(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[l]=this[0],e[l+1]=this[1],e[l+2]=this[2],e[l+3]=this[3],e}}])}(_wrapNativeSuper(Array));function _determinant(e){var l=e[0],_=e[1],k=e[2],S=e[3],E=e[4],T=e[5],O=e[6],I=e[7],R=e[8],M=e[9],j=e[10],D=e[11],L=e[12],U=e[13],B=e[14],q=e[15];return(l*T-_*E)*(j*q-D*B)-(l*O-k*E)*(M*q-D*U)+(l*I-S*E)*(M*B-j*U)+(_*O-k*T)*(R*q-D*L)-(_*I-S*T)*(R*B-j*L)+(k*I-S*O)*(R*U-M*L)}function multiply$1(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=l[4],I=l[5],R=l[6],M=l[7],j=l[8],D=l[9],L=l[10],U=l[11],B=l[12],q=l[13],z=l[14],G=l[15],W=_[0],V=_[1],K=_[2],H=_[3];return e[0]=W*k+V*O+K*j+H*B,e[1]=W*S+V*I+K*D+H*q,e[2]=W*E+V*R+K*L+H*z,e[3]=W*T+V*M+K*U+H*G,W=_[4],V=_[5],K=_[6],H=_[7],e[4]=W*k+V*O+K*j+H*B,e[5]=W*S+V*I+K*D+H*q,e[6]=W*E+V*R+K*L+H*z,e[7]=W*T+V*M+K*U+H*G,W=_[8],V=_[9],K=_[10],H=_[11],e[8]=W*k+V*O+K*j+H*B,e[9]=W*S+V*I+K*D+H*q,e[10]=W*E+V*R+K*L+H*z,e[11]=W*T+V*M+K*U+H*G,W=_[12],V=_[13],K=_[14],H=_[15],e[12]=W*k+V*O+K*j+H*B,e[13]=W*S+V*I+K*D+H*q,e[14]=W*E+V*R+K*L+H*z,e[15]=W*T+V*M+K*U+H*G,e}function _getScaling(e,l){var _=l[0],k=l[1],S=l[2],E=l[4],T=l[5],O=l[6],I=l[8],R=l[9],M=l[10];return e[0]=Math.hypot(_,k,S),e[1]=Math.hypot(E,T,O),e[2]=Math.hypot(I,R,M),e}var wh,Sh=(wh=[1,1,1],function(e,l){var _=wh;_getScaling(_,l);var k=1/_[0],S=1/_[1],E=1/_[2],T=l[0]*k,O=l[1]*S,I=l[2]*E,R=l[4]*k,M=l[5]*S,j=l[6]*E,D=l[8]*k,L=l[9]*S,U=l[10]*E,B=T+M+U,q=0;return B>0?(q=2*Math.sqrt(B+1),e[3]=.25*q,e[0]=(j-L)/q,e[1]=(D-I)/q,e[2]=(O-R)/q):T>M&&T>U?(q=2*Math.sqrt(1+T-M-U),e[3]=(j-L)/q,e[0]=.25*q,e[1]=(O+R)/q,e[2]=(D+I)/q):M>U?(q=2*Math.sqrt(1+M-T-U),e[3]=(D-I)/q,e[0]=(O+R)/q,e[1]=.25*q,e[2]=(j+L)/q):(q=2*Math.sqrt(1+U-T-M),e[3]=(O-R)/q,e[0]=(D+I)/q,e[1]=(j+L)/q,e[2]=.25*q),e});function _add(e,l,_){return e[0]=l[0]+_[0],e[1]=l[1]+_[1],e[2]=l[2]+_[2],e[3]=l[3]+_[3],e[4]=l[4]+_[4],e[5]=l[5]+_[5],e[6]=l[6]+_[6],e[7]=l[7]+_[7],e[8]=l[8]+_[8],e[9]=l[9]+_[9],e[10]=l[10]+_[10],e[11]=l[11]+_[11],e[12]=l[12]+_[12],e[13]=l[13]+_[13],e[14]=l[14]+_[14],e[15]=l[15]+_[15],e}function subtract(e,l,_){return e[0]=l[0]-_[0],e[1]=l[1]-_[1],e[2]=l[2]-_[2],e[3]=l[3]-_[3],e[4]=l[4]-_[4],e[5]=l[5]-_[5],e[6]=l[6]-_[6],e[7]=l[7]-_[7],e[8]=l[8]-_[8],e[9]=l[9]-_[9],e[10]=l[10]-_[10],e[11]=l[11]-_[11],e[12]=l[12]-_[12],e[13]=l[13]-_[13],e[14]=l[14]-_[14],e[15]=l[15]-_[15],e}var Ch=function(e){function Mat4(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,T=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,R=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,M=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,j=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,D=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,L=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,U=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,B=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,q=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return _classCallCheck3(this,Mat4),_possibleConstructorReturn(e=_callSuper(this,Mat4,[l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q]),e)}return _inherits(Mat4,e),_createClass3(Mat4,[{key:"x",get:function(){return this[12]},set:function(e){this[12]=e}},{key:"y",get:function(){return this[13]},set:function(e){this[13]=e}},{key:"z",get:function(){return this[14]},set:function(e){this[14]=e}},{key:"w",get:function(){return this[15]},set:function(e){this[15]=e}},{key:"set",value:function(e,l,_,k,S,E,T,O,I,R,M,j,D,L,U,B){return e.length?this.copy(e):(function(e,l,_,k,S,E,T,O,I,R,M,j,D,L,U,B,q){e[0]=l,e[1]=_,e[2]=k,e[3]=S,e[4]=E,e[5]=T,e[6]=O,e[7]=I,e[8]=R,e[9]=M,e[10]=j,e[11]=D,e[12]=L,e[13]=U,e[14]=B,e[15]=q}(this,e,l,_,k,S,E,T,O,I,R,M,j,D,L,U,B),this)}},{key:"translate",value:function(e){return function(e,l,_){var k,S,E,T,O,I,R,M,j,D,L,U,B=_[0],q=_[1],z=_[2];l===e?(e[12]=l[0]*B+l[4]*q+l[8]*z+l[12],e[13]=l[1]*B+l[5]*q+l[9]*z+l[13],e[14]=l[2]*B+l[6]*q+l[10]*z+l[14],e[15]=l[3]*B+l[7]*q+l[11]*z+l[15]):(k=l[0],S=l[1],E=l[2],T=l[3],O=l[4],I=l[5],R=l[6],M=l[7],j=l[8],D=l[9],L=l[10],U=l[11],e[0]=k,e[1]=S,e[2]=E,e[3]=T,e[4]=O,e[5]=I,e[6]=R,e[7]=M,e[8]=j,e[9]=D,e[10]=L,e[11]=U,e[12]=k*B+O*q+j*z+l[12],e[13]=S*B+I*q+D*z+l[13],e[14]=E*B+R*q+L*z+l[14],e[15]=T*B+M*q+U*z+l[15])}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}},{key:"rotate",value:function(e,l){return function(e,l,_,k){var S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K,H,$,J,Y,X,Z,Q=k[0],ee=k[1],te=k[2],re=Math.hypot(Q,ee,te);Math.abs(re)<1e-6||(Q*=re=1/re,ee*=re,te*=re,S=Math.sin(_),T=1-(E=Math.cos(_)),O=l[0],I=l[1],R=l[2],M=l[3],j=l[4],D=l[5],L=l[6],U=l[7],B=l[8],q=l[9],z=l[10],G=l[11],W=Q*Q*T+E,V=ee*Q*T+te*S,K=te*Q*T-ee*S,H=Q*ee*T-te*S,$=ee*ee*T+E,J=te*ee*T+Q*S,Y=Q*te*T+ee*S,X=ee*te*T-Q*S,Z=te*te*T+E,e[0]=O*W+j*V+B*K,e[1]=I*W+D*V+q*K,e[2]=R*W+L*V+z*K,e[3]=M*W+U*V+G*K,e[4]=O*H+j*$+B*J,e[5]=I*H+D*$+q*J,e[6]=R*H+L*$+z*J,e[7]=M*H+U*$+G*J,e[8]=O*Y+j*X+B*Z,e[9]=I*Y+D*X+q*Z,e[10]=R*Y+L*X+z*Z,e[11]=M*Y+U*X+G*Z,l!==e&&(e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]))}(this,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,e,l),this}},{key:"scale",value:function(e){return function(e,l,_){var k=_[0],S=_[1],E=_[2];e[0]=l[0]*k,e[1]=l[1]*k,e[2]=l[2]*k,e[3]=l[3]*k,e[4]=l[4]*S,e[5]=l[5]*S,e[6]=l[6]*S,e[7]=l[7]*S,e[8]=l[8]*E,e[9]=l[9]*E,e[10]=l[10]*E,e[11]=l[11]*E,e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,"number"==typeof e?[e,e,e]:e),this}},{key:"add",value:function(e,l){return l?_add(this,e,l):_add(this,this,e),this}},{key:"sub",value:function(e,l){return l?subtract(this,e,l):subtract(this,this,e),this}},{key:"multiply",value:function(e,l){return e.length?l?multiply$1(this,e,l):multiply$1(this,this,e):function(e,l,_){e[0]=l[0]*_,e[1]=l[1]*_,e[2]=l[2]*_,e[3]=l[3]*_,e[4]=l[4]*_,e[5]=l[5]*_,e[6]=l[6]*_,e[7]=l[7]*_,e[8]=l[8]*_,e[9]=l[9]*_,e[10]=l[10]*_,e[11]=l[11]*_,e[12]=l[12]*_,e[13]=l[13]*_,e[14]=l[14]*_,e[15]=l[15]*_}(this,this,e),this}},{key:"identity",value:function(){return function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this),this}},{key:"copy",value:function(e){return function(e,l){e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e[4]=l[4],e[5]=l[5],e[6]=l[6],e[7]=l[7],e[8]=l[8],e[9]=l[9],e[10]=l[10],e[11]=l[11],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]}(this,e),this}},{key:"fromPerspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,l,_,k,S){var E=1/Math.tan(l/2),T=1/(k-S);e[0]=E/_,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=E,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(S+k)*T,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*S*k*T,e[15]=0}(this,e.fov,e.aspect,e.near,e.far),this}},{key:"fromOrthogonal",value:function(e){return function(e,l,_,k,S,E,T){var O=1/(l-_),I=1/(k-S),R=1/(E-T);e[0]=-2*O,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*I,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*R,e[11]=0,e[12]=(l+_)*O,e[13]=(S+k)*I,e[14]=(T+E)*R,e[15]=1}(this,e.left,e.right,e.bottom,e.top,e.near,e.far),this}},{key:"fromQuaternion",value:function(e){return function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=_+_,O=k+k,I=S+S,R=_*T,M=k*T,j=k*O,D=S*T,L=S*O,U=S*I,B=E*T,q=E*O,z=E*I;e[0]=1-j-U,e[1]=M+z,e[2]=D-q,e[3]=0,e[4]=M-z,e[5]=1-R-U,e[6]=L+B,e[7]=0,e[8]=D+q,e[9]=L-B,e[10]=1-R-j,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this}},{key:"setPosition",value:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}},{key:"inverse",value:function(){return function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=l[4],O=l[5],I=l[6],R=l[7],M=l[8],j=l[9],D=l[10],L=l[11],U=l[12],B=l[13],q=l[14],z=l[15],G=_*O-k*T,W=_*I-S*T,V=_*R-E*T,K=k*I-S*O,H=k*R-E*O,$=S*R-E*I,J=M*B-j*U,Y=M*q-D*U,X=M*z-L*U,Z=j*q-D*B,Q=j*z-L*B,ee=D*z-L*q,te=G*ee-W*Q+V*Z+K*X-H*Y+$*J;te&&(te=1/te,e[0]=(O*ee-I*Q+R*Z)*te,e[1]=(S*Q-k*ee-E*Z)*te,e[2]=(B*$-q*H+z*K)*te,e[3]=(D*H-j*$-L*K)*te,e[4]=(I*X-T*ee-R*Y)*te,e[5]=(_*ee-S*X+E*Y)*te,e[6]=(q*V-U*$-z*W)*te,e[7]=(M*$-D*V+L*W)*te,e[8]=(T*Q-O*X+R*J)*te,e[9]=(k*X-_*Q-E*J)*te,e[10]=(U*H-B*V+z*G)*te,e[11]=(j*V-M*H-L*G)*te,e[12]=(O*Y-T*Z-I*J)*te,e[13]=(_*Z-k*Y+S*J)*te,e[14]=(B*W-U*K-q*G)*te,e[15]=(M*K-j*W+D*G)*te)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}},{key:"compose",value:function(e,l,_){var k,S,E,T,O,I,R,M,j,D,L,U,B,q,z,G,W,V,K,H,$,J,Y;return S=l,E=_,T=this,O=(k=e)[0],I=k[1],R=k[2],M=k[3],U=O*(j=O+O),B=O*(D=I+I),q=O*(L=R+R),z=I*D,G=I*L,W=R*L,V=M*j,K=M*D,H=M*L,$=E[0],J=E[1],Y=E[2],T[0]=(1-(z+W))*$,T[1]=(B+H)*$,T[2]=(q-K)*$,T[3]=0,T[4]=(B-H)*J,T[5]=(1-(U+W))*J,T[6]=(G+V)*J,T[7]=0,T[8]=(q+K)*Y,T[9]=(G-V)*Y,T[10]=(1-(U+z))*Y,T[11]=0,T[12]=S[0],T[13]=S[1],T[14]=S[2],T[15]=1,this}},{key:"decompose",value:function(e,l,_){return function(e,l,_,k){var S=length([e[0],e[1],e[2]]),E=length([e[4],e[5],e[6]]),T=length([e[8],e[9],e[10]]);_determinant(e)<0&&(S=-S),_[0]=e[12],_[1]=e[13],_[2]=e[14];var O=e.slice(),I=1/S,R=1/E,M=1/T;O[0]*=I,O[1]*=I,O[2]*=I,O[4]*=R,O[5]*=R,O[6]*=R,O[8]*=M,O[9]*=M,O[10]*=M,Sh(l,O),k[0]=S,k[1]=E,k[2]=T}(this,e,l,_),this}},{key:"getRotation",value:function(e){return Sh(e,this),this}},{key:"getTranslation",value:function(e){return function(e,l){e[0]=l[12],e[1]=l[13],e[2]=l[14]}(e,this),this}},{key:"getScaling",value:function(e){return _getScaling(e,this),this}},{key:"getMaxScaleOnAxis",value:function(){return l=(e=this)[0],_=e[1],k=e[2],S=e[4],E=e[5],T=e[6],O=e[8],I=e[9],R=e[10],M=l*l+_*_+k*k,j=S*S+E*E+T*T,D=O*O+I*I+R*R,Math.sqrt(Math.max(M,j,D));var e,l,_,k,S,E,T,O,I,R,M,j,D}},{key:"lookAt",value:function(e,l,_){return function(e,l,_,k){var S=l[0],E=l[1],T=l[2],O=k[0],I=k[1],R=k[2],M=S-_[0],j=E-_[1],D=T-_[2],L=M*M+j*j+D*D;0===L?D=1:(M*=L=1/Math.sqrt(L),j*=L,D*=L);var U=I*D-R*j,B=R*M-O*D,q=O*j-I*M;0===(L=U*U+B*B+q*q)&&(R?O+=1e-6:I?R+=1e-6:I+=1e-6,L=(U=I*D-R*j)*U+(B=R*M-O*D)*B+(q=O*j-I*M)*q),U*=L=1/Math.sqrt(L),B*=L,q*=L,e[0]=U,e[1]=B,e[2]=q,e[3]=0,e[4]=j*q-D*B,e[5]=D*U-M*q,e[6]=M*B-j*U,e[7]=0,e[8]=M,e[9]=j,e[10]=D,e[11]=0,e[12]=S,e[13]=E,e[14]=T,e[15]=1}(this,e,l,_),this}},{key:"determinant",value:function(){return _determinant(this)}},{key:"fromArray",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[l],this[1]=e[l+1],this[2]=e[l+2],this[3]=e[l+3],this[4]=e[l+4],this[5]=e[l+5],this[6]=e[l+6],this[7]=e[l+7],this[8]=e[l+8],this[9]=e[l+9],this[10]=e[l+10],this[11]=e[l+11],this[12]=e[l+12],this[13]=e[l+13],this[14]=e[l+14],this[15]=e[l+15],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[l]=this[0],e[l+1]=this[1],e[l+2]=this[2],e[l+3]=this[3],e[l+4]=this[4],e[l+5]=this[5],e[l+6]=this[6],e[l+7]=this[7],e[l+8]=this[8],e[l+9]=this[9],e[l+10]=this[10],e[l+11]=this[11],e[l+12]=this[12],e[l+13]=this[13],e[l+14]=this[14],e[l+15]=this[15],e}}])}(_wrapNativeSuper(Array));var Eh=new Ch,Th=function(e){function Euler(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"YXZ";_classCallCheck3(this,Euler),(e=_callSuper(this,Euler,[l,_,k])).order=S,e.onChange=function(){},e._target=e;var E=["0","1","2"];return _possibleConstructorReturn(e,new Proxy(e,{set:function(e,l){var _=Reflect.set.apply(Reflect,arguments);return _&&E.includes(l)&&e.onChange(),_}}))}return _inherits(Euler,e),_createClass3(Euler,[{key:"x",get:function(){return this[0]},set:function(e){this._target[0]=e,this.onChange()}},{key:"y",get:function(){return this[1]},set:function(e){this._target[1]=e,this.onChange()}},{key:"z",get:function(){return this[2]},set:function(e){this._target[2]=e,this.onChange()}},{key:"set",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e.length?this.copy(e):(this._target[0]=e,this._target[1]=l,this._target[2]=_,this.onChange(),this)}},{key:"copy",value:function(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}},{key:"reorder",value:function(e){return this._target.order=e,this.onChange(),this}},{key:"fromRotationMatrix",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order;return function(e,l){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ";"XYZ"===_?(e[1]=Math.asin(Math.min(Math.max(l[8],-1),1)),Math.abs(l[8])<.99999?(e[0]=Math.atan2(-l[9],l[10]),e[2]=Math.atan2(-l[4],l[0])):(e[0]=Math.atan2(l[6],l[5]),e[2]=0)):"YXZ"===_?(e[0]=Math.asin(-Math.min(Math.max(l[9],-1),1)),Math.abs(l[9])<.99999?(e[1]=Math.atan2(l[8],l[10]),e[2]=Math.atan2(l[1],l[5])):(e[1]=Math.atan2(-l[2],l[0]),e[2]=0)):"ZXY"===_?(e[0]=Math.asin(Math.min(Math.max(l[6],-1),1)),Math.abs(l[6])<.99999?(e[1]=Math.atan2(-l[2],l[10]),e[2]=Math.atan2(-l[4],l[5])):(e[1]=0,e[2]=Math.atan2(l[1],l[0]))):"ZYX"===_?(e[1]=Math.asin(-Math.min(Math.max(l[2],-1),1)),Math.abs(l[2])<.99999?(e[0]=Math.atan2(l[6],l[10]),e[2]=Math.atan2(l[1],l[0])):(e[0]=0,e[2]=Math.atan2(-l[4],l[5]))):"YZX"===_?(e[2]=Math.asin(Math.min(Math.max(l[1],-1),1)),Math.abs(l[1])<.99999?(e[0]=Math.atan2(-l[9],l[5]),e[1]=Math.atan2(-l[2],l[0])):(e[0]=0,e[1]=Math.atan2(l[8],l[10]))):"XZY"===_&&(e[2]=Math.asin(-Math.min(Math.max(l[4],-1),1)),Math.abs(l[4])<.99999?(e[0]=Math.atan2(l[6],l[5]),e[1]=Math.atan2(l[8],l[0])):(e[0]=Math.atan2(-l[9],l[10]),e[1]=0))}(this._target,e,l),this.onChange(),this}},{key:"fromQuaternion",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order,_=arguments.length>2?arguments[2]:void 0;return Eh.fromQuaternion(e),this._target.fromRotationMatrix(Eh,l),_||this.onChange(),this}},{key:"fromArray",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._target[0]=e[l],this._target[1]=e[l+1],this._target[2]=e[l+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[l]=this[0],e[l+1]=this[1],e[l+2]=this[2],e}}])}(_wrapNativeSuper(Array)),Ah=function(){return _createClass3(function Transform(){var e=this;_classCallCheck3(this,Transform),this.parent=null,this.children=[],this.visible=!0,this.matrix=new Ch,this.worldMatrix=new Ch,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new uh,this.quaternion=new kh,this.scale=new uh(1),this.rotation=new Th,this.up=new uh(0,1,0),this.rotation._target.onChange=function(){return e.quaternion.fromEuler(e.rotation,!0)},this.quaternion._target.onChange=function(){return e.rotation.fromQuaternion(e.quaternion,void 0,!0)}},[{key:"setParent",value:function(e){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,l&&e&&e.addChild(this,!1)}},{key:"addChild",value:function(e){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(e)||this.children.push(e),l&&e.setParent(this,!1)}},{key:"removeChild",value:function(e){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),l&&e.setParent(null,!1)}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(var l=0,_=this.children.length;l<_;l++)this.children[l].updateMatrixWorld(e)}},{key:"updateMatrix",value:function(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}},{key:"traverse",value:function(e){if(!e(this))for(var l=0,_=this.children.length;l<_;l++)this.children[l].traverse(e)}},{key:"decompose",value:function(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}},{key:"lookAt",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}])}();R("aW",Ah);var xh=new Ch,Oh=new uh,Ih=new uh,Rh=function(e){function Camera(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=_.near,S=void 0===k?.1:k,E=_.far,T=void 0===E?100:E,O=_.fov,I=void 0===O?45:O,R=_.aspect,M=void 0===R?1:R,j=_.left,D=_.right,L=_.bottom,U=_.top,B=_.zoom,q=void 0===B?1:B;return _classCallCheck3(this,Camera),l=_callSuper(this,Camera),Object.assign(l,{near:S,far:T,fov:I,aspect:M,left:j,right:D,bottom:L,top:U,zoom:q}),l.projectionMatrix=new Ch,l.viewMatrix=new Ch,l.projectionViewMatrix=new Ch,l.worldPosition=new uh,l.type=j||D?"orthographic":"perspective","orthographic"===l.type?l.orthographic():l.perspective(),l}return _inherits(Camera,e),_createClass3(Camera,[{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.near,_=void 0===l?this.near:l,k=e.far,S=void 0===k?this.far:k,E=e.fov,T=void 0===E?this.fov:E,O=e.aspect,I=void 0===O?this.aspect:O;return Object.assign(this,{near:_,far:S,fov:T,aspect:I}),this.projectionMatrix.fromPerspective({fov:T*(Math.PI/180),aspect:I,near:_,far:S}),this.type="perspective",this}},{key:"orthographic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=e.near,_=void 0===l?this.near:l,k=e.far,S=void 0===k?this.far:k,E=e.left,T=void 0===E?this.left||-1:E,O=e.right,I=void 0===O?this.right||1:O,R=e.bottom,M=void 0===R?this.bottom||-1:R,j=e.top,D=void 0===j?this.top||1:j,L=e.zoom,U=void 0===L?this.zoom:L;return Object.assign(this,{near:_,far:S,left:T,right:I,bottom:M,top:D,zoom:U}),T/=U,I/=U,M/=U,D/=U,this.projectionMatrix.fromOrthogonal({left:T,right:I,bottom:M,top:D,near:_,far:S}),this.type="orthographic",this}},{key:"updateMatrixWorld",value:function(){return _superPropGet(Camera,"updateMatrixWorld",this,3)([]),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}},{key:"updateProjectionMatrix",value:function(){return"perspective"===this.type?this.perspective():this.orthographic()}},{key:"lookAt",value:function(e){return _superPropGet(Camera,"lookAt",this,3)([e,!0]),this}},{key:"project",value:function(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}},{key:"unproject",value:function(e){return e.applyMatrix4(xh.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}},{key:"updateFrustum",value:function(){this.frustum||(this.frustum=[new uh,new uh,new uh,new uh,new uh,new uh]);var e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(var l=0;l<6;l++){var _=1/this.frustum[l].distance();this.frustum[l].multiply(_),this.frustum[l].constant*=_}}},{key:"frustumIntersectsMesh",value:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.worldMatrix;if(!e.geometry.attributes.position)return!0;if(e.geometry.bounds&&e.geometry.bounds.radius!==1/0||e.geometry.computeBoundingSphere(),!e.geometry.bounds)return!0;var _=Oh;_.copy(e.geometry.bounds.center),_.applyMatrix4(l);var k=e.geometry.bounds.radius*l.getMaxScaleOnAxis();return this.frustumIntersectsSphere(_,k)}},{key:"frustumIntersectsSphere",value:function(e,l){for(var _=Ih,k=0;k<6;k++){var S=this.frustum[k];if(_.copy(S).dot(e)+S.constant<-l)return!1}return!0}}])}(Ah);function _multiply(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=l[4],I=l[5],R=l[6],M=l[7],j=l[8],D=_[0],L=_[1],U=_[2],B=_[3],q=_[4],z=_[5],G=_[6],W=_[7],V=_[8];return e[0]=D*k+L*T+U*R,e[1]=D*S+L*O+U*M,e[2]=D*E+L*I+U*j,e[3]=B*k+q*T+z*R,e[4]=B*S+q*O+z*M,e[5]=B*E+q*I+z*j,e[6]=G*k+W*T+V*R,e[7]=G*S+W*O+V*M,e[8]=G*E+W*I+V*j,e}R("aV",Rh);var Ph=function(e){function Mat3(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,T=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,R=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;return _classCallCheck3(this,Mat3),_possibleConstructorReturn(e=_callSuper(this,Mat3,[l,_,k,S,E,T,O,I,R]),e)}return _inherits(Mat3,e),_createClass3(Mat3,[{key:"set",value:function(e,l,_,k,S,E,T,O,I){return e.length?this.copy(e):(function(e,l,_,k,S,E,T,O,I,R){e[0]=l,e[1]=_,e[2]=k,e[3]=S,e[4]=E,e[5]=T,e[6]=O,e[7]=I,e[8]=R}(this,e,l,_,k,S,E,T,O,I),this)}},{key:"translate",value:function(e){return function(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=l[4],I=l[5],R=l[6],M=l[7],j=l[8],D=_[0],L=_[1];e[0]=k,e[1]=S,e[2]=E,e[3]=T,e[4]=O,e[5]=I,e[6]=D*k+L*T+R,e[7]=D*S+L*O+M,e[8]=D*E+L*I+j}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}},{key:"rotate",value:function(e){return function(e,l,_){var k=l[0],S=l[1],E=l[2],T=l[3],O=l[4],I=l[5],R=l[6],M=l[7],j=l[8],D=Math.sin(_),L=Math.cos(_);e[0]=L*k+D*T,e[1]=L*S+D*O,e[2]=L*E+D*I,e[3]=L*T-D*k,e[4]=L*O-D*S,e[5]=L*I-D*E,e[6]=R,e[7]=M,e[8]=j}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}},{key:"scale",value:function(e){return function(e,l,_){var k=_[0],S=_[1];e[0]=k*l[0],e[1]=k*l[1],e[2]=k*l[2],e[3]=S*l[3],e[4]=S*l[4],e[5]=S*l[5],e[6]=l[6],e[7]=l[7],e[8]=l[8]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,e),this}},{key:"multiply",value:function(e,l){return l?_multiply(this,e,l):_multiply(this,this,e),this}},{key:"identity",value:function(){return function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(this),this}},{key:"copy",value:function(e){return function(e,l){e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e[4]=l[4],e[5]=l[5],e[6]=l[6],e[7]=l[7],e[8]=l[8]}(this,e),this}},{key:"fromMatrix4",value:function(e){return function(e,l){e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[4],e[4]=l[5],e[5]=l[6],e[6]=l[8],e[7]=l[9],e[8]=l[10]}(this,e),this}},{key:"fromQuaternion",value:function(e){return function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=_+_,O=k+k,I=S+S,R=_*T,M=k*T,j=k*O,D=S*T,L=S*O,U=S*I,B=E*T,q=E*O,z=E*I;e[0]=1-j-U,e[3]=M-z,e[6]=D+q,e[1]=M+z,e[4]=1-R-U,e[7]=L-B,e[2]=D-q,e[5]=L+B,e[8]=1-R-j}(this,e),this}},{key:"fromBasis",value:function(e,l,_){return this.set(e[0],e[1],e[2],l[0],l[1],l[2],_[0],_[1],_[2]),this}},{key:"inverse",value:function(){return function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=l[4],O=l[5],I=l[6],R=l[7],M=l[8],j=M*T-O*R,D=-M*E+O*I,L=R*E-T*I,U=_*j+k*D+S*L;U&&(U=1/U,e[0]=j*U,e[1]=(-M*k+S*R)*U,e[2]=(O*k-S*T)*U,e[3]=D*U,e[4]=(M*_-S*I)*U,e[5]=(-O*_+S*E)*U,e[6]=L*U,e[7]=(-R*_+k*I)*U,e[8]=(T*_-k*E)*U)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}},{key:"getNormalMatrix",value:function(e){return function(e,l){var _=l[0],k=l[1],S=l[2],E=l[3],T=l[4],O=l[5],I=l[6],R=l[7],M=l[8],j=l[9],D=l[10],L=l[11],U=l[12],B=l[13],q=l[14],z=l[15],G=_*O-k*T,W=_*I-S*T,V=_*R-E*T,K=k*I-S*O,H=k*R-E*O,$=S*R-E*I,J=M*B-j*U,Y=M*q-D*U,X=M*z-L*U,Z=j*q-D*B,Q=j*z-L*B,ee=D*z-L*q,te=G*ee-W*Q+V*Z+K*X-H*Y+$*J;te&&(te=1/te,e[0]=(O*ee-I*Q+R*Z)*te,e[1]=(I*X-T*ee-R*Y)*te,e[2]=(T*Q-O*X+R*J)*te,e[3]=(S*Q-k*ee-E*Z)*te,e[4]=(_*ee-S*X+E*Y)*te,e[5]=(k*X-_*Q-E*J)*te,e[6]=(B*$-q*H+z*K)*te,e[7]=(q*V-U*$-z*W)*te,e[8]=(U*H-B*V+z*G)*te)}(this,e),this}}])}(_wrapNativeSuper(Array)),Mh=0,jh=function(e){function Mesh(e){var l,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=_.geometry,S=_.program,E=_.mode,T=void 0===E?e.TRIANGLES:E,O=_.frustumCulled,I=void 0===O||O,R=_.renderOrder,M=void 0===R?0:R;return _classCallCheck3(this,Mesh),l=_callSuper(this,Mesh),e.canvas,l.gl=e,l.id=Mh++,l.geometry=k,l.program=S,l.mode=T,l.frustumCulled=I,l.renderOrder=M,l.modelViewMatrix=new Ch,l.normalMatrix=new Ph,l.beforeRenderCallbacks=[],l.afterRenderCallbacks=[],l}return _inherits(Mesh,e),_createClass3(Mesh,[{key:"onBeforeRender",value:function(e){return this.beforeRenderCallbacks.push(e),this}},{key:"onAfterRender",value:function(e){return this.afterRenderCallbacks.push(e),this}},{key:"draw",value:function(){var e=this,l=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).camera;l&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=l.projectionMatrix,this.program.uniforms.cameraPosition.value=l.worldPosition,this.program.uniforms.viewMatrix.value=l.viewMatrix,this.modelViewMatrix.multiply(l.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(function(_){return _&&_({mesh:e,camera:l})});var _=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:_}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(function(_){return _&&_({mesh:e,camera:l})})}}])}(Ah);R("a_",jh);var Dh=new Uint8Array(4);function isPowerOf2(e){return!(e&e-1)}var Fh=1,Lh=function(){return _createClass3(function Texture(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.image,k=l.target,S=void 0===k?e.TEXTURE_2D:k,E=l.type,T=void 0===E?e.UNSIGNED_BYTE:E,O=l.format,I=void 0===O?e.RGBA:O,R=l.internalFormat,M=void 0===R?I:R,j=l.wrapS,D=void 0===j?e.CLAMP_TO_EDGE:j,L=l.wrapT,U=void 0===L?e.CLAMP_TO_EDGE:L,B=l.wrapR,q=void 0===B?e.CLAMP_TO_EDGE:B,z=l.generateMipmaps,G=void 0===z?S===(e.TEXTURE_2D||e.TEXTURE_CUBE_MAP):z,W=l.minFilter,V=void 0===W?G?e.NEAREST_MIPMAP_LINEAR:e.LINEAR:W,K=l.magFilter,H=void 0===K?e.LINEAR:K,$=l.premultiplyAlpha,J=void 0!==$&&$,Y=l.unpackAlignment,X=void 0===Y?4:Y,Z=l.flipY,Q=void 0===Z?S==(e.TEXTURE_2D||e.TEXTURE_3D):Z,ee=l.anisotropy,te=void 0===ee?0:ee,re=l.level,ne=void 0===re?0:re,ie=l.width,ae=l.height,oe=void 0===ae?ie:ae,se=l.length,ue=void 0===se?1:se;_classCallCheck3(this,Texture),this.gl=e,this.id=Fh++,this.image=_,this.target=S,this.type=T,this.format=I,this.internalFormat=M,this.minFilter=V,this.magFilter=H,this.wrapS=D,this.wrapT=U,this.wrapR=q,this.generateMipmaps=G,this.premultiplyAlpha=J,this.unpackAlignment=X,this.flipY=Q,this.anisotropy=Math.min(te,this.gl.renderer.parameters.maxAnisotropy),this.level=ne,this.width=ie,this.height=oe,this.length=ue,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0},[{key:"bind",value:function(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=!(this.image===this.store.image&&!this.needsUpdate);if((l||this.glState.textureUnits[e]!==this.id)&&(this.gl.renderer.activeTexture(e),this.bind()),l){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(var _=0;_<6;_++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+_,this.level,this.internalFormat,this.format,this.type,this.image[_]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):this.target!==this.gl.TEXTURE_2D_ARRAY&&this.target!==this.gl.TEXTURE_3D||this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(var k=0;k<this.image.length;k++)this.gl.compressedTexImage2D(this.target,k,this.internalFormat,this.image[k].width,this.image[k].height,0,this.image[k].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||isPowerOf2(this.image.width)&&isPowerOf2(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(var S=0;S<6;S++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+S,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Dh);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Dh);this.store.image=this.image}}}])}();R("aY",Lh);var Nh=function(e){function Plane(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.width,k=void 0===_?1:_,S=l.height,E=void 0===S?1:S,T=l.widthSegments,O=void 0===T?1:T,I=l.heightSegments,R=void 0===I?1:I,M=l.attributes,j=void 0===M?{}:M;_classCallCheck3(this,Plane);var D=O,L=R,U=(D+1)*(L+1),B=D*L*6,q=new Float32Array(3*U),z=new Float32Array(3*U),G=new Float32Array(2*U),W=B>65536?new Uint32Array(B):new Uint16Array(B);return Plane.buildPlane(q,z,G,W,k,E,0,D,L),Object.assign(j,{position:{size:3,data:q},normal:{size:3,data:z},uv:{size:2,data:G},index:{data:W}}),_callSuper(this,Plane,[e,j])}return _inherits(Plane,e),_createClass3(Plane,null,[{key:"buildPlane",value:function(e,l,_,k,S,E,T,O,I){for(var R=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,M=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,j=arguments.length>11&&void 0!==arguments[11]?arguments[11]:2,D=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,L=arguments.length>13&&void 0!==arguments[13]?arguments[13]:-1,U=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,B=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,q=U,z=S/O,G=E/I,W=0;W<=I;W++)for(var V=W*G-E/2,K=0;K<=O;K++,U++){var H=K*z-S/2;if(e[3*U+R]=H*D,e[3*U+M]=V*L,e[3*U+j]=T/2,l[3*U+R]=0,l[3*U+M]=0,l[3*U+j]=T>=0?1:-1,_[2*U]=K/O,_[2*U+1]=1-W/I,W!==I&&K!==O){var $=q+K+W*(O+1),J=q+K+(W+1)*(O+1),Y=q+K+(W+1)*(O+1)+1,X=q+K+W*(O+1)+1;k[6*B]=$,k[6*B+1]=J,k[6*B+2]=X,k[6*B+3]=J,k[6*B+4]=Y,k[6*B+5]=X,B++}}}}])}(fh);R("aX",Nh);var Uh=function(e){function Triangle(e){var l=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).attributes,_=void 0===l?{}:l;return _classCallCheck3(this,Triangle),Object.assign(_,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),_callSuper(this,Triangle,[e,_])}return _inherits(Triangle,e),_createClass3(Triangle)}(fh);R("b2",Uh);var falsyToString=function(e){return"boolean"==typeof e?"".concat(e):0===e?"0":e},Bh=clsx;R("a$",function(e,l){return function(_){var k;if(null==(null==l?void 0:l.variants))return Bh(e,null==_?void 0:_.class,null==_?void 0:_.className);var S=l.variants,E=l.defaultVariants,T=Object.keys(S).map(function(e){var l=null==_?void 0:_[e],k=null==E?void 0:E[e];if(null===l)return null;var T=falsyToString(l)||falsyToString(k);return S[e][T]}),O=_&&Object.entries(_).reduce(function(e,l){var _=_slicedToArray(l,2),k=_[0],S=_[1];return void 0===S||(e[k]=S),e},{}),R=null==l||null===(k=l.compoundVariants)||void 0===k?void 0:k.reduce(function(e,l){var _=l.class,k=l.className,S=_objectWithoutProperties3(l,I);return Object.entries(S).every(function(e){var l=_slicedToArray(e,2),_=l[0],k=l[1];return Array.isArray(k)?k.includes(_objectSpread2(_objectSpread2({},E),O)[_]):_objectSpread2(_objectSpread2({},E),O)[_]===k})?[].concat(_toConsumableArray3(e),[_,k]):e},[]);return Bh(e,T,R,null==_?void 0:_.class,null==_?void 0:_.className)}})}}})}();
