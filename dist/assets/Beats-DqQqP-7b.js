import{r as l,j as t,P as b,C as f}from"./vendor_react-BtRciHc0.js";import{m as v}from"./vendor_framer-motion-CiDAts63.js";import"./vendor-CheDl41J.js";const k=l.memo(function({items:r=[],baseRadius:h=220}){const[u,p]=l.useState(window.innerWidth),[d,x]=l.useState(null);l.useEffect(()=>{const e=()=>p(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const s=l.useMemo(()=>Math.min(Math.max(u/5,120),h*1.6),[u,h]),i=u<480||r.length>10,w=l.useMemo(()=>{if(i)return[];const e=r.length;return r.map((n,a)=>{const o=a/e*2*Math.PI,c=s+s*Math.cos(o)-80,g=s+s*Math.sin(o)-90;return{x:c,y:g}})},[r,s,i]),m=(e,n)=>{if(d===e){const a=document.getElementById("audio-".concat(e));a&&a.pause(),x(null)}else{if(d!==null){const o=document.getElementById("audio-".concat(d));o&&o.pause()}const a=document.getElementById("audio-".concat(e));a&&(a.play(),x(e))}};return t.jsxs("div",{className:"relative mx-auto ".concat(i?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6":""),style:i?{}:{width:s*2,height:s*2},children:[r.length===0&&t.jsx("div",{className:"text-center text-gray-400 py-12 w-full",children:"ðŸŽ§ No beats available yet"}),r.map((e,n)=>{const{x:a,y:o}=w[n]||{},c=d===e.id;return t.jsx(v.div,{role:"article","aria-label":"Beat: ".concat(e.title),tabIndex:0,style:i?{}:{position:"absolute",left:a,top:o,width:"clamp(130px, 20vw, 210px)",height:"clamp(170px, 30vw, 250px)"},whileHover:{scale:1.06,rotate:0,transition:{duration:.25}},whileTap:{scale:.95},initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},transition:{duration:.5,delay:n*.08},children:t.jsx("div",{className:"relative group bg-black/90 backdrop-blur-xl rounded-2xl p-3 w-full h-full shadow-lg hover:shadow-2xl transition-all duration-300 border border-white/10 focus-within:ring-2 focus-within:ring-white/30",children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"relative mb-3 aspect-[4/3] overflow-hidden rounded-lg",children:[t.jsx("img",{src:e.image,alt:e.title||"Beat Cover",className:"w-full h-full object-cover rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("button",{onClick:()=>m(e.id,e.url),className:"absolute bottom-3 right-3 p-2 bg-white/20 backdrop-blur-md rounded-full hover:bg-white/40 transition","aria-label":c?"Pause preview":"Play preview",children:c?t.jsx(b,{className:"w-4 h-4 text-white"}):t.jsx(f,{className:"w-4 h-4 text-white"})}),t.jsx("audio",{id:"audio-".concat(e.id),src:e.url})]}),t.jsx("h3",{className:"text-white text-sm md:text-base font-semibold truncate mb-0.5",children:e.title}),t.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-1 font-medium truncate",children:e.artist}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[10px] md:text-xs text-gray-300 mb-2",children:[e.bpm&&t.jsxs("span",{className:"px-2 py-0.5 bg-white/10 rounded-full",children:[e.bpm," BPM"]}),e.duration&&t.jsx("span",{className:"px-2 py-0.5 bg-white/10 rounded-full",children:e.duration})]}),t.jsx("div",{className:"mt-auto",children:t.jsx("a",{href:e.download,"aria-label":"Download or buy ".concat(e.title),download:e.price==="Free"?!0:void 0,className:"block text-center focus:outline-none focus:ring-2 focus:ring-white/40 ".concat(e.price==="Free"?"bg-white text-black hover:bg-gray-200":"bg-gradient-to-r from-gray-800 to-black hover:from-black hover:to-gray-900 text-white"," font-medium text-xs md:text-sm py-2 px-4 rounded-lg transition-all duration-200 shadow-md hover:shadow-xl"),children:e.price==="Free"?"â¬‡ Download":"ðŸ’³ Buy ".concat(e.price)})})]})})},e.id||n)})]})});export{k as default};
