import{a as o,j as e,X as f}from"./vendor_react-RnE43CiF.js";import"./vendor_react-dom-BwtVtmH1.js";import"./vendor-CewzeS4l.js";const w=()=>{const[i,r]=o.useState(navigator.onLine),[a,l]=o.useState(!1),[c,s]=o.useState(!navigator.onLine),n=o.useCallback(()=>{const t=navigator.onLine;r(t),s(!t)},[]);o.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",n),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}),[n]);const d=async()=>{l(!0);try{const t=new AbortController,m=setTimeout(()=>t.abort(),4e3),u=await fetch("https://www.google.com/favicon.ico",{method:"HEAD",cache:"no-store",signal:t.signal});if(clearTimeout(m),u.ok)r(!0),setTimeout(()=>s(!1),300);else throw new Error("No network")}catch(t){r(!1),s(!0)}finally{l(!1)}};return c?e.jsxs("div",{role:"alert","aria-live":"assertive",className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-md bg-gradient-to-r from-red-600 to-red-500 text-white px-5 py-3 rounded-xl shadow-lg font-medium z-[9999] flex items-center gap-3 transition-all duration-300 ".concat(c?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"),children:[e.jsx("span",{className:"text-lg animate-pulse select-none",children:"⚠️"}),e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsx("span",{className:"font-semibold",children:i?"Reconnected":"You’re offline"}),e.jsx("span",{className:"opacity-90",children:i?"Connection restored.":"Check your connection or retry."})]}),!i&&e.jsx("button",{onClick:d,disabled:a,className:"ml-auto px-3 py-1.5 rounded-md text-sm font-semibold transition-colors ".concat(a?"bg-gray-500 cursor-not-allowed":"bg-white text-red-600 hover:bg-red-100"),children:a?"Checking...":"Retry"}),e.jsx("button",{onClick:()=>s(!1),"aria-label":"Close notification",className:"p-1 -mr-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(f,{size:18})})]}):null};export{w as default};
