{"version":3,"file":"BlurText-Jhq1l60W.js","sources":["../../src/components/BlurText.jsx"],"sourcesContent":["import { motion } from 'framer-motion';\nimport { useEffect, useRef, useState, useMemo } from 'react';\n\nconst buildKeyframes = (from, steps) => {\n  const keys = new Set([\n    ...Object.keys(from),\n    ...steps.flatMap((s) => Object.keys(s)),\n  ]);\n\n  const keyframes = {};\n  keys.forEach((k) => {\n    keyframes[k] = [from[k], ...steps.map((s) => s[k])];\n  });\n  return keyframes;\n};\n\nconst BlurText = ({\n  text = '',\n  delay = 200,\n  className = '',\n  animateBy = 'words',\n  direction = 'top',\n  threshold = 0.1,\n  rootMargin = '0px',\n  animationFrom,\n  animationTo,\n  easing = (t) => t,\n  onAnimationComplete,\n  stepDuration = 0.35,\n}) => {\n  const elements = animateBy === 'words' ? text.split(' ') : text.split('');\n  const [inView, setInView] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    if (!ref.current) return;\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setInView(true);\n          observer.unobserve(ref.current);\n        }\n      },\n      { threshold, rootMargin }\n    );\n    observer.observe(ref.current);\n    return () => observer.disconnect();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [threshold, rootMargin]);\n\n  const defaultFrom = useMemo(\n    () =>\n      direction === 'top'\n        ? { filter: 'blur(10px)', opacity: 0, y: -50 }\n        : { filter: 'blur(10px)', opacity: 0, y: 50 },\n    [direction]\n  );\n\n  const defaultTo = useMemo(\n    () => [\n      {\n        filter: 'blur(5px)',\n        opacity: 0.5,\n        y: direction === 'top' ? 5 : -5,\n      },\n      { filter: 'blur(0px)', opacity: 1, y: 0 },\n    ],\n    [direction]\n  );\n\n  const fromSnapshot = animationFrom ?? defaultFrom;\n  const toSnapshots = animationTo ?? defaultTo;\n\n  const stepCount = toSnapshots.length + 1;\n  const totalDuration = stepDuration * (stepCount - 1);\n  const times = Array.from({ length: stepCount }, (_, i) =>\n    stepCount === 1 ? 0 : i / (stepCount - 1)\n  );\n\n  return (\n    <p ref={ref} className={`blur-text ${className} flex flex-wrap`}>\n      {elements.map((segment, index) => {\n        const animateKeyframes = buildKeyframes(fromSnapshot, toSnapshots);\n\n        const spanTransition = {\n          duration: totalDuration,\n          times,\n          delay: (index * delay) / 1000,\n        };\n        spanTransition.ease = easing;\n\n        return (\n          <motion.span\n            className=\"inline-block will-change-[transform,filter,opacity]\"\n            key={index}\n            initial={fromSnapshot}\n            animate={inView ? animateKeyframes : fromSnapshot}\n            transition={spanTransition}\n            onAnimationComplete={\n              index === elements.length - 1 ? onAnimationComplete : undefined\n            }\n          >\n            {segment === ' ' ? '\\u00A0' : segment}\n            {animateBy === 'words' && index < elements.length - 1 && '\\u00A0'}\n          </motion.span>\n        );\n      })}\n    </p>\n  );\n};\n\nexport default BlurText;\n"],"names":["buildKeyframes","from","steps","keys","s","keyframes","k","BlurText","text","delay","className","animateBy","direction","threshold","rootMargin","animationFrom","animationTo","easing","t","onAnimationComplete","stepDuration","elements","inView","setInView","useState","ref","useRef","useEffect","observer","entry","defaultFrom","useMemo","defaultTo","fromSnapshot","toSnapshots","stepCount","totalDuration","times","_","i","jsx","segment","index","animateKeyframes","spanTransition","jsxs","motion"],"mappings":"uIAGA,MAAMA,EAAiB,CAACC,EAAMC,IAAU,CACtC,MAAMC,MAAW,IAAI,CACnB,GAAG,OAAO,KAAKF,CAAI,EACnB,GAAGC,EAAM,QAASE,GAAM,OAAO,KAAKA,CAAC,CAAC,CAAA,CACvC,EAEKC,EAAY,CAAA,EAClB,OAAAF,EAAK,QAASG,GAAM,CAClBD,EAAUC,CAAC,EAAI,CAACL,EAAKK,CAAC,EAAG,GAAGJ,EAAM,IAAKE,GAAMA,EAAEE,CAAC,CAAC,CAAC,CACpD,CAAC,EACMD,CACT,EAEME,EAAW,CAAC,CAChB,KAAAC,EAAO,GACP,MAAAC,EAAQ,IACR,UAAAC,EAAY,GACZ,UAAAC,EAAY,QACZ,UAAAC,EAAY,MACZ,UAAAC,EAAY,GACZ,WAAAC,EAAa,MACb,cAAAC,EACA,YAAAC,EACA,OAAAC,EAAUC,GAAMA,EAChB,oBAAAC,EACA,aAAAC,EAAe,GACjB,IAAM,CACJ,MAAMC,EAAWV,IAAc,QAAUH,EAAK,MAAM,GAAG,EAAIA,EAAK,MAAM,EAAE,EAClE,CAACc,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAK,EACpCC,EAAMC,EAAAA,OAAO,IAAI,EAEvBC,EAAAA,UAAU,IAAM,CACd,GAAI,CAACF,EAAI,QAAS,OAClB,MAAMG,EAAW,IAAI,qBACnB,CAAC,CAACC,CAAK,IAAM,CACPA,EAAM,iBACRN,EAAU,EAAI,EACdK,EAAS,UAAUH,EAAI,OAAO,EAElC,EACA,CAAE,UAAAZ,EAAW,WAAAC,CAAA,CAAW,EAE1B,OAAAc,EAAS,QAAQH,EAAI,OAAO,EACrB,IAAMG,EAAS,WAAA,CAExB,EAAG,CAACf,EAAWC,CAAU,CAAC,EAE1B,MAAMgB,EAAcC,EAAAA,QAClB,IACEnB,IAAc,MACV,CAAE,OAAQ,aAAc,QAAS,EAAG,EAAG,GAAA,EACvC,CAAE,OAAQ,aAAc,QAAS,EAAG,EAAG,EAAA,EAC7C,CAACA,CAAS,CAAA,EAGNoB,EAAYD,EAAAA,QAChB,IAAM,CACJ,CACE,OAAQ,YACR,QAAS,GACT,EAAGnB,IAAc,MAAQ,EAAI,EAAA,EAE/B,CAAE,OAAQ,YAAa,QAAS,EAAG,EAAG,CAAA,CAAE,EAE1C,CAACA,CAAS,CAAA,EAGNqB,EAAelB,GAAiBe,EAChCI,EAAclB,GAAegB,EAE7BG,EAAYD,EAAY,OAAS,EACjCE,EAAgBhB,GAAgBe,EAAY,GAC5CE,EAAQ,MAAM,KAAK,CAAE,OAAQF,CAAA,EAAa,CAACG,EAAGC,IAClDJ,IAAc,EAAI,EAAII,GAAKJ,EAAY,EAAA,EAGzC,OACEK,EAAAA,IAAC,IAAA,CAAE,IAAAf,EAAU,UAAW,aAAaf,CAAS,kBAC3C,SAAAW,EAAS,IAAI,CAACoB,EAASC,IAAU,CAChC,MAAMC,EAAmB3C,EAAeiC,EAAcC,CAAW,EAE3DU,EAAiB,CACrB,SAAUR,EACV,MAAAC,EACA,MAAQK,EAAQjC,EAAS,GAAA,EAE3B,OAAAmC,EAAe,KAAO3B,EAGpB4B,EAAAA,KAACC,EAAO,KAAP,CACC,UAAU,sDAEV,QAASb,EACT,QAASX,EAASqB,EAAmBV,EACrC,WAAYW,EACZ,oBACEF,IAAUrB,EAAS,OAAS,EAAIF,EAAsB,OAGvD,SAAA,CAAAsB,IAAY,IAAM,IAAWA,EAC7B9B,IAAc,SAAW+B,EAAQrB,EAAS,OAAS,GAAK,GAAA,CAAA,EATpDqB,CAAA,CAYX,CAAC,CAAA,CACH,CAEJ"}