import{r as e,j as t,X as o}from"./vendor-D-MnxTGK.js";const InternetStatus=()=>{const[n,a]=e.useState(navigator.onLine),[s,i]=e.useState(!1),[r,l]=e.useState(!navigator.onLine),c=e.useCallback(()=>{const e=navigator.onLine;a(e),l(!e)},[]);e.useEffect(()=>(window.addEventListener("online",c),window.addEventListener("offline",c),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",c)}),[c]);return r?t.jsxs("div",{role:"alert","aria-live":"assertive",className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-md bg-gradient-to-r from-red-600 to-red-500 text-white px-5 py-3 rounded-xl shadow-lg font-medium z-[9999] flex items-center gap-3 transition-all duration-300 "+(r?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"),children:[t.jsx("span",{className:"text-lg animate-pulse select-none",children:"⚠️"}),t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsx("span",{className:"font-semibold",children:n?"Reconnected":"You’re offline"}),t.jsx("span",{className:"opacity-90",children:n?"Connection restored.":"Check your connection or retry."})]}),!n&&t.jsx("button",{onClick:async()=>{i(!0);try{const e=new AbortController,t=setTimeout(()=>e.abort(),4e3),o=await fetch("https://www.google.com/favicon.ico",{method:"HEAD",cache:"no-store",signal:e.signal});if(clearTimeout(t),!o.ok)throw new Error("No network");a(!0),setTimeout(()=>l(!1),300)}catch{a(!1),l(!0)}finally{i(!1)}},disabled:s,className:"ml-auto px-3 py-1.5 rounded-md text-sm font-semibold transition-colors "+(s?"bg-gray-500 cursor-not-allowed":"bg-white text-red-600 hover:bg-red-100"),children:s?"Checking...":"Retry"}),t.jsx("button",{onClick:()=>l(!1),"aria-label":"Close notification",className:"p-1 -mr-2 rounded-full hover:bg-white/20 transition-colors",children:t.jsx(o,{size:18})})]}):null};export{InternetStatus as default};
