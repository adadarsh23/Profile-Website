{"version":3,"file":"Hyperspeed-DRAUlxhP.js","sources":["../../src/components/Hyperspeed.jsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport {\n  BloomEffect,\n  EffectComposer,\n  EffectPass,\n  RenderPass,\n  SMAAEffect,\n  SMAAPreset,\n} from 'postprocessing';\n\nconst Hyperspeed = ({\n  effectOptions = {\n    onSpeedUp: () => {},\n    onSlowDown: () => {},\n    distortion: 'turbulentDistortion',\n    length: 400,\n    roadWidth: 10,\n    islandWidth: 2,\n    lanesPerRoad: 4,\n    fov: 90,\n    fovSpeedUp: 150,\n    speedUp: 2,\n    carLightsFade: 0.4,\n    totalSideLightSticks: 20,\n    lightPairsPerRoadWay: 40,\n    shoulderLinesWidthPercentage: 0.05,\n    brokenLinesWidthPercentage: 0.1,\n    brokenLinesLengthPercentage: 0.5,\n    lightStickWidth: [0.12, 0.5],\n    lightStickHeight: [1.3, 1.7],\n    movingAwaySpeed: [60, 80],\n    movingCloserSpeed: [-120, -160],\n    carLightsLength: [400 * 0.03, 400 * 0.2],\n    carLightsRadius: [0.05, 0.14],\n    carWidthPercentage: [0.3, 0.5],\n    carShiftX: [-0.8, 0.8],\n    carFloorSeparation: [0, 5],\n    colors: {\n      roadColor: 0x080808,\n      islandColor: 0x0a0a0a,\n      background: 0x000000,\n      shoulderLines: 0xffffff,\n      brokenLines: 0xffffff,\n      leftCars: [0xd856bf, 0x6750a2, 0xc247ac],\n      rightCars: [0x03b3c3, 0x0e5ea5, 0x324555],\n      sticks: 0x03b3c3,\n    },\n  },\n}) => {\n  const hyperspeed = useRef(null);\n  const appRef = useRef(null);\n\n  useEffect(() => {\n    if (appRef.current) {\n      appRef.current.dispose();\n      const container = document.getElementById('lights');\n      if (container) {\n        while (container.firstChild) {\n          container.removeChild(container.firstChild);\n        }\n      }\n    }\n\n    const mountainUniforms = {\n      uFreq: { value: new THREE.Vector3(3, 6, 10) },\n      uAmp: { value: new THREE.Vector3(30, 30, 20) },\n    };\n\n    const xyUniforms = {\n      uFreq: { value: new THREE.Vector2(5, 2) },\n      uAmp: { value: new THREE.Vector2(25, 15) },\n    };\n\n    const LongRaceUniforms = {\n      uFreq: { value: new THREE.Vector2(2, 3) },\n      uAmp: { value: new THREE.Vector2(35, 10) },\n    };\n\n    const turbulentUniforms = {\n      uFreq: { value: new THREE.Vector4(4, 8, 8, 1) },\n      uAmp: { value: new THREE.Vector4(25, 5, 10, 10) },\n    };\n\n    const deepUniforms = {\n      uFreq: { value: new THREE.Vector2(4, 8) },\n      uAmp: { value: new THREE.Vector2(10, 20) },\n      uPowY: { value: new THREE.Vector2(20, 2) },\n    };\n\n    let nsin = (val) => Math.sin(val) * 0.5 + 0.5;\n\n    const distortions = {\n      mountainDistortion: {\n        uniforms: mountainUniforms,\n        getDistortion: `\n          uniform vec3 uAmp;\n          uniform vec3 uFreq;\n          #define PI 3.14159265358979\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          vec3 getDistortion(float progress){\n            float movementProgressFix = 0.02;\n            return vec3( \n              cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n              nsin(progress * PI * uFreq.y + uTime) * uAmp.y - nsin(movementProgressFix * PI * uFreq.y + uTime) * uAmp.y,\n              nsin(progress * PI * uFreq.z + uTime) * uAmp.z - nsin(movementProgressFix * PI * uFreq.z + uTime) * uAmp.z\n            );\n          }\n        `,\n        getJS: (progress, time) => {\n          let movementProgressFix = 0.02;\n          let uFreq = mountainUniforms.uFreq.value;\n          let uAmp = mountainUniforms.uAmp.value;\n          let distortion = new THREE.Vector3(\n            Math.cos(progress * Math.PI * uFreq.x + time) * uAmp.x -\n              Math.cos(movementProgressFix * Math.PI * uFreq.x + time) * uAmp.x,\n            nsin(progress * Math.PI * uFreq.y + time) * uAmp.y -\n              nsin(movementProgressFix * Math.PI * uFreq.y + time) * uAmp.y,\n            nsin(progress * Math.PI * uFreq.z + time) * uAmp.z -\n              nsin(movementProgressFix * Math.PI * uFreq.z + time) * uAmp.z\n          );\n          let lookAtAmp = new THREE.Vector3(2, 2, 2);\n          let lookAtOffset = new THREE.Vector3(0, 0, -5);\n          return distortion.multiply(lookAtAmp).add(lookAtOffset);\n        },\n      },\n      xyDistortion: {\n        uniforms: xyUniforms,\n        getDistortion: `\n          uniform vec2 uFreq;\n          uniform vec2 uAmp;\n          #define PI 3.14159265358979\n          vec3 getDistortion(float progress){\n            float movementProgressFix = 0.02;\n            return vec3( \n              cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n              sin(progress * PI * uFreq.y + PI/2. + uTime) * uAmp.y - sin(movementProgressFix * PI * uFreq.y + PI/2. + uTime) * uAmp.y,\n              0.\n            );\n          }\n        `,\n        getJS: (progress, time) => {\n          let movementProgressFix = 0.02;\n          let uFreq = xyUniforms.uFreq.value;\n          let uAmp = xyUniforms.uAmp.value;\n          let distortion = new THREE.Vector3(\n            Math.cos(progress * Math.PI * uFreq.x + time) * uAmp.x -\n              Math.cos(movementProgressFix * Math.PI * uFreq.x + time) * uAmp.x,\n            Math.sin(progress * Math.PI * uFreq.y + time + Math.PI / 2) *\n              uAmp.y -\n              Math.sin(\n                movementProgressFix * Math.PI * uFreq.y + time + Math.PI / 2\n              ) *\n                uAmp.y,\n            0\n          );\n          let lookAtAmp = new THREE.Vector3(2, 0.4, 1);\n          let lookAtOffset = new THREE.Vector3(0, 0, -3);\n          return distortion.multiply(lookAtAmp).add(lookAtOffset);\n        },\n      },\n      LongRaceDistortion: {\n        uniforms: LongRaceUniforms,\n        getDistortion: `\n          uniform vec2 uFreq;\n          uniform vec2 uAmp;\n          #define PI 3.14159265358979\n          vec3 getDistortion(float progress){\n            float camProgress = 0.0125;\n            return vec3( \n              sin(progress * PI * uFreq.x + uTime) * uAmp.x - sin(camProgress * PI * uFreq.x + uTime) * uAmp.x,\n              sin(progress * PI * uFreq.y + uTime) * uAmp.y - sin(camProgress * PI * uFreq.y + uTime) * uAmp.y,\n              0.\n            );\n          }\n        `,\n        getJS: (progress, time) => {\n          let camProgress = 0.0125;\n          let uFreq = LongRaceUniforms.uFreq.value;\n          let uAmp = LongRaceUniforms.uAmp.value;\n          let distortion = new THREE.Vector3(\n            Math.sin(progress * Math.PI * uFreq.x + time) * uAmp.x -\n              Math.sin(camProgress * Math.PI * uFreq.x + time) * uAmp.x,\n            Math.sin(progress * Math.PI * uFreq.y + time) * uAmp.y -\n              Math.sin(camProgress * Math.PI * uFreq.y + time) * uAmp.y,\n            0\n          );\n          let lookAtAmp = new THREE.Vector3(1, 1, 0);\n          let lookAtOffset = new THREE.Vector3(0, 0, -5);\n          return distortion.multiply(lookAtAmp).add(lookAtOffset);\n        },\n      },\n      turbulentDistortion: {\n        uniforms: turbulentUniforms,\n        getDistortion: `\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              cos(PI * progress * uFreq.r + uTime) * uAmp.r +\n              pow(cos(PI * progress * uFreq.g + uTime * (uFreq.g / uFreq.r)), 2. ) * uAmp.g\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              -nsin(PI * progress * uFreq.b + uTime) * uAmp.b +\n              -pow(nsin(PI * progress * uFreq.a + uTime / (uFreq.b / uFreq.a)), 5.) * uAmp.a\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.0125),\n              getDistortionY(progress) - getDistortionY(0.0125),\n              0.\n            );\n          }\n        `,\n        getJS: (progress, time) => {\n          const uFreq = turbulentUniforms.uFreq.value;\n          const uAmp = turbulentUniforms.uAmp.value;\n\n          const getX = (p) =>\n            Math.cos(Math.PI * p * uFreq.x + time) * uAmp.x +\n            Math.pow(\n              Math.cos(Math.PI * p * uFreq.y + time * (uFreq.y / uFreq.x)),\n              2\n            ) *\n              uAmp.y;\n\n          const getY = (p) =>\n            -nsin(Math.PI * p * uFreq.z + time) * uAmp.z -\n            Math.pow(\n              nsin(Math.PI * p * uFreq.w + time / (uFreq.z / uFreq.w)),\n              5\n            ) *\n              uAmp.w;\n\n          let distortion = new THREE.Vector3(\n            getX(progress) - getX(progress + 0.007),\n            getY(progress) - getY(progress + 0.007),\n            0\n          );\n          let lookAtAmp = new THREE.Vector3(-2, -5, 0);\n          let lookAtOffset = new THREE.Vector3(0, 0, -10);\n          return distortion.multiply(lookAtAmp).add(lookAtOffset);\n        },\n      },\n      turbulentDistortionStill: {\n        uniforms: turbulentUniforms,\n        getDistortion: `\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              cos(PI * progress * uFreq.r) * uAmp.r +\n              pow(cos(PI * progress * uFreq.g * (uFreq.g / uFreq.r)), 2. ) * uAmp.g\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              -nsin(PI * progress * uFreq.b) * uAmp.b +\n              -pow(nsin(PI * progress * uFreq.a / (uFreq.b / uFreq.a)), 5.) * uAmp.a\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.02),\n              getDistortionY(progress) - getDistortionY(0.02),\n              0.\n            );\n          }\n        `,\n      },\n      deepDistortionStill: {\n        uniforms: deepUniforms,\n        getDistortion: `\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          uniform vec2 uPowY;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              sin(progress * PI * uFreq.x) * uAmp.x * 2.\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              pow(abs(progress * uPowY.x), uPowY.y) + sin(progress * PI * uFreq.y) * uAmp.y\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.02),\n              getDistortionY(progress) - getDistortionY(0.05),\n              0.\n            );\n          }\n        `,\n      },\n      deepDistortion: {\n        uniforms: deepUniforms,\n        getDistortion: `\n          uniform vec4 uFreq;\n          uniform vec4 uAmp;\n          uniform vec2 uPowY;\n          float nsin(float val){\n            return sin(val) * 0.5 + 0.5;\n          }\n          #define PI 3.14159265358979\n          float getDistortionX(float progress){\n            return (\n              sin(progress * PI * uFreq.x + uTime) * uAmp.x\n            );\n          }\n          float getDistortionY(float progress){\n            return (\n              pow(abs(progress * uPowY.x), uPowY.y) + sin(progress * PI * uFreq.y + uTime) * uAmp.y\n            );\n          }\n          vec3 getDistortion(float progress){\n            return vec3(\n              getDistortionX(progress) - getDistortionX(0.02),\n              getDistortionY(progress) - getDistortionY(0.02),\n              0.\n            );\n          }\n        `,\n        getJS: (progress, time) => {\n          const uFreq = deepUniforms.uFreq.value;\n          const uAmp = deepUniforms.uAmp.value;\n          const uPowY = deepUniforms.uPowY.value;\n\n          const getX = (p) => Math.sin(p * Math.PI * uFreq.x + time) * uAmp.x;\n          const getY = (p) =>\n            Math.pow(p * uPowY.x, uPowY.y) +\n            Math.sin(p * Math.PI * uFreq.y + time) * uAmp.y;\n\n          let distortion = new THREE.Vector3(\n            getX(progress) - getX(progress + 0.01),\n            getY(progress) - getY(progress + 0.01),\n            0\n          );\n          let lookAtAmp = new THREE.Vector3(-2, -4, 0);\n          let lookAtOffset = new THREE.Vector3(0, 0, -10);\n          return distortion.multiply(lookAtAmp).add(lookAtOffset);\n        },\n      },\n    };\n\n    class App {\n      constructor(container, options = {}) {\n        this.options = options;\n        if (this.options.distortion == null) {\n          this.options.distortion = {\n            uniforms: distortion_uniforms,\n            getDistortion: distortion_vertex,\n          };\n        }\n        this.container = container;\n        this.renderer = new THREE.WebGLRenderer({\n          antialias: false,\n          alpha: true,\n        });\n        this.renderer.setSize(\n          container.offsetWidth,\n          container.offsetHeight,\n          false\n        );\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.composer = new EffectComposer(this.renderer);\n        container.append(this.renderer.domElement);\n\n        this.camera = new THREE.PerspectiveCamera(\n          options.fov,\n          container.offsetWidth / container.offsetHeight,\n          0.1,\n          10000\n        );\n        this.camera.position.z = -5;\n        this.camera.position.y = 8;\n        this.camera.position.x = 0;\n        this.scene = new THREE.Scene();\n        this.scene.background = null;\n\n        let fog = new THREE.Fog(\n          options.colors.background,\n          options.length * 0.2,\n          options.length * 500\n        );\n        this.scene.fog = fog;\n        this.fogUniforms = {\n          fogColor: { value: fog.color },\n          fogNear: { value: fog.near },\n          fogFar: { value: fog.far },\n        };\n        this.clock = new THREE.Clock();\n        this.assets = {};\n        this.disposed = false;\n\n        this.road = new Road(this, options);\n        this.leftCarLights = new CarLights(\n          this,\n          options,\n          options.colors.leftCars,\n          options.movingAwaySpeed,\n          new THREE.Vector2(0, 1 - options.carLightsFade)\n        );\n        this.rightCarLights = new CarLights(\n          this,\n          options,\n          options.colors.rightCars,\n          options.movingCloserSpeed,\n          new THREE.Vector2(1, 0 + options.carLightsFade)\n        );\n        this.leftSticks = new LightsSticks(this, options);\n\n        this.fovTarget = options.fov;\n        this.speedUpTarget = 0;\n        this.speedUp = 0;\n        this.timeOffset = 0;\n\n        this.tick = this.tick.bind(this);\n        this.init = this.init.bind(this);\n        this.setSize = this.setSize.bind(this);\n        this.onMouseDown = this.onMouseDown.bind(this);\n        this.onMouseUp = this.onMouseUp.bind(this);\n\n        this.onTouchStart = this.onTouchStart.bind(this);\n        this.onTouchEnd = this.onTouchEnd.bind(this);\n        this.onContextMenu = this.onContextMenu.bind(this);\n\n        window.addEventListener('resize', this.onWindowResize.bind(this));\n      }\n\n      onWindowResize() {\n        const width = this.container.offsetWidth;\n        const height = this.container.offsetHeight;\n\n        this.renderer.setSize(width, height);\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n        this.composer.setSize(width, height);\n      }\n\n      initPasses() {\n        this.renderPass = new RenderPass(this.scene, this.camera);\n        this.bloomPass = new EffectPass(\n          this.camera,\n          new BloomEffect({\n            luminanceThreshold: 0.2,\n            luminanceSmoothing: 0,\n            resolutionScale: 1,\n          })\n        );\n\n        const smaaPass = new EffectPass(\n          this.camera,\n          new SMAAEffect({\n            preset: SMAAPreset.MEDIUM,\n            searchImage: SMAAEffect.searchImageDataURL,\n            areaImage: SMAAEffect.areaImageDataURL,\n          })\n        );\n        this.renderPass.renderToScreen = false;\n        this.bloomPass.renderToScreen = false;\n        smaaPass.renderToScreen = true;\n        this.composer.addPass(this.renderPass);\n        this.composer.addPass(this.bloomPass);\n        this.composer.addPass(smaaPass);\n      }\n\n      loadAssets() {\n        const assets = this.assets;\n        return new Promise((resolve) => {\n          const manager = new THREE.LoadingManager(resolve);\n\n          const searchImage = new Image();\n          const areaImage = new Image();\n          assets.smaa = {};\n          searchImage.addEventListener('load', function () {\n            assets.smaa.search = this;\n            manager.itemEnd('smaa-search');\n          });\n\n          areaImage.addEventListener('load', function () {\n            assets.smaa.area = this;\n            manager.itemEnd('smaa-area');\n          });\n          manager.itemStart('smaa-search');\n          manager.itemStart('smaa-area');\n\n          searchImage.src = SMAAEffect.searchImageDataURL;\n          areaImage.src = SMAAEffect.areaImageDataURL;\n        });\n      }\n\n      init() {\n        this.initPasses();\n        const options = this.options;\n        this.road.init();\n        this.leftCarLights.init();\n\n        this.leftCarLights.mesh.position.setX(\n          -options.roadWidth / 2 - options.islandWidth / 2\n        );\n        this.rightCarLights.init();\n        this.rightCarLights.mesh.position.setX(\n          options.roadWidth / 2 + options.islandWidth / 2\n        );\n        this.leftSticks.init();\n        this.leftSticks.mesh.position.setX(\n          -(options.roadWidth + options.islandWidth / 2)\n        );\n\n        this.container.addEventListener('mousedown', this.onMouseDown);\n        this.container.addEventListener('mouseup', this.onMouseUp);\n        this.container.addEventListener('mouseout', this.onMouseUp);\n\n        this.container.addEventListener('touchstart', this.onTouchStart, {\n          passive: true,\n        });\n        this.container.addEventListener('touchend', this.onTouchEnd, {\n          passive: true,\n        });\n        this.container.addEventListener('touchcancel', this.onTouchEnd, {\n          passive: true,\n        });\n        this.container.addEventListener('contextmenu', this.onContextMenu);\n\n        this.tick();\n      }\n\n      onMouseDown(ev) {\n        if (this.options.onSpeedUp) this.options.onSpeedUp(ev);\n        this.fovTarget = this.options.fovSpeedUp;\n        this.speedUpTarget = this.options.speedUp;\n      }\n\n      onMouseUp(ev) {\n        if (this.options.onSlowDown) this.options.onSlowDown(ev);\n        this.fovTarget = this.options.fov;\n        this.speedUpTarget = 0;\n      }\n\n      onTouchStart(ev) {\n        if (this.options.onSpeedUp) this.options.onSpeedUp(ev);\n        this.fovTarget = this.options.fovSpeedUp;\n        this.speedUpTarget = this.options.speedUp;\n      }\n\n      onTouchEnd(ev) {\n        if (this.options.onSlowDown) this.options.onSlowDown(ev);\n        this.fovTarget = this.options.fov;\n        this.speedUpTarget = 0;\n      }\n\n      onContextMenu(ev) {\n        ev.preventDefault();\n      }\n\n      update(delta) {\n        let lerpPercentage = Math.exp(-(-60 * Math.log2(1 - 0.1)) * delta);\n        this.speedUp += lerp(\n          this.speedUp,\n          this.speedUpTarget,\n          lerpPercentage,\n          0.00001\n        );\n        this.timeOffset += this.speedUp * delta;\n\n        let time = this.clock.elapsedTime + this.timeOffset;\n\n        this.rightCarLights.update(time);\n        this.leftCarLights.update(time);\n        this.leftSticks.update(time);\n        this.road.update(time);\n\n        let updateCamera = false;\n        let fovChange = lerp(this.camera.fov, this.fovTarget, lerpPercentage);\n        if (fovChange !== 0) {\n          this.camera.fov += fovChange * delta * 6;\n          updateCamera = true;\n        }\n\n        if (this.options.distortion.getJS) {\n          const distortion = this.options.distortion.getJS(0.025, time);\n\n          this.camera.lookAt(\n            new THREE.Vector3(\n              this.camera.position.x + distortion.x,\n              this.camera.position.y + distortion.y,\n              this.camera.position.z + distortion.z\n            )\n          );\n          updateCamera = true;\n        }\n        if (updateCamera) {\n          this.camera.updateProjectionMatrix();\n        }\n\n        if (this.options.isHyper) {\n          console.log(this.options.isHyper);\n        }\n      }\n\n      render(delta) {\n        this.composer.render(delta);\n      }\n\n      dispose() {\n        this.disposed = true;\n\n        if (this.renderer) {\n          this.renderer.dispose();\n        }\n        if (this.composer) {\n          this.composer.dispose();\n        }\n        if (this.scene) {\n          this.scene.clear();\n        }\n\n        window.removeEventListener('resize', this.onWindowResize.bind(this));\n        if (this.container) {\n          this.container.removeEventListener('mousedown', this.onMouseDown);\n          this.container.removeEventListener('mouseup', this.onMouseUp);\n          this.container.removeEventListener('mouseout', this.onMouseUp);\n\n          this.container.removeEventListener('touchstart', this.onTouchStart);\n          this.container.removeEventListener('touchend', this.onTouchEnd);\n          this.container.removeEventListener('touchcancel', this.onTouchEnd);\n          this.container.removeEventListener('contextmenu', this.onContextMenu);\n        }\n      }\n\n      setSize(width, height, updateStyles) {\n        this.composer.setSize(width, height, updateStyles);\n      }\n\n      tick() {\n        if (this.disposed || !this) return;\n        if (resizeRendererToDisplaySize(this.renderer, this.setSize)) {\n          const canvas = this.renderer.domElement;\n          this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\n          this.camera.updateProjectionMatrix();\n        }\n        const delta = this.clock.getDelta();\n        this.render(delta);\n        this.update(delta);\n        requestAnimationFrame(this.tick);\n      }\n    }\n\n    const distortion_uniforms = {\n      uDistortionX: { value: new THREE.Vector2(80, 3) },\n      uDistortionY: { value: new THREE.Vector2(-40, 2.5) },\n    };\n\n    const distortion_vertex = `\n      #define PI 3.14159265358979\n      uniform vec2 uDistortionX;\n      uniform vec2 uDistortionY;\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      vec3 getDistortion(float progress){\n        progress = clamp(progress, 0., 1.);\n        float xAmp = uDistortionX.r;\n        float xFreq = uDistortionX.g;\n        float yAmp = uDistortionY.r;\n        float yFreq = uDistortionY.g;\n        return vec3( \n          xAmp * nsin(progress * PI * xFreq - PI / 2.),\n          yAmp * nsin(progress * PI * yFreq - PI / 2.),\n          0.\n        );\n      }\n    `;\n\n    const random = (base) => {\n      if (Array.isArray(base))\n        return Math.random() * (base[1] - base[0]) + base[0];\n      return Math.random() * base;\n    };\n\n    const pickRandom = (arr) => {\n      if (Array.isArray(arr))\n        return arr[Math.floor(Math.random() * arr.length)];\n      return arr;\n    };\n\n    function lerp(current, target, speed = 0.1, limit = 0.001) {\n      let change = (target - current) * speed;\n      if (Math.abs(change) < limit) {\n        change = target - current;\n      }\n      return change;\n    }\n\n    class CarLights {\n      constructor(webgl, options, colors, speed, fade) {\n        this.webgl = webgl;\n        this.options = options;\n        this.colors = colors;\n        this.speed = speed;\n        this.fade = fade;\n      }\n\n      init() {\n        const options = this.options;\n        let curve = new THREE.LineCurve3(\n          new THREE.Vector3(0, 0, 0),\n          new THREE.Vector3(0, 0, -1)\n        );\n        let geometry = new THREE.TubeGeometry(curve, 40, 1, 8, false);\n\n        let instanced = new THREE.InstancedBufferGeometry().copy(geometry);\n        instanced.instanceCount = options.lightPairsPerRoadWay * 2;\n\n        let laneWidth = options.roadWidth / options.lanesPerRoad;\n\n        let aOffset = [];\n        let aMetrics = [];\n        let aColor = [];\n\n        let colors = this.colors;\n        if (Array.isArray(colors)) {\n          colors = colors.map((c) => new THREE.Color(c));\n        } else {\n          colors = new THREE.Color(colors);\n        }\n\n        for (let i = 0; i < options.lightPairsPerRoadWay; i++) {\n          let radius = random(options.carLightsRadius);\n          let length = random(options.carLightsLength);\n          let speed = random(this.speed);\n\n          let carLane = i % options.lanesPerRoad;\n          let laneX =\n            carLane * laneWidth - options.roadWidth / 2 + laneWidth / 2;\n\n          let carWidth = random(options.carWidthPercentage) * laneWidth;\n          let carShiftX = random(options.carShiftX) * laneWidth;\n          laneX += carShiftX;\n\n          let offsetY = random(options.carFloorSeparation) + radius * 1.3;\n\n          let offsetZ = -random(options.length);\n\n          aOffset.push(laneX - carWidth / 2);\n          aOffset.push(offsetY);\n          aOffset.push(offsetZ);\n\n          aOffset.push(laneX + carWidth / 2);\n          aOffset.push(offsetY);\n          aOffset.push(offsetZ);\n\n          aMetrics.push(radius);\n          aMetrics.push(length);\n          aMetrics.push(speed);\n\n          aMetrics.push(radius);\n          aMetrics.push(length);\n          aMetrics.push(speed);\n\n          let color = pickRandom(colors);\n          aColor.push(color.r);\n          aColor.push(color.g);\n          aColor.push(color.b);\n\n          aColor.push(color.r);\n          aColor.push(color.g);\n          aColor.push(color.b);\n        }\n\n        instanced.setAttribute(\n          'aOffset',\n          new THREE.InstancedBufferAttribute(\n            new Float32Array(aOffset),\n            3,\n            false\n          )\n        );\n        instanced.setAttribute(\n          'aMetrics',\n          new THREE.InstancedBufferAttribute(\n            new Float32Array(aMetrics),\n            3,\n            false\n          )\n        );\n        instanced.setAttribute(\n          'aColor',\n          new THREE.InstancedBufferAttribute(new Float32Array(aColor), 3, false)\n        );\n\n        let material = new THREE.ShaderMaterial({\n          fragmentShader: carLightsFragment,\n          vertexShader: carLightsVertex,\n          transparent: true,\n          uniforms: Object.assign(\n            {\n              uTime: { value: 0 },\n              uTravelLength: { value: options.length },\n              uFade: { value: this.fade },\n            },\n            this.webgl.fogUniforms,\n            options.distortion.uniforms\n          ),\n        });\n\n        material.onBeforeCompile = (shader) => {\n          shader.vertexShader = shader.vertexShader.replace(\n            '#include <getDistortion_vertex>',\n            options.distortion.getDistortion\n          );\n        };\n\n        let mesh = new THREE.Mesh(instanced, material);\n        mesh.frustumCulled = false;\n        this.webgl.scene.add(mesh);\n        this.mesh = mesh;\n      }\n\n      update(time) {\n        this.mesh.material.uniforms.uTime.value = time;\n      }\n    }\n\n    const carLightsFragment = `\n      #define USE_FOG;\n      ${THREE.ShaderChunk['fog_pars_fragment']}\n      varying vec3 vColor;\n      varying vec2 vUv; \n      uniform vec2 uFade;\n      void main() {\n        vec3 color = vec3(vColor);\n        float alpha = smoothstep(uFade.x, uFade.y, vUv.x);\n        gl_FragColor = vec4(color, alpha);\n        if (gl_FragColor.a < 0.0001) discard;\n        ${THREE.ShaderChunk['fog_fragment']}\n      }\n    `;\n\n    const carLightsVertex = `\n      #define USE_FOG;\n      ${THREE.ShaderChunk['fog_pars_vertex']}\n      attribute vec3 aOffset;\n      attribute vec3 aMetrics;\n      attribute vec3 aColor;\n      uniform float uTravelLength;\n      uniform float uTime;\n      varying vec2 vUv; \n      varying vec3 vColor; \n      #include <getDistortion_vertex>\n      void main() {\n        vec3 transformed = position.xyz;\n        float radius = aMetrics.r;\n        float myLength = aMetrics.g;\n        float speed = aMetrics.b;\n\n        transformed.xy *= radius;\n        transformed.z *= myLength;\n\n        transformed.z += myLength - mod(uTime * speed + aOffset.z, uTravelLength);\n        transformed.xy += aOffset.xy;\n\n        float progress = abs(transformed.z / uTravelLength);\n        transformed.xyz += getDistortion(progress);\n\n        vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vUv = uv;\n        vColor = aColor;\n        ${THREE.ShaderChunk['fog_vertex']}\n      }\n    `;\n\n    class LightsSticks {\n      constructor(webgl, options) {\n        this.webgl = webgl;\n        this.options = options;\n      }\n\n      init() {\n        const options = this.options;\n        const geometry = new THREE.PlaneGeometry(1, 1);\n        let instanced = new THREE.InstancedBufferGeometry().copy(geometry);\n        let totalSticks = options.totalSideLightSticks;\n        instanced.instanceCount = totalSticks;\n\n        let stickoffset = options.length / (totalSticks - 1);\n        const aOffset = [];\n        const aColor = [];\n        const aMetrics = [];\n\n        let colors = options.colors.sticks;\n        if (Array.isArray(colors)) {\n          colors = colors.map((c) => new THREE.Color(c));\n        } else {\n          colors = new THREE.Color(colors);\n        }\n\n        for (let i = 0; i < totalSticks; i++) {\n          let width = random(options.lightStickWidth);\n          let height = random(options.lightStickHeight);\n          aOffset.push((i - 1) * stickoffset * 2 + stickoffset * Math.random());\n\n          let color = pickRandom(colors);\n          aColor.push(color.r);\n          aColor.push(color.g);\n          aColor.push(color.b);\n\n          aMetrics.push(width);\n          aMetrics.push(height);\n        }\n\n        instanced.setAttribute(\n          'aOffset',\n          new THREE.InstancedBufferAttribute(\n            new Float32Array(aOffset),\n            1,\n            false\n          )\n        );\n        instanced.setAttribute(\n          'aColor',\n          new THREE.InstancedBufferAttribute(new Float32Array(aColor), 3, false)\n        );\n        instanced.setAttribute(\n          'aMetrics',\n          new THREE.InstancedBufferAttribute(\n            new Float32Array(aMetrics),\n            2,\n            false\n          )\n        );\n\n        const material = new THREE.ShaderMaterial({\n          fragmentShader: sideSticksFragment,\n          vertexShader: sideSticksVertex,\n          side: THREE.DoubleSide,\n          uniforms: Object.assign(\n            {\n              uTravelLength: { value: options.length },\n              uTime: { value: 0 },\n            },\n            this.webgl.fogUniforms,\n            options.distortion.uniforms\n          ),\n        });\n\n        material.onBeforeCompile = (shader) => {\n          shader.vertexShader = shader.vertexShader.replace(\n            '#include <getDistortion_vertex>',\n            options.distortion.getDistortion\n          );\n        };\n\n        const mesh = new THREE.Mesh(instanced, material);\n        mesh.frustumCulled = false;\n        this.webgl.scene.add(mesh);\n        this.mesh = mesh;\n      }\n\n      update(time) {\n        this.mesh.material.uniforms.uTime.value = time;\n      }\n    }\n\n    const sideSticksVertex = `\n      #define USE_FOG;\n      ${THREE.ShaderChunk['fog_pars_vertex']}\n      attribute float aOffset;\n      attribute vec3 aColor;\n      attribute vec2 aMetrics;\n      uniform float uTravelLength;\n      uniform float uTime;\n      varying vec3 vColor;\n      mat4 rotationY( in float angle ) {\n        return mat4(\tcos(angle),\t\t0,\t\tsin(angle),\t0,\n                     0,\t\t1.0,\t\t\t 0,\t0,\n                -sin(angle),\t0,\t\tcos(angle),\t0,\n                0, \t\t0,\t\t\t\t0,\t1);\n      }\n      #include <getDistortion_vertex>\n      void main(){\n        vec3 transformed = position.xyz;\n        float width = aMetrics.x;\n        float height = aMetrics.y;\n\n        transformed.xy *= vec2(width, height);\n        float time = mod(uTime * 60. * 2. + aOffset, uTravelLength);\n\n        transformed = (rotationY(3.14/2.) * vec4(transformed,1.)).xyz;\n\n        transformed.z += - uTravelLength + time;\n\n        float progress = abs(transformed.z / uTravelLength);\n        transformed.xyz += getDistortion(progress);\n\n        transformed.y += height / 2.;\n        transformed.x += -width / 2.;\n        vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vColor = aColor;\n        ${THREE.ShaderChunk['fog_vertex']}\n      }\n    `;\n\n    const sideSticksFragment = `\n      #define USE_FOG;\n      ${THREE.ShaderChunk['fog_pars_fragment']}\n      varying vec3 vColor;\n      void main(){\n        vec3 color = vec3(vColor);\n        gl_FragColor = vec4(color,1.);\n        ${THREE.ShaderChunk['fog_fragment']}\n      }\n    `;\n\n    class Road {\n      constructor(webgl, options) {\n        this.webgl = webgl;\n        this.options = options;\n        this.uTime = { value: 0 };\n      }\n\n      createPlane(side, width, isRoad) {\n        const options = this.options;\n        let segments = 100;\n        const geometry = new THREE.PlaneGeometry(\n          isRoad ? options.roadWidth : options.islandWidth,\n          options.length,\n          20,\n          segments\n        );\n        let uniforms = {\n          uTravelLength: { value: options.length },\n          uColor: {\n            value: new THREE.Color(\n              isRoad ? options.colors.roadColor : options.colors.islandColor\n            ),\n          },\n          uTime: this.uTime,\n        };\n\n        if (isRoad) {\n          uniforms = Object.assign(uniforms, {\n            uLanes: { value: options.lanesPerRoad },\n            uBrokenLinesColor: {\n              value: new THREE.Color(options.colors.brokenLines),\n            },\n            uShoulderLinesColor: {\n              value: new THREE.Color(options.colors.shoulderLines),\n            },\n            uShoulderLinesWidthPercentage: {\n              value: options.shoulderLinesWidthPercentage,\n            },\n            uBrokenLinesLengthPercentage: {\n              value: options.brokenLinesLengthPercentage,\n            },\n            uBrokenLinesWidthPercentage: {\n              value: options.brokenLinesWidthPercentage,\n            },\n          });\n        }\n\n        const material = new THREE.ShaderMaterial({\n          fragmentShader: isRoad ? roadFragment : islandFragment,\n          vertexShader: roadVertex,\n          side: THREE.DoubleSide,\n          uniforms: Object.assign(\n            uniforms,\n            this.webgl.fogUniforms,\n            options.distortion.uniforms\n          ),\n        });\n\n        material.onBeforeCompile = (shader) => {\n          shader.vertexShader = shader.vertexShader.replace(\n            '#include <getDistortion_vertex>',\n            options.distortion.getDistortion\n          );\n        };\n\n        const mesh = new THREE.Mesh(geometry, material);\n        mesh.rotation.x = -Math.PI / 2;\n        mesh.position.z = -options.length / 2;\n        mesh.position.x +=\n          (this.options.islandWidth / 2 + options.roadWidth / 2) * side;\n        this.webgl.scene.add(mesh);\n\n        return mesh;\n      }\n\n      init() {\n        this.leftRoadWay = this.createPlane(-1, this.options.roadWidth, true);\n        this.rightRoadWay = this.createPlane(1, this.options.roadWidth, true);\n        this.island = this.createPlane(0, this.options.islandWidth, false);\n      }\n\n      update(time) {\n        this.uTime.value = time;\n      }\n    }\n\n    const roadBaseFragment = `\n      #define USE_FOG;\n      varying vec2 vUv; \n      uniform vec3 uColor;\n      uniform float uTime;\n      #include <roadMarkings_vars>\n      ${THREE.ShaderChunk['fog_pars_fragment']}\n      void main() {\n        vec2 uv = vUv;\n        vec3 color = vec3(uColor);\n        #include <roadMarkings_fragment>\n        gl_FragColor = vec4(color, 1.);\n        ${THREE.ShaderChunk['fog_fragment']}\n      }\n    `;\n\n    const islandFragment = roadBaseFragment\n      .replace('#include <roadMarkings_fragment>', '')\n      .replace('#include <roadMarkings_vars>', '');\n\n    const roadMarkings_vars = `\n      uniform float uLanes;\n      uniform vec3 uBrokenLinesColor;\n      uniform vec3 uShoulderLinesColor;\n      uniform float uShoulderLinesWidthPercentage;\n      uniform float uBrokenLinesWidthPercentage;\n      uniform float uBrokenLinesLengthPercentage;\n      highp float random(vec2 co) {\n        highp float a = 12.9898;\n        highp float b = 78.233;\n        highp float c = 43758.5453;\n        highp float dt = dot(co.xy, vec2(a, b));\n        highp float sn = mod(dt, 3.14);\n        return fract(sin(sn) * c);\n      }\n    `;\n\n    const roadMarkings_fragment = `\n      uv.y = mod(uv.y + uTime * 0.05, 1.);\n      float laneWidth = 1.0 / uLanes;\n      float brokenLineWidth = laneWidth * uBrokenLinesWidthPercentage;\n      float laneEmptySpace = 1. - uBrokenLinesLengthPercentage;\n\n      float brokenLines = step(1.0 - brokenLineWidth, fract(uv.x * 2.0)) * step(laneEmptySpace, fract(uv.y * 10.0));\n      float sideLines = step(1.0 - brokenLineWidth, fract((uv.x - laneWidth * (uLanes - 1.0)) * 2.0)) + step(brokenLineWidth, uv.x);\n\n      brokenLines = mix(brokenLines, sideLines, uv.x);\n    `;\n\n    const roadFragment = roadBaseFragment\n      .replace('#include <roadMarkings_fragment>', roadMarkings_fragment)\n      .replace('#include <roadMarkings_vars>', roadMarkings_vars);\n\n    const roadVertex = `\n      #define USE_FOG;\n      uniform float uTime;\n      ${THREE.ShaderChunk['fog_pars_vertex']}\n      uniform float uTravelLength;\n      varying vec2 vUv; \n      #include <getDistortion_vertex>\n      void main() {\n        vec3 transformed = position.xyz;\n        vec3 distortion = getDistortion((transformed.y + uTravelLength / 2.) / uTravelLength);\n        transformed.x += distortion.x;\n        transformed.z += distortion.y;\n        transformed.y += -1. * distortion.z;  \n        \n        vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vUv = uv;\n        ${THREE.ShaderChunk['fog_vertex']}\n      }\n    `;\n\n    function resizeRendererToDisplaySize(renderer, setSize) {\n      const canvas = renderer.domElement;\n      const width = canvas.clientWidth;\n      const height = canvas.clientHeight;\n      const needResize = canvas.width !== width || canvas.height !== height;\n      if (needResize) {\n        setSize(width, height, false);\n      }\n      return needResize;\n    }\n\n    (function () {\n      const container = document.getElementById('lights');\n      const options = { ...effectOptions };\n      options.distortion = distortions[options.distortion];\n\n      const myApp = new App(container, options);\n      appRef.current = myApp;\n      myApp.loadAssets().then(myApp.init);\n    })();\n\n    return () => {\n      if (appRef.current) {\n        appRef.current.dispose();\n      }\n    };\n  }, [effectOptions]);\n\n  return <div id=\"lights\" className=\"w-full h-full\" ref={hyperspeed}></div>;\n};\n\nexport default Hyperspeed;\n"],"names":["Hyperspeed","effectOptions","hyperspeed","useRef","appRef","useEffect","container","mountainUniforms","THREE.Vector3","xyUniforms","THREE.Vector2","LongRaceUniforms","turbulentUniforms","THREE.Vector4","deepUniforms","nsin","val","distortions","progress","time","movementProgressFix","uFreq","uAmp","distortion","lookAtAmp","lookAtOffset","camProgress","getX","p","getY","uPowY","App","options","distortion_uniforms","distortion_vertex","THREE.WebGLRenderer","EffectComposer","THREE.PerspectiveCamera","THREE.Scene","fog","THREE.Fog","THREE.Clock","Road","CarLights","LightsSticks","width","height","RenderPass","EffectPass","BloomEffect","smaaPass","SMAAEffect","SMAAPreset","assets","resolve","manager","THREE.LoadingManager","searchImage","areaImage","ev","delta","lerpPercentage","lerp","updateCamera","fovChange","updateStyles","resizeRendererToDisplaySize","canvas","random","base","pickRandom","arr","current","target","speed","limit","change","webgl","colors","fade","curve","THREE.LineCurve3","geometry","THREE.TubeGeometry","instanced","THREE.InstancedBufferGeometry","laneWidth","aOffset","aMetrics","aColor","THREE.Color","i","radius","length","laneX","carWidth","carShiftX","offsetY","offsetZ","color","THREE.InstancedBufferAttribute","material","THREE.ShaderMaterial","carLightsFragment","carLightsVertex","shader","mesh","THREE.Mesh","THREE.ShaderChunk","THREE.PlaneGeometry","totalSticks","stickoffset","sideSticksFragment","sideSticksVertex","THREE.DoubleSide","side","isRoad","segments","uniforms","roadFragment","islandFragment","roadVertex","roadBaseFragment","renderer","setSize","needResize","myApp","jsx"],"mappings":"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"}