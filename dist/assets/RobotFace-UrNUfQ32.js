const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sheet-BJgxiPCH.js","assets/vendor_react-RnE43CiF.js","assets/vendor_react-dom-BwtVtmH1.js","assets/vendor-CewzeS4l.js","assets/utils-D_xKZPWe.js","assets/RobotHead-BKMSZ1Oq.js","assets/ai-chat-BfP2Oar3.js","assets/vendor_framer-motion-CDwc9C5g.js"])))=>i.map(i=>d[i]);
import{b2 as c}from"./vendor-CewzeS4l.js";import{a as t,j as e,h as b,i as _}from"./vendor_react-RnE43CiF.js";import{m as v}from"./vendor_framer-motion-CDwc9C5g.js";import"./vendor_react-dom-BwtVtmH1.js";const g=.008,y=.85;function j(){const n=t.useRef({x:0,y:0}),o=t.useRef({x:0,y:0}),s=t.useRef({x:0,y:0}),i=t.useRef(null);return t.useEffect(()=>{const l=r=>{var w;const a=((w=r.touches)==null?void 0:w[0])||r;if(!a)return;const d=a.clientX,m=a.clientY,u=window.innerWidth,p=window.innerHeight,x=(d-u)/(window.innerWidth/2),h=(m-p)/(window.innerHeight/2);o.current.x=x,o.current.y=-h},f=()=>{const r=o.current.x-n.current.x,a=o.current.y-n.current.y;s.current.x=s.current.x*y+r*g,s.current.y=s.current.y*y+a*g,n.current.x+=s.current.x,n.current.y+=s.current.y,i.current=requestAnimationFrame(f)};return window.addEventListener("mousemove",l,{passive:!0}),window.addEventListener("touchmove",l,{passive:!0}),i.current=requestAnimationFrame(f),()=>{cancelAnimationFrame(i.current),window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l)}},[]),{cursor:n,velocity:s}}const E=t.memo(()=>e.jsxs("div",{className:"w-full h-full bg-black/90 backdrop-blur-xl rounded-xl border border-white/10 flex flex-col animate-pulse",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-700/50 rounded-md"}),e.jsx("div",{className:"h-5 w-1/3 bg-gray-700/50 rounded-md"})]}),e.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[e.jsx("div",{className:"h-10 w-3/4 bg-gray-700/50 rounded-lg self-start"}),e.jsx("div",{className:"h-12 w-2/3 bg-gray-600/50 rounded-lg self-end ml-auto"}),e.jsx("div",{className:"h-8 w-1/2 bg-gray-700/50 rounded-lg self-start"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 border-t border-white/10",children:[e.jsx("div",{className:"flex-1 h-10 bg-gray-800/60 rounded-lg"}),e.jsx("div",{className:"w-10 h-10 bg-gray-700/50 rounded-lg"})]})]})),S=t.lazy(()=>c(()=>import("./sheet-BJgxiPCH.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.Sheet}))),I=t.lazy(()=>c(()=>import("./sheet-BJgxiPCH.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.SheetContent}))),N=t.lazy(()=>c(()=>import("./sheet-BJgxiPCH.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.SheetTrigger}))),L=t.lazy(()=>c(()=>import("./sheet-BJgxiPCH.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.SheetTitle}))),R=t.lazy(()=>c(()=>import("./sheet-BJgxiPCH.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.SheetDescription}))),T=t.lazy(()=>c(()=>import("./RobotHead-BKMSZ1Oq.js"),__vite__mapDeps([5,1,2,3]))),A=t.lazy(()=>c(()=>import("./ai-chat-BfP2Oar3.js"),__vite__mapDeps([6,1,2,3,4,7])));function P(){const{cursor:n,velocity:o}=j(),[s,i]=t.useState(!1),[l,f]=t.useState(!1),[r,a]=t.useState(typeof window<"u"?window.innerWidth:1024),[d,m]=t.useState(!1);t.useEffect(()=>{m("ontouchstart"in window)},[]),t.useEffect(()=>{const h=()=>a(window.innerWidth);return window.addEventListener("resize",h,{passive:!0}),()=>window.removeEventListener("resize",h)},[]);const u=r<640?40:r<1024?60:75,p=s?"0 0 40px #ffffff, 0 0 80px #ffffff50, inset 0 0 20px #ffffff30":"0 0 25px #ffffff, 0 0 50px #ffffff40, inset 0 0 15px #ffffff20",x=t.useMemo(()=>e.jsxs(b,{style:{pointerEvents:"none"},camera:{position:[0,0,3.5],fov:50},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},dpr:[1,2],children:[e.jsx("ambientLight",{intensity:.6}),e.jsx("pointLight",{position:[5,5,5],intensity:1.1}),e.jsx("pointLight",{position:[-5,-5,-5],intensity:.4,color:"#ffffff"}),e.jsx("spotLight",{position:[0,10,0],angle:.3,penumbra:1,intensity:.6,color:"#ffffff"}),e.jsxs(t.Suspense,{fallback:null,children:[e.jsx(T,{cursor:n,velocity:o,isHovered:s}),e.jsx(_,{preset:"city"})]})]}),[n,o,s]);return e.jsx("div",{className:"fixed bottom-4 right-14 sm:bottom-6 sm:right-18 z-50",children:e.jsxs(S,{open:l,onOpenChange:f,children:[e.jsx(N,{asChild:!0,children:e.jsxs(v.div,{whileHover:{scale:1.08},whileTap:{scale:.92},onHoverStart:d?void 0:()=>i(!0),onHoverEnd:d?void 0:()=>i(!1),onTouchStart:d?()=>i(!0):void 0,onTouchEnd:d?()=>i(!1):void 0,className:"cursor-pointer rounded-full overflow-hidden flex items-center justify-center relative",style:{width:"".concat(u,"px"),height:"".concat(u,"px"),boxShadow:p},transition:{type:"spring",stiffness:300,damping:20},"aria-label":"Open AI Chat",role:"button",tabIndex:0,children:[e.jsx(v.div,{className:"absolute inset-0 rounded-full bg-white",animate:{scale:[1,1.3],opacity:[.2,0]},transition:{duration:1.5,repeat:1/0,ease:"easeOut"}}),x]})}),e.jsxs(I,{side:"right",className:"bg-transparent border-none p-0 w-full sm:w-[400px] md:w-[450px]",style:{boxShadow:"0 0 60px #ffffff40, inset 0 0 40px #ffffff10"},children:[e.jsx(L,{className:"sr-only",children:"AI Assistant Chat"}),e.jsx(R,{className:"sr-only",children:"An interactive chat with an AI assistant. You can ask questions about the portfolio or have a general conversation."}),e.jsx(v.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},className:"w-full h-full",children:e.jsx(t.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(A,{})})})]})]})})}export{P as default};
