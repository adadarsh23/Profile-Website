!function(){function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classPrivateFieldInitSpec(t,e,i){_checkPrivateRedeclaration(t,e),e.set(t,i)}function _classPrivateFieldGet(t,e){return t.get(_assertClassBrand(t,e))}function _classPrivateFieldSet(t,e,i){return t.set(_assertClassBrand(t,e),i),i}function _classPrivateMethodInitSpec(t,e){_checkPrivateRedeclaration(t,e),e.add(t)}function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _defineProperty(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _assertClassBrand(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function _slicedToArray(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,o,s=[],c=!0,l=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=a.call(i)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw r}}return s}}(t,e)||_unsupportedIterableToArray(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function _callSuper(t,e,i){return e=_getPrototypeOf(e),function(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_isNativeReflectConstruct()?Reflect.construct(e,i||[],_getPrototypeOf(t).constructor):e.apply(t,i))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=function(t,e){if("object"!=_typeof(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_typeof(e)?e:e+""}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}System.register(["./vendor_react-legacy-CJ0GofED.js","./vendor-legacy-BV51RObP.js","./Adarsh-legacy-DCaVxZAr.js"],function(t,e){"use strict";var i,n,r,a,o,s,c,l,h,u,f,d,m,v,p,_,y,x,g,P,A,b,w,R,T,E,I,M,S,C,D,U,V,B,k;return{setters:[function(t){i=t.r,n=t.j},function(t){r=t.ak,a=t.al,o=t.am,s=t.an,c=t.ao,l=t.ap,h=t.aq,u=t.ar,f=t.as,d=t.at,m=t.au,v=t.av,p=t.aw,_=t.ax,y=t.ay,x=t.az,g=t.aA,P=t.aB,A=t.aC,b=t.aD,w=t.aE,R=t.aF,T=t.aG,E=t.aH,I=t.aI,M=t.aJ,S=t.aK,C=t.aL,D=t.aM,U=t.aN,V=t.aO,B=t.aP},function(t){k=t.l}],execute:function(){t("default",function(){var t=[{image:k,link:"https://www.youtube.com/@adadarsh23",title:"YouTube",description:"Watch videos and explore content."},{image:J,link:"https://www.instagram.com/adadarsh23/",title:"Instagram",description:"Share photos and stories."},{image:Z,link:"https://open.spotify.com/artist/7nd9x69ZcOpoft6TMDnXCa",title:"Spotify",description:"Listen to music and podcasts."},{image:$,link:"https://github.com/adadarsh23",title:"GitHub",description:"Explore my projects and contributions."}];return n.jsx("section",{className:"bg-black",children:n.jsx("div",{className:"pt-10 pb-10",children:n.jsx(InfiniteMenu,{items:t})})})});var e=_createClass(function Face(t,e,i){_classCallCheck(this,Face),this.a=t,this.b=e,this.c=i}),L=_createClass(function Vertex(t,e,i){_classCallCheck(this,Vertex),this.position=a(t,e,i),this.normal=u(),this.uv=s()}),j=function(){return _createClass(function Geometry(){_classCallCheck(this,Geometry),this.vertices=[],this.faces=[]},[{key:"addVertex",value:function(){for(var t=0;t<arguments.length;t+=3)this.vertices.push(new L(t<0||arguments.length<=t?void 0:arguments[t],t+1<0||arguments.length<=t+1?void 0:arguments[t+1],t+2<0||arguments.length<=t+2?void 0:arguments[t+2]));return this}},{key:"addFace",value:function(){for(var t=0;t<arguments.length;t+=3)this.faces.push(new e(t<0||arguments.length<=t?void 0:arguments[t],t+1<0||arguments.length<=t+1?void 0:arguments[t+1],t+2<0||arguments.length<=t+2?void 0:arguments[t+2]));return this}},{key:"lastVertex",get:function(){return this.vertices[this.vertices.length-1]}},{key:"subdivide",value:function(){for(var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n={},r=this.faces,_loop=function(){var i=new Array(4*r.length);r.forEach(function(r,a){var o=t.getMidPoint(r.a,r.b,n),s=t.getMidPoint(r.b,r.c,n),c=t.getMidPoint(r.c,r.a,n),l=4*a;i[l+0]=new e(r.a,o,c),i[l+1]=new e(r.b,s,o),i[l+2]=new e(r.c,c,s),i[l+3]=new e(o,s,c)}),r=i},a=0;a<i;++a)_loop();return this.faces=r,this}},{key:"spherize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.vertices.forEach(function(e){g(e.normal,e.position),B(e.position,e.normal,t)}),this}},{key:"data",get:function(){return{vertices:this.vertexData,indices:this.indexData,normals:this.normalData,uvs:this.uvData}}},{key:"vertexData",get:function(){return new Float32Array(this.vertices.flatMap(function(t){return Array.from(t.position)}))}},{key:"normalData",get:function(){return new Float32Array(this.vertices.flatMap(function(t){return Array.from(t.normal)}))}},{key:"uvData",get:function(){return new Float32Array(this.vertices.flatMap(function(t){return Array.from(t.uv)}))}},{key:"indexData",get:function(){return new Uint16Array(this.faces.flatMap(function(t){return[t.a,t.b,t.c]}))}},{key:"getMidPoint",value:function(t,e,i){var n=t<e?"k_".concat(e,"_").concat(t):"k_".concat(t,"_").concat(e);if(Object.prototype.hasOwnProperty.call(i,n))return i[n];var r=this.vertices[t].position,a=this.vertices[e].position,o=this.vertices.length;return i[n]=o,this.addVertex(.5*(r[0]+a[0]),.5*(r[1]+a[1]),.5*(r[2]+a[2])),o}}])}(),O=function(t){function IcosahedronGeometry(){var t;_classCallCheck(this,IcosahedronGeometry),t=_callSuper(this,IcosahedronGeometry);var e=.5*Math.sqrt(5)+.5;return t.addVertex(-1,e,0,1,e,0,-1,-e,0,1,-e,0,0,-1,e,0,1,e,0,-1,-e,0,1,-e,e,0,-1,e,0,1,-e,0,-1,-e,0,1).addFace(0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1),t}return _inherits(IcosahedronGeometry,t),_createClass(IcosahedronGeometry)}(j),z=function(t){function DiscGeometry(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,DiscGeometry),t=_callSuper(this,DiscGeometry),e=Math.max(4,e);var n=2*Math.PI/e;t.addVertex(0,0,0),t.lastVertex.uv[0]=.5,t.lastVertex.uv[1]=.5;for(var r=0;r<e;++r){var a=Math.cos(n*r),o=Math.sin(n*r);t.addVertex(i*a,i*o,0),t.lastVertex.uv[0]=.5*a+.5,t.lastVertex.uv[1]=.5*o+.5,r>0&&t.addFace(0,r,r+1)}return t.addFace(0,e,1),t}return _inherits(DiscGeometry,t),_createClass(DiscGeometry)}(j);function makeVertexArray(t,e,i){var n=t.createVertexArray();t.bindVertexArray(n);var r,a=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,F=function(){};return{s:F,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){o=!0,r=t},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}(e);try{for(a.s();!(r=a.n()).done;){var o=_slicedToArray(r.value,3),s=o[0],c=o[1],l=o[2];-1!==c&&(t.bindBuffer(t.ARRAY_BUFFER,s),t.enableVertexAttribArray(c),t.vertexAttribPointer(c,l,t.FLOAT,!1,0,0))}}catch(u){a.e(u)}finally{a.f()}if(i){var h=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW)}return t.bindVertexArray(null),n}function makeBuffer(t,e,i){var n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,i),t.bindBuffer(t.ARRAY_BUFFER,null),n}var N=new WeakSet,G=function(){return _createClass(function ArcballControl(t,e){var i=this;_classCallCheck(this,ArcballControl),_classPrivateMethodInitSpec(this,N),_defineProperty(this,"isPointerDown",!1),_defineProperty(this,"orientation",A()),_defineProperty(this,"pointerRotation",A()),_defineProperty(this,"rotationVelocity",0),_defineProperty(this,"rotationAxis",a(1,0,0)),_defineProperty(this,"snapDirection",a(0,0,-1)),_defineProperty(this,"snapTargetDirection",void 0),_defineProperty(this,"EPSILON",.1),_defineProperty(this,"IDENTITY_QUAT",A()),this.canvas=t,this.updateCallback=e||function(){return null},this.pointerPos=s(),this.previousPointerPos=s(),this._rotationVelocity=0,this._combinedQuat=A(),t.addEventListener("pointerdown",function(t){o(i.pointerPos,t.clientX,t.clientY),w(i.previousPointerPos,i.pointerPos),i.isPointerDown=!0}),t.addEventListener("pointerup",function(){i.isPointerDown=!1}),t.addEventListener("pointerleave",function(){i.isPointerDown=!1}),t.addEventListener("pointermove",function(t){i.isPointerDown&&o(i.pointerPos,t.clientX,t.clientY)}),t.style.touchAction="none"},[{key:"update",value:function(t){var e=t/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:16)+1e-5,i=e,n=A();if(this.isPointerDown){var r=.3*e,a=5/e,o=R(s(),this.pointerPos,this.previousPointerPos);if(T(o,o,r),E(o)>this.EPSILON){I(o,this.previousPointerPos,o);var c=_assertClassBrand(N,this,_project).call(this,o),l=_assertClassBrand(N,this,_project).call(this,this.previousPointerPos),h=g(u(),c),f=g(u(),l);w(this.previousPointerPos,o),i*=a,this.quatFromVectors(h,f,this.pointerRotation,i)}else M(this.pointerRotation,this.pointerRotation,this.IDENTITY_QUAT,r)}else{var d=.1*e;if(M(this.pointerRotation,this.pointerRotation,this.IDENTITY_QUAT,d),this.snapTargetDirection){var m=this.snapTargetDirection,v=this.snapDirection,p=S(m,v);i*=.2*Math.max(.1,1-10*p),this.quatFromVectors(m,v,n,i)}}var _=C(A(),n,this.pointerRotation);this.orientation=C(A(),_,this.orientation),D(this.orientation,this.orientation);var y=.8*e;M(this._combinedQuat,this._combinedQuat,_,y),D(this._combinedQuat,this._combinedQuat);var x=2*Math.acos(this._combinedQuat[3]),P=Math.sin(x/2),b=0;P>1e-6&&(b=x/(2*Math.PI),this.rotationAxis[0]=this._combinedQuat[0]/P,this.rotationAxis[1]=this._combinedQuat[1]/P,this.rotationAxis[2]=this._combinedQuat[2]/P);var U=.5*e;this._rotationVelocity+=(b-this._rotationVelocity)*U,this.rotationVelocity=this._rotationVelocity/e,this.updateCallback(t)}},{key:"quatFromVectors",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=U(u(),t,e);g(r,r);var a=Math.max(-1,Math.min(1,b(t,e))),o=Math.acos(a)*n;return V(i,r,o),{q:i,axis:r,angle:o}}}])}();function _project(t){var e=this.canvas.clientWidth,i=this.canvas.clientHeight,n=Math.max(e,i)-1,r=(2*t[0]-e-1)/n,o=(2*t[1]-i-1)/n,s=0,c=r*r+o*o;return s=c<=2?Math.sqrt(4-c):4/Math.sqrt(c),a(-r,o,s)}var W=new WeakMap,Y=new WeakMap,X=new WeakMap,H=new WeakMap,q=new WeakSet,Q=function(){return _createClass(function InfiniteGridMenu(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_classCallCheck(this,InfiniteGridMenu),_classPrivateMethodInitSpec(this,q),_defineProperty(this,"TARGET_FRAME_DURATION",1e3/60),_defineProperty(this,"SPHERE_RADIUS",2),_classPrivateFieldInitSpec(this,W,0),_classPrivateFieldInitSpec(this,Y,0),_classPrivateFieldInitSpec(this,X,0),_classPrivateFieldInitSpec(this,H,0),_defineProperty(this,"camera",{matrix:r(),near:.1,far:40,fov:Math.PI/4,aspect:1,position:a(0,0,3),up:a(0,1,0),matrices:{view:r(),projection:r(),inversProjection:r()}}),_defineProperty(this,"nearestVertexIndex",null),_defineProperty(this,"smoothRotationVelocity",0),_defineProperty(this,"scaleFactor",1),_defineProperty(this,"movementActive",!1),this.canvas=t,this.items=e||[],this.onActiveItemChange=i||function(){},this.onMovementChange=n||function(){},_assertClassBrand(q,this,_init).call(this,o)},[{key:"resize",value:function(){this.viewportSize=o(this.viewportSize||s(),this.canvas.clientWidth,this.canvas.clientHeight);var t,e,i,n,r,a=this.gl;(t=a.canvas,e=Math.min(2,window.devicePixelRatio),i=Math.round(t.clientWidth*e),n=Math.round(t.clientHeight*e),(r=t.width!==i||t.height!==n)&&(t.width=i,t.height=n),r)&&a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),_assertClassBrand(q,this,_updateProjectionMatrix).call(this,a)}},{key:"run",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classPrivateFieldSet(Y,this,Math.min(32,e-_classPrivateFieldGet(W,this))),_classPrivateFieldSet(W,this,e),_classPrivateFieldSet(X,this,_classPrivateFieldGet(Y,this)/this.TARGET_FRAME_DURATION),_classPrivateFieldSet(H,this,_classPrivateFieldGet(H,this)+_classPrivateFieldGet(X,this)),_assertClassBrand(q,this,_animate).call(this,_classPrivateFieldGet(Y,this)),_assertClassBrand(q,this,_render).call(this),requestAnimationFrame(function(e){return t.run(e)})}}])}();function _init(t){var e=this;this.gl=this.canvas.getContext("webgl2",{antialias:!0,alpha:!1});var i=this.gl;if(!i)throw new Error("No WebGL 2 context!");this.viewportSize=c(this.canvas.clientWidth,this.canvas.clientHeight),this.drawBufferSize=l(this.viewportSize),this.discProgram=function(t,e,i,n){var r=t.createProgram();if([t.VERTEX_SHADER,t.FRAGMENT_SHADER].forEach(function(i,n){var a=function(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(t.deleteShader(n),null)}(t,i,e[n]);a&&t.attachShader(r,a)}),n)for(var a in n)t.bindAttribLocation(r,n[a],a);return t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)?r:(t.deleteProgram(r),null)}(i,["#version 300 es\n\nuniform mat4 uWorldMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform vec3 uCameraPosition;\nuniform vec4 uRotationAxisVelocity;\n\nin vec3 aModelPosition;\nin vec3 aModelNormal;\nin vec2 aModelUvs;\nin mat4 aInstanceMatrix;\n\nout vec2 vUvs;\nout float vAlpha;\nflat out int vInstanceId;\n\n#define PI 3.141593\n\nvoid main() {\n    vec4 worldPosition = uWorldMatrix * aInstanceMatrix * vec4(aModelPosition, 1.);\n\n    vec3 centerPos = (uWorldMatrix * aInstanceMatrix * vec4(0., 0., 0., 1.)).xyz;\n    float radius = length(centerPos.xyz);\n\n    if (gl_VertexID > 0) {\n        vec3 rotationAxis = uRotationAxisVelocity.xyz;\n        float rotationVelocity = min(.15, uRotationAxisVelocity.w * 15.);\n        vec3 stretchDir = normalize(cross(centerPos, rotationAxis));\n        vec3 relativeVertexPos = normalize(worldPosition.xyz - centerPos);\n        float strength = dot(stretchDir, relativeVertexPos);\n        float invAbsStrength = min(0., abs(strength) - 1.);\n        strength = rotationVelocity * sign(strength) * abs(invAbsStrength * invAbsStrength * invAbsStrength + 1.);\n        worldPosition.xyz += stretchDir * strength;\n    }\n\n    worldPosition.xyz = radius * normalize(worldPosition.xyz);\n\n    gl_Position = uProjectionMatrix * uViewMatrix * worldPosition;\n\n    vAlpha = smoothstep(0.5, 1., normalize(worldPosition.xyz).z) * .9 + .1;\n    vUvs = aModelUvs;\n    vInstanceId = gl_InstanceID;\n}\n","#version 300 es\nprecision highp float;\n\nuniform sampler2D uTex;\nuniform int uItemCount;\nuniform int uAtlasSize;\n\nout vec4 outColor;\n\nin vec2 vUvs;\nin float vAlpha;\nflat in int vInstanceId;\n\nvoid main() {\n    int itemIndex = vInstanceId % uItemCount;\n    int cellsPerRow = uAtlasSize;\n    int cellX = itemIndex % cellsPerRow;\n    int cellY = itemIndex / cellsPerRow;\n    vec2 cellSize = vec2(1.0) / vec2(float(cellsPerRow));\n    vec2 cellOffset = vec2(float(cellX), float(cellY)) * cellSize;\n\n    ivec2 texSize = textureSize(uTex, 0);\n    float imageAspect = float(texSize.x) / float(texSize.y);\n    float containerAspect = 1.0;\n    \n    float scale = max(imageAspect / containerAspect, \n                     containerAspect / imageAspect);\n    \n    vec2 st = vec2(vUvs.x, 1.0 - vUvs.y);\n    st = (st - 0.5) * scale + 0.5;\n    \n    st = clamp(st, 0.0, 1.0);\n    \n    st = st * cellSize + cellOffset;\n    \n    outColor = texture(uTex, st);\n    outColor.a *= vAlpha;\n}\n"],0,{aModelPosition:0,aModelNormal:1,aModelUvs:2,aInstanceMatrix:3}),this.discLocations={aModelPosition:i.getAttribLocation(this.discProgram,"aModelPosition"),aModelUvs:i.getAttribLocation(this.discProgram,"aModelUvs"),aInstanceMatrix:i.getAttribLocation(this.discProgram,"aInstanceMatrix"),uWorldMatrix:i.getUniformLocation(this.discProgram,"uWorldMatrix"),uViewMatrix:i.getUniformLocation(this.discProgram,"uViewMatrix"),uProjectionMatrix:i.getUniformLocation(this.discProgram,"uProjectionMatrix"),uCameraPosition:i.getUniformLocation(this.discProgram,"uCameraPosition"),uScaleFactor:i.getUniformLocation(this.discProgram,"uScaleFactor"),uRotationAxisVelocity:i.getUniformLocation(this.discProgram,"uRotationAxisVelocity"),uTex:i.getUniformLocation(this.discProgram,"uTex"),uFrames:i.getUniformLocation(this.discProgram,"uFrames"),uItemCount:i.getUniformLocation(this.discProgram,"uItemCount"),uAtlasSize:i.getUniformLocation(this.discProgram,"uAtlasSize")},this.discGeo=new z(56,1),this.discBuffers=this.discGeo.data,this.discVAO=makeVertexArray(i,[[makeBuffer(i,this.discBuffers.vertices,i.STATIC_DRAW),this.discLocations.aModelPosition,3],[makeBuffer(i,this.discBuffers.uvs,i.STATIC_DRAW),this.discLocations.aModelUvs,2]],this.discBuffers.indices),this.icoGeo=new O,this.icoGeo.subdivide(1).spherize(this.SPHERE_RADIUS),this.instancePositions=this.icoGeo.vertices.map(function(t){return t.position}),this.DISC_INSTANCE_COUNT=this.icoGeo.vertices.length,_assertClassBrand(q,this,_initDiscInstances).call(this,this.DISC_INSTANCE_COUNT),this.worldMatrix=r(),_assertClassBrand(q,this,_initTexture).call(this),this.control=new G(this.canvas,function(t){return _assertClassBrand(q,e,_onControlUpdate).call(e,t)}),_assertClassBrand(q,this,_updateCameraMatrix).call(this),_assertClassBrand(q,this,_updateProjectionMatrix).call(this,i),this.resize(),t&&t(this)}function _initTexture(){var t=this,e=this.gl;this.tex=function(t,e,i,n,r){var a=t.createTexture();return t.bindTexture(t.TEXTURE_2D,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),a}(e,e.LINEAR,e.LINEAR,e.CLAMP_TO_EDGE,e.CLAMP_TO_EDGE);var i=Math.max(1,this.items.length);this.atlasSize=Math.ceil(Math.sqrt(i));var n=document.createElement("canvas"),r=n.getContext("2d"),a=512;n.width=this.atlasSize*a,n.height=this.atlasSize*a,Promise.all(this.items.map(function(t){return new Promise(function(e){var i=new Image;i.crossOrigin="anonymous",i.onload=function(){return e(i)},i.src=t.image})})).then(function(i){i.forEach(function(e,i){var n=i%t.atlasSize*a,o=Math.floor(i/t.atlasSize)*a;r.drawImage(e,n,o,a,a)}),e.bindTexture(e.TEXTURE_2D,t.tex),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D)})}function _initDiscInstances(t){var e=this.gl;this.discInstances={matricesArray:new Float32Array(16*t),matrices:[],buffer:e.createBuffer()};for(var i=0;i<t;++i){var n=new Float32Array(this.discInstances.matricesArray.buffer,16*i*4,16);n.set(r()),this.discInstances.matrices.push(n)}e.bindVertexArray(this.discVAO),e.bindBuffer(e.ARRAY_BUFFER,this.discInstances.buffer),e.bufferData(e.ARRAY_BUFFER,this.discInstances.matricesArray.byteLength,e.DYNAMIC_DRAW);for(var a=0;a<4;++a){var o=this.discLocations.aInstanceMatrix+a;e.enableVertexAttribArray(o),e.vertexAttribPointer(o,4,e.FLOAT,!1,64,4*a*4),e.vertexAttribDivisor(o,1)}e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}function _animate(t){var e=this,i=this.gl;this.control.update(t,this.TARGET_FRAME_DURATION);var n=this.instancePositions.map(function(t){return h(u(),t,e.control.orientation)});n.forEach(function(t,i){var n=.25*(Math.abs(t[2])/e.SPHERE_RADIUS*.6+.4),a=r();f(a,a,d(r(),m(u(),t))),f(a,a,v(r(),[0,0,0],t,[0,1,0])),f(a,a,p(r(),[n,n,n])),f(a,a,d(r(),[0,0,-e.SPHERE_RADIUS])),_(e.discInstances.matrices[i],a)}),i.bindBuffer(i.ARRAY_BUFFER,this.discInstances.buffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.discInstances.matricesArray),i.bindBuffer(i.ARRAY_BUFFER,null),this.smoothRotationVelocity=this.control.rotationVelocity}function _render(){var t=this.gl;t.useProgram(this.discProgram),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.uniformMatrix4fv(this.discLocations.uWorldMatrix,!1,this.worldMatrix),t.uniformMatrix4fv(this.discLocations.uViewMatrix,!1,this.camera.matrices.view),t.uniformMatrix4fv(this.discLocations.uProjectionMatrix,!1,this.camera.matrices.projection),t.uniform3f(this.discLocations.uCameraPosition,this.camera.position[0],this.camera.position[1],this.camera.position[2]),t.uniform4f(this.discLocations.uRotationAxisVelocity,this.control.rotationAxis[0],this.control.rotationAxis[1],this.control.rotationAxis[2],1.1*this.smoothRotationVelocity),t.uniform1i(this.discLocations.uItemCount,this.items.length),t.uniform1i(this.discLocations.uAtlasSize,this.atlasSize),t.uniform1f(this.discLocations.uFrames,_classPrivateFieldGet(H,this)),t.uniform1f(this.discLocations.uScaleFactor,this.scaleFactor),t.uniform1i(this.discLocations.uTex,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.tex),t.bindVertexArray(this.discVAO),t.drawElementsInstanced(t.TRIANGLES,this.discBuffers.indices.length,t.UNSIGNED_SHORT,0,this.DISC_INSTANCE_COUNT)}function _updateCameraMatrix(){v(this.camera.matrix,this.camera.position,[0,0,0],this.camera.up),y(this.camera.matrices.view,this.camera.matrix)}function _updateProjectionMatrix(t){this.camera.aspect=t.canvas.clientWidth/t.canvas.clientHeight;var e=.35*this.SPHERE_RADIUS,i=this.camera.position[2];this.camera.aspect>1?this.camera.fov=2*Math.atan(e/i):this.camera.fov=2*Math.atan(e/this.camera.aspect/i),x(this.camera.matrices.projection,this.camera.fov,this.camera.aspect,this.camera.near,this.camera.far),y(this.camera.matrices.inversProjection,this.camera.matrices.projection)}function _onControlUpdate(t){var e=t/this.TARGET_FRAME_DURATION+1e-4,i=5/e,n=3,r=this.control.isPointerDown||Math.abs(this.smoothRotationVelocity)>.01;if(r!==this.movementActive&&(this.movementActive=r,this.onMovementChange(r)),this.control.isPointerDown)n+=80*this.control.rotationVelocity+2.5,i=7/e;else{var a=_assertClassBrand(q,this,_findNearestVertexIndex).call(this),o=a%Math.max(1,this.items.length);this.onActiveItemChange(o);var s=g(u(),_assertClassBrand(q,this,_getVertexWorldPosition).call(this,a));this.control.snapTargetDirection=s}this.camera.position[2]+=(n-this.camera.position[2])/i,_assertClassBrand(q,this,_updateCameraMatrix).call(this)}function _findNearestVertexIndex(){for(var t,e=this.control.snapDirection,i=P(A(),this.control.orientation),n=h(u(),e,i),r=-1,a=0;a<this.instancePositions.length;++a){var o=b(n,this.instancePositions[a]);o>r&&(r=o,t=a)}return t}function _getVertexWorldPosition(t){var e=this.instancePositions[t];return h(u(),e,this.control.orientation)}var K=[{image:"https://picsum.photos/900/900?grayscale",link:"https://google.com/",title:"",description:""}];function InfiniteMenu(t){var e=t.items,r=void 0===e?[]:e,a=i.useRef(null),o=_slicedToArray(i.useState(null),2),s=o[0],c=o[1],l=_slicedToArray(i.useState(!1),2),h=l[0],u=l[1];i.useEffect(function(){var t,e=a.current;e&&(t=new Q(e,r.length?r:K,function(t){var e=t%r.length;c(r[e])},u,function(t){return t.run()}));var handleResize=function(){t&&t.resize()};return window.addEventListener("resize",handleResize),handleResize(),function(){window.removeEventListener("resize",handleResize)}},[r]);return n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("canvas",{id:"infinite-grid-menu-canvas",ref:a,className:"cursor-grab w-full h-full overflow-hidden relative outline-none active:cursor-grabbing"}),s&&n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"\n          select-none\n          absolute\n          font-black\n          text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl\n          left-3 sm:left-4 md:left-6 lg:left-8 xl:left-10\n          top-[45%] sm:top-1/2\n          transform\n          translate-x-1/4\n          -translate-y-1/2\n          transition-all\n          ease-[cubic-bezier(0.25,0.1,0.25,1.0)]\n          ".concat(h?"opacity-0 pointer-events-none duration-[100ms]":"opacity-100 pointer-events-auto duration-[500ms]","\n        "),children:s.title}),n.jsx("p",{className:"\n          select-none\n          absolute\n          max-w-[12ch] sm:max-w-[15ch] md:max-w-[18ch] lg:max-w-[22ch] xl:max-w-[28ch]\n          text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl\n          top-[55%]\n          right-1 sm:right-2 md:right-4 lg:right-6 xl:right-8\n          transition-all\n          ease-[cubic-bezier(0.25,0.1,0.25,1.0)]\n          ".concat(h?"opacity-0 pointer-events-none duration-[100ms] translate-x-[-50%] -translate-y-1/2":"opacity-100 pointer-events-auto duration-[500ms] translate-x-[-90%] -translate-y-1/2","\n        "),children:s.description}),n.jsx("div",{onClick:function(){null!=s&&s.link&&s.link.startsWith("http")&&window.open(s.link,"_blank")},className:"\n          absolute\n          left-1/2\n          z-10\n          w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 xl:w-24 xl:h-24\n          grid place-items-center\n          bg-[#ff0000]\n          border-4 sm:border-5 md:border-6 lg:border-8 xl:border-10 border-black\n          rounded-full\n          cursor-pointer\n          shadow-lg\n          hover:scale-110 active:scale-95\n          transition-transform duration-300 ease-[cubic-bezier(0.25,0.1,0.25,1.0)]\n          ".concat(h?"bottom-[-80px] opacity-0 pointer-events-none duration-[100ms] scale-0 -translate-x-1/2":"bottom-[4em] sm:bottom-[3.8em] md:bottom-[4em] lg:bottom-[4.5em] xl:bottom-[5em] opacity-100 pointer-events-auto duration-[500ms] scale-100 -translate-x-1/2","\n        "),children:n.jsx("p",{className:"select-none relative text-[#060010] top-[2px] text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl",children:"↗"})})]})]})}var J="/assets/insta-DfgTjsCq.png",Z="/assets/spotify-D_PSz9Uq.png",$="/assets/git-fH-nSCaL.jpg"}}})}();
