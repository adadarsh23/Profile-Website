import{r as e,j as t,m as a,Z as r,$ as l}from"./vendor-DEvyvm6K.js";const s=e.memo(function({items:s=[],baseRadius:i=220}){const[n,o]=e.useState(window.innerWidth),[d,c]=e.useState(null),u=e.useRef(null);e.useEffect(()=>{let e;const handleResize=()=>{clearTimeout(e),e=setTimeout(()=>o(window.innerWidth),150)};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),clearTimeout(e),u.current&&(u.current.pause(),u.current=null)}},[]);const m=e.useMemo(()=>Math.min(Math.max(n/5,120),1.6*i),[n,i]),h=n<768||s.length>10,x=e.useMemo(()=>{if(h)return[];const e=s.length;return s.map((t,a)=>{const r=a/e*2*Math.PI;return{x:m+m*Math.cos(r)-80,y:m+m*Math.sin(r)-90}})},[s,m,h]);return t.jsxs("div",{className:"relative mx-auto "+(h?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 px-4 max-w-7xl":""),style:h?{}:{width:2*m,height:2*m},children:[0===s.length&&t.jsx("div",{className:"col-span-full text-center text-gray-400 py-12 w-full",children:"ðŸŽ§ No beats available yet"}),s.map((e,s)=>{const{x:i,y:n}=x[s]||{},o=d===e.id;return t.jsx(a.div,{role:"article","aria-label":`Beat: ${e.title}`,tabIndex:0,style:h?{}:{position:"absolute",left:i,top:n,width:"clamp(130px, 20vw, 210px)",height:"clamp(170px, 30vw, 250px)"},whileHover:{scale:1.06,rotate:0,transition:{duration:.25}},whileTap:{scale:.95},initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.08*s},children:t.jsx("div",{className:"relative group bg-black/90 backdrop-blur-xl rounded-2xl p-3 w-full h-full shadow-lg hover:shadow-2xl transition-all duration-300 border border-white/10 focus-within:ring-2 focus-within:ring-white/30",children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"relative mb-3 aspect-[4/3] overflow-hidden rounded-lg",children:[t.jsx("img",{src:e.image,alt:e.title||"Beat Cover",className:"w-full h-full object-cover rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("button",{onClick:()=>((e,t)=>{u.current||(u.current=new Audio,u.current.onended=()=>c(null));const a=u.current;d===e?(a.pause(),c(null)):(a.src=t,a.play().catch(e=>{}),c(e))})(e.id,e.url),className:"absolute bottom-3 right-3 p-2 bg-white/20 backdrop-blur-md rounded-full hover:bg-white/40 transition","aria-label":o?"Pause preview":"Play preview",children:o?t.jsx(r,{className:"w-4 h-4 text-white"}):t.jsx(l,{className:"w-4 h-4 text-white"})})]}),t.jsx("h3",{className:"text-white text-sm md:text-base font-semibold truncate mb-0.5",children:e.title}),t.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-1 font-medium truncate",children:e.artist}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[10px] md:text-xs text-gray-300 mb-2",children:[e.bpm&&t.jsxs("span",{className:"px-2 py-0.5 bg-white/10 rounded-full",children:[e.bpm," BPM"]}),e.duration&&t.jsx("span",{className:"px-2 py-0.5 bg-white/10 rounded-full",children:e.duration})]}),t.jsx("div",{className:"mt-auto",children:t.jsx("a",{href:e.download,"aria-label":`Download or buy ${e.title}`,download:"Free"===e.price||void 0,className:`block text-center focus:outline-none focus:ring-2 focus:ring-white/40 ${"Free"===e.price?"bg-white text-black hover:bg-gray-200":"bg-gradient-to-r from-gray-800 to-black hover:from-black hover:to-gray-900 text-white"} font-medium text-xs md:text-sm py-2 px-4 rounded-lg transition-all duration-200 shadow-md hover:shadow-xl`,children:"Free"===e.price?"â¬‡ Download":`ðŸ’³ Buy ${e.price}`})})]})})},e.id||s)})]})});export{s as default};
