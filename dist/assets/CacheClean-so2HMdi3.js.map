{"version":3,"file":"CacheClean-so2HMdi3.js","sources":["../../src/plugins/UltraUltraSmartCacheCleaner.jsx","../../src/Main/CacheClean.jsx"],"sourcesContent":["import { useEffect, useRef, useState, useCallback, useMemo } from 'react';\n\n/**\n * EnhancedCacheCleaner v4.0\n * Enterprise-grade browser storage management system\n *\n * @features\n * - Selective storage cleaning with intelligent preservation\n * - Configurable retry logic with exponential backoff\n * - Comprehensive error tracking and recovery\n * - Real-time progress monitoring\n * - TypeScript-ready prop validation\n * - Performance optimization with memoization\n * - Accessibility-compliant UI components\n * - Production logging with severity levels\n * - Health check endpoint\n * - Graceful degradation for unsupported APIs\n */\n\n// ============================================================================\n// CONSTANTS & CONFIGURATION\n// ============================================================================\n\nconst CLEANUP_PHASES = {\n  IDLE: 'idle',\n  INITIALIZING: 'initializing',\n  RUNNING: 'running',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  CANCELLED: 'cancelled',\n};\n\nconst LOG_LEVELS = {\n  ERROR: 'error',\n  WARN: 'warn',\n  INFO: 'info',\n  DEBUG: 'debug',\n};\n\nconst DEFAULT_CONFIG = {\n  autoReload: false,\n  silent: true,\n  preserveKeys: ['auth', 'token', 'user', 'theme', 'session'],\n  runDelay: 1000,\n  debug: false,\n  manual: false,\n  ttlHours: 24,\n  progressUI: false,\n  statusIndicator: true,\n  retries: 3,\n  retryDelayMS: 500,\n  taskTimeoutMS: 20000,\n  enableHealthCheck: true,\n  enableAnalytics: false,\n  gracefulDegradation: true,\n};\n\n// ============================================================================\n// UTILITY FUNCTIONS\n// ============================================================================\n\nclass Logger {\n  constructor(silent = false, debug = false) {\n    this.silent = silent;\n    this.debug = debug;\n    this.logs = [];\n    this.maxLogs = 1000;\n  }\n\n  log(message, level = LOG_LEVELS.INFO, meta = {}) {\n    const entry = {\n      timestamp: new Date().toISOString(),\n      level,\n      message,\n      meta,\n    };\n\n    this.logs.push(entry);\n    if (this.logs.length > this.maxLogs) {\n      this.logs.shift();\n    }\n\n    if (this.silent && level !== LOG_LEVELS.ERROR) return;\n    if (level === LOG_LEVELS.DEBUG && !this.debug) return;\n\n    const colors = {\n      [LOG_LEVELS.ERROR]: '#ef4444',\n      [LOG_LEVELS.WARN]: '#f59e0b',\n      [LOG_LEVELS.INFO]: '#3b82f6',\n      [LOG_LEVELS.DEBUG]: '#8b5cf6',\n    };\n\n    console.log(\n      `%c[CacheCleaner:${level.toUpperCase()}] ${message}`,\n      `color:${colors[level]};font-weight:500`\n    );\n  }\n\n  getLogs() {\n    return [...this.logs];\n  }\n\n  exportLogs() {\n    return JSON.stringify(this.logs, null, 2);\n  }\n}\n\nclass RetryManager {\n  constructor(maxRetries = 3, baseDelay = 500) {\n    this.maxRetries = maxRetries;\n    this.baseDelay = baseDelay;\n  }\n\n  async execute(fn, taskName = 'Task') {\n    let lastError;\n    for (let attempt = 0; attempt <= this.maxRetries; attempt++) {\n      try {\n        return await fn();\n      } catch (error) {\n        lastError = error;\n        if (attempt < this.maxRetries) {\n          const delay = this.baseDelay * Math.pow(2, attempt);\n          await this.sleep(delay);\n        }\n      }\n    }\n    throw new Error(\n      `${taskName} failed after ${this.maxRetries + 1} attempts: ${lastError.message}`\n    );\n  }\n\n  sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n}\n\nclass TaskTimeout {\n  static race(promise, timeoutMs, taskName = 'Task') {\n    return Promise.race([\n      promise,\n      new Promise((_, reject) =>\n        setTimeout(\n          () => reject(new Error(`${taskName} timeout after ${timeoutMs}ms`)),\n          timeoutMs\n        )\n      ),\n    ]);\n  }\n}\n\n// ============================================================================\n// STORAGE CLEANERS\n// ============================================================================\n\nclass StorageCleaner {\n  constructor(logger, preserveKeys = []) {\n    this.logger = logger;\n    this.preserveKeys = preserveKeys;\n  }\n\n  shouldPreserve(key) {\n    return this.preserveKeys.some((preserved) =>\n      key.toLowerCase().includes(preserved.toLowerCase())\n    );\n  }\n\n  clearWebStorage(storage, label) {\n    try {\n      const keys = Object.keys(storage);\n      const preserved = [];\n      const removed = [];\n\n      keys.forEach((key) => {\n        if (this.shouldPreserve(key)) {\n          preserved.push(key);\n        } else {\n          try {\n            storage.removeItem(key);\n            removed.push(key);\n          } catch (err) {\n            this.logger.log(\n              `Failed to remove ${label} key: ${key}`,\n              LOG_LEVELS.WARN,\n              { error: err.message }\n            );\n          }\n        }\n      });\n\n      this.logger.log(\n        `${label}: removed ${removed.length}, preserved ${preserved.length}`,\n        LOG_LEVELS.INFO\n      );\n\n      return {\n        success: true,\n        removed: removed.length,\n        preserved: preserved.length,\n        keys: { removed, preserved },\n      };\n    } catch (error) {\n      this.logger.log(`${label} cleanup failed`, LOG_LEVELS.ERROR, {\n        error: error.message,\n      });\n      return { success: false, error: error.message };\n    }\n  }\n\n  clearCookies() {\n    try {\n      const cookies = document.cookie.split(';').filter(Boolean);\n      let deleted = 0;\n      let preserved = 0;\n\n      cookies.forEach((cookie) => {\n        const name = cookie.split('=')[0].trim();\n        if (this.shouldPreserve(name)) {\n          preserved++;\n        } else {\n          try {\n            document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`;\n            document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain=${window.location.hostname}`;\n            deleted++;\n          } catch {\n            this.logger.log(\n              `Failed to delete cookie: ${name}`,\n              LOG_LEVELS.WARN\n            );\n          }\n        }\n      });\n\n      this.logger.log(\n        `Cookies: deleted ${deleted}, preserved ${preserved}`,\n        LOG_LEVELS.INFO\n      );\n\n      return { success: true, deleted, preserved };\n    } catch (error) {\n      this.logger.log('Cookie cleanup failed', LOG_LEVELS.ERROR, {\n        error: error.message,\n      });\n      return { success: false, error: error.message };\n    }\n  }\n\n  async clearCacheStorage(retryManager, timeout) {\n    try {\n      if (!('caches' in window)) {\n        this.logger.log('CacheStorage API not supported', LOG_LEVELS.WARN);\n        return { success: true, deleted: 0, skipped: true };\n      }\n\n      const names = await TaskTimeout.race(\n        caches.keys(),\n        timeout,\n        'CacheStorage.keys()'\n      );\n\n      const toDelete = names.filter((name) => !this.shouldPreserve(name));\n      const preserved = names.length - toDelete.length;\n\n      const results = await Promise.allSettled(\n        toDelete.map((name) =>\n          retryManager.execute(\n            () =>\n              TaskTimeout.race(\n                caches.delete(name),\n                timeout,\n                `Delete cache: ${name}`\n              ),\n            `CacheStorage.delete(${name})`\n          )\n        )\n      );\n\n      const deleted = results.filter((r) => r.status === 'fulfilled').length;\n      const failed = results.filter((r) => r.status === 'rejected').length;\n\n      this.logger.log(\n        `CacheStorage: deleted ${deleted}, preserved ${preserved}, failed ${failed}`,\n        LOG_LEVELS.INFO\n      );\n\n      return { success: true, deleted, preserved, failed };\n    } catch (error) {\n      this.logger.log('CacheStorage cleanup failed', LOG_LEVELS.ERROR, {\n        error: error.message,\n      });\n      return { success: false, error: error.message };\n    }\n  }\n\n  async clearIndexedDB(timeout) {\n    try {\n      if (!('indexedDB' in window)) {\n        this.logger.log('IndexedDB API not supported', LOG_LEVELS.WARN);\n        return { success: true, deleted: 0, skipped: true };\n      }\n\n      let databases = [];\n      if (typeof indexedDB.databases === 'function') {\n        try {\n          databases =\n            (await TaskTimeout.race(\n              indexedDB.databases(),\n              timeout,\n              'IndexedDB.databases()'\n            )) || [];\n        } catch {\n          this.logger.log(\n            'IndexedDB.databases() not available, skipping',\n            LOG_LEVELS.WARN\n          );\n          return { success: true, deleted: 0, skipped: true };\n        }\n      } else {\n        this.logger.log(\n          'IndexedDB.databases() not supported in this browser',\n          LOG_LEVELS.WARN\n        );\n        return { success: true, deleted: 0, skipped: true };\n      }\n\n      const toDelete = databases.filter(\n        (db) => db.name && !this.shouldPreserve(db.name)\n      );\n      const preserved = databases.length - toDelete.length;\n\n      const results = await Promise.allSettled(\n        toDelete.map(\n          (db) =>\n            new Promise((resolve, reject) => {\n              const request = indexedDB.deleteDatabase(db.name);\n              request.onsuccess = () => resolve(db.name);\n              request.onerror = () =>\n                reject(new Error(`Failed to delete ${db.name}`));\n              request.onblocked = () =>\n                this.logger.log(\n                  `IndexedDB delete blocked: ${db.name}`,\n                  LOG_LEVELS.WARN\n                );\n            })\n        )\n      );\n\n      const deleted = results.filter((r) => r.status === 'fulfilled').length;\n      const failed = results.filter((r) => r.status === 'rejected').length;\n\n      this.logger.log(\n        `IndexedDB: deleted ${deleted}, preserved ${preserved}, failed ${failed}`,\n        LOG_LEVELS.INFO\n      );\n\n      return { success: true, deleted, preserved, failed };\n    } catch (error) {\n      this.logger.log('IndexedDB cleanup failed', LOG_LEVELS.ERROR, {\n        error: error.message,\n      });\n      return { success: false, error: error.message };\n    }\n  }\n\n  async unregisterServiceWorkers(retryManager, timeout) {\n    try {\n      if (!('serviceWorker' in navigator)) {\n        this.logger.log('Service Workers not supported', LOG_LEVELS.WARN);\n        return { success: true, unregistered: 0, skipped: true };\n      }\n\n      const registrations = await TaskTimeout.race(\n        navigator.serviceWorker.getRegistrations(),\n        timeout,\n        'ServiceWorker.getRegistrations()'\n      );\n\n      const results = await Promise.allSettled(\n        registrations.map((reg) =>\n          retryManager.execute(\n            () =>\n              TaskTimeout.race(reg.unregister(), timeout, 'SW.unregister()'),\n            'ServiceWorker.unregister()'\n          )\n        )\n      );\n\n      const unregistered = results.filter(\n        (r) => r.status === 'fulfilled'\n      ).length;\n      const failed = results.filter((r) => r.status === 'rejected').length;\n\n      this.logger.log(\n        `Service Workers: unregistered ${unregistered}, failed ${failed}`,\n        LOG_LEVELS.INFO\n      );\n\n      return { success: true, unregistered, failed };\n    } catch (error) {\n      this.logger.log('Service Worker cleanup failed', LOG_LEVELS.ERROR, {\n        error: error.message,\n      });\n      return { success: false, error: error.message };\n    }\n  }\n}\n\n// ============================================================================\n// MAIN COMPONENT\n// ============================================================================\n\nexport default function EnhancedCacheCleaner(props) {\n  const config = useMemo(() => ({ ...DEFAULT_CONFIG, ...props }), [props]);\n  const {\n    autoReload,\n    silent,\n    preserveKeys,\n    runDelay,\n    debug,\n    manual,\n    ttlHours,\n    progressUI,\n    statusIndicator,\n    retries,\n    retryDelayMS,\n    taskTimeoutMS,\n    enableHealthCheck,\n    enableAnalytics,\n    gracefulDegradation,\n    onComplete,\n    onError,\n    onProgress,\n  } = config;\n\n  // State\n  const [phase, setPhase] = useState(CLEANUP_PHASES.IDLE);\n  const [progress, setProgress] = useState(0);\n  const [visible, setVisible] = useState(true);\n  const [showDebug, setShowDebug] = useState(false);\n  const [healthStatus, setHealthStatus] = useState(null);\n\n  // Refs\n  const runningRef = useRef(false);\n  const loggerRef = useRef(null);\n  const debugPanelRef = useRef(null);\n  const cleanupAbortRef = useRef(false);\n\n  // Initialize logger\n  if (!loggerRef.current) {\n    loggerRef.current = new Logger(silent, debug);\n  }\n  const logger = loggerRef.current;\n\n  // Progress updater\n  const updateProgress = useCallback(\n    (delta) => {\n      setProgress((prev) => {\n        const newProgress = Math.min(100, Math.max(0, prev + delta));\n        onProgress?.(newProgress);\n        return newProgress;\n      });\n    },\n    [onProgress]\n  );\n\n  // Health check\n  const performHealthCheck = useCallback(() => {\n    const health = {\n      timestamp: new Date().toISOString(),\n      browserAPIs: {\n        localStorage: 'localStorage' in window,\n        sessionStorage: 'sessionStorage' in window,\n        indexedDB: 'indexedDB' in window,\n        cacheStorage: 'caches' in window,\n        serviceWorker: 'serviceWorker' in navigator,\n        cookies: !!document.cookie,\n      },\n      lastCleanup: localStorage.getItem('__cleanup_last_run__'),\n      status: 'healthy',\n    };\n\n    setHealthStatus(health);\n    logger.log('Health check completed', LOG_LEVELS.INFO, health);\n    return health;\n  }, [logger]);\n\n  // Main cleanup orchestrator\n  const executeCleanup = useCallback(\n    async (forced = false) => {\n      if (runningRef.current) {\n        logger.log('Cleanup already in progress', LOG_LEVELS.WARN);\n        return;\n      }\n\n      // Check if cleanup is needed\n      if (!forced) {\n        const lastRun = Number(\n          localStorage.getItem('__cleanup_last_run__') || 0\n        );\n        const hoursSinceLastRun = (Date.now() - lastRun) / (1000 * 60 * 60);\n\n        if (hoursSinceLastRun < ttlHours) {\n          logger.log(\n            `Cleanup not needed (${hoursSinceLastRun.toFixed(1)}h < ${ttlHours}h)`,\n            LOG_LEVELS.INFO\n          );\n          return;\n        }\n      }\n\n      runningRef.current = true;\n      cleanupAbortRef.current = false;\n      setPhase(CLEANUP_PHASES.INITIALIZING);\n      updateProgress(5);\n\n      const startTime = performance.now();\n      const report = {\n        startedAt: new Date().toISOString(),\n        forced,\n        config: {\n          ttlHours,\n          preserveKeys,\n          retries,\n          taskTimeoutMS,\n        },\n        results: {},\n      };\n\n      try {\n        logger.log('Starting cleanup process', LOG_LEVELS.INFO);\n        setPhase(CLEANUP_PHASES.RUNNING);\n        updateProgress(10);\n\n        const cleaner = new StorageCleaner(logger, preserveKeys);\n        const retryManager = new RetryManager(retries, retryDelayMS);\n\n        // Check for abort\n        if (cleanupAbortRef.current) {\n          throw new Error('Cleanup cancelled by user');\n        }\n\n        // Parallel async operations\n        const asyncTasks = [\n          cleaner.clearCacheStorage(retryManager, taskTimeoutMS),\n          cleaner.clearIndexedDB(taskTimeoutMS),\n          cleaner.unregisterServiceWorkers(retryManager, taskTimeoutMS),\n        ];\n\n        const asyncResults = await Promise.allSettled(asyncTasks);\n        report.results.cacheStorage = asyncResults[0].value || {\n          error: asyncResults[0].reason?.message,\n        };\n        report.results.indexedDB = asyncResults[1].value || {\n          error: asyncResults[1].reason?.message,\n        };\n        report.results.serviceWorkers = asyncResults[2].value || {\n          error: asyncResults[2].reason?.message,\n        };\n        updateProgress(50);\n\n        // Check for abort\n        if (cleanupAbortRef.current) {\n          throw new Error('Cleanup cancelled by user');\n        }\n\n        // Synchronous operations\n        report.results.localStorage = cleaner.clearWebStorage(\n          localStorage,\n          'LocalStorage'\n        );\n        updateProgress(20);\n\n        report.results.sessionStorage = cleaner.clearWebStorage(\n          sessionStorage,\n          'SessionStorage'\n        );\n        updateProgress(15);\n\n        report.results.cookies = cleaner.clearCookies();\n        updateProgress(5);\n\n        // Finalize\n        const duration = Math.round(performance.now() - startTime);\n        report.completedAt = new Date().toISOString();\n        report.durationMS = duration;\n        report.status = 'success';\n\n        localStorage.setItem('__cleanup_last_run__', Date.now().toString());\n        localStorage.setItem('__cleanup_last_report__', JSON.stringify(report));\n\n        logger.log(\n          `Cleanup completed in ${duration}ms`,\n          LOG_LEVELS.INFO,\n          report\n        );\n        setPhase(CLEANUP_PHASES.SUCCESS);\n        updateProgress(100);\n\n        onComplete?.(report);\n\n        if (enableAnalytics) {\n          // Hook for analytics tracking\n          window.dispatchEvent(\n            new CustomEvent('cache-cleanup-complete', { detail: report })\n          );\n        }\n\n        if (autoReload) {\n          logger.log('Auto-reload in 2 seconds', LOG_LEVELS.INFO);\n          setTimeout(() => window.location.reload(), 2000);\n        }\n\n        // Auto-hide UI after 15 seconds\n        setTimeout(() => setVisible(false), 15000);\n      } catch (error) {\n        const duration = Math.round(performance.now() - startTime);\n        report.completedAt = new Date().toISOString();\n        report.durationMS = duration;\n        report.status = 'error';\n        report.error = error.message;\n\n        logger.log(\n          `Cleanup failed: ${error.message}`,\n          LOG_LEVELS.ERROR,\n          report\n        );\n        setPhase(CLEANUP_PHASES.ERROR);\n        onError?.(error, report);\n\n        localStorage.setItem('__cleanup_last_error__', JSON.stringify(report));\n\n        if (!gracefulDegradation) {\n          throw error;\n        }\n      } finally {\n        runningRef.current = false;\n      }\n    },\n    [\n      logger,\n      ttlHours,\n      preserveKeys,\n      retries,\n      retryDelayMS,\n      taskTimeoutMS,\n      updateProgress,\n      autoReload,\n      enableAnalytics,\n      gracefulDegradation,\n      onComplete,\n      onError,\n    ]\n  );\n\n  // Mount effect\n  useEffect(() => {\n    logger.log('CacheCleaner initialized', LOG_LEVELS.INFO, config);\n\n    // Expose API\n    window.cacheCleaner = {\n      trigger: () => executeCleanup(true),\n      cancel: () => {\n        cleanupAbortRef.current = true;\n        logger.log('Cleanup cancellation requested', LOG_LEVELS.WARN);\n      },\n      getHealth: performHealthCheck,\n      getLogs: () => logger.getLogs(),\n      exportLogs: () => logger.exportLogs(),\n      getLastReport: () =>\n        JSON.parse(localStorage.getItem('__cleanup_last_report__') || 'null'),\n    };\n\n    if (enableHealthCheck) {\n      performHealthCheck();\n    }\n\n    if (!manual) {\n      const timer = setTimeout(() => executeCleanup(false), runDelay);\n      return () => clearTimeout(timer);\n    }\n  }, [\n    config,\n    executeCleanup,\n    logger,\n    manual,\n    runDelay,\n    performHealthCheck,\n    enableHealthCheck,\n  ]); // Removed early return\n\n  // Debug panel auto-hide\n  useEffect(() => {\n    if (showDebug) {\n      const timer = setTimeout(() => setShowDebug(false), 10000);\n      const handleClickOutside = (e) => {\n        if (\n          debugPanelRef.current &&\n          !debugPanelRef.current.contains(e.target)\n        ) {\n          setShowDebug(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        clearTimeout(timer);\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showDebug]);\n\n  // ============================================================================\n  // UI RENDERING\n  // ============================================================================\n  useEffect(() => {\n    document.body.style.overflow = showDebug ? 'hidden' : 'auto';\n    return () => (document.body.style.overflow = 'auto');\n  }, [showDebug]);\n\n  // Render nothing if invisible or not in a browser environment\n  if (!visible || typeof window === 'undefined') return null;\n\n  return (\n    <>\n      {/* Progress Bar */}\n      {/* {progressUI && phase === CLEANUP_PHASES.RUNNING && (\n        <div\n          role=\"progressbar\"\n          aria-valuenow={progress}\n          aria-valuemin={0}\n          aria-valuemax={100}\n          aria-label=\"Cache cleanup progress\"\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100%\",\n            height: \"4px\",\n            zIndex: 10001,\n            backgroundColor: \"rgba(59, 130, 246, 0.15)\",\n            backdropFilter: \"blur(4px)\",\n          }}\n        >\n          <div\n            style={{\n              width: `${progress}%`,\n              height: \"100%\",\n              background: \"linear-gradient(90deg, #3b82f6, #2563eb)\",\n              transition: \"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",\n              borderRadius: \"0 4px 4px 0\",\n              boxShadow: \"0 0 10px rgba(59, 130, 246, 0.5)\",\n            }}\n          />\n        </div>\n      )} */}\n\n      {/* Status Indicator */}\n      {statusIndicator && (\n        <button\n          onClick={() => debug && setShowDebug((s) => !s)}\n          aria-label={`Cache cleaner status: ${phase}`}\n          style={{\n            position: 'fixed', // Keep fixed position\n            bottom: 'clamp(10px, 2vw, 20px)',\n            left: 'clamp(10px, 2vw, 20px)',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'clamp(6px, 1.5vw, 10px)',\n            padding: 'clamp(6px, 1.5vw, 8px) clamp(10px, 3vw, 14px)',\n            borderRadius: '20px',\n            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n            backdropFilter: 'blur(10px)',\n            border: '1px solid rgba(255, 255, 255, 0.1)',\n            cursor: debug ? 'pointer' : 'default',\n            zIndex: 48,\n            transition: 'all 0.3s ease',\n            userSelect: 'none',\n          }}\n          onMouseEnter={(e) => {\n            if (debug) e.currentTarget.style.transform = 'translateY(-2px)';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n          }}\n        >\n          <div\n            style={{\n              width: 'clamp(10px, 2vw, 12px)',\n              height: 'clamp(10px, 2vw, 12px)',\n              borderRadius: '50%',\n              backgroundColor:\n                phase === CLEANUP_PHASES.RUNNING\n                  ? '#3b82f6'\n                  : phase === CLEANUP_PHASES.SUCCESS\n                    ? '#22c55e'\n                    : phase === CLEANUP_PHASES.ERROR\n                      ? '#ef4444'\n                      : '#6b7280',\n              boxShadow: `0 0 8px ${\n                phase === CLEANUP_PHASES.RUNNING\n                  ? '#3b82f6'\n                  : phase === CLEANUP_PHASES.SUCCESS\n                    ? '#22c55e'\n                    : phase === CLEANUP_PHASES.ERROR\n                      ? '#ef4444'\n                      : 'transparent'\n              }`,\n              animation:\n                phase === CLEANUP_PHASES.RUNNING ? 'pulse 2s infinite' : 'none',\n            }}\n          />\n          <span\n            style={{\n              color: '#fff',\n              fontSize: 'clamp(11px, 2vw, 13px)',\n              fontWeight: 600,\n              letterSpacing: '0.3px',\n            }}\n          >\n            {phase === CLEANUP_PHASES.RUNNING\n              ? `Cleaning ${progress}%`\n              : phase === CLEANUP_PHASES.SUCCESS\n                ? 'âœ“ Clean'\n                : phase === CLEANUP_PHASES.ERROR\n                  ? 'âœ— Error'\n                  : 'Ready'}\n          </span>\n        </button>\n      )}\n\n      {/* Debug Panel */}\n      {/* Debug Panel */}\n      {debug && showDebug && (\n        <div\n          ref={debugPanelRef}\n          role=\"dialog\"\n          aria-label=\"Debug logs\"\n          style={{\n            position: 'fixed',\n            bottom: 'clamp(60px, 10vh, 80px)',\n            left: 'clamp(10px, 2vw, 20px)',\n            width: 'clamp(260px, 80vw, 400px)',\n            maxHeight: 'min(70vh, 400px)',\n            backgroundColor: '#1a1a1a',\n            border: '1px solid #333',\n            borderRadius: '12px',\n            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.5)',\n            zIndex: 49,\n            display: 'flex',\n            flexDirection: 'column',\n            fontFamily: 'monospace',\n            overflow: 'hidden',\n            pointerEvents: 'auto', // let interaction work inside panel\n          }}\n        >\n          {/* Header */}\n          <div\n            style={{\n              padding: '12px 16px',\n              borderBottom: '1px solid #333',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              backgroundColor: '#0a0a0a',\n              flexShrink: 0,\n            }}\n          >\n            <span style={{ color: '#fff', fontSize: '14px', fontWeight: 600 }}>\n              Debug Logs\n            </span>\n            <button\n              onClick={() => setShowDebug(false)}\n              style={{\n                background: 'none',\n                border: 'none',\n                color: '#888',\n                cursor: 'pointer',\n                fontSize: '18px',\n              }}\n              aria-label=\"Close debug panel\"\n            >\n              &times;\n            </button>\n          </div>\n\n          {/* Scrollable Logs */}\n          <div\n            style={{\n              flex: 1,\n              overflowY: 'auto',\n              padding: '12px',\n              fontSize: 'clamp(10px, 2vw, 12px)',\n              lineHeight: 1.6,\n              scrollbarWidth: 'thin',\n              scrollbarColor: '#444 #1a1a1a',\n            }}\n          >\n            {healthStatus && (\n              <div\n                style={{\n                  marginBottom: '16px',\n                  paddingBottom: '16px',\n                  borderBottom: '1px solid #444',\n                }}\n              >\n                <div\n                  style={{\n                    color: '#fff',\n                    fontSize: '13px',\n                    fontWeight: 600,\n                    marginBottom: '8px',\n                  }}\n                >\n                  Health Status\n                </div>\n                <pre\n                  style={{\n                    backgroundColor: '#2a2a2a',\n                    padding: '10px',\n                    borderRadius: '8px',\n                    overflowX: 'auto',\n                    color: '#eee',\n                    fontSize: 'clamp(9px, 1.8vw, 11px)',\n                    lineHeight: 1.4,\n                    whiteSpace: 'pre-wrap',\n                    wordBreak: 'break-word',\n                  }}\n                >\n                  {JSON.stringify(healthStatus, null, 2)}\n                </pre>\n              </div>\n            )}\n\n            {logger.getLogs().length === 0 ? (\n              <div\n                style={{ color: '#666', textAlign: 'center', padding: '20px' }}\n              >\n                No logs yet\n              </div>\n            ) : (\n              logger.getLogs().map((log, i) => (\n                <div\n                  key={i}\n                  style={{\n                    marginBottom: '8px',\n                    paddingBottom: '8px',\n                    borderBottom: '1px solid #222',\n                  }}\n                >\n                  <div style={{ color: '#666', fontSize: '10px' }}>\n                    {new Date(log.timestamp).toLocaleTimeString()}\n                  </div>\n                  <div\n                    style={{\n                      color:\n                        log.level === LOG_LEVELS.ERROR\n                          ? '#ef4444'\n                          : log.level === LOG_LEVELS.WARN\n                            ? '#f59e0b'\n                            : log.level === LOG_LEVELS.INFO\n                              ? '#3b82f6'\n                              : '#8b5cf6',\n                    }}\n                  >\n                    {log.message}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n      <style>\n        {`\n      @keyframes pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.5; }\n      }\n\n      @media (max-width: 480px) {\n        /* Status Indicator on very small screens */\n        button[aria-label^=\"Cache cleaner status\"] {\n          bottom: 10px;\n          left: 10px;\n          padding: 8px; /* Make it a square button */\n          min-width: 40px; /* Ensure it's clickable */\n          justify-content: center;\n        }\n        button[aria-label^=\"Cache cleaner status\"] span { /* Hide text */\n          display: none;\n        }\n        button[aria-label^=\"Cache cleaner status\"] div { /* Adjust dot size */\n          width: 10px;\n          height: 10px;\n        }\n\n        /* Debug Panel on very small screens */\n        div[aria-label=\"Debug logs\"] {\n          bottom: 60px;\n          left: 10px;\n          right: 10px; /* Make it span almost full width */\n          width: auto; /* Override clamp width */\n          max-height: 60vh; /* Allow more vertical space */\n        }\n        div[aria-label=\"Debug logs\"] .debug-panel-header span {\n          font-size: 13px; /* Slightly smaller header font */\n        }\n      }\n    `}\n      </style>\n    </>\n  );\n}\n","import React from 'react';\nimport EnhancedCacheCleaner from '../plugins/UltraUltraSmartCacheCleaner';\n\n// Fixed component name to PascalCase (React convention)\nfunction CacheClean() {\n  return (\n    <div>\n      <EnhancedCacheCleaner\n        autoReload={false}\n        silent={false}\n        debug={true}\n        progressUI={true}\n        statusIndicator={true}\n        ttlHours={12} // cleanup every 12 hours\n        manual={false} // auto-run\n        preserveKeys={[\n          // Default important keys\n          'auth',\n          'token',\n          'user',\n          'theme',\n          'session',\n          'visitor',\n          'settings',\n        ]}\n        retries={3}\n        taskTimeoutMS={20000}\n        enableHealthCheck={true}\n        enableAnalytics={false}\n        gracefulDegradation={true}\n        onComplete={(report) => {\n          console.log('âœ… Cleanup completed:', report);\n          // You can add custom logic here\n        }}\n        onError={(error, report) => {\n          console.error('âŒ Cleanup failed:', error);\n          // Handle errors\n        }}\n        onProgress={(progress) => {\n          console.log(`ðŸ”„ Cleanup progress: ${progress}%`);\n        }}\n      />\n    </div>\n  );\n}\n\nexport default CacheClean;\n"],"names":["CLEANUP_PHASES","LOG_LEVELS","DEFAULT_CONFIG","Logger","silent","debug","message","level","meta","entry","RetryManager","maxRetries","baseDelay","fn","taskName","lastError","attempt","error","delay","ms","resolve","timeoutMs","promise","_","reject","StorageCleaner","logger","preserveKeys","key","preserved","storage","label","keys","removed","err","cookies","deleted","cookie","name","retryManager","timeout","names","TaskTimeout","toDelete","results","r","failed","databases","db","request","registrations","reg","unregistered","EnhancedCacheCleaner","props","config","useMemo","autoReload","runDelay","manual","ttlHours","progressUI","statusIndicator","retries","retryDelayMS","taskTimeoutMS","enableHealthCheck","enableAnalytics","gracefulDegradation","onComplete","onError","onProgress","phase","setPhase","useState","progress","setProgress","visible","setVisible","showDebug","setShowDebug","healthStatus","setHealthStatus","runningRef","useRef","loggerRef","debugPanelRef","cleanupAbortRef","useCallback","delta","prev","newProgress","performHealthCheck","health","executeCleanup","forced","lastRun","hoursSinceLastRun","updateProgress","startTime","report","cleaner","asyncTasks","asyncResults","duration","useEffect","timer","handleClickOutside","e","jsxs","Fragment","s","jsx","log","i","CacheClean"],"mappings":"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"}